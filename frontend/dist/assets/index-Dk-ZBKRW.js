var rE=Object.defineProperty;var iE=(t,e,n)=>e in t?rE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ye=(t,e,n)=>iE(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pb={exports:{}},pd={},gb={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=Symbol.for("react.element"),sE=Symbol.for("react.portal"),oE=Symbol.for("react.fragment"),aE=Symbol.for("react.strict_mode"),lE=Symbol.for("react.profiler"),cE=Symbol.for("react.provider"),uE=Symbol.for("react.context"),dE=Symbol.for("react.forward_ref"),fE=Symbol.for("react.suspense"),hE=Symbol.for("react.memo"),pE=Symbol.for("react.lazy"),Fg=Symbol.iterator;function gE(t){return t===null||typeof t!="object"?null:(t=Fg&&t[Fg]||t["@@iterator"],typeof t=="function"?t:null)}var mb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yb=Object.assign,xb={};function Io(t,e,n){this.props=t,this.context=e,this.refs=xb,this.updater=n||mb}Io.prototype.isReactComponent={};Io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bb(){}bb.prototype=Io.prototype;function W0(t,e,n){this.props=t,this.context=e,this.refs=xb,this.updater=n||mb}var q0=W0.prototype=new bb;q0.constructor=W0;yb(q0,Io.prototype);q0.isPureReactComponent=!0;var Ug=Array.isArray,wb=Object.prototype.hasOwnProperty,G0={current:null},vb={key:!0,ref:!0,__self:!0,__source:!0};function _b(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)wb.call(e,r)&&!vb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vl,type:t,key:s,ref:o,props:i,_owner:G0.current}}function mE(t,e){return{$$typeof:vl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function K0(t){return typeof t=="object"&&t!==null&&t.$$typeof===vl}function yE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lg=/\/+/g;function Qd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yE(""+t.key):e.toString(36)}function Cc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vl:case sE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Qd(o,0):r,Ug(i)?(n="",t!=null&&(n=t.replace(Lg,"$&/")+"/"),Cc(i,e,n,"",function(c){return c})):i!=null&&(K0(i)&&(i=mE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Lg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ug(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Qd(s,a);o+=Cc(s,e,n,l,i)}else if(l=gE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Qd(s,a++),o+=Cc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ll(t,e,n){if(t==null)return t;var r=[],i=0;return Cc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function xE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Bc={transition:null},bE={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Bc,ReactCurrentOwner:G0};function Eb(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:Ll,forEach:function(t,e,n){Ll(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ll(t,function(){e++}),e},toArray:function(t){return Ll(t,function(e){return e})||[]},only:function(t){if(!K0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Io;Me.Fragment=oE;Me.Profiler=lE;Me.PureComponent=W0;Me.StrictMode=aE;Me.Suspense=fE;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bE;Me.act=Eb;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=G0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wb.call(e,l)&&!vb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:vl,type:t.type,key:i,ref:s,props:r,_owner:o}};Me.createContext=function(t){return t={$$typeof:uE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cE,_context:t},t.Consumer=t};Me.createElement=_b;Me.createFactory=function(t){var e=_b.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:dE,render:t}};Me.isValidElement=K0;Me.lazy=function(t){return{$$typeof:pE,_payload:{_status:-1,_result:t},_init:xE}};Me.memo=function(t,e){return{$$typeof:hE,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=Bc.transition;Bc.transition={};try{t()}finally{Bc.transition=e}};Me.unstable_act=Eb;Me.useCallback=function(t,e){return sn.current.useCallback(t,e)};Me.useContext=function(t){return sn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return sn.current.useEffect(t,e)};Me.useId=function(){return sn.current.useId()};Me.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return sn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};Me.useRef=function(t){return sn.current.useRef(t)};Me.useState=function(t){return sn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return sn.current.useTransition()};Me.version="18.3.1";gb.exports=Me;var $=gb.exports;const gd=hb($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE=$,vE=Symbol.for("react.element"),_E=Symbol.for("react.fragment"),EE=Object.prototype.hasOwnProperty,SE=wE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kE={key:!0,ref:!0,__self:!0,__source:!0};function Sb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)EE.call(e,r)&&!kE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vE,type:t,key:s,ref:o,props:i,_owner:SE.current}}pd.Fragment=_E;pd.jsx=Sb;pd.jsxs=Sb;pb.exports=pd;var d=pb.exports,dh={},kb={exports:{}},Nn={},Nb={exports:{}},Tb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,te){var le=G.length;G.push(te);e:for(;0<le;){var ae=le-1>>>1,ce=G[ae];if(0<i(ce,te))G[ae]=te,G[le]=ce,le=ae;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],le=G.pop();if(le!==te){G[0]=le;e:for(var ae=0,ce=G.length,oe=ce>>>1;ae<oe;){var B=2*(ae+1)-1,ue=G[B],he=B+1,me=G[he];if(0>i(ue,le))he<ce&&0>i(me,ue)?(G[ae]=me,G[he]=le,ae=he):(G[ae]=ue,G[B]=le,ae=B);else if(he<ce&&0>i(me,le))G[ae]=me,G[he]=le,ae=he;else break e}}return te}function i(G,te){var le=G.sortIndex-te.sortIndex;return le!==0?le:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,g=!1,p=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(G){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=G)r(c),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(c)}}function P(G){if(b=!1,k(G),!p)if(n(l)!==null)p=!0,Q(S);else{var te=n(c);te!==null&&X(P,te.startTime-G)}}function S(G,te){p=!1,b&&(b=!1,v(U),U=-1),g=!0;var le=h;try{for(k(te),f=n(l);f!==null&&(!(f.expirationTime>te)||G&&!se());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,h=f.priorityLevel;var ce=ae(f.expirationTime<=te);te=t.unstable_now(),typeof ce=="function"?f.callback=ce:f===n(l)&&r(l),k(te)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var B=n(c);B!==null&&X(P,B.startTime-te),oe=!1}return oe}finally{f=null,h=le,g=!1}}var M=!1,C=null,U=-1,F=5,V=-1;function se(){return!(t.unstable_now()-V<F)}function ie(){if(C!==null){var G=t.unstable_now();V=G;var te=!0;try{te=C(!0,G)}finally{te?L():(M=!1,C=null)}}else M=!1}var L;if(typeof _=="function")L=function(){_(ie)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,J=H.port2;H.port1.onmessage=ie,L=function(){J.postMessage(null)}}else L=function(){E(ie,0)};function Q(G){C=G,M||(M=!0,L())}function X(G,te){U=E(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,Q(S))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var le=h;h=te;try{return G()}finally{h=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var le=h;h=G;try{return te()}finally{h=le}},t.unstable_scheduleCallback=function(G,te,le){var ae=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ae+le:ae):le=ae,G){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=le+ce,G={id:u++,callback:te,priorityLevel:G,startTime:le,expirationTime:ce,sortIndex:-1},le>ae?(G.sortIndex=le,e(c,G),n(l)===null&&G===n(c)&&(b?(v(U),U=-1):b=!0,X(P,le-ae))):(G.sortIndex=ce,e(l,G),p||g||(p=!0,Q(S))),G},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(G){var te=h;return function(){var le=h;h=te;try{return G.apply(this,arguments)}finally{h=le}}}})(Tb);Nb.exports=Tb;var NE=Nb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE=$,kn=NE;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ab=new Set,Ha={};function Os(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(Ha[t]=e,t=0;t<e.length;t++)Ab.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fh=Object.prototype.hasOwnProperty,AE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zg={},Dg={};function CE(t){return fh.call(Dg,t)?!0:fh.call(zg,t)?!1:AE.test(t)?Dg[t]=!0:(zg[t]=!0,!1)}function BE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jE(t,e,n,r){if(e===null||typeof e>"u"||BE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var Y0=/[\-:]([a-z])/g;function X0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Y0,X0);Lt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Y0,X0);Lt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Y0,X0);Lt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Z0(t,e,n,r){var i=Lt.hasOwnProperty(e)?Lt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jE(e,n,i,r)&&(n=null),r||i===null?CE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ni=TE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),Js=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),Q0=Symbol.for("react.strict_mode"),hh=Symbol.for("react.profiler"),Cb=Symbol.for("react.provider"),Bb=Symbol.for("react.context"),J0=Symbol.for("react.forward_ref"),ph=Symbol.for("react.suspense"),gh=Symbol.for("react.suspense_list"),ep=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),jb=Symbol.for("react.offscreen"),$g=Symbol.iterator;function qo(t){return t===null||typeof t!="object"?null:(t=$g&&t[$g]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,Jd;function la(t){if(Jd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jd=e&&e[1]||""}return`
`+Jd+t}var ef=!1;function tf(t,e){if(!t||ef)return"";ef=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ef=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?la(t):""}function RE(t){switch(t.tag){case 5:return la(t.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 2:case 15:return t=tf(t.type,!1),t;case 11:return t=tf(t.type.render,!1),t;case 1:return t=tf(t.type,!0),t;default:return""}}function mh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eo:return"Fragment";case Js:return"Portal";case hh:return"Profiler";case Q0:return"StrictMode";case ph:return"Suspense";case gh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bb:return(t.displayName||"Context")+".Consumer";case Cb:return(t._context.displayName||"Context")+".Provider";case J0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ep:return e=t.displayName||null,e!==null?e:mh(t.type)||"Memo";case hi:e=t._payload,t=t._init;try{return mh(t(e))}catch{}}return null}function PE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mh(e);case 8:return e===Q0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OE(t){var e=Rb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dl(t){t._valueTracker||(t._valueTracker=OE(t))}function Pb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Rb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yh(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ob(t,e){e=e.checked,e!=null&&Z0(t,"checked",e,!1)}function xh(t,e){Ob(t,e);var n=Hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bh(t,e.type,n):e.hasOwnProperty("defaultValue")&&bh(t,e.type,Hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bh(t,e,n){(e!=="number"||vu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ca=Array.isArray;function mo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pe(92));if(ca(n)){if(1<n.length)throw Error(pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hi(n)}}function Mb(t,e){var n=Hi(e.value),r=Hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ib(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ib(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $l,Fb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($l=$l||document.createElement("div"),$l.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$l.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ME=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(t){ME.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ka[e]=ka[t]})});function Ub(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ka.hasOwnProperty(t)&&ka[t]?(""+e).trim():e+"px"}function Lb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ub(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var IE=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _h(t,e){if(e){if(IE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function Eh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=null;function tp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kh=null,yo=null,xo=null;function Gg(t){if(t=Sl(t)){if(typeof kh!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=wd(e),kh(t.stateNode,t.type,e))}}function zb(t){yo?xo?xo.push(t):xo=[t]:yo=t}function Db(){if(yo){var t=yo,e=xo;if(xo=yo=null,Gg(t),e)for(t=0;t<e.length;t++)Gg(e[t])}}function $b(t,e){return t(e)}function Vb(){}var nf=!1;function Hb(t,e,n){if(nf)return t(e,n);nf=!0;try{return $b(t,e,n)}finally{nf=!1,(yo!==null||xo!==null)&&(Vb(),Db())}}function qa(t,e){var n=t.stateNode;if(n===null)return null;var r=wd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,e,typeof n));return n}var Nh=!1;if(Xr)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){Nh=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{Nh=!1}function FE(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Na=!1,_u=null,Eu=!1,Th=null,UE={onError:function(t){Na=!0,_u=t}};function LE(t,e,n,r,i,s,o,a,l){Na=!1,_u=null,FE.apply(UE,arguments)}function zE(t,e,n,r,i,s,o,a,l){if(LE.apply(this,arguments),Na){if(Na){var c=_u;Na=!1,_u=null}else throw Error(pe(198));Eu||(Eu=!0,Th=c)}}function Ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kg(t){if(Ms(t)!==t)throw Error(pe(188))}function DE(t){var e=t.alternate;if(!e){if(e=Ms(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kg(i),t;if(s===r)return Kg(i),e;s=s.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:e}function qb(t){return t=DE(t),t!==null?Gb(t):null}function Gb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gb(t);if(e!==null)return e;t=t.sibling}return null}var Kb=kn.unstable_scheduleCallback,Yg=kn.unstable_cancelCallback,$E=kn.unstable_shouldYield,VE=kn.unstable_requestPaint,mt=kn.unstable_now,HE=kn.unstable_getCurrentPriorityLevel,np=kn.unstable_ImmediatePriority,Yb=kn.unstable_UserBlockingPriority,Su=kn.unstable_NormalPriority,WE=kn.unstable_LowPriority,Xb=kn.unstable_IdlePriority,md=null,kr=null;function qE(t){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(md,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:YE,GE=Math.log,KE=Math.LN2;function YE(t){return t>>>=0,t===0?32:31-(GE(t)/KE|0)|0}var Vl=64,Hl=4194304;function ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ua(a):(s&=o,s!==0&&(r=ua(s)))}else o=n&~i,o!==0?r=ua(o):s!==0&&(r=ua(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function XE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=XE(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ah(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zb(){var t=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),t}function rf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _l(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function QE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function rp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function Qb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jb,ip,ew,tw,nw,Ch=!1,Wl=[],ji=null,Ri=null,Pi=null,Ga=new Map,Ka=new Map,wi=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(t,e){switch(t){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Ga.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(e.pointerId)}}function Ko(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sl(e),e!==null&&ip(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eS(t,e,n,r,i){switch(e){case"focusin":return ji=Ko(ji,t,e,n,r,i),!0;case"dragenter":return Ri=Ko(Ri,t,e,n,r,i),!0;case"mouseover":return Pi=Ko(Pi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ga.set(s,Ko(Ga.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ka.set(s,Ko(Ka.get(s)||null,t,e,n,r,i)),!0}return!1}function rw(t){var e=ps(t.target);if(e!==null){var n=Ms(e);if(n!==null){if(e=n.tag,e===13){if(e=Wb(n),e!==null){t.blockedOn=e,nw(t.priority,function(){ew(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sh=r,n.target.dispatchEvent(r),Sh=null}else return e=Sl(n),e!==null&&ip(e),t.blockedOn=n,!1;e.shift()}return!0}function Zg(t,e,n){jc(t)&&n.delete(e)}function tS(){Ch=!1,ji!==null&&jc(ji)&&(ji=null),Ri!==null&&jc(Ri)&&(Ri=null),Pi!==null&&jc(Pi)&&(Pi=null),Ga.forEach(Zg),Ka.forEach(Zg)}function Yo(t,e){t.blockedOn===e&&(t.blockedOn=null,Ch||(Ch=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,tS)))}function Ya(t){function e(i){return Yo(i,t)}if(0<Wl.length){Yo(Wl[0],t);for(var n=1;n<Wl.length;n++){var r=Wl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ji!==null&&Yo(ji,t),Ri!==null&&Yo(Ri,t),Pi!==null&&Yo(Pi,t),Ga.forEach(e),Ka.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)rw(n),n.blockedOn===null&&wi.shift()}var bo=ni.ReactCurrentBatchConfig,Nu=!0;function nS(t,e,n,r){var i=Ke,s=bo.transition;bo.transition=null;try{Ke=1,sp(t,e,n,r)}finally{Ke=i,bo.transition=s}}function rS(t,e,n,r){var i=Ke,s=bo.transition;bo.transition=null;try{Ke=4,sp(t,e,n,r)}finally{Ke=i,bo.transition=s}}function sp(t,e,n,r){if(Nu){var i=Bh(t,e,n,r);if(i===null)pf(t,e,r,Tu,n),Xg(t,r);else if(eS(i,t,e,n,r))r.stopPropagation();else if(Xg(t,r),e&4&&-1<JE.indexOf(t)){for(;i!==null;){var s=Sl(i);if(s!==null&&Jb(s),s=Bh(t,e,n,r),s===null&&pf(t,e,r,Tu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else pf(t,e,r,null,n)}}var Tu=null;function Bh(t,e,n,r){if(Tu=null,t=tp(r),t=ps(t),t!==null)if(e=Ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tu=t,null}function iw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HE()){case np:return 1;case Yb:return 4;case Su:case WE:return 16;case Xb:return 536870912;default:return 16}default:return 16}}var ki=null,op=null,Rc=null;function sw(){if(Rc)return Rc;var t,e=op,n=e.length,r,i="value"in ki?ki.value:ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Rc=i.slice(t,1<r?1-r:void 0)}function Pc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ql(){return!0}function Qg(){return!1}function Tn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ql:Qg,this.isPropagationStopped=Qg,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),e}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ap=Tn(Fo),El=ut({},Fo,{view:0,detail:0}),iS=Tn(El),sf,of,Xo,yd=ut({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xo&&(Xo&&t.type==="mousemove"?(sf=t.screenX-Xo.screenX,of=t.screenY-Xo.screenY):of=sf=0,Xo=t),sf)},movementY:function(t){return"movementY"in t?t.movementY:of}}),Jg=Tn(yd),sS=ut({},yd,{dataTransfer:0}),oS=Tn(sS),aS=ut({},El,{relatedTarget:0}),af=Tn(aS),lS=ut({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),cS=Tn(lS),uS=ut({},Fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dS=Tn(uS),fS=ut({},Fo,{data:0}),em=Tn(fS),hS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gS[t])?!!e[t]:!1}function lp(){return mS}var yS=ut({},El,{key:function(t){if(t.key){var e=hS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lp,charCode:function(t){return t.type==="keypress"?Pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xS=Tn(yS),bS=ut({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tm=Tn(bS),wS=ut({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lp}),vS=Tn(wS),_S=ut({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ES=Tn(_S),SS=ut({},yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kS=Tn(SS),NS=[9,13,27,32],cp=Xr&&"CompositionEvent"in window,Ta=null;Xr&&"documentMode"in document&&(Ta=document.documentMode);var TS=Xr&&"TextEvent"in window&&!Ta,ow=Xr&&(!cp||Ta&&8<Ta&&11>=Ta),nm=" ",rm=!1;function aw(t,e){switch(t){case"keyup":return NS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var to=!1;function AS(t,e){switch(t){case"compositionend":return lw(e);case"keypress":return e.which!==32?null:(rm=!0,nm);case"textInput":return t=e.data,t===nm&&rm?null:t;default:return null}}function CS(t,e){if(to)return t==="compositionend"||!cp&&aw(t,e)?(t=sw(),Rc=op=ki=null,to=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ow&&e.locale!=="ko"?null:e.data;default:return null}}var BS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BS[t.type]:e==="textarea"}function cw(t,e,n,r){zb(r),e=Au(e,"onChange"),0<e.length&&(n=new ap("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Aa=null,Xa=null;function jS(t){ww(t,0)}function xd(t){var e=io(t);if(Pb(e))return t}function RS(t,e){if(t==="change")return e}var uw=!1;if(Xr){var lf;if(Xr){var cf="oninput"in document;if(!cf){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),cf=typeof sm.oninput=="function"}lf=cf}else lf=!1;uw=lf&&(!document.documentMode||9<document.documentMode)}function om(){Aa&&(Aa.detachEvent("onpropertychange",dw),Xa=Aa=null)}function dw(t){if(t.propertyName==="value"&&xd(Xa)){var e=[];cw(e,Xa,t,tp(t)),Hb(jS,e)}}function PS(t,e,n){t==="focusin"?(om(),Aa=e,Xa=n,Aa.attachEvent("onpropertychange",dw)):t==="focusout"&&om()}function OS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xd(Xa)}function MS(t,e){if(t==="click")return xd(e)}function IS(t,e){if(t==="input"||t==="change")return xd(e)}function FS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nr=typeof Object.is=="function"?Object.is:FS;function Za(t,e){if(nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fh.call(e,i)||!nr(t[i],e[i]))return!1}return!0}function am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,e){var n=am(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=am(n)}}function fw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hw(){for(var t=window,e=vu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vu(t.document)}return e}function up(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function US(t){var e=hw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fw(n.ownerDocument.documentElement,n)){if(r!==null&&up(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=lm(n,s);var o=lm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LS=Xr&&"documentMode"in document&&11>=document.documentMode,no=null,jh=null,Ca=null,Rh=!1;function cm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rh||no==null||no!==vu(r)||(r=no,"selectionStart"in r&&up(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ca&&Za(Ca,r)||(Ca=r,r=Au(jh,"onSelect"),0<r.length&&(e=new ap("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=no)))}function Gl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ro={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},uf={},pw={};Xr&&(pw=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function bd(t){if(uf[t])return uf[t];if(!ro[t])return t;var e=ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pw)return uf[t]=e[n];return t}var gw=bd("animationend"),mw=bd("animationiteration"),yw=bd("animationstart"),xw=bd("transitionend"),bw=new Map,um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(t,e){bw.set(t,e),Os(e,[t])}for(var df=0;df<um.length;df++){var ff=um[df],zS=ff.toLowerCase(),DS=ff[0].toUpperCase()+ff.slice(1);Yi(zS,"on"+DS)}Yi(gw,"onAnimationEnd");Yi(mw,"onAnimationIteration");Yi(yw,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(xw,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$S=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function dm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zE(r,e,void 0,t),t.currentTarget=null}function ww(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;dm(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;dm(i,a,c),s=l}}}if(Eu)throw t=Th,Eu=!1,Th=null,t}function tt(t,e){var n=e[Fh];n===void 0&&(n=e[Fh]=new Set);var r=t+"__bubble";n.has(r)||(vw(e,t,2,!1),n.add(r))}function hf(t,e,n){var r=0;e&&(r|=4),vw(n,t,r,e)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Qa(t){if(!t[Kl]){t[Kl]=!0,Ab.forEach(function(n){n!=="selectionchange"&&($S.has(n)||hf(n,!1,t),hf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kl]||(e[Kl]=!0,hf("selectionchange",!1,e))}}function vw(t,e,n,r){switch(iw(e)){case 1:var i=nS;break;case 4:i=rS;break;default:i=sp}n=i.bind(null,e,n,t),i=void 0,!Nh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ps(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Hb(function(){var c=s,u=tp(n),f=[];e:{var h=bw.get(t);if(h!==void 0){var g=ap,p=t;switch(t){case"keypress":if(Pc(n)===0)break e;case"keydown":case"keyup":g=xS;break;case"focusin":p="focus",g=af;break;case"focusout":p="blur",g=af;break;case"beforeblur":case"afterblur":g=af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=oS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vS;break;case gw:case mw:case yw:g=cS;break;case xw:g=ES;break;case"scroll":g=iS;break;case"wheel":g=kS;break;case"copy":case"cut":case"paste":g=dS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=tm}var b=(e&4)!==0,E=!b&&t==="scroll",v=b?h!==null?h+"Capture":null:h;b=[];for(var _=c,k;_!==null;){k=_;var P=k.stateNode;if(k.tag===5&&P!==null&&(k=P,v!==null&&(P=qa(_,v),P!=null&&b.push(Ja(_,P,k)))),E)break;_=_.return}0<b.length&&(h=new g(h,p,null,n,u),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Sh&&(p=n.relatedTarget||n.fromElement)&&(ps(p)||p[Zr]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=c,p=p?ps(p):null,p!==null&&(E=Ms(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(b=Jg,P="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=tm,P="onPointerLeave",v="onPointerEnter",_="pointer"),E=g==null?h:io(g),k=p==null?h:io(p),h=new b(P,_+"leave",g,n,u),h.target=E,h.relatedTarget=k,P=null,ps(u)===c&&(b=new b(v,_+"enter",p,n,u),b.target=k,b.relatedTarget=E,P=b),E=P,g&&p)t:{for(b=g,v=p,_=0,k=b;k;k=Fs(k))_++;for(k=0,P=v;P;P=Fs(P))k++;for(;0<_-k;)b=Fs(b),_--;for(;0<k-_;)v=Fs(v),k--;for(;_--;){if(b===v||v!==null&&b===v.alternate)break t;b=Fs(b),v=Fs(v)}b=null}else b=null;g!==null&&fm(f,h,g,b,!1),p!==null&&E!==null&&fm(f,E,p,b,!0)}}e:{if(h=c?io(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=RS;else if(im(h))if(uw)S=IS;else{S=OS;var M=PS}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=MS);if(S&&(S=S(t,c))){cw(f,S,n,u);break e}M&&M(t,h,c),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&bh(h,"number",h.value)}switch(M=c?io(c):window,t){case"focusin":(im(M)||M.contentEditable==="true")&&(no=M,jh=c,Ca=null);break;case"focusout":Ca=jh=no=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,cm(f,n,u);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":cm(f,n,u)}var C;if(cp)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else to?aw(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(ow&&n.locale!=="ko"&&(to||U!=="onCompositionStart"?U==="onCompositionEnd"&&to&&(C=sw()):(ki=u,op="value"in ki?ki.value:ki.textContent,to=!0)),M=Au(c,U),0<M.length&&(U=new em(U,t,null,n,u),f.push({event:U,listeners:M}),C?U.data=C:(C=lw(n),C!==null&&(U.data=C)))),(C=TS?AS(t,n):CS(t,n))&&(c=Au(c,"onBeforeInput"),0<c.length&&(u=new em("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=C))}ww(f,e)})}function Ja(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Au(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=qa(t,n),s!=null&&r.unshift(Ja(t,s,i)),s=qa(t,e),s!=null&&r.push(Ja(t,s,i))),t=t.return}return r}function Fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=qa(n,s),l!=null&&o.unshift(Ja(n,l,a))):i||(l=qa(n,s),l!=null&&o.push(Ja(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function hm(t){return(typeof t=="string"?t:""+t).replace(VS,`
`).replace(HS,"")}function Yl(t,e,n){if(e=hm(e),hm(t)!==e&&n)throw Error(pe(425))}function Cu(){}var Ph=null,Oh=null;function Mh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(t){return pm.resolve(null).then(t).catch(GS)}:Ih;function GS(t){setTimeout(function(){throw t})}function gf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ya(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ya(e)}function Oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),br="__reactFiber$"+Uo,el="__reactProps$"+Uo,Zr="__reactContainer$"+Uo,Fh="__reactEvents$"+Uo,KS="__reactListeners$"+Uo,YS="__reactHandles$"+Uo;function ps(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gm(t);t!==null;){if(n=t[br])return n;t=gm(t)}return e}t=n,n=t.parentNode}return null}function Sl(t){return t=t[br]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function wd(t){return t[el]||null}var Uh=[],so=-1;function Xi(t){return{current:t}}function nt(t){0>so||(t.current=Uh[so],Uh[so]=null,so--)}function et(t,e){so++,Uh[so]=t.current,t.current=e}var Wi={},Gt=Xi(Wi),mn=Xi(!1),Es=Wi;function ko(t,e){var n=t.type.contextTypes;if(!n)return Wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function Bu(){nt(mn),nt(Gt)}function mm(t,e,n){if(Gt.current!==Wi)throw Error(pe(168));et(Gt,e),et(mn,n)}function _w(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pe(108,PE(t)||"Unknown",i));return ut({},n,r)}function ju(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wi,Es=Gt.current,et(Gt,t),et(mn,mn.current),!0}function ym(t,e,n){var r=t.stateNode;if(!r)throw Error(pe(169));n?(t=_w(t,e,Es),r.__reactInternalMemoizedMergedChildContext=t,nt(mn),nt(Gt),et(Gt,t)):nt(mn),et(mn,n)}var Ir=null,vd=!1,mf=!1;function Ew(t){Ir===null?Ir=[t]:Ir.push(t)}function XS(t){vd=!0,Ew(t)}function Zi(){if(!mf&&Ir!==null){mf=!0;var t=0,e=Ke;try{var n=Ir;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ir=null,vd=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(t+1)),Kb(np,Zi),i}finally{Ke=e,mf=!1}}return null}var oo=[],ao=0,Ru=null,Pu=0,Pn=[],On=0,Ss=null,Dr=1,$r="";function ss(t,e){oo[ao++]=Pu,oo[ao++]=Ru,Ru=t,Pu=e}function Sw(t,e,n){Pn[On++]=Dr,Pn[On++]=$r,Pn[On++]=Ss,Ss=t;var r=Dr;t=$r;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var s=32-Jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dr=1<<32-Jn(e)+i|n<<i|r,$r=s+t}else Dr=1<<s|n<<i|r,$r=t}function dp(t){t.return!==null&&(ss(t,1),Sw(t,1,0))}function fp(t){for(;t===Ru;)Ru=oo[--ao],oo[ao]=null,Pu=oo[--ao],oo[ao]=null;for(;t===Ss;)Ss=Pn[--On],Pn[On]=null,$r=Pn[--On],Pn[On]=null,Dr=Pn[--On],Pn[On]=null}var Sn=null,En=null,rt=!1,Zn=null;function kw(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,En=Oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:Dr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,En=null,!0):!1;default:return!1}}function Lh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zh(t){if(rt){var e=En;if(e){var n=e;if(!xm(t,e)){if(Lh(t))throw Error(pe(418));e=Oi(n.nextSibling);var r=Sn;e&&xm(t,e)?kw(r,n):(t.flags=t.flags&-4097|2,rt=!1,Sn=t)}}else{if(Lh(t))throw Error(pe(418));t.flags=t.flags&-4097|2,rt=!1,Sn=t}}}function bm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function Xl(t){if(t!==Sn)return!1;if(!rt)return bm(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mh(t.type,t.memoizedProps)),e&&(e=En)){if(Lh(t))throw Nw(),Error(pe(418));for(;e;)kw(t,e),e=Oi(e.nextSibling)}if(bm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=Sn?Oi(t.stateNode.nextSibling):null;return!0}function Nw(){for(var t=En;t;)t=Oi(t.nextSibling)}function No(){En=Sn=null,rt=!1}function hp(t){Zn===null?Zn=[t]:Zn.push(t)}var ZS=ni.ReactCurrentBatchConfig;function Zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function Zl(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wm(t){var e=t._init;return e(t._payload)}function Tw(t){function e(v,_){if(t){var k=v.deletions;k===null?(v.deletions=[_],v.flags|=16):k.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Ui(v,_),v.index=0,v.sibling=null,v}function s(v,_,k){return v.index=k,t?(k=v.alternate,k!==null?(k=k.index,k<_?(v.flags|=2,_):k):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,k,P){return _===null||_.tag!==6?(_=Ef(k,v.mode,P),_.return=v,_):(_=i(_,k),_.return=v,_)}function l(v,_,k,P){var S=k.type;return S===eo?u(v,_,k.props.children,P,k.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===hi&&wm(S)===_.type)?(P=i(_,k.props),P.ref=Zo(v,_,k),P.return=v,P):(P=zc(k.type,k.key,k.props,null,v.mode,P),P.ref=Zo(v,_,k),P.return=v,P)}function c(v,_,k,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==k.containerInfo||_.stateNode.implementation!==k.implementation?(_=Sf(k,v.mode,P),_.return=v,_):(_=i(_,k.children||[]),_.return=v,_)}function u(v,_,k,P,S){return _===null||_.tag!==7?(_=bs(k,v.mode,P,S),_.return=v,_):(_=i(_,k),_.return=v,_)}function f(v,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ef(""+_,v.mode,k),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zl:return k=zc(_.type,_.key,_.props,null,v.mode,k),k.ref=Zo(v,null,_),k.return=v,k;case Js:return _=Sf(_,v.mode,k),_.return=v,_;case hi:var P=_._init;return f(v,P(_._payload),k)}if(ca(_)||qo(_))return _=bs(_,v.mode,k,null),_.return=v,_;Zl(v,_)}return null}function h(v,_,k,P){var S=_!==null?_.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return S!==null?null:a(v,_,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case zl:return k.key===S?l(v,_,k,P):null;case Js:return k.key===S?c(v,_,k,P):null;case hi:return S=k._init,h(v,_,S(k._payload),P)}if(ca(k)||qo(k))return S!==null?null:u(v,_,k,P,null);Zl(v,k)}return null}function g(v,_,k,P,S){if(typeof P=="string"&&P!==""||typeof P=="number")return v=v.get(k)||null,a(_,v,""+P,S);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case zl:return v=v.get(P.key===null?k:P.key)||null,l(_,v,P,S);case Js:return v=v.get(P.key===null?k:P.key)||null,c(_,v,P,S);case hi:var M=P._init;return g(v,_,k,M(P._payload),S)}if(ca(P)||qo(P))return v=v.get(k)||null,u(_,v,P,S,null);Zl(_,P)}return null}function p(v,_,k,P){for(var S=null,M=null,C=_,U=_=0,F=null;C!==null&&U<k.length;U++){C.index>U?(F=C,C=null):F=C.sibling;var V=h(v,C,k[U],P);if(V===null){C===null&&(C=F);break}t&&C&&V.alternate===null&&e(v,C),_=s(V,_,U),M===null?S=V:M.sibling=V,M=V,C=F}if(U===k.length)return n(v,C),rt&&ss(v,U),S;if(C===null){for(;U<k.length;U++)C=f(v,k[U],P),C!==null&&(_=s(C,_,U),M===null?S=C:M.sibling=C,M=C);return rt&&ss(v,U),S}for(C=r(v,C);U<k.length;U++)F=g(C,v,U,k[U],P),F!==null&&(t&&F.alternate!==null&&C.delete(F.key===null?U:F.key),_=s(F,_,U),M===null?S=F:M.sibling=F,M=F);return t&&C.forEach(function(se){return e(v,se)}),rt&&ss(v,U),S}function b(v,_,k,P){var S=qo(k);if(typeof S!="function")throw Error(pe(150));if(k=S.call(k),k==null)throw Error(pe(151));for(var M=S=null,C=_,U=_=0,F=null,V=k.next();C!==null&&!V.done;U++,V=k.next()){C.index>U?(F=C,C=null):F=C.sibling;var se=h(v,C,V.value,P);if(se===null){C===null&&(C=F);break}t&&C&&se.alternate===null&&e(v,C),_=s(se,_,U),M===null?S=se:M.sibling=se,M=se,C=F}if(V.done)return n(v,C),rt&&ss(v,U),S;if(C===null){for(;!V.done;U++,V=k.next())V=f(v,V.value,P),V!==null&&(_=s(V,_,U),M===null?S=V:M.sibling=V,M=V);return rt&&ss(v,U),S}for(C=r(v,C);!V.done;U++,V=k.next())V=g(C,v,U,V.value,P),V!==null&&(t&&V.alternate!==null&&C.delete(V.key===null?U:V.key),_=s(V,_,U),M===null?S=V:M.sibling=V,M=V);return t&&C.forEach(function(ie){return e(v,ie)}),rt&&ss(v,U),S}function E(v,_,k,P){if(typeof k=="object"&&k!==null&&k.type===eo&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case zl:e:{for(var S=k.key,M=_;M!==null;){if(M.key===S){if(S=k.type,S===eo){if(M.tag===7){n(v,M.sibling),_=i(M,k.props.children),_.return=v,v=_;break e}}else if(M.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===hi&&wm(S)===M.type){n(v,M.sibling),_=i(M,k.props),_.ref=Zo(v,M,k),_.return=v,v=_;break e}n(v,M);break}else e(v,M);M=M.sibling}k.type===eo?(_=bs(k.props.children,v.mode,P,k.key),_.return=v,v=_):(P=zc(k.type,k.key,k.props,null,v.mode,P),P.ref=Zo(v,_,k),P.return=v,v=P)}return o(v);case Js:e:{for(M=k.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===k.containerInfo&&_.stateNode.implementation===k.implementation){n(v,_.sibling),_=i(_,k.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=Sf(k,v.mode,P),_.return=v,v=_}return o(v);case hi:return M=k._init,E(v,_,M(k._payload),P)}if(ca(k))return p(v,_,k,P);if(qo(k))return b(v,_,k,P);Zl(v,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,k),_.return=v,v=_):(n(v,_),_=Ef(k,v.mode,P),_.return=v,v=_),o(v)):n(v,_)}return E}var To=Tw(!0),Aw=Tw(!1),Ou=Xi(null),Mu=null,lo=null,pp=null;function gp(){pp=lo=Mu=null}function mp(t){var e=Ou.current;nt(Ou),t._currentValue=e}function Dh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e){Mu=t,pp=lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function Ln(t){var e=t._currentValue;if(pp!==t)if(t={context:t,memoizedValue:e,next:null},lo===null){if(Mu===null)throw Error(pe(308));lo=t,Mu.dependencies={lanes:0,firstContext:t}}else lo=lo.next=t;return e}var gs=null;function yp(t){gs===null?gs=[t]:gs.push(t)}function Cw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qr(t,r)}function Qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pi=!1;function xp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qr(t,n)}return i=r.interleaved,i===null?(e.next=e,yp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qr(t,n)}function Oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rp(t,n)}}function vm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Iu(t,e,n,r){var i=t.updateQueue;pi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,b=a;switch(h=e,g=n,b.tag){case 1:if(p=b.payload,typeof p=="function"){f=p.call(g,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,h=typeof p=="function"?p.call(g,f,h):p,h==null)break e;f=ut({},f,h);break e;case 2:pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=f):u=u.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ns|=o,t.lanes=o,t.memoizedState=f}}function _m(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var kl={},Nr=Xi(kl),tl=Xi(kl),nl=Xi(kl);function ms(t){if(t===kl)throw Error(pe(174));return t}function bp(t,e){switch(et(nl,e),et(tl,t),et(Nr,kl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vh(e,t)}nt(Nr),et(Nr,e)}function Ao(){nt(Nr),nt(tl),nt(nl)}function jw(t){ms(nl.current);var e=ms(Nr.current),n=vh(e,t.type);e!==n&&(et(tl,t),et(Nr,n))}function wp(t){tl.current===t&&(nt(Nr),nt(tl))}var at=Xi(0);function Fu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yf=[];function vp(){for(var t=0;t<yf.length;t++)yf[t]._workInProgressVersionPrimary=null;yf.length=0}var Mc=ni.ReactCurrentDispatcher,xf=ni.ReactCurrentBatchConfig,ks=0,ct=null,_t=null,Rt=null,Uu=!1,Ba=!1,rl=0,QS=0;function zt(){throw Error(pe(321))}function _p(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nr(t[n],e[n]))return!1;return!0}function Ep(t,e,n,r,i,s){if(ks=s,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mc.current=t===null||t.memoizedState===null?nk:rk,t=n(r,i),Ba){s=0;do{if(Ba=!1,rl=0,25<=s)throw Error(pe(301));s+=1,Rt=_t=null,e.updateQueue=null,Mc.current=ik,t=n(r,i)}while(Ba)}if(Mc.current=Lu,e=_t!==null&&_t.next!==null,ks=0,Rt=_t=ct=null,Uu=!1,e)throw Error(pe(300));return t}function Sp(){var t=rl!==0;return rl=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ct.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function zn(){if(_t===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Rt===null?ct.memoizedState:Rt.next;if(e!==null)Rt=e,_t=t;else{if(t===null)throw Error(pe(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Rt===null?ct.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function il(t,e){return typeof e=="function"?e(t):e}function bf(t){var e=zn(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=_t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ks&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ct.lanes|=u,Ns|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,nr(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ct.lanes|=s,Ns|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wf(t){var e=zn(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);nr(s,e.memoizedState)||(pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Rw(){}function Pw(t,e){var n=ct,r=zn(),i=e(),s=!nr(r.memoizedState,i);if(s&&(r.memoizedState=i,pn=!0),r=r.queue,kp(Iw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,sl(9,Mw.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(pe(349));ks&30||Ow(n,e,i)}return i}function Ow(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Mw(t,e,n,r){e.value=n,e.getSnapshot=r,Fw(e)&&Uw(t)}function Iw(t,e,n){return n(function(){Fw(e)&&Uw(t)})}function Fw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nr(t,n)}catch{return!0}}function Uw(t){var e=Qr(t,1);e!==null&&er(e,t,1,-1)}function Em(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:t},e.queue=t,t=t.dispatch=tk.bind(null,ct,t),[e.memoizedState,t]}function sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Lw(){return zn().memoizedState}function Ic(t,e,n,r){var i=gr();ct.flags|=t,i.memoizedState=sl(1|e,n,void 0,r===void 0?null:r)}function _d(t,e,n,r){var i=zn();r=r===void 0?null:r;var s=void 0;if(_t!==null){var o=_t.memoizedState;if(s=o.destroy,r!==null&&_p(r,o.deps)){i.memoizedState=sl(e,n,s,r);return}}ct.flags|=t,i.memoizedState=sl(1|e,n,s,r)}function Sm(t,e){return Ic(8390656,8,t,e)}function kp(t,e){return _d(2048,8,t,e)}function zw(t,e){return _d(4,2,t,e)}function Dw(t,e){return _d(4,4,t,e)}function $w(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vw(t,e,n){return n=n!=null?n.concat([t]):null,_d(4,4,$w.bind(null,e,t),n)}function Np(){}function Hw(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_p(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ww(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_p(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qw(t,e,n){return ks&21?(nr(n,e)||(n=Zb(),ct.lanes|=n,Ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function JS(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=xf.transition;xf.transition={};try{t(!1),e()}finally{Ke=n,xf.transition=r}}function Gw(){return zn().memoizedState}function ek(t,e,n){var r=Fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kw(t))Yw(e,n);else if(n=Cw(t,e,n,r),n!==null){var i=rn();er(n,t,r,i),Xw(n,e,r)}}function tk(t,e,n){var r=Fi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kw(t))Yw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,nr(a,o)){var l=e.interleaved;l===null?(i.next=i,yp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Cw(t,e,i,r),n!==null&&(i=rn(),er(n,t,r,i),Xw(n,e,r))}}function Kw(t){var e=t.alternate;return t===ct||e!==null&&e===ct}function Yw(t,e){Ba=Uu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rp(t,n)}}var Lu={readContext:Ln,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},nk={readContext:Ln,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:Ln,useEffect:Sm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4194308,4,$w.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ic(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ek.bind(null,ct,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:Em,useDebugValue:Np,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=Em(!1),e=t[0];return t=JS.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ct,i=gr();if(rt){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=e(),Ot===null)throw Error(pe(349));ks&30||Ow(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Sm(Iw.bind(null,r,s,t),[t]),r.flags|=2048,sl(9,Mw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gr(),e=Ot.identifierPrefix;if(rt){var n=$r,r=Dr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rk={readContext:Ln,useCallback:Hw,useContext:Ln,useEffect:kp,useImperativeHandle:Vw,useInsertionEffect:zw,useLayoutEffect:Dw,useMemo:Ww,useReducer:bf,useRef:Lw,useState:function(){return bf(il)},useDebugValue:Np,useDeferredValue:function(t){var e=zn();return qw(e,_t.memoizedState,t)},useTransition:function(){var t=bf(il)[0],e=zn().memoizedState;return[t,e]},useMutableSource:Rw,useSyncExternalStore:Pw,useId:Gw,unstable_isNewReconciler:!1},ik={readContext:Ln,useCallback:Hw,useContext:Ln,useEffect:kp,useImperativeHandle:Vw,useInsertionEffect:zw,useLayoutEffect:Dw,useMemo:Ww,useReducer:wf,useRef:Lw,useState:function(){return wf(il)},useDebugValue:Np,useDeferredValue:function(t){var e=zn();return _t===null?e.memoizedState=t:qw(e,_t.memoizedState,t)},useTransition:function(){var t=wf(il)[0],e=zn().memoizedState;return[t,e]},useMutableSource:Rw,useSyncExternalStore:Pw,useId:Gw,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $h(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ed={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Fi(t),s=qr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Mi(t,s,i),e!==null&&(er(e,t,i,r),Oc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Fi(t),s=qr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Mi(t,s,i),e!==null&&(er(e,t,i,r),Oc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=Fi(t),i=qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Mi(t,i,r),e!==null&&(er(e,t,r,n),Oc(e,t,r))}};function km(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Za(n,r)||!Za(i,s):!0}function Zw(t,e,n){var r=!1,i=Wi,s=e.contextType;return typeof s=="object"&&s!==null?s=Ln(s):(i=yn(e)?Es:Gt.current,r=e.contextTypes,s=(r=r!=null)?ko(t,i):Wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Nm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ed.enqueueReplaceState(e,e.state,null)}function Vh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ln(s):(s=yn(e)?Es:Gt.current,i.context=ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($h(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ed.enqueueReplaceState(i,i.state,null),Iu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Co(t,e){try{var n="",r=e;do n+=RE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function vf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sk=typeof WeakMap=="function"?WeakMap:Map;function Qw(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Du||(Du=!0,e0=r),Hh(t,e)},n}function Jw(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Hh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hh(t,e),typeof r!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Tm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bk.bind(null,t,e,n),e.then(t,t))}function Am(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,Mi(n,e,1))),n.lanes|=1),t)}var ok=ni.ReactCurrentOwner,pn=!1;function tn(t,e,n,r){e.child=t===null?Aw(e,null,n,r):To(e,t.child,n,r)}function Bm(t,e,n,r,i){n=n.render;var s=e.ref;return wo(e,i),r=Ep(t,e,n,r,s,i),n=Sp(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(rt&&n&&dp(e),e.flags|=1,tn(t,e,r,i),e.child)}function jm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Op(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,e1(t,e,s,r,i)):(t=zc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Za,n(o,r)&&t.ref===e.ref)return Jr(t,e,i)}return e.flags|=1,t=Ui(s,r),t.ref=e.ref,t.return=e,e.child=t}function e1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Za(s,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,Jr(t,e,i)}return Wh(t,e,n,r,i)}function t1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(uo,vn),vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(uo,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(uo,vn),vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,et(uo,vn),vn|=r;return tn(t,e,i,n),e.child}function n1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wh(t,e,n,r,i){var s=yn(n)?Es:Gt.current;return s=ko(e,s),wo(e,i),n=Ep(t,e,n,r,s,i),r=Sp(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(rt&&r&&dp(e),e.flags|=1,tn(t,e,n,i),e.child)}function Rm(t,e,n,r,i){if(yn(n)){var s=!0;ju(e)}else s=!1;if(wo(e,i),e.stateNode===null)Fc(t,e),Zw(e,n,r),Vh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ln(c):(c=yn(n)?Es:Gt.current,c=ko(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Nm(e,o,r,c),pi=!1;var h=e.memoizedState;o.state=h,Iu(e,r,o,i),l=e.memoizedState,a!==r||h!==l||mn.current||pi?(typeof u=="function"&&($h(e,n,u,r),l=e.memoizedState),(a=pi||km(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Bw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gn(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ln(l):(l=yn(n)?Es:Gt.current,l=ko(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Nm(e,o,r,l),pi=!1,h=e.memoizedState,o.state=h,Iu(e,r,o,i);var p=e.memoizedState;a!==f||h!==p||mn.current||pi?(typeof g=="function"&&($h(e,n,g,r),p=e.memoizedState),(c=pi||km(e,n,c,r,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return qh(t,e,n,r,s,i)}function qh(t,e,n,r,i,s){n1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ym(e,n,!1),Jr(t,e,s);r=e.stateNode,ok.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=To(e,t.child,null,s),e.child=To(e,null,a,s)):tn(t,e,a,s),e.memoizedState=r.state,i&&ym(e,n,!0),e.child}function r1(t){var e=t.stateNode;e.pendingContext?mm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mm(t,e.context,!1),bp(t,e.containerInfo)}function Pm(t,e,n,r,i){return No(),hp(i),e.flags|=256,tn(t,e,n,r),e.child}var Gh={dehydrated:null,treeContext:null,retryLane:0};function Kh(t){return{baseLanes:t,cachePool:null,transitions:null}}function i1(t,e,n){var r=e.pendingProps,i=at.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(at,i&1),t===null)return zh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nd(o,r,0,null),t=bs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kh(n),e.memoizedState=Gh,t):Tp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ak(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ui(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ui(a,s):(s=bs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Kh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Gh,r}return s=t.child,t=s.sibling,r=Ui(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tp(t,e){return e=Nd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ql(t,e,n,r){return r!==null&&hp(r),To(e,t.child,null,n),t=Tp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ak(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=vf(Error(pe(422))),Ql(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Nd({mode:"visible",children:r.children},i,0,null),s=bs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&To(e,t.child,null,o),e.child.memoizedState=Kh(o),e.memoizedState=Gh,s);if(!(e.mode&1))return Ql(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(pe(419)),r=vf(s,r,void 0),Ql(t,e,o,r)}if(a=(o&t.childLanes)!==0,pn||a){if(r=Ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qr(t,i),er(r,t,i,-1))}return Pp(),r=vf(Error(pe(421))),Ql(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,En=Oi(i.nextSibling),Sn=e,rt=!0,Zn=null,t!==null&&(Pn[On++]=Dr,Pn[On++]=$r,Pn[On++]=Ss,Dr=t.id,$r=t.overflow,Ss=e),e=Tp(e,r.children),e.flags|=4096,e)}function Om(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dh(t.return,e,n)}function _f(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function s1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tn(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Om(t,n,e);else if(t.tag===19)Om(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(at,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Fu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_f(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_f(e,!0,n,null,s);break;case"together":_f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,n=Ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lk(t,e,n){switch(e.tag){case 3:r1(e),No();break;case 5:jw(e);break;case 1:yn(e.type)&&ju(e);break;case 4:bp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(Ou,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?i1(t,e,n):(et(at,at.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);et(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return s1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,t1(t,e,n)}return Jr(t,e,n)}var o1,Yh,a1,l1;o1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yh=function(){};a1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ms(Nr.current);var s=null;switch(n){case"input":i=yh(t,i),r=yh(t,r),s=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),s=[];break;case"textarea":i=wh(t,i),r=wh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cu)}_h(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ha.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};l1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qo(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ck(t,e,n){var r=e.pendingProps;switch(fp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return yn(e.type)&&Bu(),Dt(e),null;case 3:return r=e.stateNode,Ao(),nt(mn),nt(Gt),vp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zn!==null&&(r0(Zn),Zn=null))),Yh(t,e),Dt(e),null;case 5:wp(e);var i=ms(nl.current);if(n=e.type,t!==null&&e.stateNode!=null)a1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return Dt(e),null}if(t=ms(Nr.current),Xl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[br]=e,r[el]=s,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(i=0;i<da.length;i++)tt(da[i],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":Vg(r,s),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tt("invalid",r);break;case"textarea":Wg(r,s),tt("invalid",r)}_h(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Yl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Yl(r.textContent,a,t),i=["children",""+a]):Ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tt("scroll",r)}switch(n){case"input":Dl(r),Hg(r,s,!0);break;case"textarea":Dl(r),qg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ib(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[br]=e,t[el]=r,o1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Eh(n,r),n){case"dialog":tt("cancel",t),tt("close",t),i=r;break;case"iframe":case"object":case"embed":tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<da.length;i++)tt(da[i],t);i=r;break;case"source":tt("error",t),i=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),i=r;break;case"details":tt("toggle",t),i=r;break;case"input":Vg(t,r),i=yh(t,r),tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),tt("invalid",t);break;case"textarea":Wg(t,r),i=wh(t,r),tt("invalid",t);break;default:i=r}_h(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Lb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wa(t,l):typeof l=="number"&&Wa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ha.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tt("scroll",t):l!=null&&Z0(t,s,l,o))}switch(n){case"input":Dl(t),Hg(t,r,!1);break;case"textarea":Dl(t),qg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?mo(t,!!r.multiple,s,!1):r.defaultValue!=null&&mo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)l1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(n=ms(nl.current),ms(Nr.current),Xl(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(s=r.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:Yl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return Dt(e),null;case 13:if(nt(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&En!==null&&e.mode&1&&!(e.flags&128))Nw(),No(),e.flags|=98560,s=!1;else if(s=Xl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[br]=e}else No(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),s=!1}else Zn!==null&&(r0(Zn),Zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?St===0&&(St=3):Pp())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return Ao(),Yh(t,e),t===null&&Qa(e.stateNode.containerInfo),Dt(e),null;case 10:return mp(e.type._context),Dt(e),null;case 17:return yn(e.type)&&Bu(),Dt(e),null;case 19:if(nt(at),s=e.memoizedState,s===null)return Dt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qo(s,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fu(t),o!==null){for(e.flags|=128,Qo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(at,at.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>Bo&&(e.flags|=128,r=!0,Qo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Fu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rt)return Dt(e),null}else 2*mt()-s.renderingStartTime>Bo&&n!==1073741824&&(e.flags|=128,r=!0,Qo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,n=at.current,et(at,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return Rp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function uk(t,e){switch(fp(e),e.tag){case 1:return yn(e.type)&&Bu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ao(),nt(mn),nt(Gt),vp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wp(e),null;case 13:if(nt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));No()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(at),null;case 4:return Ao(),null;case 10:return mp(e.type._context),null;case 22:case 23:return Rp(),null;case 24:return null;default:return null}}var Jl=!1,Wt=!1,dk=typeof WeakSet=="function"?WeakSet:Set,we=null;function co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function Xh(t,e,n){try{n()}catch(r){dt(t,e,r)}}var Mm=!1;function fk(t,e){if(Ph=Nu,t=hw(),up(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oh={focusedElem:t,selectionRange:n},Nu=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var b=p.memoizedProps,E=p.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:Gn(e.type,b),E);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(P){dt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return p=Mm,Mm=!1,p}function ja(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xh(e,n,s)}i=i.next}while(i!==r)}}function Sd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c1(t){var e=t.alternate;e!==null&&(t.alternate=null,c1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[el],delete e[Fh],delete e[KS],delete e[YS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function u1(t){return t.tag===5||t.tag===3||t.tag===4}function Im(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cu));else if(r!==4&&(t=t.child,t!==null))for(Qh(t,e,n),t=t.sibling;t!==null;)Qh(t,e,n),t=t.sibling}function Jh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jh(t,e,n),t=t.sibling;t!==null;)Jh(t,e,n),t=t.sibling}var Mt=null,Yn=!1;function ii(t,e,n){for(n=n.child;n!==null;)d1(t,e,n),n=n.sibling}function d1(t,e,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(md,n)}catch{}switch(n.tag){case 5:Wt||co(n,e);case 6:var r=Mt,i=Yn;Mt=null,ii(t,e,n),Mt=r,Yn=i,Mt!==null&&(Yn?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(Yn?(t=Mt,n=n.stateNode,t.nodeType===8?gf(t.parentNode,n):t.nodeType===1&&gf(t,n),Ya(t)):gf(Mt,n.stateNode));break;case 4:r=Mt,i=Yn,Mt=n.stateNode.containerInfo,Yn=!0,ii(t,e,n),Mt=r,Yn=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xh(n,e,o),i=i.next}while(i!==r)}ii(t,e,n);break;case 1:if(!Wt&&(co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}ii(t,e,n);break;case 21:ii(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,ii(t,e,n),Wt=r):ii(t,e,n);break;default:ii(t,e,n)}}function Fm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dk),e.forEach(function(r){var i=vk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mt=a.stateNode,Yn=!1;break e;case 3:Mt=a.stateNode.containerInfo,Yn=!0;break e;case 4:Mt=a.stateNode.containerInfo,Yn=!0;break e}a=a.return}if(Mt===null)throw Error(pe(160));d1(s,o,i),Mt=null,Yn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){dt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)f1(e,t),e=e.sibling}function f1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),ar(t),r&4){try{ja(3,t,t.return),Sd(3,t)}catch(b){dt(t,t.return,b)}try{ja(5,t,t.return)}catch(b){dt(t,t.return,b)}}break;case 1:$n(e,t),ar(t),r&512&&n!==null&&co(n,n.return);break;case 5:if($n(e,t),ar(t),r&512&&n!==null&&co(n,n.return),t.flags&32){var i=t.stateNode;try{Wa(i,"")}catch(b){dt(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ob(i,s),Eh(a,o);var c=Eh(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?Lb(i,f):u==="dangerouslySetInnerHTML"?Fb(i,f):u==="children"?Wa(i,f):Z0(i,u,f,c)}switch(a){case"input":xh(i,s);break;case"textarea":Mb(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?mo(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?mo(i,!!s.multiple,s.defaultValue,!0):mo(i,!!s.multiple,s.multiple?[]:"",!1))}i[el]=s}catch(b){dt(t,t.return,b)}}break;case 6:if($n(e,t),ar(t),r&4){if(t.stateNode===null)throw Error(pe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){dt(t,t.return,b)}}break;case 3:if($n(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(e.containerInfo)}catch(b){dt(t,t.return,b)}break;case 4:$n(e,t),ar(t);break;case 13:$n(e,t),ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bp=mt())),r&4&&Fm(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(c=Wt)||u,$n(e,t),Wt=c):$n(e,t),ar(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(we=t,u=t.child;u!==null;){for(f=we=u;we!==null;){switch(h=we,g=h.child,h.tag){case 0:case 11:case 14:case 15:ja(4,h,h.return);break;case 1:co(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(b){dt(r,n,b)}}break;case 5:co(h,h.return);break;case 22:if(h.memoizedState!==null){Lm(f);continue}}g!==null?(g.return=h,we=g):Lm(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ub("display",o))}catch(b){dt(t,t.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){dt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$n(e,t),ar(t),r&4&&Fm(t);break;case 21:break;default:$n(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(u1(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wa(i,""),r.flags&=-33);var s=Im(t);Jh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Im(t);Qh(t,a,o);break;default:throw Error(pe(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hk(t,e,n){we=t,h1(t)}function h1(t,e,n){for(var r=(t.mode&1)!==0;we!==null;){var i=we,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Jl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=Jl;var c=Wt;if(Jl=o,(Wt=l)&&!c)for(we=i;we!==null;)o=we,l=o.child,o.tag===22&&o.memoizedState!==null?zm(i):l!==null?(l.return=o,we=l):zm(i);for(;s!==null;)we=s,h1(s),s=s.sibling;we=i,Jl=a,Wt=c}Um(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,we=s):Um(t)}}function Um(t){for(;we!==null;){var e=we;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Sd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_m(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_m(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ya(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Wt||e.flags&512&&Zh(e)}catch(h){dt(e,e.return,h)}}if(e===t){we=null;break}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}}function Lm(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var n=e.sibling;if(n!==null){n.return=e.return,we=n;break}we=e.return}}function zm(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sd(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dt(e,i,l)}}var s=e.return;try{Zh(e)}catch(l){dt(e,s,l)}break;case 5:var o=e.return;try{Zh(e)}catch(l){dt(e,o,l)}}}catch(l){dt(e,e.return,l)}if(e===t){we=null;break}var a=e.sibling;if(a!==null){a.return=e.return,we=a;break}we=e.return}}var pk=Math.ceil,zu=ni.ReactCurrentDispatcher,Ap=ni.ReactCurrentOwner,Un=ni.ReactCurrentBatchConfig,ze=0,Ot=null,vt=null,Ft=0,vn=0,uo=Xi(0),St=0,ol=null,Ns=0,kd=0,Cp=0,Ra=null,un=null,Bp=0,Bo=1/0,Or=null,Du=!1,e0=null,Ii=null,ec=!1,Ni=null,$u=0,Pa=0,t0=null,Uc=-1,Lc=0;function rn(){return ze&6?mt():Uc!==-1?Uc:Uc=mt()}function Fi(t){return t.mode&1?ze&2&&Ft!==0?Ft&-Ft:ZS.transition!==null?(Lc===0&&(Lc=Zb()),Lc):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:iw(t.type)),t):1}function er(t,e,n,r){if(50<Pa)throw Pa=0,t0=null,Error(pe(185));_l(t,n,r),(!(ze&2)||t!==Ot)&&(t===Ot&&(!(ze&2)&&(kd|=n),St===4&&vi(t,Ft)),xn(t,r),n===1&&ze===0&&!(e.mode&1)&&(Bo=mt()+500,vd&&Zi()))}function xn(t,e){var n=t.callbackNode;ZE(t,e);var r=ku(t,t===Ot?Ft:0);if(r===0)n!==null&&Yg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yg(n),e===1)t.tag===0?XS(Dm.bind(null,t)):Ew(Dm.bind(null,t)),qS(function(){!(ze&6)&&Zi()}),n=null;else{switch(Qb(r)){case 1:n=np;break;case 4:n=Yb;break;case 16:n=Su;break;case 536870912:n=Xb;break;default:n=Su}n=v1(n,p1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function p1(t,e){if(Uc=-1,Lc=0,ze&6)throw Error(pe(327));var n=t.callbackNode;if(vo()&&t.callbackNode!==n)return null;var r=ku(t,t===Ot?Ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vu(t,r);else{e=r;var i=ze;ze|=2;var s=m1();(Ot!==t||Ft!==e)&&(Or=null,Bo=mt()+500,xs(t,e));do try{yk();break}catch(a){g1(t,a)}while(!0);gp(),zu.current=s,ze=i,vt!==null?e=0:(Ot=null,Ft=0,e=St)}if(e!==0){if(e===2&&(i=Ah(t),i!==0&&(r=i,e=n0(t,i))),e===1)throw n=ol,xs(t,0),vi(t,r),xn(t,mt()),n;if(e===6)vi(t,r);else{if(i=t.current.alternate,!(r&30)&&!gk(i)&&(e=Vu(t,r),e===2&&(s=Ah(t),s!==0&&(r=s,e=n0(t,s))),e===1))throw n=ol,xs(t,0),vi(t,r),xn(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:os(t,un,Or);break;case 3:if(vi(t,r),(r&130023424)===r&&(e=Bp+500-mt(),10<e)){if(ku(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ih(os.bind(null,t,un,Or),e);break}os(t,un,Or);break;case 4:if(vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pk(r/1960))-r,10<r){t.timeoutHandle=Ih(os.bind(null,t,un,Or),r);break}os(t,un,Or);break;case 5:os(t,un,Or);break;default:throw Error(pe(329))}}}return xn(t,mt()),t.callbackNode===n?p1.bind(null,t):null}function n0(t,e){var n=Ra;return t.current.memoizedState.isDehydrated&&(xs(t,e).flags|=256),t=Vu(t,e),t!==2&&(e=un,un=n,e!==null&&r0(e)),t}function r0(t){un===null?un=t:un.push.apply(un,t)}function gk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vi(t,e){for(e&=~Cp,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function Dm(t){if(ze&6)throw Error(pe(327));vo();var e=ku(t,0);if(!(e&1))return xn(t,mt()),null;var n=Vu(t,e);if(t.tag!==0&&n===2){var r=Ah(t);r!==0&&(e=r,n=n0(t,r))}if(n===1)throw n=ol,xs(t,0),vi(t,e),xn(t,mt()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,un,Or),xn(t,mt()),null}function jp(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(Bo=mt()+500,vd&&Zi())}}function Ts(t){Ni!==null&&Ni.tag===0&&!(ze&6)&&vo();var e=ze;ze|=1;var n=Un.transition,r=Ke;try{if(Un.transition=null,Ke=1,t)return t()}finally{Ke=r,Un.transition=n,ze=e,!(ze&6)&&Zi()}}function Rp(){vn=uo.current,nt(uo)}function xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WS(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bu();break;case 3:Ao(),nt(mn),nt(Gt),vp();break;case 5:wp(r);break;case 4:Ao();break;case 13:nt(at);break;case 19:nt(at);break;case 10:mp(r.type._context);break;case 22:case 23:Rp()}n=n.return}if(Ot=t,vt=t=Ui(t.current,null),Ft=vn=e,St=0,ol=null,Cp=kd=Ns=0,un=Ra=null,gs!==null){for(e=0;e<gs.length;e++)if(n=gs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}gs=null}return t}function g1(t,e){do{var n=vt;try{if(gp(),Mc.current=Lu,Uu){for(var r=ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uu=!1}if(ks=0,Rt=_t=ct=null,Ba=!1,rl=0,Ap.current=null,n===null||n.return===null){St=1,ol=e,vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Am(o);if(g!==null){g.flags&=-257,Cm(g,o,a,s,e),g.mode&1&&Tm(s,c,e),e=g,l=c;var p=e.updateQueue;if(p===null){var b=new Set;b.add(l),e.updateQueue=b}else p.add(l);break e}else{if(!(e&1)){Tm(s,c,e),Pp();break e}l=Error(pe(426))}}else if(rt&&a.mode&1){var E=Am(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Cm(E,o,a,s,e),hp(Co(l,a));break e}}s=l=Co(l,a),St!==4&&(St=2),Ra===null?Ra=[s]:Ra.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Qw(s,l,e);vm(s,v);break e;case 1:a=l;var _=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Ii===null||!Ii.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=Jw(s,a,e);vm(s,P);break e}}s=s.return}while(s!==null)}x1(n)}catch(S){e=S,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function m1(){var t=zu.current;return zu.current=Lu,t===null?Lu:t}function Pp(){(St===0||St===3||St===2)&&(St=4),Ot===null||!(Ns&268435455)&&!(kd&268435455)||vi(Ot,Ft)}function Vu(t,e){var n=ze;ze|=2;var r=m1();(Ot!==t||Ft!==e)&&(Or=null,xs(t,e));do try{mk();break}catch(i){g1(t,i)}while(!0);if(gp(),ze=n,zu.current=r,vt!==null)throw Error(pe(261));return Ot=null,Ft=0,St}function mk(){for(;vt!==null;)y1(vt)}function yk(){for(;vt!==null&&!$E();)y1(vt)}function y1(t){var e=w1(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?x1(t):vt=e,Ap.current=null}function x1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uk(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,vt=null;return}}else if(n=ck(n,e,vn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);St===0&&(St=5)}function os(t,e,n){var r=Ke,i=Un.transition;try{Un.transition=null,Ke=1,xk(t,e,n,r)}finally{Un.transition=i,Ke=r}return null}function xk(t,e,n,r){do vo();while(Ni!==null);if(ze&6)throw Error(pe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(QE(t,s),t===Ot&&(vt=Ot=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ec||(ec=!0,v1(Su,function(){return vo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Un.transition,Un.transition=null;var o=Ke;Ke=1;var a=ze;ze|=4,Ap.current=null,fk(t,n),f1(n,t),US(Oh),Nu=!!Ph,Oh=Ph=null,t.current=n,hk(n),VE(),ze=a,Ke=o,Un.transition=s}else t.current=n;if(ec&&(ec=!1,Ni=t,$u=i),s=t.pendingLanes,s===0&&(Ii=null),qE(n.stateNode),xn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Du)throw Du=!1,t=e0,e0=null,t;return $u&1&&t.tag!==0&&vo(),s=t.pendingLanes,s&1?t===t0?Pa++:(Pa=0,t0=t):Pa=0,Zi(),null}function vo(){if(Ni!==null){var t=Qb($u),e=Un.transition,n=Ke;try{if(Un.transition=null,Ke=16>t?16:t,Ni===null)var r=!1;else{if(t=Ni,Ni=null,$u=0,ze&6)throw Error(pe(331));var i=ze;for(ze|=4,we=t.current;we!==null;){var s=we,o=s.child;if(we.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(we=c;we!==null;){var u=we;switch(u.tag){case 0:case 11:case 15:ja(8,u,s)}var f=u.child;if(f!==null)f.return=u,we=f;else for(;we!==null;){u=we;var h=u.sibling,g=u.return;if(c1(u),u===c){we=null;break}if(h!==null){h.return=g,we=h;break}we=g}}}var p=s.alternate;if(p!==null){var b=p.child;if(b!==null){p.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}we=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,we=o;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ja(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,we=v;break e}we=s.return}}var _=t.current;for(we=_;we!==null;){o=we;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,we=k;else e:for(o=_;we!==null;){if(a=we,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sd(9,a)}}catch(S){dt(a,a.return,S)}if(a===o){we=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,we=P;break e}we=a.return}}if(ze=i,Zi(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(md,t)}catch{}r=!0}return r}finally{Ke=n,Un.transition=e}}return!1}function $m(t,e,n){e=Co(n,e),e=Qw(t,e,1),t=Mi(t,e,1),e=rn(),t!==null&&(_l(t,1,e),xn(t,e))}function dt(t,e,n){if(t.tag===3)$m(t,t,n);else for(;e!==null;){if(e.tag===3){$m(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ii===null||!Ii.has(r))){t=Co(n,t),t=Jw(e,t,1),e=Mi(e,t,1),t=rn(),e!==null&&(_l(e,1,t),xn(e,t));break}}e=e.return}}function bk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(Ft&n)===n&&(St===4||St===3&&(Ft&130023424)===Ft&&500>mt()-Bp?xs(t,0):Cp|=n),xn(t,e)}function b1(t,e){e===0&&(t.mode&1?(e=Hl,Hl<<=1,!(Hl&130023424)&&(Hl=4194304)):e=1);var n=rn();t=Qr(t,e),t!==null&&(_l(t,e,n),xn(t,n))}function wk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),b1(t,n)}function vk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),b1(t,n)}var w1;w1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,lk(t,e,n);pn=!!(t.flags&131072)}else pn=!1,rt&&e.flags&1048576&&Sw(e,Pu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fc(t,e),t=e.pendingProps;var i=ko(e,Gt.current);wo(e,n),i=Ep(null,e,r,t,i,n);var s=Sp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(s=!0,ju(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xp(e),i.updater=Ed,e.stateNode=i,i._reactInternals=e,Vh(e,r,t,n),e=qh(null,e,r,!0,s,n)):(e.tag=0,rt&&s&&dp(e),tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ek(r),t=Gn(r,t),i){case 0:e=Wh(null,e,r,t,n);break e;case 1:e=Rm(null,e,r,t,n);break e;case 11:e=Bm(null,e,r,t,n);break e;case 14:e=jm(null,e,r,Gn(r.type,t),n);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Wh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Rm(t,e,r,i,n);case 3:e:{if(r1(e),t===null)throw Error(pe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Bw(t,e),Iu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Co(Error(pe(423)),e),e=Pm(t,e,r,n,i);break e}else if(r!==i){i=Co(Error(pe(424)),e),e=Pm(t,e,r,n,i);break e}else for(En=Oi(e.stateNode.containerInfo.firstChild),Sn=e,rt=!0,Zn=null,n=Aw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(No(),r===i){e=Jr(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return jw(e),t===null&&zh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Mh(r,i)?o=null:s!==null&&Mh(r,s)&&(e.flags|=32),n1(t,e),tn(t,e,o,n),e.child;case 6:return t===null&&zh(e),null;case 13:return i1(t,e,n);case 4:return bp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Bm(t,e,r,i,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,et(Ou,r._currentValue),r._currentValue=o,s!==null)if(nr(s.value,o)){if(s.children===i.children&&!mn.current){e=Jr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=qr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(pe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wo(e,n),i=Ln(i),r=r(i),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,i=Gn(r,e.pendingProps),i=Gn(r.type,i),jm(t,e,r,i,n);case 15:return e1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Fc(t,e),e.tag=1,yn(r)?(t=!0,ju(e)):t=!1,wo(e,n),Zw(e,r,i),Vh(e,r,i,n),qh(null,e,r,!0,t,n);case 19:return s1(t,e,n);case 22:return t1(t,e,n)}throw Error(pe(156,e.tag))};function v1(t,e){return Kb(t,e)}function _k(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new _k(t,e,n,r)}function Op(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ek(t){if(typeof t=="function")return Op(t)?1:0;if(t!=null){if(t=t.$$typeof,t===J0)return 11;if(t===ep)return 14}return 2}function Ui(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Op(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case eo:return bs(n.children,i,s,e);case Q0:o=8,i|=8;break;case hh:return t=In(12,n,e,i|2),t.elementType=hh,t.lanes=s,t;case ph:return t=In(13,n,e,i),t.elementType=ph,t.lanes=s,t;case gh:return t=In(19,n,e,i),t.elementType=gh,t.lanes=s,t;case jb:return Nd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Cb:o=10;break e;case Bb:o=9;break e;case J0:o=11;break e;case ep:o=14;break e;case hi:o=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=In(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function bs(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function Nd(t,e,n,r){return t=In(22,t,r,e),t.elementType=jb,t.lanes=n,t.stateNode={isHidden:!1},t}function Ef(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function Sf(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mp(t,e,n,r,i,s,o,a,l){return t=new Sk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=In(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xp(s),t}function kk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _1(t){if(!t)return Wi;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(yn(n))return _w(t,n,e)}return e}function E1(t,e,n,r,i,s,o,a,l){return t=Mp(n,r,!0,t,i,s,o,a,l),t.context=_1(null),n=t.current,r=rn(),i=Fi(n),s=qr(r,i),s.callback=e??null,Mi(n,s,i),t.current.lanes=i,_l(t,i,r),xn(t,r),t}function Td(t,e,n,r){var i=e.current,s=rn(),o=Fi(i);return n=_1(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mi(i,e,o),t!==null&&(er(t,i,o,s),Oc(t,i,o)),o}function Hu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ip(t,e){Vm(t,e),(t=t.alternate)&&Vm(t,e)}var S1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fp(t){this._internalRoot=t}Ad.prototype.render=Fp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));Td(t,e,null,null)};Ad.prototype.unmount=Fp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ts(function(){Td(null,t,null,null)}),e[Zr]=null}};function Ad(t){this._internalRoot=t}Ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=tw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&rw(t)}};function Up(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function Nk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Hu(o);s.call(c)}}var o=E1(e,r,t,0,null,!1,!1,"",Hm);return t._reactRootContainer=o,t[Zr]=o.current,Qa(t.nodeType===8?t.parentNode:t),Ts(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Hu(l);a.call(c)}}var l=Mp(t,0,!1,null,null,!1,!1,"",Hm);return t._reactRootContainer=l,t[Zr]=l.current,Qa(t.nodeType===8?t.parentNode:t),Ts(function(){Td(e,l,n,r)}),l}function Bd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Hu(o);a.call(l)}}Td(e,o,t,i)}else o=Nk(n,e,t,i,r);return Hu(o)}Jb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ua(e.pendingLanes);n!==0&&(rp(e,n|1),xn(e,mt()),!(ze&6)&&(Bo=mt()+500,Zi()))}break;case 13:Ts(function(){var r=Qr(t,1);if(r!==null){var i=rn();er(r,t,1,i)}}),Ip(t,1)}};ip=function(t){if(t.tag===13){var e=Qr(t,134217728);if(e!==null){var n=rn();er(e,t,134217728,n)}Ip(t,134217728)}};ew=function(t){if(t.tag===13){var e=Fi(t),n=Qr(t,e);if(n!==null){var r=rn();er(n,t,e,r)}Ip(t,e)}};tw=function(){return Ke};nw=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};kh=function(t,e,n){switch(e){case"input":if(xh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wd(r);if(!i)throw Error(pe(90));Pb(r),xh(r,i)}}}break;case"textarea":Mb(t,n);break;case"select":e=n.value,e!=null&&mo(t,!!n.multiple,e,!1)}};$b=jp;Vb=Ts;var Tk={usingClientEntryPoint:!1,Events:[Sl,io,wd,zb,Db,jp]},Jo={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ak={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qb(t),t===null?null:t.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{md=tc.inject(Ak),kr=tc}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tk;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Up(e))throw Error(pe(200));return kk(t,e,null,n)};Nn.createRoot=function(t,e){if(!Up(t))throw Error(pe(299));var n=!1,r="",i=S1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mp(t,1,!1,null,null,n,!1,r,i),t[Zr]=e.current,Qa(t.nodeType===8?t.parentNode:t),new Fp(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=qb(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Ts(t)};Nn.hydrate=function(t,e,n){if(!Cd(e))throw Error(pe(200));return Bd(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!Up(t))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=S1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=E1(e,null,t,1,n??null,i,!1,s,o),t[Zr]=e.current,Qa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ad(e)};Nn.render=function(t,e,n){if(!Cd(e))throw Error(pe(200));return Bd(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!Cd(t))throw Error(pe(40));return t._reactRootContainer?(Ts(function(){Bd(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1};Nn.unstable_batchedUpdates=jp;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cd(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return Bd(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function k1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k1)}catch(t){console.error(t)}}k1(),kb.exports=Nn;var Ck=kb.exports,Wm=Ck;dh.createRoot=Wm.createRoot,dh.hydrateRoot=Wm.hydrateRoot;/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qm="popstate";function Bk(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return i0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:al(i)}return Rk(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jk(){return Math.random().toString(36).substring(2,10)}function Gm(t,e){return{usr:t.state,key:t.key,idx:e}}function i0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lo(e):e,state:n,key:e&&e.key||r||jk()}}function al({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Rk(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function f(){a="POP";let E=u(),v=E==null?null:E-c;c=E,l&&l({action:a,location:b.location,delta:v})}function h(E,v){a="PUSH";let _=i0(b.location,E,v);c=u()+1;let k=Gm(_,c),P=b.createHref(_);try{o.pushState(k,"",P)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(P)}s&&l&&l({action:a,location:b.location,delta:1})}function g(E,v){a="REPLACE";let _=i0(b.location,E,v);c=u();let k=Gm(_,c),P=b.createHref(_);o.replaceState(k,"",P),s&&l&&l({action:a,location:b.location,delta:0})}function p(E){return Pk(E)}let b={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qm,f),l=E,()=>{i.removeEventListener(qm,f),l=null}},createHref(E){return e(i,E)},createURL:p,encodeLocation(E){let v=p(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:g,go(E){return o.go(E)}};return b}function Pk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:al(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function N1(t,e,n="/"){return Ok(t,e,n,!1)}function Ok(t,e,n,r){let i=typeof e=="string"?Lo(e):e,s=ei(i.pathname||"/",n);if(s==null)return null;let o=T1(t);Mk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=qk(s);a=Hk(o[l],c,r)}return a}function T1(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Gr([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ot(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),T1(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:$k(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of A1(s.path))i(s,o,l)}),e}function A1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=A1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Mk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Vk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Ik=/^:[\w-]+$/,Fk=3,Uk=2,Lk=1,zk=10,Dk=-2,Km=t=>t==="*";function $k(t,e){let n=t.split("/"),r=n.length;return n.some(Km)&&(r+=Dk),e&&(r+=Uk),n.filter(i=>!Km(i)).reduce((i,s)=>i+(Ik.test(s)?Fk:s===""?Lk:zk),r)}function Vk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Hk(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=Wu({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Wu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Gr([s,f.pathname]),pathnameBase:Xk(Gr([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Gr([s,f.pathnameBase]))}return o}function Wu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Wk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=a[h];return f&&!g?c[u]=void 0:c[u]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Wk(t,e=!1,n=!0){rr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Gk(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lo(t):t;return{pathname:n?n.startsWith("/")?n:Kk(n,e):e,search:Zk(r),hash:Qk(i)}}function Kk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lp(t){let e=Yk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function zp(t,e,n,r=!1){let i;typeof t=="string"?i=Lo(t):(i={...t},ot(!i.pathname||!i.pathname.includes("?"),kf("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),kf("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),kf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=Gk(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Gr=t=>t.join("/").replace(/\/\/+/g,"/"),Xk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Zk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Jk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var C1=["POST","PUT","PATCH","DELETE"];new Set(C1);var e3=["GET",...C1];new Set(e3);var zo=$.createContext(null);zo.displayName="DataRouter";var jd=$.createContext(null);jd.displayName="DataRouterState";$.createContext(!1);var B1=$.createContext({isTransitioning:!1});B1.displayName="ViewTransition";var t3=$.createContext(new Map);t3.displayName="Fetchers";var n3=$.createContext(null);n3.displayName="Await";var or=$.createContext(null);or.displayName="Navigation";var Nl=$.createContext(null);Nl.displayName="Location";var Cr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var Dp=$.createContext(null);Dp.displayName="RouteError";function r3(t,{relative:e}={}){ot(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=$.useContext(or),{hash:i,pathname:s,search:o}=Tl(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Gr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Do(){return $.useContext(Nl)!=null}function ri(){return ot(Do(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Nl).location}var j1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R1(t){$.useContext(or).static||$.useLayoutEffect(t)}function $p(){let{isDataRoute:t}=$.useContext(Cr);return t?m3():i3()}function i3(){ot(Do(),"useNavigate() may be used only in the context of a <Router> component.");let t=$.useContext(zo),{basename:e,navigator:n}=$.useContext(or),{matches:r}=$.useContext(Cr),{pathname:i}=ri(),s=JSON.stringify(Lp(r)),o=$.useRef(!1);return R1(()=>{o.current=!0}),$.useCallback((l,c={})=>{if(rr(o.current,j1),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=zp(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Gr([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}$.createContext(null);function Tl(t,{relative:e}={}){let{matches:n}=$.useContext(Cr),{pathname:r}=ri(),i=JSON.stringify(Lp(n));return $.useMemo(()=>zp(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function s3(t,e){return P1(t,e)}function P1(t,e,n,r){var v;ot(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=$.useContext(or),{matches:s}=$.useContext(Cr),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",u=o&&o.route;{let _=u&&u.path||"";O1(l,!u||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let f=ri(),h;if(e){let _=typeof e=="string"?Lo(e):e;ot(c==="/"||((v=_.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${_.pathname}" was given in the \`location\` prop.`),h=_}else h=f;let g=h.pathname||"/",p=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=N1(t,{pathname:p});rr(u||b!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),rr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=u3(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Gr([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Gr([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&E?$.createElement(Nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},E):E}function o3(){let t=g3(),e=Jk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:s},"ErrorBoundary")," or"," ",$.createElement("code",{style:s},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,o)}var a3=$.createElement(o3,null),l3=class extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?$.createElement(Cr.Provider,{value:this.props.routeContext},$.createElement(Dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c3({routeContext:t,match:e,children:n}){let r=$.useContext(zo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Cr.Provider,{value:t},n)}function u3(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);ot(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:f}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let f,h=!1,g=null,p=null;n&&(f=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||a3,o&&(a<0&&u===0?(O1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):a===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,u+1)),E=()=>{let v;return f?v=g:h?v=p:c.route.Component?v=$.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,$.createElement(c3,{match:c,routeContext:{outlet:l,matches:b,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?$.createElement(l3,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}function Vp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d3(t){let e=$.useContext(zo);return ot(e,Vp(t)),e}function f3(t){let e=$.useContext(jd);return ot(e,Vp(t)),e}function h3(t){let e=$.useContext(Cr);return ot(e,Vp(t)),e}function Hp(t){let e=h3(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function p3(){return Hp("useRouteId")}function g3(){var r;let t=$.useContext(Dp),e=f3("useRouteError"),n=Hp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function m3(){let{router:t}=d3("useNavigate"),e=Hp("useNavigate"),n=$.useRef(!1);return R1(()=>{n.current=!0}),$.useCallback(async(i,s={})=>{rr(n.current,j1),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Ym={};function O1(t,e,n){!e&&!Ym[t]&&(Ym[t]=!0,rr(!1,n))}$.memo(y3);function y3({routes:t,future:e,state:n}){return P1(t,void 0,n,e)}function An({to:t,replace:e,state:n,relative:r}){ot(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=$.useContext(or);rr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=$.useContext(Cr),{pathname:o}=ri(),a=$p(),l=zp(t,Lp(s),o,r==="path"),c=JSON.stringify(l);return $.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function Jt(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x3({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){ot(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=$.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Lo(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,g=$.useMemo(()=>{let p=ei(l,o);return p==null?null:{location:{pathname:p,search:c,hash:u,state:f,key:h},navigationType:r}},[o,l,c,u,f,h,r]);return rr(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:$.createElement(or.Provider,{value:a},$.createElement(Nl.Provider,{children:e,value:g}))}function M1({children:t,location:e}){return s3(s0(t),e)}function s0(t,e=[]){let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){n.push.apply(n,s0(r.props.children,s));return}ot(r.type===Jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=s0(r.props.children,s)),n.push(o)}),n}var Dc="get",$c="application/x-www-form-urlencoded";function Rd(t){return t!=null&&typeof t.tagName=="string"}function b3(t){return Rd(t)&&t.tagName.toLowerCase()==="button"}function w3(t){return Rd(t)&&t.tagName.toLowerCase()==="form"}function v3(t){return Rd(t)&&t.tagName.toLowerCase()==="input"}function _3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E3(t,e){return t.button===0&&(!e||e==="_self")&&!_3(t)}var nc=null;function S3(){if(nc===null)try{new FormData(document.createElement("form"),0),nc=!1}catch{nc=!0}return nc}var k3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nf(t){return t!=null&&!k3.has(t)?(rr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):t}function N3(t,e){let n,r,i,s,o;if(w3(t)){let a=t.getAttribute("action");r=a?ei(a,e):null,n=t.getAttribute("method")||Dc,i=Nf(t.getAttribute("enctype"))||$c,s=new FormData(t)}else if(b3(t)||v3(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?ei(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Dc,i=Nf(t.getAttribute("formenctype"))||Nf(a.getAttribute("enctype"))||$c,s=new FormData(a,t),!S3()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,f)}}else{if(Rd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dc,r=null,i=$c,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function T3(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ei(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function A3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function C3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function B3(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await A3(s,n);return o.links?o.links():[]}return[]}));return O3(r.flat(1).filter(C3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Xm(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function j3(t,e,{includeHydrateFallback:n}={}){return R3(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function R3(t){return[...new Set(t)]}function P3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function O3(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(P3(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function I1(){let t=$.useContext(zo);return Wp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function M3(){let t=$.useContext(jd);return Wp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qp=$.createContext(void 0);qp.displayName="FrameworkContext";function F1(){let t=$.useContext(qp);return Wp(t,"You must render this element inside a <HydratedRouter> element"),t}function I3(t,e){let n=$.useContext(qp),[r,i]=$.useState(!1),[s,o]=$.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=$.useRef(null);$.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let b=v=>{v.forEach(_=>{o(_.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return h.current&&E.observe(h.current),()=>{E.disconnect()}}},[t]),$.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let g=()=>{i(!0)},p=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:ea(a,g),onBlur:ea(l,p),onMouseEnter:ea(c,g),onMouseLeave:ea(u,p),onTouchStart:ea(f,g)}]:[!1,h,{}]}function ea(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function F3({page:t,...e}){let{router:n}=I1(),r=$.useMemo(()=>N1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?$.createElement(L3,{page:t,matches:r,...e}):null}function U3(t){let{manifest:e,routeModules:n}=F1(),[r,i]=$.useState([]);return $.useEffect(()=>{let s=!1;return B3(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function L3({page:t,matches:e,...n}){let r=ri(),{manifest:i,routeModules:s}=F1(),{basename:o}=I1(),{loaderData:a,matches:l}=M3(),c=$.useMemo(()=>Xm(t,e,l,i,r,"data"),[t,e,l,i,r]),u=$.useMemo(()=>Xm(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=$.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,b=!1;if(e.forEach(v=>{var k;let _=i.routes[v.route.id];!_||!_.hasLoader||(!c.some(P=>P.route.id===v.route.id)&&v.route.id in a&&((k=s[v.route.id])!=null&&k.shouldRevalidate)||_.hasClientLoader?b=!0:p.add(v.route.id))}),p.size===0)return[];let E=T3(t,o,"data");return b&&p.size>0&&E.searchParams.set("_routes",e.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[E.pathname+E.search]},[o,a,r,i,c,e,t,s]),h=$.useMemo(()=>j3(u,i),[u,i]),g=U3(u);return $.createElement($.Fragment,null,f.map(p=>$.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),h.map(p=>$.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),g.map(({key:p,link:b})=>$.createElement("link",{key:p,...b})))}function z3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var U1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U1&&(window.__reactRouterVersion="7.7.0")}catch{}function D3({basename:t,children:e,window:n}){let r=$.useRef();r.current==null&&(r.current=Bk({window:n,v5Compat:!0}));let i=r.current,[s,o]=$.useState({action:i.action,location:i.location}),a=$.useCallback(l=>{$.startTransition(()=>o(l))},[o]);return $.useLayoutEffect(()=>i.listen(a),[i,a]),$.createElement(x3,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var L1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gp=$.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},g){let{basename:p}=$.useContext(or),b=typeof c=="string"&&L1.test(c),E,v=!1;if(typeof c=="string"&&b&&(E=c,U1))try{let F=new URL(window.location.href),V=c.startsWith("//")?new URL(F.protocol+c):new URL(c),se=ei(V.pathname,p);V.origin===F.origin&&se!=null?c=se+V.search+V.hash:v=!0}catch{rr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=r3(c,{relative:i}),[k,P,S]=I3(r,h),M=H3(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function C(F){e&&e(F),F.defaultPrevented||M(F)}let U=$.createElement("a",{...h,...S,href:E||_,onClick:v||s?e:C,ref:z3(g,P),target:l,"data-discover":!b&&n==="render"?"true":void 0});return k&&!b?$.createElement($.Fragment,null,U,$.createElement(F3,{page:_})):U});Gp.displayName="Link";var Kp=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let f=Tl(o,{relative:c.relative}),h=ri(),g=$.useContext(jd),{navigator:p,basename:b}=$.useContext(or),E=g!=null&&Y3(f)&&a===!0,v=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,_=h.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(_=_.toLowerCase(),k=k?k.toLowerCase():null,v=v.toLowerCase()),k&&b&&(k=ei(k,b)||k);const P=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=_===v||!i&&_.startsWith(v)&&_.charAt(P)==="/",M=k!=null&&(k===v||!i&&k.startsWith(v)&&k.charAt(v.length)==="/"),C={isActive:S,isPending:M,isTransitioning:E},U=S?e:void 0,F;typeof r=="function"?F=r(C):F=[r,S?"active":null,M?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(C):s;return $.createElement(Gp,{...c,"aria-current":U,className:F,ref:u,style:V,to:o,viewTransition:a},typeof l=="function"?l(C):l)});Kp.displayName="NavLink";var $3=$.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Dc,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},g)=>{let p=G3(),b=K3(a,{relative:c}),E=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&L1.test(a),_=k=>{if(l&&l(k),k.defaultPrevented)return;k.preventDefault();let P=k.nativeEvent.submitter,S=(P==null?void 0:P.getAttribute("formmethod"))||o;p(P||k.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:f})};return $.createElement("form",{ref:g,method:E,action:b,onSubmit:r?l:_,...h,"data-discover":!v&&t==="render"?"true":void 0})});$3.displayName="Form";function V3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(t){let e=$.useContext(zo);return ot(e,V3(t)),e}function H3(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=$p(),l=ri(),c=Tl(t,{relative:s});return $.useCallback(u=>{if(E3(u,e)){u.preventDefault();let f=n!==void 0?n:al(l)===al(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var W3=0,q3=()=>`__${String(++W3)}__`;function G3(){let{router:t}=z1("useSubmit"),{basename:e}=$.useContext(or),n=p3();return $.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=N3(r,e);if(i.navigate===!1){let u=i.fetcherKey||q3();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function K3(t,{relative:e}={}){let{basename:n}=$.useContext(or),r=$.useContext(Cr);ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Tl(t||".",{relative:e})},o=ri();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Gr([n,s.pathname])),al(s)}function Y3(t,e={}){let n=$.useContext(B1);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=z1("useViewTransitionState"),i=Tl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wu(i.pathname,o)!=null||Wu(i.pathname,s)!=null}var D1={},Al={};Al.byteLength=Q3;Al.toByteArray=eN;Al.fromByteArray=rN;var wr=[],Bn=[],X3=typeof Uint8Array<"u"?Uint8Array:Array,Tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Us=0,Z3=Tf.length;Us<Z3;++Us)wr[Us]=Tf[Us],Bn[Tf.charCodeAt(Us)]=Us;Bn[45]=62;Bn[95]=63;function $1(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Q3(t){var e=$1(t),n=e[0],r=e[1];return(n+r)*3/4-r}function J3(t,e,n){return(e+n)*3/4-n}function eN(t){var e,n=$1(t),r=n[0],i=n[1],s=new X3(J3(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Bn[t.charCodeAt(l)]<<18|Bn[t.charCodeAt(l+1)]<<12|Bn[t.charCodeAt(l+2)]<<6|Bn[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Bn[t.charCodeAt(l)]<<2|Bn[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Bn[t.charCodeAt(l)]<<10|Bn[t.charCodeAt(l+1)]<<4|Bn[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function tN(t){return wr[t>>18&63]+wr[t>>12&63]+wr[t>>6&63]+wr[t&63]}function nN(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(tN(r));return i.join("")}function rN(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(nN(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(wr[e>>2]+wr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(wr[e>>10]+wr[e>>4&63]+wr[e<<2&63]+"=")),i.join("")}var Cl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Cl.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,f=n?i-1:0,h=n?-1:1,g=t[e+f];for(f+=h,s=g&(1<<-u)-1,g>>=-u,u+=a;u>0;s=s*256+t[e+f],f+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+f],f+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(g?-1:1)*o*Math.pow(2,s-r)};Cl.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,f=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:s-1,p=r?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=h/l:e+=h*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+g]=a&255,g+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+g]=o&255,g+=p,o/=256,c-=8);t[n+g-p]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Al,n=Cl,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const T=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(T,x),T.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const x=new Uint8Array(T);return Object.setPrototypeOf(x,a.prototype),x}function a(T,x,w){if(typeof T=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(T)}return l(T,x,w)}a.poolSize=8192;function l(T,x,w){if(typeof T=="string")return h(T,x);if(ArrayBuffer.isView(T))return p(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(ee(T,ArrayBuffer)||T&&ee(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(T,SharedArrayBuffer)||T&&ee(T.buffer,SharedArrayBuffer)))return b(T,x,w);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const I=T.valueOf&&T.valueOf();if(I!=null&&I!==T)return a.from(I,x,w);const K=E(T);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),x,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,x,w){return l(T,x,w)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function u(T,x,w){return c(T),T<=0?o(T):x!==void 0?typeof w=="string"?o(T).fill(x,w):o(T).fill(x):o(T)}a.alloc=function(T,x,w){return u(T,x,w)};function f(T){return c(T),o(T<0?0:v(T)|0)}a.allocUnsafe=function(T){return f(T)},a.allocUnsafeSlow=function(T){return f(T)};function h(T,x){if((typeof x!="string"||x==="")&&(x="utf8"),!a.isEncoding(x))throw new TypeError("Unknown encoding: "+x);const w=k(T,x)|0;let I=o(w);const K=I.write(T,x);return K!==w&&(I=I.slice(0,K)),I}function g(T){const x=T.length<0?0:v(T.length)|0,w=o(x);for(let I=0;I<x;I+=1)w[I]=T[I]&255;return w}function p(T){if(ee(T,Uint8Array)){const x=new Uint8Array(T);return b(x.buffer,x.byteOffset,x.byteLength)}return g(T)}function b(T,x,w){if(x<0||T.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<x+(w||0))throw new RangeError('"length" is outside of buffer bounds');let I;return x===void 0&&w===void 0?I=new Uint8Array(T):w===void 0?I=new Uint8Array(T,x):I=new Uint8Array(T,x,w),Object.setPrototypeOf(I,a.prototype),I}function E(T){if(a.isBuffer(T)){const x=v(T.length)|0,w=o(x);return w.length===0||T.copy(w,0,0,x),w}if(T.length!==void 0)return typeof T.length!="number"||fe(T.length)?o(0):g(T);if(T.type==="Buffer"&&Array.isArray(T.data))return g(T.data)}function v(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function _(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==a.prototype},a.compare=function(x,w){if(ee(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),ee(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(x)||!a.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===w)return 0;let I=x.length,K=w.length;for(let re=0,ne=Math.min(I,K);re<ne;++re)if(x[re]!==w[re]){I=x[re],K=w[re];break}return I<K?-1:K<I?1:0},a.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(x,w){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return a.alloc(0);let I;if(w===void 0)for(w=0,I=0;I<x.length;++I)w+=x[I].length;const K=a.allocUnsafe(w);let re=0;for(I=0;I<x.length;++I){let ne=x[I];if(ee(ne,Uint8Array))re+ne.length>K.length?(a.isBuffer(ne)||(ne=a.from(ne)),ne.copy(K,re)):Uint8Array.prototype.set.call(K,ne,re);else if(a.isBuffer(ne))ne.copy(K,re);else throw new TypeError('"list" argument must be an Array of Buffers');re+=ne.length}return K};function k(T,x){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||ee(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const w=T.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&w===0)return 0;let K=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return m(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return R(T).length;default:if(K)return I?-1:m(T).length;x=(""+x).toLowerCase(),K=!0}}a.byteLength=k;function P(T,x,w){let I=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,x>>>=0,w<=x))return"";for(T||(T="utf8");;)switch(T){case"hex":return te(this,x,w);case"utf8":case"utf-8":return H(this,x,w);case"ascii":return X(this,x,w);case"latin1":case"binary":return G(this,x,w);case"base64":return L(this,x,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,x,w);default:if(I)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),I=!0}}a.prototype._isBuffer=!0;function S(T,x,w){const I=T[x];T[x]=T[w],T[w]=I}a.prototype.swap16=function(){const x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<x;w+=2)S(this,w,w+1);return this},a.prototype.swap32=function(){const x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<x;w+=4)S(this,w,w+3),S(this,w+1,w+2);return this},a.prototype.swap64=function(){const x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<x;w+=8)S(this,w,w+7),S(this,w+1,w+6),S(this,w+2,w+5),S(this,w+3,w+4);return this},a.prototype.toString=function(){const x=this.length;return x===0?"":arguments.length===0?H(this,0,x):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(x){if(!a.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:a.compare(this,x)===0},a.prototype.inspect=function(){let x="";const w=t.INSPECT_MAX_BYTES;return x=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(x+=" ... "),"<Buffer "+x+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(x,w,I,K,re){if(ee(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(w===void 0&&(w=0),I===void 0&&(I=x?x.length:0),K===void 0&&(K=0),re===void 0&&(re=this.length),w<0||I>x.length||K<0||re>this.length)throw new RangeError("out of range index");if(K>=re&&w>=I)return 0;if(K>=re)return-1;if(w>=I)return 1;if(w>>>=0,I>>>=0,K>>>=0,re>>>=0,this===x)return 0;let ne=re-K,Te=I-w;const Oe=Math.min(ne,Te),Ce=this.slice(K,re),Ne=x.slice(w,I);for(let Ve=0;Ve<Oe;++Ve)if(Ce[Ve]!==Ne[Ve]){ne=Ce[Ve],Te=Ne[Ve];break}return ne<Te?-1:Te<ne?1:0};function M(T,x,w,I,K){if(T.length===0)return-1;if(typeof w=="string"?(I=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,fe(w)&&(w=K?0:T.length-1),w<0&&(w=T.length+w),w>=T.length){if(K)return-1;w=T.length-1}else if(w<0)if(K)w=0;else return-1;if(typeof x=="string"&&(x=a.from(x,I)),a.isBuffer(x))return x.length===0?-1:C(T,x,w,I,K);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(T,x,w):Uint8Array.prototype.lastIndexOf.call(T,x,w):C(T,[x],w,I,K);throw new TypeError("val must be string, number or Buffer")}function C(T,x,w,I,K){let re=1,ne=T.length,Te=x.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(T.length<2||x.length<2)return-1;re=2,ne/=2,Te/=2,w/=2}function Oe(Ne,Ve){return re===1?Ne[Ve]:Ne.readUInt16BE(Ve*re)}let Ce;if(K){let Ne=-1;for(Ce=w;Ce<ne;Ce++)if(Oe(T,Ce)===Oe(x,Ne===-1?0:Ce-Ne)){if(Ne===-1&&(Ne=Ce),Ce-Ne+1===Te)return Ne*re}else Ne!==-1&&(Ce-=Ce-Ne),Ne=-1}else for(w+Te>ne&&(w=ne-Te),Ce=w;Ce>=0;Ce--){let Ne=!0;for(let Ve=0;Ve<Te;Ve++)if(Oe(T,Ce+Ve)!==Oe(x,Ve)){Ne=!1;break}if(Ne)return Ce}return-1}a.prototype.includes=function(x,w,I){return this.indexOf(x,w,I)!==-1},a.prototype.indexOf=function(x,w,I){return M(this,x,w,I,!0)},a.prototype.lastIndexOf=function(x,w,I){return M(this,x,w,I,!1)};function U(T,x,w,I){w=Number(w)||0;const K=T.length-w;I?(I=Number(I),I>K&&(I=K)):I=K;const re=x.length;I>re/2&&(I=re/2);let ne;for(ne=0;ne<I;++ne){const Te=parseInt(x.substr(ne*2,2),16);if(fe(Te))return ne;T[w+ne]=Te}return ne}function F(T,x,w,I){return D(m(x,T.length-w),T,w,I)}function V(T,x,w,I){return D(y(x),T,w,I)}function se(T,x,w,I){return D(R(x),T,w,I)}function ie(T,x,w,I){return D(A(x,T.length-w),T,w,I)}a.prototype.write=function(x,w,I,K){if(w===void 0)K="utf8",I=this.length,w=0;else if(I===void 0&&typeof w=="string")K=w,I=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(I)?(I=I>>>0,K===void 0&&(K="utf8")):(K=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const re=this.length-w;if((I===void 0||I>re)&&(I=re),x.length>0&&(I<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let ne=!1;for(;;)switch(K){case"hex":return U(this,x,w,I);case"utf8":case"utf-8":return F(this,x,w,I);case"ascii":case"latin1":case"binary":return V(this,x,w,I);case"base64":return se(this,x,w,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,x,w,I);default:if(ne)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),ne=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(T,x,w){return x===0&&w===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(x,w))}function H(T,x,w){w=Math.min(T.length,w);const I=[];let K=x;for(;K<w;){const re=T[K];let ne=null,Te=re>239?4:re>223?3:re>191?2:1;if(K+Te<=w){let Oe,Ce,Ne,Ve;switch(Te){case 1:re<128&&(ne=re);break;case 2:Oe=T[K+1],(Oe&192)===128&&(Ve=(re&31)<<6|Oe&63,Ve>127&&(ne=Ve));break;case 3:Oe=T[K+1],Ce=T[K+2],(Oe&192)===128&&(Ce&192)===128&&(Ve=(re&15)<<12|(Oe&63)<<6|Ce&63,Ve>2047&&(Ve<55296||Ve>57343)&&(ne=Ve));break;case 4:Oe=T[K+1],Ce=T[K+2],Ne=T[K+3],(Oe&192)===128&&(Ce&192)===128&&(Ne&192)===128&&(Ve=(re&15)<<18|(Oe&63)<<12|(Ce&63)<<6|Ne&63,Ve>65535&&Ve<1114112&&(ne=Ve))}}ne===null?(ne=65533,Te=1):ne>65535&&(ne-=65536,I.push(ne>>>10&1023|55296),ne=56320|ne&1023),I.push(ne),K+=Te}return Q(I)}const J=4096;function Q(T){const x=T.length;if(x<=J)return String.fromCharCode.apply(String,T);let w="",I=0;for(;I<x;)w+=String.fromCharCode.apply(String,T.slice(I,I+=J));return w}function X(T,x,w){let I="";w=Math.min(T.length,w);for(let K=x;K<w;++K)I+=String.fromCharCode(T[K]&127);return I}function G(T,x,w){let I="";w=Math.min(T.length,w);for(let K=x;K<w;++K)I+=String.fromCharCode(T[K]);return I}function te(T,x,w){const I=T.length;(!x||x<0)&&(x=0),(!w||w<0||w>I)&&(w=I);let K="";for(let re=x;re<w;++re)K+=be[T[re]];return K}function le(T,x,w){const I=T.slice(x,w);let K="";for(let re=0;re<I.length-1;re+=2)K+=String.fromCharCode(I[re]+I[re+1]*256);return K}a.prototype.slice=function(x,w){const I=this.length;x=~~x,w=w===void 0?I:~~w,x<0?(x+=I,x<0&&(x=0)):x>I&&(x=I),w<0?(w+=I,w<0&&(w=0)):w>I&&(w=I),w<x&&(w=x);const K=this.subarray(x,w);return Object.setPrototypeOf(K,a.prototype),K};function ae(T,x,w){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+x>w)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(x,w,I){x=x>>>0,w=w>>>0,I||ae(x,w,this.length);let K=this[x],re=1,ne=0;for(;++ne<w&&(re*=256);)K+=this[x+ne]*re;return K},a.prototype.readUintBE=a.prototype.readUIntBE=function(x,w,I){x=x>>>0,w=w>>>0,I||ae(x,w,this.length);let K=this[x+--w],re=1;for(;w>0&&(re*=256);)K+=this[x+--w]*re;return K},a.prototype.readUint8=a.prototype.readUInt8=function(x,w){return x=x>>>0,w||ae(x,1,this.length),this[x]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(x,w){return x=x>>>0,w||ae(x,2,this.length),this[x]|this[x+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(x,w){return x=x>>>0,w||ae(x,2,this.length),this[x]<<8|this[x+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(x,w){return x=x>>>0,w||ae(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(x,w){return x=x>>>0,w||ae(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},a.prototype.readBigUInt64LE=ve(function(x){x=x>>>0,Y(x,"offset");const w=this[x],I=this[x+7];(w===void 0||I===void 0)&&q(x,this.length-8);const K=w+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24,re=this[++x]+this[++x]*2**8+this[++x]*2**16+I*2**24;return BigInt(K)+(BigInt(re)<<BigInt(32))}),a.prototype.readBigUInt64BE=ve(function(x){x=x>>>0,Y(x,"offset");const w=this[x],I=this[x+7];(w===void 0||I===void 0)&&q(x,this.length-8);const K=w*2**24+this[++x]*2**16+this[++x]*2**8+this[++x],re=this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+I;return(BigInt(K)<<BigInt(32))+BigInt(re)}),a.prototype.readIntLE=function(x,w,I){x=x>>>0,w=w>>>0,I||ae(x,w,this.length);let K=this[x],re=1,ne=0;for(;++ne<w&&(re*=256);)K+=this[x+ne]*re;return re*=128,K>=re&&(K-=Math.pow(2,8*w)),K},a.prototype.readIntBE=function(x,w,I){x=x>>>0,w=w>>>0,I||ae(x,w,this.length);let K=w,re=1,ne=this[x+--K];for(;K>0&&(re*=256);)ne+=this[x+--K]*re;return re*=128,ne>=re&&(ne-=Math.pow(2,8*w)),ne},a.prototype.readInt8=function(x,w){return x=x>>>0,w||ae(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},a.prototype.readInt16LE=function(x,w){x=x>>>0,w||ae(x,2,this.length);const I=this[x]|this[x+1]<<8;return I&32768?I|4294901760:I},a.prototype.readInt16BE=function(x,w){x=x>>>0,w||ae(x,2,this.length);const I=this[x+1]|this[x]<<8;return I&32768?I|4294901760:I},a.prototype.readInt32LE=function(x,w){return x=x>>>0,w||ae(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},a.prototype.readInt32BE=function(x,w){return x=x>>>0,w||ae(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},a.prototype.readBigInt64LE=ve(function(x){x=x>>>0,Y(x,"offset");const w=this[x],I=this[x+7];(w===void 0||I===void 0)&&q(x,this.length-8);const K=this[x+4]+this[x+5]*2**8+this[x+6]*2**16+(I<<24);return(BigInt(K)<<BigInt(32))+BigInt(w+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24)}),a.prototype.readBigInt64BE=ve(function(x){x=x>>>0,Y(x,"offset");const w=this[x],I=this[x+7];(w===void 0||I===void 0)&&q(x,this.length-8);const K=(w<<24)+this[++x]*2**16+this[++x]*2**8+this[++x];return(BigInt(K)<<BigInt(32))+BigInt(this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+I)}),a.prototype.readFloatLE=function(x,w){return x=x>>>0,w||ae(x,4,this.length),n.read(this,x,!0,23,4)},a.prototype.readFloatBE=function(x,w){return x=x>>>0,w||ae(x,4,this.length),n.read(this,x,!1,23,4)},a.prototype.readDoubleLE=function(x,w){return x=x>>>0,w||ae(x,8,this.length),n.read(this,x,!0,52,8)},a.prototype.readDoubleBE=function(x,w){return x=x>>>0,w||ae(x,8,this.length),n.read(this,x,!1,52,8)};function ce(T,x,w,I,K,re){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>K||x<re)throw new RangeError('"value" argument is out of bounds');if(w+I>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(x,w,I,K){if(x=+x,w=w>>>0,I=I>>>0,!K){const Te=Math.pow(2,8*I)-1;ce(this,x,w,I,Te,0)}let re=1,ne=0;for(this[w]=x&255;++ne<I&&(re*=256);)this[w+ne]=x/re&255;return w+I},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(x,w,I,K){if(x=+x,w=w>>>0,I=I>>>0,!K){const Te=Math.pow(2,8*I)-1;ce(this,x,w,I,Te,0)}let re=I-1,ne=1;for(this[w+re]=x&255;--re>=0&&(ne*=256);)this[w+re]=x/ne&255;return w+I},a.prototype.writeUint8=a.prototype.writeUInt8=function(x,w,I){return x=+x,w=w>>>0,I||ce(this,x,w,1,255,0),this[w]=x&255,w+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(x,w,I){return x=+x,w=w>>>0,I||ce(this,x,w,2,65535,0),this[w]=x&255,this[w+1]=x>>>8,w+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(x,w,I){return x=+x,w=w>>>0,I||ce(this,x,w,2,65535,0),this[w]=x>>>8,this[w+1]=x&255,w+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(x,w,I){return x=+x,w=w>>>0,I||ce(this,x,w,4,4294967295,0),this[w+3]=x>>>24,this[w+2]=x>>>16,this[w+1]=x>>>8,this[w]=x&255,w+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(x,w,I){return x=+x,w=w>>>0,I||ce(this,x,w,4,4294967295,0),this[w]=x>>>24,this[w+1]=x>>>16,this[w+2]=x>>>8,this[w+3]=x&255,w+4};function oe(T,x,w,I,K){z(x,I,K,T,w,7);let re=Number(x&BigInt(4294967295));T[w++]=re,re=re>>8,T[w++]=re,re=re>>8,T[w++]=re,re=re>>8,T[w++]=re;let ne=Number(x>>BigInt(32)&BigInt(4294967295));return T[w++]=ne,ne=ne>>8,T[w++]=ne,ne=ne>>8,T[w++]=ne,ne=ne>>8,T[w++]=ne,w}function B(T,x,w,I,K){z(x,I,K,T,w,7);let re=Number(x&BigInt(4294967295));T[w+7]=re,re=re>>8,T[w+6]=re,re=re>>8,T[w+5]=re,re=re>>8,T[w+4]=re;let ne=Number(x>>BigInt(32)&BigInt(4294967295));return T[w+3]=ne,ne=ne>>8,T[w+2]=ne,ne=ne>>8,T[w+1]=ne,ne=ne>>8,T[w]=ne,w+8}a.prototype.writeBigUInt64LE=ve(function(x,w=0){return oe(this,x,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ve(function(x,w=0){return B(this,x,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(x,w,I,K){if(x=+x,w=w>>>0,!K){const Oe=Math.pow(2,8*I-1);ce(this,x,w,I,Oe-1,-Oe)}let re=0,ne=1,Te=0;for(this[w]=x&255;++re<I&&(ne*=256);)x<0&&Te===0&&this[w+re-1]!==0&&(Te=1),this[w+re]=(x/ne>>0)-Te&255;return w+I},a.prototype.writeIntBE=function(x,w,I,K){if(x=+x,w=w>>>0,!K){const Oe=Math.pow(2,8*I-1);ce(this,x,w,I,Oe-1,-Oe)}let re=I-1,ne=1,Te=0;for(this[w+re]=x&255;--re>=0&&(ne*=256);)x<0&&Te===0&&this[w+re+1]!==0&&(Te=1),this[w+re]=(x/ne>>0)-Te&255;return w+I},a.prototype.writeInt8=function(x,w,I){return x=+x,w=w>>>0,I||ce(this,x,w,1,127,-128),x<0&&(x=255+x+1),this[w]=x&255,w+1},a.prototype.writeInt16LE=function(x,w,I){return x=+x,w=w>>>0,I||ce(this,x,w,2,32767,-32768),this[w]=x&255,this[w+1]=x>>>8,w+2},a.prototype.writeInt16BE=function(x,w,I){return x=+x,w=w>>>0,I||ce(this,x,w,2,32767,-32768),this[w]=x>>>8,this[w+1]=x&255,w+2},a.prototype.writeInt32LE=function(x,w,I){return x=+x,w=w>>>0,I||ce(this,x,w,4,2147483647,-2147483648),this[w]=x&255,this[w+1]=x>>>8,this[w+2]=x>>>16,this[w+3]=x>>>24,w+4},a.prototype.writeInt32BE=function(x,w,I){return x=+x,w=w>>>0,I||ce(this,x,w,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[w]=x>>>24,this[w+1]=x>>>16,this[w+2]=x>>>8,this[w+3]=x&255,w+4},a.prototype.writeBigInt64LE=ve(function(x,w=0){return oe(this,x,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ve(function(x,w=0){return B(this,x,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ue(T,x,w,I,K,re){if(w+I>T.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function he(T,x,w,I,K){return x=+x,w=w>>>0,K||ue(T,x,w,4),n.write(T,x,w,I,23,4),w+4}a.prototype.writeFloatLE=function(x,w,I){return he(this,x,w,!0,I)},a.prototype.writeFloatBE=function(x,w,I){return he(this,x,w,!1,I)};function me(T,x,w,I,K){return x=+x,w=w>>>0,K||ue(T,x,w,8),n.write(T,x,w,I,52,8),w+8}a.prototype.writeDoubleLE=function(x,w,I){return me(this,x,w,!0,I)},a.prototype.writeDoubleBE=function(x,w,I){return me(this,x,w,!1,I)},a.prototype.copy=function(x,w,I,K){if(!a.isBuffer(x))throw new TypeError("argument should be a Buffer");if(I||(I=0),!K&&K!==0&&(K=this.length),w>=x.length&&(w=x.length),w||(w=0),K>0&&K<I&&(K=I),K===I||x.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),x.length-w<K-I&&(K=x.length-w+I);const re=K-I;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,I,K):Uint8Array.prototype.set.call(x,this.subarray(I,K),w),re},a.prototype.fill=function(x,w,I,K){if(typeof x=="string"){if(typeof w=="string"?(K=w,w=0,I=this.length):typeof I=="string"&&(K=I,I=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!a.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(x.length===1){const ne=x.charCodeAt(0);(K==="utf8"&&ne<128||K==="latin1")&&(x=ne)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(w<0||this.length<w||this.length<I)throw new RangeError("Out of range index");if(I<=w)return this;w=w>>>0,I=I===void 0?this.length:I>>>0,x||(x=0);let re;if(typeof x=="number")for(re=w;re<I;++re)this[re]=x;else{const ne=a.isBuffer(x)?x:a.from(x,K),Te=ne.length;if(Te===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(re=0;re<I-w;++re)this[re+w]=ne[re%Te]}return this};const de={};function ge(T,x,w){de[T]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(T,x){return`The "${T}" argument must be of type number. Received type ${typeof x}`},TypeError),ge("ERR_OUT_OF_RANGE",function(T,x,w){let I=`The value of "${T}" is out of range.`,K=w;return Number.isInteger(w)&&Math.abs(w)>2**32?K=j(String(w)):typeof w=="bigint"&&(K=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(K=j(K)),K+="n"),I+=` It must be ${x}. Received ${K}`,I},RangeError);function j(T){let x="",w=T.length;const I=T[0]==="-"?1:0;for(;w>=I+4;w-=3)x=`_${T.slice(w-3,w)}${x}`;return`${T.slice(0,w)}${x}`}function O(T,x,w){Y(x,"offset"),(T[x]===void 0||T[x+w]===void 0)&&q(x,T.length-(w+1))}function z(T,x,w,I,K,re){if(T>w||T<x){const ne=typeof x=="bigint"?"n":"";let Te;throw x===0||x===BigInt(0)?Te=`>= 0${ne} and < 2${ne} ** ${(re+1)*8}${ne}`:Te=`>= -(2${ne} ** ${(re+1)*8-1}${ne}) and < 2 ** ${(re+1)*8-1}${ne}`,new de.ERR_OUT_OF_RANGE("value",Te,T)}O(I,K,re)}function Y(T,x){if(typeof T!="number")throw new de.ERR_INVALID_ARG_TYPE(x,"number",T)}function q(T,x,w){throw Math.floor(T)!==T?(Y(T,w),new de.ERR_OUT_OF_RANGE("offset","an integer",T)):x<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${x}`,T)}const Z=/[^+/0-9A-Za-z-_]/g;function N(T){if(T=T.split("=")[0],T=T.trim().replace(Z,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function m(T,x){x=x||1/0;let w;const I=T.length;let K=null;const re=[];for(let ne=0;ne<I;++ne){if(w=T.charCodeAt(ne),w>55295&&w<57344){if(!K){if(w>56319){(x-=3)>-1&&re.push(239,191,189);continue}else if(ne+1===I){(x-=3)>-1&&re.push(239,191,189);continue}K=w;continue}if(w<56320){(x-=3)>-1&&re.push(239,191,189),K=w;continue}w=(K-55296<<10|w-56320)+65536}else K&&(x-=3)>-1&&re.push(239,191,189);if(K=null,w<128){if((x-=1)<0)break;re.push(w)}else if(w<2048){if((x-=2)<0)break;re.push(w>>6|192,w&63|128)}else if(w<65536){if((x-=3)<0)break;re.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((x-=4)<0)break;re.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return re}function y(T){const x=[];for(let w=0;w<T.length;++w)x.push(T.charCodeAt(w)&255);return x}function A(T,x){let w,I,K;const re=[];for(let ne=0;ne<T.length&&!((x-=2)<0);++ne)w=T.charCodeAt(ne),I=w>>8,K=w%256,re.push(K),re.push(I);return re}function R(T){return e.toByteArray(N(T))}function D(T,x,w,I){let K;for(K=0;K<I&&!(K+w>=x.length||K>=T.length);++K)x[K+w]=T[K];return K}function ee(T,x){return T instanceof x||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===x.name}function fe(T){return T!==T}const be=function(){const T="0123456789abcdef",x=new Array(256);for(let w=0;w<16;++w){const I=w*16;for(let K=0;K<16;++K)x[I+K]=T[w]+T[K]}return x}();function ve(T){return typeof BigInt>"u"?Ae:T}function Ae(){throw new Error("BigInt not supported")}})(D1);var o0;(function(t){t[t.SysFatal=1]="SysFatal",t[t.SysTransient=2]="SysTransient",t[t.DestinationInvalid=3]="DestinationInvalid",t[t.CanisterReject=4]="CanisterReject",t[t.CanisterError=5]="CanisterError"})(o0||(o0={}));const iN="modulepreload",sN=function(t,e){return new URL(t,e).href},Zm={},oN=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=sN(c,r),c in Zm)return;Zm[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!r)for(let p=o.length-1;p>=0;p--){const b=o[p];if(b.href===c&&(!u||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":iN,u||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),u)return new Promise((p,b)=>{g.addEventListener("load",p),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},qu="abcdefghijklmnopqrstuvwxyz234567",jo=Object.create(null);for(let t=0;t<qu.length;t++)jo[qu[t]]=t;jo[0]=jo.o;jo[1]=jo.i;function aN(t){let e=0,n=0,r="";function i(s){return e<0?n|=s>>-e:n=s<<e&248,e>3?(e-=8,1):(e<4&&(r+=qu[n>>3],e+=5),0)}for(let s=0;s<t.length;)s+=i(t[s]);return r+(e<0?qu[n>>3]:"")}function lN(t){let e=0,n=0;const r=new Uint8Array(t.length*4/3|0);let i=0;function s(o){let a=jo[o.toLowerCase()];if(a===void 0)throw new Error(`Invalid character: ${JSON.stringify(o)}`);a<<=3,n|=a>>>e,e+=5,e>=8&&(r[i++]=n,e-=8,e>0?n=a<<5-e&255:n=0)}for(const o of t)s(o);return r.slice(0,i)}const cN=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function uN(t){const e=new Uint8Array(t);let n=-1;for(let r=0;r<e.length;r++){const s=(e[r]^n)&255;n=cN[s]^n>>>8}return(n^-1)>>>0}function dN(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function V1(t,...e){if(!dN(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Qm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fN(t,e){V1(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ls=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Af(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function lr(t,e){return t<<32-e|t>>>e}function hN(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function H1(t){return typeof t=="string"&&(t=hN(t)),V1(t),t}class pN{clone(){return this._cloneInto()}}function Yp(t){const e=r=>t().update(H1(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function W1(t=32){if(Ls&&typeof Ls.getRandomValues=="function")return Ls.getRandomValues(new Uint8Array(t));if(Ls&&typeof Ls.randomBytes=="function")return Ls.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function gN(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function mN(t,e,n){return t&e^~t&n}function yN(t,e,n){return t&e^t&n^e&n}class q1 extends pN{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Af(this.buffer)}update(e){Qm(this);const{view:n,buffer:r,blockLen:i}=this;e=H1(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Af(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Qm(this),fN(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;gN(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Af(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const xN=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),si=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oi=new Uint32Array(64);class G1 extends q1{constructor(){super(64,32,8,!1),this.A=si[0]|0,this.B=si[1]|0,this.C=si[2]|0,this.D=si[3]|0,this.E=si[4]|0,this.F=si[5]|0,this.G=si[6]|0,this.H=si[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)oi[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=oi[f-15],g=oi[f-2],p=lr(h,7)^lr(h,18)^h>>>3,b=lr(g,17)^lr(g,19)^g>>>10;oi[f]=b+oi[f-7]+p+oi[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const h=lr(a,6)^lr(a,11)^lr(a,25),g=u+h+mN(a,l,c)+xN[f]+oi[f]|0,b=(lr(r,2)^lr(r,13)^lr(r,22))+yN(r,i,s)|0;u=c,c=l,l=a,a=o+g|0,o=s,s=i,i=r,r=g+b|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){oi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class bN extends G1{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Xp=Yp(()=>new G1),wN=Yp(()=>new bN);function vN(t){return wN.create().update(new Uint8Array(t)).digest()}const rc="__principal__",_N=2,Jm=4,EN="aaaaa-aa",SN=t=>{var e;return new Uint8Array(((e=t.match(/.{1,2}/g))!==null&&e!==void 0?e:[]).map(n=>parseInt(n,16)))},kN=t=>t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"");let Re=class Vc{constructor(e){this._arr=e,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([Jm]))}static managementCanister(){return this.fromHex(EN)}static selfAuthenticating(e){const n=vN(e);return new this(new Uint8Array([...n,_N]))}static from(e){if(typeof e=="string")return Vc.fromText(e);if(Object.getPrototypeOf(e)===Uint8Array.prototype)return new Vc(e);if(typeof e=="object"&&e!==null&&e._isPrincipal===!0)return new Vc(e._arr);throw new Error(`Impossible to convert ${JSON.stringify(e)} to Principal.`)}static fromHex(e){return new this(SN(e))}static fromText(e){let n=e;if(e.includes(rc)){const o=JSON.parse(e);rc in o&&(n=o[rc])}const r=n.toLowerCase().replace(/-/g,"");let i=lN(r);i=i.slice(4,i.length);const s=new this(i);if(s.toText()!==n)throw new Error(`Principal "${s.toText()}" does not have a valid checksum (original value "${n}" may not be a valid Principal ID).`);return s}static fromUint8Array(e){return new this(e)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===Jm}toUint8Array(){return this._arr}toHex(){return kN(this._arr).toUpperCase()}toText(){const e=new ArrayBuffer(4);new DataView(e).setUint32(0,uN(this._arr));const r=new Uint8Array(e),i=Uint8Array.from(this._arr),s=new Uint8Array([...r,...i]),a=aN(s).match(/.{1,5}/g);if(!a)throw new Error;return a.join("-")}toString(){return this.toText()}toJSON(){return{[rc]:this.toText()}}compareTo(e){for(let n=0;n<Math.min(this._arr.length,e._arr.length);n++){if(this._arr[n]<e._arr[n])return"lt";if(this._arr[n]>e._arr[n])return"gt"}return this._arr.length<e._arr.length?"lt":this._arr.length>e._arr.length?"gt":"eq"}ltEq(e){const n=this.compareTo(e);return n=="lt"||n=="eq"}gtEq(e){const n=this.compareTo(e);return n=="gt"||n=="eq"}};function tr(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.byteLength,0));let n=0;for(const r of t)e.set(new Uint8Array(r),n),n+=r.byteLength;return e.buffer}function Ut(t){return[...new Uint8Array(t)].map(e=>e.toString(16).padStart(2,"0")).join("")}const NN=new RegExp(/^[0-9a-fA-F]+$/);function Kr(t){if(!NN.test(t))throw new Error("Invalid hexadecimal string.");const e=[...t].reduce((n,r,i)=>(n[i/2|0]=(n[i/2|0]||"")+r,n),[]).map(n=>Number.parseInt(n,16));return new Uint8Array(e).buffer}function K1(t,e){if(t.byteLength!==e.byteLength)return t.byteLength-e.byteLength;const n=new Uint8Array(t),r=new Uint8Array(e);for(let i=0;i<n.length;i++)if(n[i]!==r[i])return n[i]-r[i];return 0}function Pd(t,e){return K1(t,e)===0}function Oa(t){return new DataView(t.buffer,t.byteOffset,t.byteLength).buffer}function Zp(t){return t instanceof Uint8Array?Oa(t):t instanceof ArrayBuffer?t:Array.isArray(t)?Oa(new Uint8Array(t)):"buffer"in t?Zp(t.buffer):Oa(new Uint8Array(t))}class kt extends Error{constructor(e){super(e),this.message=e,this.name="AgentError",this.__proto__=kt.prototype,Object.setPrototypeOf(this,kt.prototype)}}function qe(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.byteLength,0));let n=0;for(const r of t)e.set(new Uint8Array(r),n),n+=r.byteLength;return e}class $o{constructor(e,n=(e==null?void 0:e.byteLength)||0){this._buffer=Gu(e||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,n)}get buffer(){return Gu(this._view.slice())}get byteLength(){return this._view.byteLength}read(e){const n=this._view.subarray(0,e);return this._view=this._view.subarray(e),n.slice().buffer}readUint8(){const e=this._view[0];return this._view=this._view.subarray(1),e}write(e){const n=new Uint8Array(e),r=this._view.byteLength;this._view.byteOffset+this._view.byteLength+n.byteLength>=this._buffer.byteLength?this.alloc(n.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+n.byteLength),this._view.set(n,r)}get end(){return this._view.byteLength===0}alloc(e){const n=new ArrayBuffer((this._buffer.byteLength+e)*1.2|0),r=new Uint8Array(n,0,this._view.byteLength+e);r.set(this._view),this._buffer=n,this._view=r}}function Cf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength).buffer}function Gu(t){return t instanceof Uint8Array?Cf(t):t instanceof ArrayBuffer?t:Array.isArray(t)?Cf(new Uint8Array(t)):"buffer"in t?Gu(t.buffer):Cf(new Uint8Array(t))}function TN(t){const n=new TextEncoder().encode(t);let r=0;for(const i of n)r=(r*223+i)%2**32;return r}function vr(t){if(/^_\d+_$/.test(t)||/^_0x[0-9a-fA-F]+_$/.test(t)){const e=+t.slice(1,-1);if(Number.isSafeInteger(e)&&e>=0&&e<2**32)return e}return TN(t)}function Y1(){throw new Error("unexpected end of buffer")}function As(t,e){return t.byteLength<e&&Y1(),t.read(e)}function Cs(t){const e=t.readUint8();return e===void 0&&Y1(),e}function ht(t){if(typeof t=="number"&&(t=BigInt(t)),t<BigInt(0))throw new Error("Cannot leb encode negative values.");const e=(t===BigInt(0)?0:Math.ceil(Math.log2(Number(t))))+1,n=new $o(new ArrayBuffer(e),0);for(;;){const r=Number(t&BigInt(127));if(t/=BigInt(128),t===BigInt(0)){n.write(new Uint8Array([r]));break}else n.write(new Uint8Array([r|128]))}return n.buffer}function Bt(t){let e=BigInt(1),n=BigInt(0),r;do r=Cs(t),n+=BigInt(r&127).valueOf()*e,e*=BigInt(128);while(r>=128);return n}function Tt(t){typeof t=="number"&&(t=BigInt(t));const e=t<BigInt(0);e&&(t=-t-BigInt(1));const n=(t===BigInt(0)?0:Math.ceil(Math.log2(Number(t))))+1,r=new $o(new ArrayBuffer(n),0);for(;;){const s=i(t);if(t/=BigInt(128),e&&t===BigInt(0)&&s&64||!e&&t===BigInt(0)&&!(s&64)){r.write(new Uint8Array([s]));break}else r.write(new Uint8Array([s|128]))}function i(s){const o=s%BigInt(128);return Number(e?BigInt(128)-o-BigInt(1):o)}return r.buffer}function di(t){const e=new Uint8Array(t.buffer);let n=0;for(;n<e.byteLength;n++)if(e[n]<128){if(!(e[n]&64))return Bt(t);break}const r=new Uint8Array(As(t,n+1));let i=BigInt(0);for(let s=r.byteLength-1;s>=0;s--)i=i*BigInt(128)+BigInt(128-(r[s]&127)-1);return-i-BigInt(1)}function AN(t,e){if(BigInt(t)<BigInt(0))throw new Error("Cannot write negative values.");return X1(t,e)}function X1(t,e){t=BigInt(t);const n=new $o(new ArrayBuffer(Math.min(1,e)),0);let r=0,i=BigInt(256),s=BigInt(0),o=Number(t%i);for(n.write(new Uint8Array([o]));++r<e;)t<0&&s===BigInt(0)&&o!==0&&(s=BigInt(1)),o=Number((t/i-s)%BigInt(256)),n.write(new Uint8Array([o])),i*=BigInt(256);return n.buffer}function Z1(t,e){let n=BigInt(Cs(t)),r=BigInt(1),i=0;for(;++i<e;){r*=BigInt(256);const s=BigInt(Cs(t));n=n+r*s}return n}function CN(t,e){let n=Z1(t,e);const r=BigInt(2)**(BigInt(8)*BigInt(e-1)+BigInt(7));return n>=r&&(n-=r*BigInt(2)),n}function a0(t){const e=BigInt(t);if(t<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<e}const Hc="DIDL",ey=400;function ll(t,e,n){return t.map((r,i)=>n(r,e[i]))}class BN{constructor(){this._typs=[],this._idx=new Map}has(e){return this._idx.has(e.name)}add(e,n){const r=this._typs.length;this._idx.set(e.name,r),this._typs.push(n)}merge(e,n){const r=this._idx.get(e.name),i=this._idx.get(n);if(r===void 0)throw new Error("Missing type index for "+e);if(i===void 0)throw new Error("Missing type index for "+n);this._typs[r]=this._typs[i],this._typs.splice(i,1),this._idx.delete(n)}encode(){const e=ht(this._typs.length),n=qe(...this._typs);return qe(e,n)}indexOf(e){if(!this._idx.has(e))throw new Error("Missing type index for "+e);return Tt(this._idx.get(e)||0)}}class jN{visitType(e,n){throw new Error("Not implemented")}visitPrimitive(e,n){return this.visitType(e,n)}visitEmpty(e,n){return this.visitPrimitive(e,n)}visitBool(e,n){return this.visitPrimitive(e,n)}visitNull(e,n){return this.visitPrimitive(e,n)}visitReserved(e,n){return this.visitPrimitive(e,n)}visitText(e,n){return this.visitPrimitive(e,n)}visitNumber(e,n){return this.visitPrimitive(e,n)}visitInt(e,n){return this.visitNumber(e,n)}visitNat(e,n){return this.visitNumber(e,n)}visitFloat(e,n){return this.visitPrimitive(e,n)}visitFixedInt(e,n){return this.visitNumber(e,n)}visitFixedNat(e,n){return this.visitNumber(e,n)}visitPrincipal(e,n){return this.visitPrimitive(e,n)}visitConstruct(e,n){return this.visitType(e,n)}visitVec(e,n,r){return this.visitConstruct(e,r)}visitOpt(e,n,r){return this.visitConstruct(e,r)}visitRecord(e,n,r){return this.visitConstruct(e,r)}visitTuple(e,n,r){const i=n.map((s,o)=>[`_${o}_`,s]);return this.visitRecord(e,i,r)}visitVariant(e,n,r){return this.visitConstruct(e,r)}visitRec(e,n,r){return this.visitConstruct(n,r)}visitFunc(e,n){return this.visitConstruct(e,n)}visitService(e,n){return this.visitConstruct(e,n)}}class Od{display(){return this.name}valueToString(e){return xt(e)}buildTypeTable(e){e.has(this)||this._buildTypeTableImpl(e)}}class Dn extends Od{checkType(e){if(this.name!==e.name)throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`);return e}_buildTypeTableImpl(e){}}class Qi extends Od{checkType(e){if(e instanceof Ji){const n=e.getType();if(typeof n>"u")throw new Error("type mismatch with uninitialized type");return n}throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`)}encodeType(e){return e.indexOf(this.name)}}class Q1 extends Dn{accept(e,n){return e.visitEmpty(this,n)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return Tt(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class J1 extends Od{checkType(e){throw new Error("Method not implemented for unknown.")}accept(e,n){throw e.visitType(this,n)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(e,n){let r=n.decodeValue(e,n);Object(r)!==r&&(r=Object(r));let i;return n instanceof Ji?i=()=>n.getType():i=()=>n,Object.defineProperty(r,"type",{value:i,writable:!0,enumerable:!1,configurable:!0}),r}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class ev extends Dn{accept(e,n){return e.visitBool(this,n)}covariant(e){if(typeof e=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return new Uint8Array([e?1:0])}encodeType(){return Tt(-2)}decodeValue(e,n){switch(this.checkType(n),Cs(e)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class tv extends Dn{accept(e,n){return e.visitNull(this,n)}covariant(e){if(e===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Tt(-1)}decodeValue(e,n){return this.checkType(n),null}get name(){return"null"}}class Ku extends Dn{accept(e,n){return e.visitReserved(this,n)}covariant(e){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Tt(-16)}decodeValue(e,n){return n.name!==this.name&&n.decodeValue(e,n),null}get name(){return"reserved"}}class nv extends Dn{accept(e,n){return e.visitText(this,n)}covariant(e){if(typeof e=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=new TextEncoder().encode(e),r=ht(n.byteLength);return qe(r,n)}encodeType(){return Tt(-15)}decodeValue(e,n){this.checkType(n);const r=Bt(e),i=As(e,Number(r));return new TextDecoder("utf8",{fatal:!0}).decode(i)}get name(){return"text"}valueToString(e){return'"'+e+'"'}}class rv extends Dn{accept(e,n){return e.visitInt(this,n)}covariant(e){if(typeof e=="bigint"||Number.isInteger(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return Tt(e)}encodeType(){return Tt(-4)}decodeValue(e,n){return this.checkType(n),di(e)}get name(){return"int"}valueToString(e){return e.toString()}}class iv extends Dn{accept(e,n){return e.visitNat(this,n)}covariant(e){if(typeof e=="bigint"&&e>=BigInt(0)||Number.isInteger(e)&&e>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return ht(e)}encodeType(){return Tt(-3)}decodeValue(e,n){return this.checkType(n),Bt(e)}get name(){return"nat"}valueToString(e){return e.toString()}}class Qp extends Dn{constructor(e){if(super(),this._bits=e,e!==32&&e!==64)throw new Error("not a valid float type")}accept(e,n){return e.visitFloat(this,n)}covariant(e){if(typeof e=="number"||e instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=new ArrayBuffer(this._bits/8),r=new DataView(n);return this._bits===32?r.setFloat32(0,e,!0):r.setFloat64(0,e,!0),n}encodeType(){const e=this._bits===32?-13:-14;return Tt(e)}decodeValue(e,n){this.checkType(n);const r=As(e,this._bits/8),i=new DataView(r);return this._bits===32?i.getFloat32(0,!0):i.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(e){return e.toString()}}class Bs extends Dn{constructor(e){super(),this._bits=e}accept(e,n){return e.visitFixedInt(this,n)}covariant(e){const n=a0(this._bits-1)*BigInt(-1),r=a0(this._bits-1)-BigInt(1);let i=!1;if(typeof e=="bigint")i=e>=n&&e<=r;else if(Number.isInteger(e)){const s=BigInt(e);i=s>=n&&s<=r}else i=!1;if(i)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return X1(e,this._bits/8)}encodeType(){const e=Math.log2(this._bits)-3;return Tt(-9-e)}decodeValue(e,n){this.checkType(n);const r=CN(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`int${this._bits}`}valueToString(e){return e.toString()}}class Li extends Dn{constructor(e){super(),this._bits=e}accept(e,n){return e.visitFixedNat(this,n)}covariant(e){const n=a0(this._bits);let r=!1;if(typeof e=="bigint"&&e>=BigInt(0)?r=e<n:Number.isInteger(e)&&e>=0?r=BigInt(e)<n:r=!1,r)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return AN(e,this._bits/8)}encodeType(){const e=Math.log2(this._bits)-3;return Tt(-5-e)}decodeValue(e,n){this.checkType(n);const r=Z1(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(e){return e.toString()}}class Md extends Qi{constructor(e){super(),this._type=e,this._blobOptimization=!1,e instanceof Li&&e._bits===8&&(this._blobOptimization=!0)}accept(e,n){return e.visitVec(this,this._type,n)}covariant(e){const n=this._type instanceof Li?this._type._bits:this._type instanceof Bs?this._type._bits:0;if(ArrayBuffer.isView(e)&&n==e.BYTES_PER_ELEMENT*8||Array.isArray(e)&&e.every((r,i)=>{try{return this._type.covariant(r)}catch(s){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${s.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=ht(e.length);if(this._blobOptimization)return qe(n,new Uint8Array(e));if(ArrayBuffer.isView(e))return qe(n,new Uint8Array(e.buffer));const r=new $o(new ArrayBuffer(n.byteLength+e.length),0);r.write(n);for(const i of e){const s=this._type.encodeValue(i);r.write(new Uint8Array(s))}return r.buffer}_buildTypeTableImpl(e){this._type.buildTypeTable(e);const n=Tt(-19),r=this._type.encodeType(e);e.add(this,qe(n,r))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Md))throw new Error("Not a vector type");const i=Number(Bt(e));if(this._type instanceof Li){if(this._type._bits==8)return new Uint8Array(e.read(i));if(this._type._bits==16)return new Uint16Array(e.read(i*2));if(this._type._bits==32)return new Uint32Array(e.read(i*4));if(this._type._bits==64)return new BigUint64Array(e.read(i*8))}if(this._type instanceof Bs){if(this._type._bits==8)return new Int8Array(e.read(i));if(this._type._bits==16)return new Int16Array(e.read(i*2));if(this._type._bits==32)return new Int32Array(e.read(i*4));if(this._type._bits==64)return new BigInt64Array(e.read(i*8))}const s=[];for(let o=0;o<i;o++)s.push(this._type.decodeValue(e,r._type));return s}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(e){return"vec {"+e.map(r=>this._type.valueToString(r)).join("; ")+"}"}}class Ro extends Qi{constructor(e){super(),this._type=e}accept(e,n){return e.visitOpt(this,this._type,n)}covariant(e){try{if(Array.isArray(e)&&(e.length===0||e.length===1&&this._type.covariant(e[0])))return!0}catch(n){throw new Error(`Invalid ${this.display()} argument: ${xt(e)} 

-> ${n.message}`)}throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return e.length===0?new Uint8Array([0]):qe(new Uint8Array([1]),this._type.encodeValue(e[0]))}_buildTypeTableImpl(e){this._type.buildTypeTable(e);const n=Tt(-18),r=this._type.encodeType(e);e.add(this,qe(n,r))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Ro))throw new Error("Not an option type");switch(Cs(e)){case 0:return[];case 1:return[this._type.decodeValue(e,r._type)];default:throw new Error("Not an option value")}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(e){return e.length===0?"null":`opt ${this._type.valueToString(e[0])}`}}class Bl extends Qi{constructor(e={}){super(),this._fields=Object.entries(e).sort((n,r)=>vr(n[0])-vr(r[0]))}accept(e,n){return e.visitRecord(this,this._fields,n)}tryAsTuple(){const e=[];for(let n=0;n<this._fields.length;n++){const[r,i]=this._fields[n];if(r!==`_${n}_`)return null;e.push(i)}return e}covariant(e){if(typeof e=="object"&&this._fields.every(([n,r])=>{if(!e.hasOwnProperty(n))throw new Error(`Record is missing key "${n}".`);try{return r.covariant(e[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

field ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=this._fields.map(([i])=>e[i]),r=ll(this._fields,n,([,i],s)=>i.encodeValue(s));return qe(...r)}_buildTypeTableImpl(e){this._fields.forEach(([s,o])=>o.buildTypeTable(e));const n=Tt(-20),r=ht(this._fields.length),i=this._fields.map(([s,o])=>qe(ht(vr(s)),o.encodeType(e)));e.add(this,qe(n,r,qe(...i)))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Bl))throw new Error("Not a record type");const i={};let s=0,o=0;for(;o<r._fields.length;){const[a,l]=r._fields[o];if(s>=this._fields.length){l.decodeValue(e,l),o++;continue}const[c,u]=this._fields[s],f=vr(this._fields[s][0]),h=vr(a);if(f===h)i[c]=u.decodeValue(e,l),s++,o++;else if(h>f)if(u instanceof Ro||u instanceof Ku)i[c]=[],s++;else throw new Error("Cannot find required field "+c);else l.decodeValue(e,l),o++}for(const[a,l]of this._fields.slice(s))if(l instanceof Ro||l instanceof Ku)i[a]=[];else throw new Error("Cannot find required field "+a);return i}get name(){return`record {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`record {${this._fields.map(([n,r])=>n+":"+r.display()).join("; ")}}`}valueToString(e){const n=this._fields.map(([i])=>e[i]);return`record {${ll(this._fields,n,([i,s],o)=>i+"="+s.valueToString(o)).join("; ")}}`}}class Id extends Bl{constructor(e){const n={};e.forEach((r,i)=>n["_"+i+"_"]=r),super(n),this._components=e}accept(e,n){return e.visitTuple(this,this._components,n)}covariant(e){if(Array.isArray(e)&&e.length>=this._fields.length&&this._components.every((n,r)=>{try{return n.covariant(e[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=ll(this._components,e,(r,i)=>r.encodeValue(i));return qe(...n)}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Id))throw new Error("not a tuple type");if(r._components.length<this._components.length)throw new Error("tuple mismatch");const i=[];for(const[s,o]of r._components.entries())s>=this._components.length?o.decodeValue(e,o):i.push(this._components[s].decodeValue(e,o));return i}display(){return`record {${this._components.map(n=>n.display()).join("; ")}}`}valueToString(e){return`record {${ll(this._components,e,(r,i)=>r.valueToString(i)).join("; ")}}`}}class Fd extends Qi{constructor(e={}){super(),this._fields=Object.entries(e).sort((n,r)=>vr(n[0])-vr(r[0]))}accept(e,n){return e.visitVariant(this,this._fields,n)}covariant(e){if(typeof e=="object"&&Object.entries(e).length===1&&this._fields.every(([n,r])=>{try{return!e.hasOwnProperty(n)||r.covariant(e[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

variant ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){for(let n=0;n<this._fields.length;n++){const[r,i]=this._fields[n];if(e.hasOwnProperty(r)){const s=ht(n),o=i.encodeValue(e[r]);return qe(s,o)}}throw Error("Variant has no data: "+e)}_buildTypeTableImpl(e){this._fields.forEach(([,s])=>{s.buildTypeTable(e)});const n=Tt(-21),r=ht(this._fields.length),i=this._fields.map(([s,o])=>qe(ht(vr(s)),o.encodeType(e)));e.add(this,qe(n,r,...i))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Fd))throw new Error("Not a variant type");const i=Number(Bt(e));if(i>=r._fields.length)throw Error("Invalid variant index: "+i);const[s,o]=r._fields[i];for(const[a,l]of this._fields)if(vr(s)===vr(a)){const c=l.decodeValue(e,o);return{[a]:c}}throw new Error("Cannot find field hash "+s)}get name(){return`variant {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`variant {${this._fields.map(([n,r])=>n+(r.name==="null"?"":`:${r.display()}`)).join("; ")}}`}valueToString(e){for(const[n,r]of this._fields)if(e.hasOwnProperty(n)){const i=r.valueToString(e[n]);return i==="null"?`variant {${n}}`:`variant {${n}=${i}}`}throw new Error("Variant has no data: "+e)}}class Ji extends Qi{constructor(){super(...arguments),this._id=Ji._counter++,this._type=void 0}accept(e,n){if(!this._type)throw Error("Recursive type uninitialized.");return e.visitRec(this,this._type,n)}fill(e){this._type=e}getType(){return this._type}covariant(e){if(this._type&&this._type.covariant(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(e)}_buildTypeTableImpl(e){if(!this._type)throw Error("Recursive type uninitialized.");e.add(this,new Uint8Array([])),this._type.buildTypeTable(e),e.merge(this,this._type.name)}decodeValue(e,n){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(e,n)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(e)}}Ji._counter=0;function Jp(t){if(Cs(t)!==1)throw new Error("Cannot decode principal");const n=Number(Bt(t));return Re.fromUint8Array(new Uint8Array(As(t,n)))}class sv extends Dn{accept(e,n){return e.visitPrincipal(this,n)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=e.toUint8Array(),r=ht(n.byteLength);return qe(new Uint8Array([1]),r,n)}encodeType(){return Tt(-24)}decodeValue(e,n){return this.checkType(n),Jp(e)}get name(){return"principal"}valueToString(e){return`${this.name} "${e.toText()}"`}}class eg extends Qi{constructor(e,n,r=[]){super(),this.argTypes=e,this.retTypes=n,this.annotations=r}static argsToString(e,n){if(e.length!==n.length)throw new Error("arity mismatch");return"("+e.map((r,i)=>r.valueToString(n[i])).join(", ")+")"}accept(e,n){return e.visitFunc(this,n)}covariant(e){if(Array.isArray(e)&&e.length===2&&e[0]&&e[0]._isPrincipal&&typeof e[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue([e,n]){const r=e.toUint8Array(),i=ht(r.byteLength),s=qe(new Uint8Array([1]),i,r),o=new TextEncoder().encode(n),a=ht(o.byteLength);return qe(new Uint8Array([1]),s,a,o)}_buildTypeTableImpl(e){this.argTypes.forEach(c=>c.buildTypeTable(e)),this.retTypes.forEach(c=>c.buildTypeTable(e));const n=Tt(-22),r=ht(this.argTypes.length),i=qe(...this.argTypes.map(c=>c.encodeType(e))),s=ht(this.retTypes.length),o=qe(...this.retTypes.map(c=>c.encodeType(e))),a=ht(this.annotations.length),l=qe(...this.annotations.map(c=>this.encodeAnnotation(c)));e.add(this,qe(n,r,i,s,o,a,l))}decodeValue(e){if(Cs(e)!==1)throw new Error("Cannot decode function reference");const r=Jp(e),i=Number(Bt(e)),s=As(e,i),a=new TextDecoder("utf8",{fatal:!0}).decode(s);return[r,a]}get name(){const e=this.argTypes.map(i=>i.name).join(", "),n=this.retTypes.map(i=>i.name).join(", "),r=" "+this.annotations.join(" ");return`(${e}) -> (${n})${r}`}valueToString([e,n]){return`func "${e.toText()}".${n}`}display(){const e=this.argTypes.map(i=>i.display()).join(", "),n=this.retTypes.map(i=>i.display()).join(", "),r=" "+this.annotations.join(" ");return`(${e}) → (${n})${r}`}encodeAnnotation(e){if(e==="query")return new Uint8Array([1]);if(e==="oneway")return new Uint8Array([2]);if(e==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class ov extends Qi{constructor(e){super(),this._fields=Object.entries(e).sort((n,r)=>n[0]<r[0]?-1:n[0]>r[0]?1:0)}accept(e,n){return e.visitService(this,n)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=e.toUint8Array(),r=ht(n.length);return qe(new Uint8Array([1]),r,n)}_buildTypeTableImpl(e){this._fields.forEach(([s,o])=>o.buildTypeTable(e));const n=Tt(-23),r=ht(this._fields.length),i=this._fields.map(([s,o])=>{const a=new TextEncoder().encode(s),l=ht(a.length);return qe(l,a,o.encodeType(e))});e.add(this,qe(n,r,...i))}decodeValue(e){return Jp(e)}get name(){return`service {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}valueToString(e){return`service "${e.toText()}"`}}function xt(t){const e=JSON.stringify(t,(n,r)=>typeof r=="bigint"?`BigInt(${r})`:r);return e&&e.length>ey?e.substring(0,ey-3)+"...":e}function l0(t,e){if(e.length<t.length)throw Error("Wrong number of message arguments");const n=new BN;t.forEach(l=>l.buildTypeTable(n));const r=new TextEncoder().encode(Hc),i=n.encode(),s=ht(e.length),o=qe(...t.map(l=>l.encodeType(n))),a=qe(...ll(t,e,(l,c)=>{try{l.covariant(c)}catch(u){throw new Error(u.message+`

`)}return l.encodeValue(c)}));return qe(r,i,s,o,a)}function av(t,e){const n=new $o(e);if(e.byteLength<Hc.length)throw new Error("Message length smaller than magic number");const r=As(n,Hc.length),i=new TextDecoder().decode(r);if(i!==Hc)throw new Error("Wrong magic number: "+JSON.stringify(i));function s(g){const p=[],b=Number(Bt(g));for(let _=0;_<b;_++){const k=Number(di(g));switch(k){case-18:case-19:{const P=Number(di(g));p.push([k,P]);break}case-20:case-21:{const P=[];let S=Number(Bt(g)),M;for(;S--;){const C=Number(Bt(g));if(C>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof M=="number"&&M>=C)throw new Error("field id collision or not sorted");M=C;const U=Number(di(g));P.push([C,U])}p.push([k,P]);break}case-22:{const P=[];let S=Number(Bt(g));for(;S--;)P.push(Number(di(g)));const M=[];let C=Number(Bt(g));for(;C--;)M.push(Number(di(g)));const U=[];let F=Number(Bt(g));for(;F--;)switch(Number(Bt(g))){case 1:{U.push("query");break}case 2:{U.push("oneway");break}case 3:{U.push("composite_query");break}default:throw new Error("unknown annotation")}p.push([k,[P,M,U]]);break}case-23:{let P=Number(Bt(g));const S=[];for(;P--;){const M=Number(Bt(g)),C=new TextDecoder().decode(As(g,M)),U=di(g);S.push([C,U])}p.push([k,S]);break}default:throw new Error("Illegal op_code: "+k)}}const E=[],v=Number(Bt(g));for(let _=0;_<v;_++)E.push(Number(di(g)));return[p,E]}const[o,a]=s(n);if(a.length<t.length)throw new Error("Wrong number of return values");const l=o.map(g=>jv());function c(g){if(g<-24)throw new Error("future value not supported");if(g<0)switch(g){case-1:return dv;case-2:return uv;case-3:return pv;case-4:return hv;case-5:return vv;case-6:return _v;case-7:return Ev;case-8:return Sv;case-9:return yv;case-10:return xv;case-11:return bv;case-12:return wv;case-13:return gv;case-14:return mv;case-15:return fv;case-16:return cv;case-17:return lv;case-24:return kv;default:throw new Error("Illegal op_code: "+g)}if(g>=o.length)throw new Error("type index out of range");return l[g]}function u(g){switch(g[0]){case-19:{const p=c(g[1]);return Tv(p)}case-18:{const p=c(g[1]);return Av(p)}case-20:{const p={};for(const[v,_]of g[1]){const k=`_${v}_`;p[k]=c(_)}const b=Cv(p),E=b.tryAsTuple();return Array.isArray(E)?Nv(...E):b}case-21:{const p={};for(const[b,E]of g[1]){const v=`_${b}_`;p[v]=c(E)}return Bv(p)}case-22:{const[p,b,E]=g[1];return Rv(p.map(v=>c(v)),b.map(v=>c(v)),E)}case-23:{const p={},b=g[1];for(const[E,v]of b){let _=c(v);if(_ instanceof Ji&&(_=_.getType()),!(_ instanceof eg))throw new Error("Illegal service definition: services can only contain functions");p[E]=_}return Pv(p)}default:throw new Error("Illegal op_code: "+g[0])}}o.forEach((g,p)=>{if(g[0]===-22){const b=u(g);l[p].fill(b)}}),o.forEach((g,p)=>{if(g[0]!==-22){const b=u(g);l[p].fill(b)}});const f=a.map(g=>c(g)),h=t.map((g,p)=>g.decodeValue(n,f[p]));for(let g=t.length;g<f.length;g++)f[g].decodeValue(n,f[g]);if(n.byteLength>0)throw new Error("decode: Left-over bytes");return h}const lv=new Q1,cv=new Ku,RN=new J1,uv=new ev,dv=new tv,fv=new nv,hv=new rv,pv=new iv,gv=new Qp(32),mv=new Qp(64),yv=new Bs(8),xv=new Bs(16),bv=new Bs(32),wv=new Bs(64),vv=new Li(8),_v=new Li(16),Ev=new Li(32),Sv=new Li(64),kv=new sv;function Nv(...t){return new Id(t)}function Tv(t){return new Md(t)}function Av(t){return new Ro(t)}function Cv(t){return new Bl(t)}function Bv(t){return new Fd(t)}function jv(){return new Ji}function Rv(t,e,n=[]){return new eg(t,e,n)}function Pv(t){return new ov(t)}const PN=Object.freeze(Object.defineProperty({__proto__:null,Bool:uv,BoolClass:ev,ConstructType:Qi,Empty:lv,EmptyClass:Q1,FixedIntClass:Bs,FixedNatClass:Li,Float32:gv,Float64:mv,FloatClass:Qp,Func:Rv,FuncClass:eg,Int:hv,Int16:xv,Int32:bv,Int64:wv,Int8:yv,IntClass:rv,Nat:pv,Nat16:_v,Nat32:Ev,Nat64:Sv,Nat8:vv,NatClass:iv,Null:dv,NullClass:tv,Opt:Av,OptClass:Ro,PrimitiveType:Dn,Principal:kv,PrincipalClass:sv,Rec:jv,RecClass:Ji,Record:Cv,RecordClass:Bl,Reserved:cv,ReservedClass:Ku,Service:Pv,ServiceClass:ov,Text:fv,TextClass:nv,Tuple:Nv,TupleClass:Id,Type:Od,Unknown:RN,UnknownClass:J1,Variant:Bv,VariantClass:Fd,Vec:Tv,VecClass:Md,Visitor:jN,decode:av,encode:l0},Symbol.toStringTag,{value:"Module"}));var Ov={},jl={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=Al,n=Cl,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var N=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(N,m),N.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(N){if(N>i)throw new RangeError('The value "'+N+'" is invalid for option "size"');var m=new Uint8Array(N);return Object.setPrototypeOf(m,a.prototype),m}function a(N,m,y){if(typeof N=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(N)}return l(N,m,y)}a.poolSize=8192;function l(N,m,y){if(typeof N=="string")return h(N,m);if(ArrayBuffer.isView(N))return p(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Y(N,ArrayBuffer)||N&&Y(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Y(N,SharedArrayBuffer)||N&&Y(N.buffer,SharedArrayBuffer)))return b(N,m,y);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var A=N.valueOf&&N.valueOf();if(A!=null&&A!==N)return a.from(A,m,y);var R=E(N);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return a.from(N[Symbol.toPrimitive]("string"),m,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}a.from=function(N,m,y){return l(N,m,y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function u(N,m,y){return c(N),N<=0?o(N):m!==void 0?typeof y=="string"?o(N).fill(m,y):o(N).fill(m):o(N)}a.alloc=function(N,m,y){return u(N,m,y)};function f(N){return c(N),o(N<0?0:v(N)|0)}a.allocUnsafe=function(N){return f(N)},a.allocUnsafeSlow=function(N){return f(N)};function h(N,m){if((typeof m!="string"||m==="")&&(m="utf8"),!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);var y=k(N,m)|0,A=o(y),R=A.write(N,m);return R!==y&&(A=A.slice(0,R)),A}function g(N){for(var m=N.length<0?0:v(N.length)|0,y=o(m),A=0;A<m;A+=1)y[A]=N[A]&255;return y}function p(N){if(Y(N,Uint8Array)){var m=new Uint8Array(N);return b(m.buffer,m.byteOffset,m.byteLength)}return g(N)}function b(N,m,y){if(m<0||N.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<m+(y||0))throw new RangeError('"length" is outside of buffer bounds');var A;return m===void 0&&y===void 0?A=new Uint8Array(N):y===void 0?A=new Uint8Array(N,m):A=new Uint8Array(N,m,y),Object.setPrototypeOf(A,a.prototype),A}function E(N){if(a.isBuffer(N)){var m=v(N.length)|0,y=o(m);return y.length===0||N.copy(y,0,0,m),y}if(N.length!==void 0)return typeof N.length!="number"||q(N.length)?o(0):g(N);if(N.type==="Buffer"&&Array.isArray(N.data))return g(N.data)}function v(N){if(N>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return N|0}function _(N){return+N!=N&&(N=0),a.alloc(+N)}a.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==a.prototype},a.compare=function(m,y){if(Y(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),Y(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),!a.isBuffer(m)||!a.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===y)return 0;for(var A=m.length,R=y.length,D=0,ee=Math.min(A,R);D<ee;++D)if(m[D]!==y[D]){A=m[D],R=y[D];break}return A<R?-1:R<A?1:0},a.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(m,y){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return a.alloc(0);var A;if(y===void 0)for(y=0,A=0;A<m.length;++A)y+=m[A].length;var R=a.allocUnsafe(y),D=0;for(A=0;A<m.length;++A){var ee=m[A];if(Y(ee,Uint8Array))D+ee.length>R.length?a.from(ee).copy(R,D):Uint8Array.prototype.set.call(R,ee,D);else if(a.isBuffer(ee))ee.copy(R,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=ee.length}return R};function k(N,m){if(a.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||Y(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var y=N.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&y===0)return 0;for(var R=!1;;)switch(m){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return de(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return O(N).length;default:if(R)return A?-1:de(N).length;m=(""+m).toLowerCase(),R=!0}}a.byteLength=k;function P(N,m,y){var A=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,m>>>=0,y<=m))return"";for(N||(N="utf8");;)switch(N){case"hex":return te(this,m,y);case"utf8":case"utf-8":return H(this,m,y);case"ascii":return X(this,m,y);case"latin1":case"binary":return G(this,m,y);case"base64":return L(this,m,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,m,y);default:if(A)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),A=!0}}a.prototype._isBuffer=!0;function S(N,m,y){var A=N[m];N[m]=N[y],N[y]=A}a.prototype.swap16=function(){var m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var y=0;y<m;y+=2)S(this,y,y+1);return this},a.prototype.swap32=function(){var m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<m;y+=4)S(this,y,y+3),S(this,y+1,y+2);return this},a.prototype.swap64=function(){var m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<m;y+=8)S(this,y,y+7),S(this,y+1,y+6),S(this,y+2,y+5),S(this,y+3,y+4);return this},a.prototype.toString=function(){var m=this.length;return m===0?"":arguments.length===0?H(this,0,m):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(m){if(!a.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:a.compare(this,m)===0},a.prototype.inspect=function(){var m="",y=t.INSPECT_MAX_BYTES;return m=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(m+=" ... "),"<Buffer "+m+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(m,y,A,R,D){if(Y(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(y===void 0&&(y=0),A===void 0&&(A=m?m.length:0),R===void 0&&(R=0),D===void 0&&(D=this.length),y<0||A>m.length||R<0||D>this.length)throw new RangeError("out of range index");if(R>=D&&y>=A)return 0;if(R>=D)return-1;if(y>=A)return 1;if(y>>>=0,A>>>=0,R>>>=0,D>>>=0,this===m)return 0;for(var ee=D-R,fe=A-y,be=Math.min(ee,fe),ve=this.slice(R,D),Ae=m.slice(y,A),T=0;T<be;++T)if(ve[T]!==Ae[T]){ee=ve[T],fe=Ae[T];break}return ee<fe?-1:fe<ee?1:0};function M(N,m,y,A,R){if(N.length===0)return-1;if(typeof y=="string"?(A=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,q(y)&&(y=R?0:N.length-1),y<0&&(y=N.length+y),y>=N.length){if(R)return-1;y=N.length-1}else if(y<0)if(R)y=0;else return-1;if(typeof m=="string"&&(m=a.from(m,A)),a.isBuffer(m))return m.length===0?-1:C(N,m,y,A,R);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(N,m,y):Uint8Array.prototype.lastIndexOf.call(N,m,y):C(N,[m],y,A,R);throw new TypeError("val must be string, number or Buffer")}function C(N,m,y,A,R){var D=1,ee=N.length,fe=m.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(N.length<2||m.length<2)return-1;D=2,ee/=2,fe/=2,y/=2}function be(w,I){return D===1?w[I]:w.readUInt16BE(I*D)}var ve;if(R){var Ae=-1;for(ve=y;ve<ee;ve++)if(be(N,ve)===be(m,Ae===-1?0:ve-Ae)){if(Ae===-1&&(Ae=ve),ve-Ae+1===fe)return Ae*D}else Ae!==-1&&(ve-=ve-Ae),Ae=-1}else for(y+fe>ee&&(y=ee-fe),ve=y;ve>=0;ve--){for(var T=!0,x=0;x<fe;x++)if(be(N,ve+x)!==be(m,x)){T=!1;break}if(T)return ve}return-1}a.prototype.includes=function(m,y,A){return this.indexOf(m,y,A)!==-1},a.prototype.indexOf=function(m,y,A){return M(this,m,y,A,!0)},a.prototype.lastIndexOf=function(m,y,A){return M(this,m,y,A,!1)};function U(N,m,y,A){y=Number(y)||0;var R=N.length-y;A?(A=Number(A),A>R&&(A=R)):A=R;var D=m.length;A>D/2&&(A=D/2);for(var ee=0;ee<A;++ee){var fe=parseInt(m.substr(ee*2,2),16);if(q(fe))return ee;N[y+ee]=fe}return ee}function F(N,m,y,A){return z(de(m,N.length-y),N,y,A)}function V(N,m,y,A){return z(ge(m),N,y,A)}function se(N,m,y,A){return z(O(m),N,y,A)}function ie(N,m,y,A){return z(j(m,N.length-y),N,y,A)}a.prototype.write=function(m,y,A,R){if(y===void 0)R="utf8",A=this.length,y=0;else if(A===void 0&&typeof y=="string")R=y,A=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(A)?(A=A>>>0,R===void 0&&(R="utf8")):(R=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var D=this.length-y;if((A===void 0||A>D)&&(A=D),m.length>0&&(A<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");for(var ee=!1;;)switch(R){case"hex":return U(this,m,y,A);case"utf8":case"utf-8":return F(this,m,y,A);case"ascii":case"latin1":case"binary":return V(this,m,y,A);case"base64":return se(this,m,y,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,m,y,A);default:if(ee)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(N,m,y){return m===0&&y===N.length?e.fromByteArray(N):e.fromByteArray(N.slice(m,y))}function H(N,m,y){y=Math.min(N.length,y);for(var A=[],R=m;R<y;){var D=N[R],ee=null,fe=D>239?4:D>223?3:D>191?2:1;if(R+fe<=y){var be,ve,Ae,T;switch(fe){case 1:D<128&&(ee=D);break;case 2:be=N[R+1],(be&192)===128&&(T=(D&31)<<6|be&63,T>127&&(ee=T));break;case 3:be=N[R+1],ve=N[R+2],(be&192)===128&&(ve&192)===128&&(T=(D&15)<<12|(be&63)<<6|ve&63,T>2047&&(T<55296||T>57343)&&(ee=T));break;case 4:be=N[R+1],ve=N[R+2],Ae=N[R+3],(be&192)===128&&(ve&192)===128&&(Ae&192)===128&&(T=(D&15)<<18|(be&63)<<12|(ve&63)<<6|Ae&63,T>65535&&T<1114112&&(ee=T))}}ee===null?(ee=65533,fe=1):ee>65535&&(ee-=65536,A.push(ee>>>10&1023|55296),ee=56320|ee&1023),A.push(ee),R+=fe}return Q(A)}var J=4096;function Q(N){var m=N.length;if(m<=J)return String.fromCharCode.apply(String,N);for(var y="",A=0;A<m;)y+=String.fromCharCode.apply(String,N.slice(A,A+=J));return y}function X(N,m,y){var A="";y=Math.min(N.length,y);for(var R=m;R<y;++R)A+=String.fromCharCode(N[R]&127);return A}function G(N,m,y){var A="";y=Math.min(N.length,y);for(var R=m;R<y;++R)A+=String.fromCharCode(N[R]);return A}function te(N,m,y){var A=N.length;(!m||m<0)&&(m=0),(!y||y<0||y>A)&&(y=A);for(var R="",D=m;D<y;++D)R+=Z[N[D]];return R}function le(N,m,y){for(var A=N.slice(m,y),R="",D=0;D<A.length-1;D+=2)R+=String.fromCharCode(A[D]+A[D+1]*256);return R}a.prototype.slice=function(m,y){var A=this.length;m=~~m,y=y===void 0?A:~~y,m<0?(m+=A,m<0&&(m=0)):m>A&&(m=A),y<0?(y+=A,y<0&&(y=0)):y>A&&(y=A),y<m&&(y=m);var R=this.subarray(m,y);return Object.setPrototypeOf(R,a.prototype),R};function ae(N,m,y){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+m>y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(m,y,A){m=m>>>0,y=y>>>0,A||ae(m,y,this.length);for(var R=this[m],D=1,ee=0;++ee<y&&(D*=256);)R+=this[m+ee]*D;return R},a.prototype.readUintBE=a.prototype.readUIntBE=function(m,y,A){m=m>>>0,y=y>>>0,A||ae(m,y,this.length);for(var R=this[m+--y],D=1;y>0&&(D*=256);)R+=this[m+--y]*D;return R},a.prototype.readUint8=a.prototype.readUInt8=function(m,y){return m=m>>>0,y||ae(m,1,this.length),this[m]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(m,y){return m=m>>>0,y||ae(m,2,this.length),this[m]|this[m+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(m,y){return m=m>>>0,y||ae(m,2,this.length),this[m]<<8|this[m+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(m,y){return m=m>>>0,y||ae(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(m,y){return m=m>>>0,y||ae(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},a.prototype.readIntLE=function(m,y,A){m=m>>>0,y=y>>>0,A||ae(m,y,this.length);for(var R=this[m],D=1,ee=0;++ee<y&&(D*=256);)R+=this[m+ee]*D;return D*=128,R>=D&&(R-=Math.pow(2,8*y)),R},a.prototype.readIntBE=function(m,y,A){m=m>>>0,y=y>>>0,A||ae(m,y,this.length);for(var R=y,D=1,ee=this[m+--R];R>0&&(D*=256);)ee+=this[m+--R]*D;return D*=128,ee>=D&&(ee-=Math.pow(2,8*y)),ee},a.prototype.readInt8=function(m,y){return m=m>>>0,y||ae(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},a.prototype.readInt16LE=function(m,y){m=m>>>0,y||ae(m,2,this.length);var A=this[m]|this[m+1]<<8;return A&32768?A|4294901760:A},a.prototype.readInt16BE=function(m,y){m=m>>>0,y||ae(m,2,this.length);var A=this[m+1]|this[m]<<8;return A&32768?A|4294901760:A},a.prototype.readInt32LE=function(m,y){return m=m>>>0,y||ae(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},a.prototype.readInt32BE=function(m,y){return m=m>>>0,y||ae(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},a.prototype.readFloatLE=function(m,y){return m=m>>>0,y||ae(m,4,this.length),n.read(this,m,!0,23,4)},a.prototype.readFloatBE=function(m,y){return m=m>>>0,y||ae(m,4,this.length),n.read(this,m,!1,23,4)},a.prototype.readDoubleLE=function(m,y){return m=m>>>0,y||ae(m,8,this.length),n.read(this,m,!0,52,8)},a.prototype.readDoubleBE=function(m,y){return m=m>>>0,y||ae(m,8,this.length),n.read(this,m,!1,52,8)};function ce(N,m,y,A,R,D){if(!a.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>R||m<D)throw new RangeError('"value" argument is out of bounds');if(y+A>N.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(m,y,A,R){if(m=+m,y=y>>>0,A=A>>>0,!R){var D=Math.pow(2,8*A)-1;ce(this,m,y,A,D,0)}var ee=1,fe=0;for(this[y]=m&255;++fe<A&&(ee*=256);)this[y+fe]=m/ee&255;return y+A},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(m,y,A,R){if(m=+m,y=y>>>0,A=A>>>0,!R){var D=Math.pow(2,8*A)-1;ce(this,m,y,A,D,0)}var ee=A-1,fe=1;for(this[y+ee]=m&255;--ee>=0&&(fe*=256);)this[y+ee]=m/fe&255;return y+A},a.prototype.writeUint8=a.prototype.writeUInt8=function(m,y,A){return m=+m,y=y>>>0,A||ce(this,m,y,1,255,0),this[y]=m&255,y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(m,y,A){return m=+m,y=y>>>0,A||ce(this,m,y,2,65535,0),this[y]=m&255,this[y+1]=m>>>8,y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(m,y,A){return m=+m,y=y>>>0,A||ce(this,m,y,2,65535,0),this[y]=m>>>8,this[y+1]=m&255,y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(m,y,A){return m=+m,y=y>>>0,A||ce(this,m,y,4,4294967295,0),this[y+3]=m>>>24,this[y+2]=m>>>16,this[y+1]=m>>>8,this[y]=m&255,y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(m,y,A){return m=+m,y=y>>>0,A||ce(this,m,y,4,4294967295,0),this[y]=m>>>24,this[y+1]=m>>>16,this[y+2]=m>>>8,this[y+3]=m&255,y+4},a.prototype.writeIntLE=function(m,y,A,R){if(m=+m,y=y>>>0,!R){var D=Math.pow(2,8*A-1);ce(this,m,y,A,D-1,-D)}var ee=0,fe=1,be=0;for(this[y]=m&255;++ee<A&&(fe*=256);)m<0&&be===0&&this[y+ee-1]!==0&&(be=1),this[y+ee]=(m/fe>>0)-be&255;return y+A},a.prototype.writeIntBE=function(m,y,A,R){if(m=+m,y=y>>>0,!R){var D=Math.pow(2,8*A-1);ce(this,m,y,A,D-1,-D)}var ee=A-1,fe=1,be=0;for(this[y+ee]=m&255;--ee>=0&&(fe*=256);)m<0&&be===0&&this[y+ee+1]!==0&&(be=1),this[y+ee]=(m/fe>>0)-be&255;return y+A},a.prototype.writeInt8=function(m,y,A){return m=+m,y=y>>>0,A||ce(this,m,y,1,127,-128),m<0&&(m=255+m+1),this[y]=m&255,y+1},a.prototype.writeInt16LE=function(m,y,A){return m=+m,y=y>>>0,A||ce(this,m,y,2,32767,-32768),this[y]=m&255,this[y+1]=m>>>8,y+2},a.prototype.writeInt16BE=function(m,y,A){return m=+m,y=y>>>0,A||ce(this,m,y,2,32767,-32768),this[y]=m>>>8,this[y+1]=m&255,y+2},a.prototype.writeInt32LE=function(m,y,A){return m=+m,y=y>>>0,A||ce(this,m,y,4,2147483647,-2147483648),this[y]=m&255,this[y+1]=m>>>8,this[y+2]=m>>>16,this[y+3]=m>>>24,y+4},a.prototype.writeInt32BE=function(m,y,A){return m=+m,y=y>>>0,A||ce(this,m,y,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[y]=m>>>24,this[y+1]=m>>>16,this[y+2]=m>>>8,this[y+3]=m&255,y+4};function oe(N,m,y,A,R,D){if(y+A>N.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function B(N,m,y,A,R){return m=+m,y=y>>>0,R||oe(N,m,y,4),n.write(N,m,y,A,23,4),y+4}a.prototype.writeFloatLE=function(m,y,A){return B(this,m,y,!0,A)},a.prototype.writeFloatBE=function(m,y,A){return B(this,m,y,!1,A)};function ue(N,m,y,A,R){return m=+m,y=y>>>0,R||oe(N,m,y,8),n.write(N,m,y,A,52,8),y+8}a.prototype.writeDoubleLE=function(m,y,A){return ue(this,m,y,!0,A)},a.prototype.writeDoubleBE=function(m,y,A){return ue(this,m,y,!1,A)},a.prototype.copy=function(m,y,A,R){if(!a.isBuffer(m))throw new TypeError("argument should be a Buffer");if(A||(A=0),!R&&R!==0&&(R=this.length),y>=m.length&&(y=m.length),y||(y=0),R>0&&R<A&&(R=A),R===A||m.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),m.length-y<R-A&&(R=m.length-y+A);var D=R-A;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,A,R):Uint8Array.prototype.set.call(m,this.subarray(A,R),y),D},a.prototype.fill=function(m,y,A,R){if(typeof m=="string"){if(typeof y=="string"?(R=y,y=0,A=this.length):typeof A=="string"&&(R=A,A=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!a.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(m.length===1){var D=m.charCodeAt(0);(R==="utf8"&&D<128||R==="latin1")&&(m=D)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(y<0||this.length<y||this.length<A)throw new RangeError("Out of range index");if(A<=y)return this;y=y>>>0,A=A===void 0?this.length:A>>>0,m||(m=0);var ee;if(typeof m=="number")for(ee=y;ee<A;++ee)this[ee]=m;else{var fe=a.isBuffer(m)?m:a.from(m,R),be=fe.length;if(be===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(ee=0;ee<A-y;++ee)this[ee+y]=fe[ee%be]}return this};var he=/[^+/0-9A-Za-z-_]/g;function me(N){if(N=N.split("=")[0],N=N.trim().replace(he,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function de(N,m){m=m||1/0;for(var y,A=N.length,R=null,D=[],ee=0;ee<A;++ee){if(y=N.charCodeAt(ee),y>55295&&y<57344){if(!R){if(y>56319){(m-=3)>-1&&D.push(239,191,189);continue}else if(ee+1===A){(m-=3)>-1&&D.push(239,191,189);continue}R=y;continue}if(y<56320){(m-=3)>-1&&D.push(239,191,189),R=y;continue}y=(R-55296<<10|y-56320)+65536}else R&&(m-=3)>-1&&D.push(239,191,189);if(R=null,y<128){if((m-=1)<0)break;D.push(y)}else if(y<2048){if((m-=2)<0)break;D.push(y>>6|192,y&63|128)}else if(y<65536){if((m-=3)<0)break;D.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((m-=4)<0)break;D.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return D}function ge(N){for(var m=[],y=0;y<N.length;++y)m.push(N.charCodeAt(y)&255);return m}function j(N,m){for(var y,A,R,D=[],ee=0;ee<N.length&&!((m-=2)<0);++ee)y=N.charCodeAt(ee),A=y>>8,R=y%256,D.push(R),D.push(A);return D}function O(N){return e.toByteArray(me(N))}function z(N,m,y,A){for(var R=0;R<A&&!(R+y>=m.length||R>=N.length);++R)m[R+y]=N[R];return R}function Y(N,m){return N instanceof m||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===m.name}function q(N){return N!==N}var Z=function(){for(var N="0123456789abcdef",m=new Array(256),y=0;y<16;++y)for(var A=y*16,R=0;R<16;++R)m[A+R]=N[y]+N[R];return m}()})(jl);var Mv={exports:{}};(function(t){(function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,u=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,g=1e9;function p(M){var C,U,F,V=B.prototype={constructor:B,toString:null,valueOf:null},se=new B(1),ie=20,L=4,H=-7,J=21,Q=-1e7,X=1e7,G=!1,te=1,le=0,ae={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},ce="0123456789abcdefghijklmnopqrstuvwxyz",oe=!0;function B(j,O){var z,Y,q,Z,N,m,y,A,R=this;if(!(R instanceof B))return new B(j,O);if(O==null){if(j&&j._isBigNumber===!0){R.s=j.s,!j.c||j.e>X?R.c=R.e=null:j.e<Q?R.c=[R.e=0]:(R.e=j.e,R.c=j.c.slice());return}if((m=typeof j=="number")&&j*0==0){if(R.s=1/j<0?(j=-j,-1):1,j===~~j){for(Z=0,N=j;N>=10;N/=10,Z++);Z>X?R.c=R.e=null:(R.e=Z,R.c=[j]);return}A=String(j)}else{if(!r.test(A=String(j)))return F(R,A,m);R.s=A.charCodeAt(0)==45?(A=A.slice(1),-1):1}(Z=A.indexOf("."))>-1&&(A=A.replace(".","")),(N=A.search(/e/i))>0?(Z<0&&(Z=N),Z+=+A.slice(N+1),A=A.substring(0,N)):Z<0&&(Z=A.length)}else{if(_(O,2,ce.length,"Base"),O==10&&oe)return R=new B(j),de(R,ie+R.e+1,L);if(A=String(j),m=typeof j=="number"){if(j*0!=0)return F(R,A,m,O);if(R.s=1/j<0?(A=A.slice(1),-1):1,B.DEBUG&&A.replace(/^0\.0*|\./,"").length>15)throw Error(a+j)}else R.s=A.charCodeAt(0)===45?(A=A.slice(1),-1):1;for(z=ce.slice(0,O),Z=N=0,y=A.length;N<y;N++)if(z.indexOf(Y=A.charAt(N))<0){if(Y=="."){if(N>Z){Z=y;continue}}else if(!q&&(A==A.toUpperCase()&&(A=A.toLowerCase())||A==A.toLowerCase()&&(A=A.toUpperCase()))){q=!0,N=-1,Z=0;continue}return F(R,String(j),m,O)}m=!1,A=U(A,O,10,R.s),(Z=A.indexOf("."))>-1?A=A.replace(".",""):Z=A.length}for(N=0;A.charCodeAt(N)===48;N++);for(y=A.length;A.charCodeAt(--y)===48;);if(A=A.slice(N,++y)){if(y-=N,m&&B.DEBUG&&y>15&&(j>u||j!==s(j)))throw Error(a+R.s*j);if((Z=Z-N-1)>X)R.c=R.e=null;else if(Z<Q)R.c=[R.e=0];else{if(R.e=Z,R.c=[],N=(Z+1)%c,Z<0&&(N+=c),N<y){for(N&&R.c.push(+A.slice(0,N)),y-=c;N<y;)R.c.push(+A.slice(N,N+=c));N=c-(A=A.slice(N)).length}else N-=y;for(;N--;A+="0");R.c.push(+A)}}else R.c=[R.e=0]}B.clone=p,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(j){var O,z;if(j!=null)if(typeof j=="object"){if(j.hasOwnProperty(O="DECIMAL_PLACES")&&(z=j[O],_(z,0,g,O),ie=z),j.hasOwnProperty(O="ROUNDING_MODE")&&(z=j[O],_(z,0,8,O),L=z),j.hasOwnProperty(O="EXPONENTIAL_AT")&&(z=j[O],z&&z.pop?(_(z[0],-1e9,0,O),_(z[1],0,g,O),H=z[0],J=z[1]):(_(z,-1e9,g,O),H=-(J=z<0?-z:z))),j.hasOwnProperty(O="RANGE"))if(z=j[O],z&&z.pop)_(z[0],-1e9,-1,O),_(z[1],1,g,O),Q=z[0],X=z[1];else if(_(z,-1e9,g,O),z)Q=-(X=z<0?-z:z);else throw Error(o+O+" cannot be zero: "+z);if(j.hasOwnProperty(O="CRYPTO"))if(z=j[O],z===!!z)if(z)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))G=z;else throw G=!z,Error(o+"crypto unavailable");else G=z;else throw Error(o+O+" not true or false: "+z);if(j.hasOwnProperty(O="MODULO_MODE")&&(z=j[O],_(z,0,9,O),te=z),j.hasOwnProperty(O="POW_PRECISION")&&(z=j[O],_(z,0,g,O),le=z),j.hasOwnProperty(O="FORMAT"))if(z=j[O],typeof z=="object")ae=z;else throw Error(o+O+" not an object: "+z);if(j.hasOwnProperty(O="ALPHABET"))if(z=j[O],typeof z=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(z))oe=z.slice(0,10)=="0123456789",ce=z;else throw Error(o+O+" invalid: "+z)}else throw Error(o+"Object expected: "+j);return{DECIMAL_PLACES:ie,ROUNDING_MODE:L,EXPONENTIAL_AT:[H,J],RANGE:[Q,X],CRYPTO:G,MODULO_MODE:te,POW_PRECISION:le,FORMAT:ae,ALPHABET:ce}},B.isBigNumber=function(j){if(!j||j._isBigNumber!==!0)return!1;if(!B.DEBUG)return!0;var O,z,Y=j.c,q=j.e,Z=j.s;e:if({}.toString.call(Y)=="[object Array]"){if((Z===1||Z===-1)&&q>=-1e9&&q<=g&&q===s(q)){if(Y[0]===0){if(q===0&&Y.length===1)return!0;break e}if(O=(q+1)%c,O<1&&(O+=c),String(Y[0]).length==O){for(O=0;O<Y.length;O++)if(z=Y[O],z<0||z>=l||z!==s(z))break e;if(z!==0)return!0}}}else if(Y===null&&q===null&&(Z===null||Z===1||Z===-1))return!0;throw Error(o+"Invalid BigNumber: "+j)},B.maximum=B.max=function(){return he(arguments,-1)},B.minimum=B.min=function(){return he(arguments,1)},B.random=function(){var j=9007199254740992,O=Math.random()*j&2097151?function(){return s(Math.random()*j)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(z){var Y,q,Z,N,m,y=0,A=[],R=new B(se);if(z==null?z=ie:_(z,0,g),N=i(z/c),G)if(crypto.getRandomValues){for(Y=crypto.getRandomValues(new Uint32Array(N*=2));y<N;)m=Y[y]*131072+(Y[y+1]>>>11),m>=9e15?(q=crypto.getRandomValues(new Uint32Array(2)),Y[y]=q[0],Y[y+1]=q[1]):(A.push(m%1e14),y+=2);y=N/2}else if(crypto.randomBytes){for(Y=crypto.randomBytes(N*=7);y<N;)m=(Y[y]&31)*281474976710656+Y[y+1]*1099511627776+Y[y+2]*4294967296+Y[y+3]*16777216+(Y[y+4]<<16)+(Y[y+5]<<8)+Y[y+6],m>=9e15?crypto.randomBytes(7).copy(Y,y):(A.push(m%1e14),y+=7);y=N/7}else throw G=!1,Error(o+"crypto unavailable");if(!G)for(;y<N;)m=O(),m<9e15&&(A[y++]=m%1e14);for(N=A[--y],z%=c,N&&z&&(m=f[c-z],A[y]=s(N/m)*m);A[y]===0;A.pop(),y--);if(y<0)A=[Z=0];else{for(Z=-1;A[0]===0;A.splice(0,1),Z-=c);for(y=1,m=A[0];m>=10;m/=10,y++);y<c&&(Z-=c-y)}return R.e=Z,R.c=A,R}}(),B.sum=function(){for(var j=1,O=arguments,z=new B(O[0]);j<O.length;)z=z.plus(O[j++]);return z},U=function(){var j="0123456789";function O(z,Y,q,Z){for(var N,m=[0],y,A=0,R=z.length;A<R;){for(y=m.length;y--;m[y]*=Y);for(m[0]+=Z.indexOf(z.charAt(A++)),N=0;N<m.length;N++)m[N]>q-1&&(m[N+1]==null&&(m[N+1]=0),m[N+1]+=m[N]/q|0,m[N]%=q)}return m.reverse()}return function(z,Y,q,Z,N){var m,y,A,R,D,ee,fe,be,ve=z.indexOf("."),Ae=ie,T=L;for(ve>=0&&(R=le,le=0,z=z.replace(".",""),be=new B(Y),ee=be.pow(z.length-ve),le=R,be.c=O(S(E(ee.c),ee.e,"0"),10,q,j),be.e=be.c.length),fe=O(z,Y,q,N?(m=ce,j):(m=j,ce)),A=R=fe.length;fe[--R]==0;fe.pop());if(!fe[0])return m.charAt(0);if(ve<0?--A:(ee.c=fe,ee.e=A,ee.s=Z,ee=C(ee,be,Ae,T,q),fe=ee.c,D=ee.r,A=ee.e),y=A+Ae+1,ve=fe[y],R=q/2,D=D||y<0||fe[y+1]!=null,D=T<4?(ve!=null||D)&&(T==0||T==(ee.s<0?3:2)):ve>R||ve==R&&(T==4||D||T==6&&fe[y-1]&1||T==(ee.s<0?8:7)),y<1||!fe[0])z=D?S(m.charAt(1),-Ae,m.charAt(0)):m.charAt(0);else{if(fe.length=y,D)for(--q;++fe[--y]>q;)fe[y]=0,y||(++A,fe=[1].concat(fe));for(R=fe.length;!fe[--R];);for(ve=0,z="";ve<=R;z+=m.charAt(fe[ve++]));z=S(z,A,m.charAt(0))}return z}}(),C=function(){function j(Y,q,Z){var N,m,y,A,R=0,D=Y.length,ee=q%h,fe=q/h|0;for(Y=Y.slice();D--;)y=Y[D]%h,A=Y[D]/h|0,N=fe*y+A*ee,m=ee*y+N%h*h+R,R=(m/Z|0)+(N/h|0)+fe*A,Y[D]=m%Z;return R&&(Y=[R].concat(Y)),Y}function O(Y,q,Z,N){var m,y;if(Z!=N)y=Z>N?1:-1;else for(m=y=0;m<Z;m++)if(Y[m]!=q[m]){y=Y[m]>q[m]?1:-1;break}return y}function z(Y,q,Z,N){for(var m=0;Z--;)Y[Z]-=m,m=Y[Z]<q[Z]?1:0,Y[Z]=m*N+Y[Z]-q[Z];for(;!Y[0]&&Y.length>1;Y.splice(0,1));}return function(Y,q,Z,N,m){var y,A,R,D,ee,fe,be,ve,Ae,T,x,w,I,K,re,ne,Te,Oe=Y.s==q.s?1:-1,Ce=Y.c,Ne=q.c;if(!Ce||!Ce[0]||!Ne||!Ne[0])return new B(!Y.s||!q.s||(Ce?Ne&&Ce[0]==Ne[0]:!Ne)?NaN:Ce&&Ce[0]==0||!Ne?Oe*0:Oe/0);for(ve=new B(Oe),Ae=ve.c=[],A=Y.e-q.e,Oe=Z+A+1,m||(m=l,A=b(Y.e/c)-b(q.e/c),Oe=Oe/c|0),R=0;Ne[R]==(Ce[R]||0);R++);if(Ne[R]>(Ce[R]||0)&&A--,Oe<0)Ae.push(1),D=!0;else{for(K=Ce.length,ne=Ne.length,R=0,Oe+=2,ee=s(m/(Ne[0]+1)),ee>1&&(Ne=j(Ne,ee,m),Ce=j(Ce,ee,m),ne=Ne.length,K=Ce.length),I=ne,T=Ce.slice(0,ne),x=T.length;x<ne;T[x++]=0);Te=Ne.slice(),Te=[0].concat(Te),re=Ne[0],Ne[1]>=m/2&&re++;do{if(ee=0,y=O(Ne,T,ne,x),y<0){if(w=T[0],ne!=x&&(w=w*m+(T[1]||0)),ee=s(w/re),ee>1)for(ee>=m&&(ee=m-1),fe=j(Ne,ee,m),be=fe.length,x=T.length;O(fe,T,be,x)==1;)ee--,z(fe,ne<be?Te:Ne,be,m),be=fe.length,y=1;else ee==0&&(y=ee=1),fe=Ne.slice(),be=fe.length;if(be<x&&(fe=[0].concat(fe)),z(T,fe,x,m),x=T.length,y==-1)for(;O(Ne,T,ne,x)<1;)ee++,z(T,ne<x?Te:Ne,x,m),x=T.length}else y===0&&(ee++,T=[0]);Ae[R++]=ee,T[0]?T[x++]=Ce[I]||0:(T=[Ce[I]],x=1)}while((I++<K||T[0]!=null)&&Oe--);D=T[0]!=null,Ae[0]||Ae.splice(0,1)}if(m==l){for(R=1,Oe=Ae[0];Oe>=10;Oe/=10,R++);de(ve,Z+(ve.e=R+A*c-1)+1,N,D)}else ve.e=A,ve.r=+D;return ve}}();function ue(j,O,z,Y){var q,Z,N,m,y;if(z==null?z=L:_(z,0,8),!j.c)return j.toString();if(q=j.c[0],N=j.e,O==null)y=E(j.c),y=Y==1||Y==2&&(N<=H||N>=J)?P(y,N):S(y,N,"0");else if(j=de(new B(j),O,z),Z=j.e,y=E(j.c),m=y.length,Y==1||Y==2&&(O<=Z||Z<=H)){for(;m<O;y+="0",m++);y=P(y,Z)}else if(O-=N,y=S(y,Z,"0"),Z+1>m){if(--O>0)for(y+=".";O--;y+="0");}else if(O+=Z-m,O>0)for(Z+1==m&&(y+=".");O--;y+="0");return j.s<0&&q?"-"+y:y}function he(j,O){for(var z,Y,q=1,Z=new B(j[0]);q<j.length;q++)Y=new B(j[q]),(!Y.s||(z=v(Z,Y))===O||z===0&&Z.s===O)&&(Z=Y);return Z}function me(j,O,z){for(var Y=1,q=O.length;!O[--q];O.pop());for(q=O[0];q>=10;q/=10,Y++);return(z=Y+z*c-1)>X?j.c=j.e=null:z<Q?j.c=[j.e=0]:(j.e=z,j.c=O),j}F=function(){var j=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,z=/^\.([^.]+)$/,Y=/^-?(Infinity|NaN)$/,q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Z,N,m,y){var A,R=m?N:N.replace(q,"");if(Y.test(R))Z.s=isNaN(R)?null:R<0?-1:1;else{if(!m&&(R=R.replace(j,function(D,ee,fe){return A=(fe=fe.toLowerCase())=="x"?16:fe=="b"?2:8,!y||y==A?ee:D}),y&&(A=y,R=R.replace(O,"$1").replace(z,"0.$1")),N!=R))return new B(R,A);if(B.DEBUG)throw Error(o+"Not a"+(y?" base "+y:"")+" number: "+N);Z.s=null}Z.c=Z.e=null}}();function de(j,O,z,Y){var q,Z,N,m,y,A,R,D=j.c,ee=f;if(D){e:{for(q=1,m=D[0];m>=10;m/=10,q++);if(Z=O-q,Z<0)Z+=c,N=O,y=D[A=0],R=s(y/ee[q-N-1]%10);else if(A=i((Z+1)/c),A>=D.length)if(Y){for(;D.length<=A;D.push(0));y=R=0,q=1,Z%=c,N=Z-c+1}else break e;else{for(y=m=D[A],q=1;m>=10;m/=10,q++);Z%=c,N=Z-c+q,R=N<0?0:s(y/ee[q-N-1]%10)}if(Y=Y||O<0||D[A+1]!=null||(N<0?y:y%ee[q-N-1]),Y=z<4?(R||Y)&&(z==0||z==(j.s<0?3:2)):R>5||R==5&&(z==4||Y||z==6&&(Z>0?N>0?y/ee[q-N]:0:D[A-1])%10&1||z==(j.s<0?8:7)),O<1||!D[0])return D.length=0,Y?(O-=j.e+1,D[0]=ee[(c-O%c)%c],j.e=-O||0):D[0]=j.e=0,j;if(Z==0?(D.length=A,m=1,A--):(D.length=A+1,m=ee[c-Z],D[A]=N>0?s(y/ee[q-N]%ee[N])*m:0),Y)for(;;)if(A==0){for(Z=1,N=D[0];N>=10;N/=10,Z++);for(N=D[0]+=m,m=1;N>=10;N/=10,m++);Z!=m&&(j.e++,D[0]==l&&(D[0]=1));break}else{if(D[A]+=m,D[A]!=l)break;D[A--]=0,m=1}for(Z=D.length;D[--Z]===0;D.pop());}j.e>X?j.c=j.e=null:j.e<Q&&(j.c=[j.e=0])}return j}function ge(j){var O,z=j.e;return z===null?j.toString():(O=E(j.c),O=z<=H||z>=J?P(O,z):S(O,z,"0"),j.s<0?"-"+O:O)}return V.absoluteValue=V.abs=function(){var j=new B(this);return j.s<0&&(j.s=1),j},V.comparedTo=function(j,O){return v(this,new B(j,O))},V.decimalPlaces=V.dp=function(j,O){var z,Y,q,Z=this;if(j!=null)return _(j,0,g),O==null?O=L:_(O,0,8),de(new B(Z),j+Z.e+1,O);if(!(z=Z.c))return null;if(Y=((q=z.length-1)-b(this.e/c))*c,q=z[q])for(;q%10==0;q/=10,Y--);return Y<0&&(Y=0),Y},V.dividedBy=V.div=function(j,O){return C(this,new B(j,O),ie,L)},V.dividedToIntegerBy=V.idiv=function(j,O){return C(this,new B(j,O),0,1)},V.exponentiatedBy=V.pow=function(j,O){var z,Y,q,Z,N,m,y,A,R,D=this;if(j=new B(j),j.c&&!j.isInteger())throw Error(o+"Exponent not an integer: "+ge(j));if(O!=null&&(O=new B(O)),m=j.e>14,!D.c||!D.c[0]||D.c[0]==1&&!D.e&&D.c.length==1||!j.c||!j.c[0])return R=new B(Math.pow(+ge(D),m?j.s*(2-k(j)):+ge(j))),O?R.mod(O):R;if(y=j.s<0,O){if(O.c?!O.c[0]:!O.s)return new B(NaN);Y=!y&&D.isInteger()&&O.isInteger(),Y&&(D=D.mod(O))}else{if(j.e>9&&(D.e>0||D.e<-1||(D.e==0?D.c[0]>1||m&&D.c[1]>=24e7:D.c[0]<8e13||m&&D.c[0]<=9999975e7)))return Z=D.s<0&&k(j)?-0:0,D.e>-1&&(Z=1/Z),new B(y?1/Z:Z);le&&(Z=i(le/c+2))}for(m?(z=new B(.5),y&&(j.s=1),A=k(j)):(q=Math.abs(+ge(j)),A=q%2),R=new B(se);;){if(A){if(R=R.times(D),!R.c)break;Z?R.c.length>Z&&(R.c.length=Z):Y&&(R=R.mod(O))}if(q){if(q=s(q/2),q===0)break;A=q%2}else if(j=j.times(z),de(j,j.e+1,1),j.e>14)A=k(j);else{if(q=+ge(j),q===0)break;A=q%2}D=D.times(D),Z?D.c&&D.c.length>Z&&(D.c.length=Z):Y&&(D=D.mod(O))}return Y?R:(y&&(R=se.div(R)),O?R.mod(O):Z?de(R,le,L,N):R)},V.integerValue=function(j){var O=new B(this);return j==null?j=L:_(j,0,8),de(O,O.e+1,j)},V.isEqualTo=V.eq=function(j,O){return v(this,new B(j,O))===0},V.isFinite=function(){return!!this.c},V.isGreaterThan=V.gt=function(j,O){return v(this,new B(j,O))>0},V.isGreaterThanOrEqualTo=V.gte=function(j,O){return(O=v(this,new B(j,O)))===1||O===0},V.isInteger=function(){return!!this.c&&b(this.e/c)>this.c.length-2},V.isLessThan=V.lt=function(j,O){return v(this,new B(j,O))<0},V.isLessThanOrEqualTo=V.lte=function(j,O){return(O=v(this,new B(j,O)))===-1||O===0},V.isNaN=function(){return!this.s},V.isNegative=function(){return this.s<0},V.isPositive=function(){return this.s>0},V.isZero=function(){return!!this.c&&this.c[0]==0},V.minus=function(j,O){var z,Y,q,Z,N=this,m=N.s;if(j=new B(j,O),O=j.s,!m||!O)return new B(NaN);if(m!=O)return j.s=-O,N.plus(j);var y=N.e/c,A=j.e/c,R=N.c,D=j.c;if(!y||!A){if(!R||!D)return R?(j.s=-O,j):new B(D?N:NaN);if(!R[0]||!D[0])return D[0]?(j.s=-O,j):new B(R[0]?N:L==3?-0:0)}if(y=b(y),A=b(A),R=R.slice(),m=y-A){for((Z=m<0)?(m=-m,q=R):(A=y,q=D),q.reverse(),O=m;O--;q.push(0));q.reverse()}else for(Y=(Z=(m=R.length)<(O=D.length))?m:O,m=O=0;O<Y;O++)if(R[O]!=D[O]){Z=R[O]<D[O];break}if(Z&&(q=R,R=D,D=q,j.s=-j.s),O=(Y=D.length)-(z=R.length),O>0)for(;O--;R[z++]=0);for(O=l-1;Y>m;){if(R[--Y]<D[Y]){for(z=Y;z&&!R[--z];R[z]=O);--R[z],R[Y]+=l}R[Y]-=D[Y]}for(;R[0]==0;R.splice(0,1),--A);return R[0]?me(j,R,A):(j.s=L==3?-1:1,j.c=[j.e=0],j)},V.modulo=V.mod=function(j,O){var z,Y,q=this;return j=new B(j,O),!q.c||!j.s||j.c&&!j.c[0]?new B(NaN):!j.c||q.c&&!q.c[0]?new B(q):(te==9?(Y=j.s,j.s=1,z=C(q,j,0,3),j.s=Y,z.s*=Y):z=C(q,j,0,te),j=q.minus(z.times(j)),!j.c[0]&&te==1&&(j.s=q.s),j)},V.multipliedBy=V.times=function(j,O){var z,Y,q,Z,N,m,y,A,R,D,ee,fe,be,ve,Ae,T=this,x=T.c,w=(j=new B(j,O)).c;if(!x||!w||!x[0]||!w[0])return!T.s||!j.s||x&&!x[0]&&!w||w&&!w[0]&&!x?j.c=j.e=j.s=null:(j.s*=T.s,!x||!w?j.c=j.e=null:(j.c=[0],j.e=0)),j;for(Y=b(T.e/c)+b(j.e/c),j.s*=T.s,y=x.length,D=w.length,y<D&&(be=x,x=w,w=be,q=y,y=D,D=q),q=y+D,be=[];q--;be.push(0));for(ve=l,Ae=h,q=D;--q>=0;){for(z=0,ee=w[q]%Ae,fe=w[q]/Ae|0,N=y,Z=q+N;Z>q;)A=x[--N]%Ae,R=x[N]/Ae|0,m=fe*A+R*ee,A=ee*A+m%Ae*Ae+be[Z]+z,z=(A/ve|0)+(m/Ae|0)+fe*R,be[Z--]=A%ve;be[Z]=z}return z?++Y:be.splice(0,1),me(j,be,Y)},V.negated=function(){var j=new B(this);return j.s=-j.s||null,j},V.plus=function(j,O){var z,Y=this,q=Y.s;if(j=new B(j,O),O=j.s,!q||!O)return new B(NaN);if(q!=O)return j.s=-O,Y.minus(j);var Z=Y.e/c,N=j.e/c,m=Y.c,y=j.c;if(!Z||!N){if(!m||!y)return new B(q/0);if(!m[0]||!y[0])return y[0]?j:new B(m[0]?Y:q*0)}if(Z=b(Z),N=b(N),m=m.slice(),q=Z-N){for(q>0?(N=Z,z=y):(q=-q,z=m),z.reverse();q--;z.push(0));z.reverse()}for(q=m.length,O=y.length,q-O<0&&(z=y,y=m,m=z,O=q),q=0;O;)q=(m[--O]=m[O]+y[O]+q)/l|0,m[O]=l===m[O]?0:m[O]%l;return q&&(m=[q].concat(m),++N),me(j,m,N)},V.precision=V.sd=function(j,O){var z,Y,q,Z=this;if(j!=null&&j!==!!j)return _(j,1,g),O==null?O=L:_(O,0,8),de(new B(Z),j,O);if(!(z=Z.c))return null;if(q=z.length-1,Y=q*c+1,q=z[q]){for(;q%10==0;q/=10,Y--);for(q=z[0];q>=10;q/=10,Y++);}return j&&Z.e+1>Y&&(Y=Z.e+1),Y},V.shiftedBy=function(j){return _(j,-9007199254740991,u),this.times("1e"+j)},V.squareRoot=V.sqrt=function(){var j,O,z,Y,q,Z=this,N=Z.c,m=Z.s,y=Z.e,A=ie+4,R=new B("0.5");if(m!==1||!N||!N[0])return new B(!m||m<0&&(!N||N[0])?NaN:N?Z:1/0);if(m=Math.sqrt(+ge(Z)),m==0||m==1/0?(O=E(N),(O.length+y)%2==0&&(O+="0"),m=Math.sqrt(+O),y=b((y+1)/2)-(y<0||y%2),m==1/0?O="5e"+y:(O=m.toExponential(),O=O.slice(0,O.indexOf("e")+1)+y),z=new B(O)):z=new B(m+""),z.c[0]){for(y=z.e,m=y+A,m<3&&(m=0);;)if(q=z,z=R.times(q.plus(C(Z,q,A,1))),E(q.c).slice(0,m)===(O=E(z.c)).slice(0,m))if(z.e<y&&--m,O=O.slice(m-3,m+1),O=="9999"||!Y&&O=="4999"){if(!Y&&(de(q,q.e+ie+2,0),q.times(q).eq(Z))){z=q;break}A+=4,m+=4,Y=1}else{(!+O||!+O.slice(1)&&O.charAt(0)=="5")&&(de(z,z.e+ie+2,1),j=!z.times(z).eq(Z));break}}return de(z,z.e+ie+1,L,j)},V.toExponential=function(j,O){return j!=null&&(_(j,0,g),j++),ue(this,j,O,1)},V.toFixed=function(j,O){return j!=null&&(_(j,0,g),j=j+this.e+1),ue(this,j,O)},V.toFormat=function(j,O,z){var Y,q=this;if(z==null)j!=null&&O&&typeof O=="object"?(z=O,O=null):j&&typeof j=="object"?(z=j,j=O=null):z=ae;else if(typeof z!="object")throw Error(o+"Argument not an object: "+z);if(Y=q.toFixed(j,O),q.c){var Z,N=Y.split("."),m=+z.groupSize,y=+z.secondaryGroupSize,A=z.groupSeparator||"",R=N[0],D=N[1],ee=q.s<0,fe=ee?R.slice(1):R,be=fe.length;if(y&&(Z=m,m=y,y=Z,be-=Z),m>0&&be>0){for(Z=be%m||m,R=fe.substr(0,Z);Z<be;Z+=m)R+=A+fe.substr(Z,m);y>0&&(R+=A+fe.slice(Z)),ee&&(R="-"+R)}Y=D?R+(z.decimalSeparator||"")+((y=+z.fractionGroupSize)?D.replace(new RegExp("\\d{"+y+"}\\B","g"),"$&"+(z.fractionGroupSeparator||"")):D):R}return(z.prefix||"")+Y+(z.suffix||"")},V.toFraction=function(j){var O,z,Y,q,Z,N,m,y,A,R,D,ee,fe=this,be=fe.c;if(j!=null&&(m=new B(j),!m.isInteger()&&(m.c||m.s!==1)||m.lt(se)))throw Error(o+"Argument "+(m.isInteger()?"out of range: ":"not an integer: ")+ge(m));if(!be)return new B(fe);for(O=new B(se),A=z=new B(se),Y=y=new B(se),ee=E(be),Z=O.e=ee.length-fe.e-1,O.c[0]=f[(N=Z%c)<0?c+N:N],j=!j||m.comparedTo(O)>0?Z>0?O:A:m,N=X,X=1/0,m=new B(ee),y.c[0]=0;R=C(m,O,0,1),q=z.plus(R.times(Y)),q.comparedTo(j)!=1;)z=Y,Y=q,A=y.plus(R.times(q=A)),y=q,O=m.minus(R.times(q=O)),m=q;return q=C(j.minus(z),Y,0,1),y=y.plus(q.times(A)),z=z.plus(q.times(Y)),y.s=A.s=fe.s,Z=Z*2,D=C(A,Y,Z,L).minus(fe).abs().comparedTo(C(y,z,Z,L).minus(fe).abs())<1?[A,Y]:[y,z],X=N,D},V.toNumber=function(){return+ge(this)},V.toPrecision=function(j,O){return j!=null&&_(j,1,g),ue(this,j,O,2)},V.toString=function(j){var O,z=this,Y=z.s,q=z.e;return q===null?Y?(O="Infinity",Y<0&&(O="-"+O)):O="NaN":(j==null?O=q<=H||q>=J?P(E(z.c),q):S(E(z.c),q,"0"):j===10&&oe?(z=de(new B(z),ie+q+1,L),O=S(E(z.c),z.e,"0")):(_(j,2,ce.length,"Base"),O=U(S(E(z.c),q,"0"),10,j,Y,!0)),Y<0&&z.c[0]&&(O="-"+O)),O},V.valueOf=V.toJSON=function(){return ge(this)},V._isBigNumber=!0,M!=null&&B.set(M),B}function b(M){var C=M|0;return M>0||M===C?C:C-1}function E(M){for(var C,U,F=1,V=M.length,se=M[0]+"";F<V;){for(C=M[F++]+"",U=c-C.length;U--;C="0"+C);se+=C}for(V=se.length;se.charCodeAt(--V)===48;);return se.slice(0,V+1||1)}function v(M,C){var U,F,V=M.c,se=C.c,ie=M.s,L=C.s,H=M.e,J=C.e;if(!ie||!L)return null;if(U=V&&!V[0],F=se&&!se[0],U||F)return U?F?0:-L:ie;if(ie!=L)return ie;if(U=ie<0,F=H==J,!V||!se)return F?0:!V^U?1:-1;if(!F)return H>J^U?1:-1;for(L=(H=V.length)<(J=se.length)?H:J,ie=0;ie<L;ie++)if(V[ie]!=se[ie])return V[ie]>se[ie]^U?1:-1;return H==J?0:H>J^U?1:-1}function _(M,C,U,F){if(M<C||M>U||M!==s(M))throw Error(o+(F||"Argument")+(typeof M=="number"?M<C||M>U?" out of range: ":" not an integer: ":" not a primitive number: ")+String(M))}function k(M){var C=M.c.length-1;return b(M.e/c)==C&&M.c[C]%2!=0}function P(M,C){return(M.length>1?M.charAt(0)+"."+M.slice(1):M)+(C<0?"e":"e+")+C}function S(M,C,U){var F,V;if(C<0){for(V=U+".";++C;V+=U);M=V+M}else if(F=M.length,++C>F){for(V=U,C-=F;--C;V+=U);M+=V}else C<F&&(M=M.slice(0,C)+"."+M.slice(C));return M}n=p(),n.default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(Eo)})(Mv);var Ud=Mv.exports,ON=function(e,n,r){var i=new e.Uint8Array(r),s=n.pushInt,o=n.pushInt32,a=n.pushInt32Neg,l=n.pushInt64,c=n.pushInt64Neg,u=n.pushFloat,f=n.pushFloatSingle,h=n.pushFloatDouble,g=n.pushTrue,p=n.pushFalse,b=n.pushUndefined,E=n.pushNull,v=n.pushInfinity,_=n.pushInfinityNeg,k=n.pushNaN,P=n.pushNaNNeg,S=n.pushArrayStart,M=n.pushArrayStartFixed,C=n.pushArrayStartFixed32,U=n.pushArrayStartFixed64,F=n.pushObjectStart,V=n.pushObjectStartFixed,se=n.pushObjectStartFixed32,ie=n.pushObjectStartFixed64,L=n.pushByteString,H=n.pushByteStringStart,J=n.pushUtf8String,Q=n.pushUtf8StringStart,X=n.pushSimpleUnassigned,G=n.pushTagStart,te=n.pushTagStart4,le=n.pushTagStart8,ae=n.pushTagUnassigned,ce=n.pushBreak,oe=e.Math.pow,B=0,ue=0,he=0;function me(W){for(W=W|0,B=0,ue=W;(B|0)<(ue|0)&&(he=nE[i[B]&255](i[B]|0)|0,!((he|0)>0)););return he|0}function de(W){return W=W|0,((B|0)+(W|0)|0)<(ue|0)?0:1}function ge(W){return W=W|0,i[W|0]<<8|i[W+1|0]|0}function j(W){return W=W|0,i[W|0]<<24|i[W+1|0]<<16|i[W+2|0]<<8|i[W+3|0]|0}function O(W){return W=W|0,s(W|0),B=B+1|0,0}function z(W){return W=W|0,de(1)|0?1:(s(i[B+1|0]|0),B=B+2|0,0)}function Y(W){return W=W|0,de(2)|0?1:(s(ge(B+1|0)|0),B=B+3|0,0)}function q(W){return W=W|0,de(4)|0?1:(o(ge(B+1|0)|0,ge(B+3|0)|0),B=B+5|0,0)}function Z(W){return W=W|0,de(8)|0?1:(l(ge(B+1|0)|0,ge(B+3|0)|0,ge(B+5|0)|0,ge(B+7|0)|0),B=B+9|0,0)}function N(W){return W=W|0,s(-1-(W-32|0)|0),B=B+1|0,0}function m(W){return W=W|0,de(1)|0?1:(s(-1-(i[B+1|0]|0)|0),B=B+2|0,0)}function y(W){W=W|0;var Ue=0;return de(2)|0?1:(Ue=ge(B+1|0)|0,s(-1-(Ue|0)|0),B=B+3|0,0)}function A(W){return W=W|0,de(4)|0?1:(a(ge(B+1|0)|0,ge(B+3|0)|0),B=B+5|0,0)}function R(W){return W=W|0,de(8)|0?1:(c(ge(B+1|0)|0,ge(B+3|0)|0,ge(B+5|0)|0,ge(B+7|0)|0),B=B+9|0,0)}function D(W){W=W|0;var Ue=0,Le=0,Ie=0;return Ie=W-64|0,de(Ie|0)|0?1:(Ue=B+1|0,Le=(B+1|0)+(Ie|0)|0,L(Ue|0,Le|0),B=Le|0,0)}function ee(W){W=W|0;var Ue=0,Le=0,Ie=0;return de(1)|0||(Ie=i[B+1|0]|0,Ue=B+2|0,Le=(B+2|0)+(Ie|0)|0,de(Ie+1|0)|0)?1:(L(Ue|0,Le|0),B=Le|0,0)}function fe(W){W=W|0;var Ue=0,Le=0,Ie=0;return de(2)|0||(Ie=ge(B+1|0)|0,Ue=B+3|0,Le=(B+3|0)+(Ie|0)|0,de(Ie+2|0)|0)?1:(L(Ue|0,Le|0),B=Le|0,0)}function be(W){W=W|0;var Ue=0,Le=0,Ie=0;return de(4)|0||(Ie=j(B+1|0)|0,Ue=B+5|0,Le=(B+5|0)+(Ie|0)|0,de(Ie+4|0)|0)?1:(L(Ue|0,Le|0),B=Le|0,0)}function ve(W){return W=W|0,1}function Ae(W){return W=W|0,H(),B=B+1|0,0}function T(W){W=W|0;var Ue=0,Le=0,Ie=0;return Ie=W-96|0,de(Ie|0)|0?1:(Ue=B+1|0,Le=(B+1|0)+(Ie|0)|0,J(Ue|0,Le|0),B=Le|0,0)}function x(W){W=W|0;var Ue=0,Le=0,Ie=0;return de(1)|0||(Ie=i[B+1|0]|0,Ue=B+2|0,Le=(B+2|0)+(Ie|0)|0,de(Ie+1|0)|0)?1:(J(Ue|0,Le|0),B=Le|0,0)}function w(W){W=W|0;var Ue=0,Le=0,Ie=0;return de(2)|0||(Ie=ge(B+1|0)|0,Ue=B+3|0,Le=(B+3|0)+(Ie|0)|0,de(Ie+2|0)|0)?1:(J(Ue|0,Le|0),B=Le|0,0)}function I(W){W=W|0;var Ue=0,Le=0,Ie=0;return de(4)|0||(Ie=j(B+1|0)|0,Ue=B+5|0,Le=(B+5|0)+(Ie|0)|0,de(Ie+4|0)|0)?1:(J(Ue|0,Le|0),B=Le|0,0)}function K(W){return W=W|0,1}function re(W){return W=W|0,Q(),B=B+1|0,0}function ne(W){return W=W|0,M(W-128|0),B=B+1|0,0}function Te(W){return W=W|0,de(1)|0?1:(M(i[B+1|0]|0),B=B+2|0,0)}function Oe(W){return W=W|0,de(2)|0?1:(M(ge(B+1|0)|0),B=B+3|0,0)}function Ce(W){return W=W|0,de(4)|0?1:(C(ge(B+1|0)|0,ge(B+3|0)|0),B=B+5|0,0)}function Ne(W){return W=W|0,de(8)|0?1:(U(ge(B+1|0)|0,ge(B+3|0)|0,ge(B+5|0)|0,ge(B+7|0)|0),B=B+9|0,0)}function Ve(W){return W=W|0,S(),B=B+1|0,0}function Qe(W){W=W|0;var Ue=0;return Ue=W-160|0,de(Ue|0)|0?1:(V(Ue|0),B=B+1|0,0)}function Yd(W){return W=W|0,de(1)|0?1:(V(i[B+1|0]|0),B=B+2|0,0)}function Xd(W){return W=W|0,de(2)|0?1:(V(ge(B+1|0)|0),B=B+3|0,0)}function Zd(W){return W=W|0,de(4)|0?1:(se(ge(B+1|0)|0,ge(B+3|0)|0),B=B+5|0,0)}function D2(W){return W=W|0,de(8)|0?1:(ie(ge(B+1|0)|0,ge(B+3|0)|0,ge(B+5|0)|0,ge(B+7|0)|0),B=B+9|0,0)}function $2(W){return W=W|0,F(),B=B+1|0,0}function Is(W){return W=W|0,G(W-192|0|0),B=B+1|0,0}function Cj(W){return W=W|0,G(W|0),B=B+1|0,0}function Bj(W){return W=W|0,G(W|0),B=B+1|0,0}function jj(W){return W=W|0,G(W|0),B=B+1|0,0}function Rj(W){return W=W|0,G(W|0),B=B+1|0,0}function Ct(W){return W=W|0,G(W-192|0|0),B=B+1|0,0}function Pj(W){return W=W|0,G(W|0),B=B+1|0,0}function Oj(W){return W=W|0,G(W|0),B=B+1|0,0}function Mj(W){return W=W|0,G(W|0),B=B+1|0,0}function V2(W){return W=W|0,de(1)|0?1:(G(i[B+1|0]|0),B=B+2|0,0)}function H2(W){return W=W|0,de(2)|0?1:(G(ge(B+1|0)|0),B=B+3|0,0)}function W2(W){return W=W|0,de(4)|0?1:(te(ge(B+1|0)|0,ge(B+3|0)|0),B=B+5|0,0)}function q2(W){return W=W|0,de(8)|0?1:(le(ge(B+1|0)|0,ge(B+3|0)|0,ge(B+5|0)|0,ge(B+7|0)|0),B=B+9|0,0)}function bt(W){return W=W|0,X((W|0)-224|0),B=B+1|0,0}function G2(W){return W=W|0,p(),B=B+1|0,0}function K2(W){return W=W|0,g(),B=B+1|0,0}function Y2(W){return W=W|0,E(),B=B+1|0,0}function X2(W){return W=W|0,b(),B=B+1|0,0}function Z2(W){return W=W|0,de(1)|0?1:(X(i[B+1|0]|0),B=B+2|0,0)}function Q2(W){W=W|0;var Ue=0,Le=0,Ie=1,Ul=0,Wo=0,Ij=0;return de(2)|0?1:(Ue=i[B+1|0]|0,Le=i[B+2|0]|0,(Ue|0)&128&&(Ie=-1),Ul=+(((Ue|0)&124)>>2),Wo=+(((Ue|0)&3)<<8|Le),+Ul==0?u(+(+Ie*5960464477539063e-23*+Wo)):+Ul==31?+Ie==1?+Wo>0?k():v():+Wo>0?P():_():u(+(+Ie*oe(2,+(+Ul-25))*+(1024+Wo))),B=B+3|0,0)}function J2(W){return W=W|0,de(4)|0?1:(f(i[B+1|0]|0,i[B+2|0]|0,i[B+3|0]|0,i[B+4|0]|0),B=B+5|0,0)}function eE(W){return W=W|0,de(8)|0?1:(h(i[B+1|0]|0,i[B+2|0]|0,i[B+3|0]|0,i[B+4|0]|0,i[B+5|0]|0,i[B+6|0]|0,i[B+7|0]|0,i[B+8|0]|0),B=B+9|0,0)}function Xe(W){return W=W|0,1}function tE(W){return W=W|0,ce(),B=B+1|0,0}var nE=[O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,z,Y,q,Z,Xe,Xe,Xe,Xe,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,m,y,A,R,Xe,Xe,Xe,Xe,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,ee,fe,be,ve,Xe,Xe,Xe,Ae,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,x,w,I,K,Xe,Xe,Xe,re,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,Te,Oe,Ce,Ne,Xe,Xe,Xe,Ve,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Yd,Xd,Zd,D2,Xe,Xe,Xe,$2,Is,Is,Is,Is,Is,Is,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,V2,H2,W2,q2,Xe,Xe,Xe,Xe,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,G2,K2,Y2,X2,Z2,Q2,J2,eE,Xe,Xe,Xe,tE];return{parse:me}},Ld={},Yt={};const tg=Ud.BigNumber;Yt.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Yt.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Yt.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Yt.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Yt.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Yt.SHIFT32=Math.pow(2,32);Yt.SHIFT16=Math.pow(2,16);Yt.MAX_SAFE_HIGH=2097151;Yt.NEG_ONE=new tg(-1);Yt.TEN=new tg(10);Yt.TWO=new tg(2);Yt.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(t){const{Buffer:e}=jl,n=Ud.BigNumber,r=Yt,i=r.SHIFT32,s=r.SHIFT16,o=2097151;t.parseHalf=function(c){var u,f,h;return h=c[0]&128?-1:1,u=(c[0]&124)>>2,f=(c[0]&3)<<8|c[1],u?u===31?h*(f?NaN:1/0):h*Math.pow(2,u-25)*(1024+f):h*5960464477539063e-23*f};function a(l){return l<16?"0"+l.toString(16):l.toString(16)}t.arrayBufferToBignumber=function(l){const c=l.byteLength;let u="";for(let f=0;f<c;f++)u+=a(l[f]);return new n(u,16)},t.buildMap=l=>{const c=new Map,u=Object.keys(l),f=u.length;for(let h=0;h<f;h++)c.set(u[h],l[u[h]]);return c},t.buildInt32=(l,c)=>l*s+c,t.buildInt64=(l,c,u,f)=>{const h=t.buildInt32(l,c),g=t.buildInt32(u,f);return h>o?new n(h).times(i).plus(g):h*i+g},t.writeHalf=function(c,u){const f=e.allocUnsafe(4);f.writeFloatBE(u,0);const h=f.readUInt32BE(0);if(h&8191)return!1;var g=h>>16&32768;const p=h>>23&255,b=h&8388607;if(p>=113&&p<=142)g+=(p-112<<10)+(b>>13);else if(p>=103&&p<113){if(b&(1<<126-p)-1)return!1;g+=b+8388608>>126-p}else return!1;return c.writeUInt16BE(g,0),!0},t.keySorter=function(l,c){var u=l[0].byteLength,f=c[0].byteLength;return u>f?1:f>u?-1:l[0].compare(c[0])},t.isNegativeZero=l=>l===0&&1/l<0,t.nextPowerOf2=l=>{let c=0;if(l&&!(l&l-1))return l;for(;l!==0;)l>>=1,c+=1;return 1<<c}})(Ld);const ng=Yt,MN=ng.MT,ic=ng.SIMPLE,Bf=ng.SYMS;let IN=class c0{constructor(e){if(typeof e!="number")throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(e|0)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,MN.SIMPLE_FLOAT)}static isSimple(e){return e instanceof c0}static decode(e,n){switch(n==null&&(n=!0),e){case ic.FALSE:return!1;case ic.TRUE:return!0;case ic.NULL:return n?null:Bf.NULL;case ic.UNDEFINED:return n?void 0:Bf.UNDEFINED;case-1:if(!n)throw new Error("Invalid BREAK");return Bf.BREAK;default:return new c0(e)}}};var Iv=IN;let FN=class u0{constructor(e,n,r){if(this.tag=e,this.value=n,this.err=r,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var n,r;if(r=e!=null?e[this.tag]:void 0,typeof r!="function"&&(r=u0["_tag"+this.tag],typeof r!="function"))return this;try{return r.call(u0,this.value)}catch(i){return n=i,this.err=n,this}}};var Fv=FN;const Uv=self.location?self.location.protocol+"//"+self.location.host:"",d0=self.URL;let UN=class{constructor(e="",n=Uv){this.super=new d0(e,n),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function LN(t){if(typeof t=="string")return new d0(t).toString();if(!(t instanceof d0)){const e=t.username&&t.password?`${t.username}:${t.password}@`:"",n=t.auth?t.auth+"@":"",r=t.port?":"+t.port:"",i=t.protocol?t.protocol+"//":"",s=t.host||"",o=t.hostname||"",a=t.search||(t.query?"?"+t.query:""),l=t.hash||"",c=t.pathname||"",u=t.path||c+a;return`${i}${e||n}${s||o+r}${u}${l}`}}var Lv={URLWithLegacySupport:UN,URLSearchParams:self.URLSearchParams,defaultBase:Uv,format:LN};const{URLWithLegacySupport:ty,format:zN}=Lv;var DN=(t,e={},n={},r)=>{let i=e.protocol?e.protocol.replace(":",""):"http";i=(n[i]||r||i)+":";let s;try{s=new ty(t)}catch{s={}}const o=Object.assign({},e,{protocol:i||s.protocol,host:e.host||s.host});return new ty(t,zN(o)).toString()};const{URLWithLegacySupport:$N,format:VN,URLSearchParams:HN,defaultBase:WN}=Lv,qN=DN;var zv={URL:$N,URLSearchParams:HN,format:VN,relative:qN,defaultBase:WN};const{Buffer:zs}=jl,ny=Cl,GN=Ud.BigNumber,KN=ON,Xt=Ld,Ye=Yt,YN=Iv,XN=Fv,{URL:ZN}=zv;let f0=class h0{constructor(e){e=e||{},!e.size||e.size<65536?e.size=65536:e.size=Xt.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=zs.from(this._heap),this._reset(),this._knownTags=Object.assign({0:n=>new Date(n),1:n=>new Date(n*1e3),2:n=>Xt.arrayBufferToBignumber(n),3:n=>Ye.NEG_ONE.minus(Xt.arrayBufferToBignumber(n)),4:n=>Ye.TEN.pow(n[0]).times(n[1]),5:n=>Ye.TWO.pow(n[0]).times(n[1]),32:n=>new ZN(n),35:n=>new RegExp(n)},e.tags),this.parser=KN(Eo,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case Ye.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case Ye.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case Ye.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case Ye.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case Ye.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case Ye.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length));break}this._currentParent&&this._currentParent.type===Ye.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,e.length===0&&this._closeParent())}_push(e,n){const r=this._currentParent;switch(r.values++,r.type){case Ye.PARENT.ARRAY:case Ye.PARENT.BYTE_STRING:case Ye.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=e:this._ref.push(e),this._dec();break;case Ye.PARENT.OBJECT:r.tmpKey!=null?(this._ref[r.tmpKey]=e,r.tmpKey=null,this._dec()):(r.tmpKey=e,typeof r.tmpKey!="string"&&(r.type=Ye.PARENT.MAP,r.ref=Xt.buildMap(r.ref)));break;case Ye.PARENT.MAP:r.tmpKey!=null?(this._ref.set(r.tmpKey,e),r.tmpKey=null,this._dec()):r.tmpKey=e;break;case Ye.PARENT.TAG:this._ref.push(e),n||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,n,r){this._parents[this._depth]={type:n,length:r,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Ye.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,n){const r=this._knownTags[e];return r?r(n):new XN(e,n)}createMap(e,n){return e}createObject(e,n){return e}createArray(e,n){return e}createByteString(e,n){return zs.concat(e)}createByteStringFromHeap(e,n){return e===n?zs.alloc(0):zs.from(this._heap.slice(e,n))}createInt(e){return e}createInt32(e,n){return Xt.buildInt32(e,n)}createInt64(e,n,r,i){return Xt.buildInt64(e,n,r,i)}createFloat(e){return e}createFloatSingle(e,n,r,i){return ny.read([e,n,r,i],0,!1,23,4)}createFloatDouble(e,n,r,i,s,o,a,l){return ny.read([e,n,r,i,s,o,a,l],0,!1,52,8)}createInt32Neg(e,n){return-1-Xt.buildInt32(e,n)}createInt64Neg(e,n,r,i){const s=Xt.buildInt32(e,n),o=Xt.buildInt32(r,i);return s>Ye.MAX_SAFE_HIGH?Ye.NEG_ONE.minus(new GN(s).times(Ye.SHIFT32).plus(o)):-1-(s*Ye.SHIFT32+o)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,n){return e.join("")}createUtf8StringFromHeap(e,n){return e===n?"":this._buffer.toString("utf8",e,n)}createSimpleUnassigned(e){return new YN(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,n){this._push(this.createInt32(e,n))}pushInt64(e,n,r,i){this._push(this.createInt64(e,n,r,i))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,n,r,i){this._push(this.createFloatSingle(e,n,r,i))}pushFloatDouble(e,n,r,i,s,o,a,l){this._push(this.createFloatDouble(e,n,r,i,s,o,a,l))}pushInt32Neg(e,n){this._push(this.createInt32Neg(e,n))}pushInt64Neg(e,n,r,i){this._push(this.createInt64Neg(e,n,r,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Ye.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,n){const r=Xt.buildInt32(e,n);this._createArrayStartFixed(r)}pushArrayStartFixed64(e,n,r,i){const s=Xt.buildInt64(e,n,r,i);this._createArrayStartFixed(s)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,n){const r=Xt.buildInt32(e,n);this._createObjectStartFixed(r)}pushObjectStartFixed64(e,n,r,i){const s=Xt.buildInt64(e,n,r,i);this._createObjectStartFixed(s)}pushByteStringStart(){this._parents[this._depth]={type:Ye.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,n){this._push(this.createByteStringFromHeap(e,n))}pushUtf8StringStart(){this._parents[this._depth]={type:Ye.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,n){this._push(this.createUtf8StringFromHeap(e,n))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:Ye.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,n){this.pushTagStart(Xt.buildInt32(e,n))}pushTagStart8(e,n,r,i){this.pushTagStart(Xt.buildInt64(e,n,r,i))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){if(e===0){this._push(this.createObject({}));return}this._createParent({},Ye.PARENT.OBJECT,e)}_createArrayStartFixed(e){if(e===0){this._push(this.createArray([]));return}this._createParent(new Array(e),Ye.PARENT.ARRAY,e)}_decode(e){if(e.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(e);const n=this.parser.parse(e.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(n>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,n){return typeof e=="string"&&(e=zs.from(e,n||"hex")),new h0({size:e.length}).decodeFirst(e)}static decodeAll(e,n){return typeof e=="string"&&(e=zs.from(e,n||"hex")),new h0({size:e.length}).decodeAll(e)}};f0.decodeFirst=f0.decode;var Dv=f0;const{Buffer:jf}=jl,QN=Dv,JN=Ld;class rg extends QN{createTag(e,n){return`${e}(${n})`}createInt(e){return super.createInt(e).toString()}createInt32(e,n){return super.createInt32(e,n).toString()}createInt64(e,n,r,i){return super.createInt64(e,n,r,i).toString()}createInt32Neg(e,n){return super.createInt32Neg(e,n).toString()}createInt64Neg(e,n,r,i){return super.createInt64Neg(e,n,r,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const n=super.createFloat(e);return JN.isNegativeZero(e)?"-0_1":`${n}_1`}createFloatSingle(e,n,r,i){return`${super.createFloatSingle(e,n,r,i)}_2`}createFloatDouble(e,n,r,i,s,o,a,l){return`${super.createFloatDouble(e,n,r,i,s,o,a,l)}_3`}createByteString(e,n){const r=e.join(", ");return n===-1?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(e,n){return`h'${jf.from(super.createByteStringFromHeap(e,n)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,n){const r=super.createArray(e,n);return n===-1?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(e,n){const r=super.createMap(e),i=Array.from(r.keys()).reduce(ry(r),"");return n===-1?`{_ ${i}}`:`{${i}}`}createObject(e,n){const r=super.createObject(e),i=Object.keys(r).reduce(ry(r),"");return n===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(e,n){const r=e.join(", ");return n===-1?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(e,n){return`"${jf.from(super.createUtf8StringFromHeap(e,n)).toString("utf8")}"`}static diagnose(e,n){return typeof e=="string"&&(e=jf.from(e,n||"hex")),new rg().decodeFirst(e)}}var e4=rg;function ry(t){return(e,n)=>e?`${e}, ${n}: ${t[n]}`:`${n}: ${t[n]}`}const{Buffer:yr}=jl,{URL:t4}=zv,p0=Ud.BigNumber,Rf=Ld,At=Yt,Vn=At.MT,sc=At.NUMBYTES,iy=At.SHIFT32,sy=At.SYMS,Ds=At.TAG,n4=At.MT.SIMPLE_FLOAT<<5|At.NUMBYTES.TWO,r4=At.MT.SIMPLE_FLOAT<<5|At.NUMBYTES.FOUR,i4=At.MT.SIMPLE_FLOAT<<5|At.NUMBYTES.EIGHT,s4=At.MT.SIMPLE_FLOAT<<5|At.SIMPLE.TRUE,o4=At.MT.SIMPLE_FLOAT<<5|At.SIMPLE.FALSE,a4=At.MT.SIMPLE_FLOAT<<5|At.SIMPLE.UNDEFINED,oy=At.MT.SIMPLE_FLOAT<<5|At.SIMPLE.NULL,l4=new p0("0x20000000000000"),c4=yr.from("f97e00","hex"),u4=yr.from("f9fc00","hex"),d4=yr.from("f97c00","hex");function f4(t){return{}.toString.call(t).slice(8,-1)}class Yu{constructor(e){e=e||{},this.streaming=typeof e.stream=="function",this.onData=e.stream,this.semanticTypes=[[t4,this._pushUrl],[p0,this._pushBigNumber]];const n=e.genTypes||[],r=n.length;for(let i=0;i<r;i++)this.addSemanticType(n[i][0],n[i][1]);this._reset()}addSemanticType(e,n){const r=this.semanticTypes.length;for(let i=0;i<r;i++)if(this.semanticTypes[i][0]===e){const o=this.semanticTypes[i][1];return this.semanticTypes[i][1]=n,o}return this.semanticTypes.push([e,n]),null}push(e){return e&&(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(e,n,r){return this.result[this.offset]=e,this.resultMethod[this.offset]=n,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(c4)}_pushInfinity(e){const n=e<0?u4:d4;return this.push(n)}_pushFloat(e){const n=yr.allocUnsafe(2);if(Rf.writeHalf(n,e)&&Rf.parseHalf(n)===e)return this._pushUInt8(n4)&&this.push(n);const r=yr.allocUnsafe(4);return r.writeFloatBE(e,0),r.readFloatBE(0)===e?this._pushUInt8(r4)&&this.push(r):this._pushUInt8(i4)&&this._pushDoubleBE(e)}_pushInt(e,n,r){const i=n<<5;return e<24?this._pushUInt8(i|e):e<=255?this._pushUInt8(i|sc.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(i|sc.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(i|sc.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|sc.EIGHT)&&this._pushUInt32BE(Math.floor(e/iy))&&this._pushUInt32BE(e%iy):n===Vn.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,Vn.NEG_INT,e):this._pushInt(e,Vn.POS_INT)}_pushNumber(e){switch(!1){case e===e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!==0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const n=yr.byteLength(e,"utf8");return this._pushInt(n,Vn.UTF8_STRING)&&this.pushWrite(e,5,n)}_pushBoolean(e){return this._pushUInt8(e?s4:o4)}_pushUndefined(e){return this._pushUInt8(a4)}_pushArray(e,n){const r=n.length;if(!e._pushInt(r,Vn.ARRAY))return!1;for(let i=0;i<r;i++)if(!e.pushAny(n[i]))return!1;return!0}_pushTag(e){return this._pushInt(e,Vn.TAG)}_pushDate(e,n){return e._pushTag(Ds.DATE_EPOCH)&&e.pushAny(Math.round(n/1e3))}_pushBuffer(e,n){return e._pushInt(n.length,Vn.BYTE_STRING)&&e.push(n)}_pushNoFilter(e,n){return e._pushBuffer(e,n.slice())}_pushRegexp(e,n){return e._pushTag(Ds.REGEXP)&&e.pushAny(n.source)}_pushSet(e,n){if(!e._pushInt(n.size,Vn.ARRAY))return!1;for(const r of n)if(!e.pushAny(r))return!1;return!0}_pushUrl(e,n){return e._pushTag(Ds.URI)&&e.pushAny(n.format())}_pushBigint(e){let n=Ds.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),n=Ds.NEG_BIGINT);let r=e.toString(16);r.length%2&&(r="0"+r);const i=yr.from(r,"hex");return this._pushTag(n)&&this._pushBuffer(this,i)}_pushBigNumber(e,n){if(n.isNaN())return e._pushNaN();if(!n.isFinite())return e._pushInfinity(n.isNegative()?-1/0:1/0);if(n.isInteger())return e._pushBigint(n);if(!(e._pushTag(Ds.DECIMAL_FRAC)&&e._pushInt(2,Vn.ARRAY)))return!1;const r=n.decimalPlaces(),i=n.multipliedBy(new p0(10).pow(r));return e._pushIntNum(-r)?i.abs().isLessThan(l4)?e._pushIntNum(i.toNumber()):e._pushBigint(i):!1}_pushMap(e,n){return e._pushInt(n.size,Vn.MAP)?this._pushRawMap(n.size,Array.from(n)):!1}_pushObject(e){if(!e)return this._pushUInt8(oy);for(var n=this.semanticTypes.length,r=0;r<n;r++)if(e instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(e,this,e);var i=e.encodeCBOR;if(typeof i=="function")return i.call(e,this);var s=Object.keys(e),o=s.length;return this._pushInt(o,Vn.MAP)?this._pushRawMap(o,s.map(a=>[a,e[a]])):!1}_pushRawMap(e,n){n=n.map(function(i){return i[0]=Yu.encode(i[0]),i}).sort(Rf.keySorter);for(var r=0;r<e;r++)if(!this.push(n[r][0])||!this.pushAny(n[r][1]))return!1;return!0}write(e){return this.pushAny(e)}pushAny(e){var n=f4(e);switch(n){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,yr.isBuffer(e)?e:yr.from(e));case"Null":return this._pushUInt8(oy);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case sy.NULL:return this._pushObject(null);case sy.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(this.offset===0)return null;for(var e=this.result,n=this.resultLength,r=this.resultMethod,i=this.offset,s=0,o=0;o<i;o++)s+=n[o];var a=yr.allocUnsafe(s),l=0,c=0;for(o=0;o<i;o++){switch(c=n[o],r[o]){case 0:e[o].copy(a,l);break;case 1:a.writeUInt8(e[o],l,!0);break;case 2:a.writeUInt16BE(e[o],l,!0);break;case 3:a.writeUInt32BE(e[o],l,!0);break;case 4:a.writeDoubleBE(e[o],l,!0);break;case 5:a.write(e[o],l,c,"utf8");break;default:throw new Error("unkown method")}l+=c}var u=a;return this._reset(),u}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const n=new Yu;if(!n.pushAny(e))throw new Error("Failed to encode input");return n.finalize()}}var h4=Yu;(function(t){t.Diagnose=e4,t.Decoder=Dv,t.Encoder=h4,t.Simple=Iv,t.Tagged=Fv,t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.decode=t.Decoder.decode,t.leveldb={decode:t.Decoder.decodeAll,encode:t.Encoder.encode,buffer:!0,name:"cbor"}})(Ov);const $v=hb(Ov);function Qn(t){return Oa(Xp.create().update(new Uint8Array(t)).digest())}function Wc(t){if(t instanceof $v.Tagged)return Wc(t.value);if(typeof t=="string")return Vv(t);if(typeof t=="number")return Qn(ht(t));if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))return Qn(t);if(Array.isArray(t)){const e=t.map(Wc);return Qn(tr(...e))}else{if(t&&typeof t=="object"&&t._isPrincipal)return Qn(t.toUint8Array());if(typeof t=="object"&&t!==null&&typeof t.toHash=="function")return Wc(t.toHash());if(typeof t=="object")return Xu(t);if(typeof t=="bigint")return Qn(ht(t))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${t}`),{value:t})}const Vv=t=>{const e=new TextEncoder().encode(t);return Qn(e)};function cl(t){return Xu(t)}function Xu(t){const r=Object.entries(t).filter(([,o])=>o!==void 0).map(([o,a])=>{const l=Vv(o),c=Wc(a);return[l,c]}).sort(([o],[a])=>K1(o,a)),i=tr(...r.map(o=>tr(...o)));return Qn(i)}var p4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const g4=new TextEncoder().encode(`
ic-request`);class ig{getPrincipal(){return this._principal||(this._principal=Re.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(e){const{body:n}=e,r=p4(e,["body"]),i=cl(n);return Object.assign(Object.assign({},r),{body:{content:n,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(tr(g4,i))}})}}class g0{getPrincipal(){return Re.anonymous()}async transformRequest(e){return Object.assign(Object.assign({},e),{body:{content:e.body}})}}var fn={},Vo={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});const m4=9007199254740992;function ti(t,...e){const n=new Uint8Array(t.byteLength+e.reduce((i,s)=>i+s.byteLength,0));n.set(new Uint8Array(t),0);let r=t.byteLength;for(const i of e)n.set(new Uint8Array(i),r),r+=i.byteLength;return n.buffer}function ir(t,e,n){n=n.replace(/[^0-9a-fA-F]/g,"");const r=2**(e-24);n=n.slice(-r*2).padStart(r*2,"0");const i=[(t<<5)+e].concat(n.match(/../g).map(s=>parseInt(s,16)));return new Uint8Array(i).buffer}function zd(t,e){if(e<24)return new Uint8Array([(t<<5)+e]).buffer;{const n=e<=255?24:e<=65535?25:e<=4294967295?26:27;return ir(t,n,e.toString(16))}}function Hv(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|r&63):r<55296||r>=57344?e.push(224|r>>12,128|r>>6&63,128|r&63):(n++,r=(r&1023)<<10|t.charCodeAt(n)&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63))}return ti(new Uint8Array(zd(3,t.length)),new Uint8Array(e))}function y4(t,e){if(t==14277111)return ti(new Uint8Array([217,217,247]),e);if(t<24)return ti(new Uint8Array([192+t]),e);{const n=t<=255?24:t<=65535?25:t<=4294967295?26:27,r=2**(n-24),i=t.toString(16).slice(-r*2).padStart(r*2,"0"),s=[192+n].concat(i.match(/../g).map(o=>parseInt(o,16)));return new Uint8Array(s).buffer}}Ze.tagged=y4;function Rl(t){return new Uint8Array(t).buffer}Ze.raw=Rl;function sg(t){if(isNaN(t))throw new RangeError("Invalid number.");t=Math.min(Math.max(0,t),23);const e=[0+t];return new Uint8Array(e).buffer}Ze.uSmall=sg;function Wv(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),255),t=t.toString(16),ir(0,24,t)}Ze.u8=Wv;function qv(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),65535),t=t.toString(16),ir(0,25,t)}Ze.u16=qv;function Gv(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),4294967295),t=t.toString(16),ir(0,26,t)}Ze.u32=Gv;function og(t,e){if(typeof t=="string"&&e==16){if(t.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return ir(0,27,t)}if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),m4),t=t.toString(16),ir(0,27,t)}Ze.u64=og;function Kv(t){if(isNaN(t))throw new RangeError("Invalid number.");if(t===0)return sg(0);t=Math.min(Math.max(0,-t),24)-1;const e=[32+t];return new Uint8Array(e).buffer}Ze.iSmall=Kv;function Yv(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),255),t=t.toString(16),ir(1,24,t)}Ze.i8=Yv;function Xv(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),65535),t=t.toString(16),ir(1,25,t)}Ze.i16=Xv;function Zv(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),4294967295),t=t.toString(16),ir(1,26,t)}Ze.i32=Zv;function Qv(t,e){if(typeof t=="string"&&e==16){if(t.startsWith("-")?t=t.slice(1):t="0",t.match(/[^0-9a-fA-F]/)||t.length>16)throw new RangeError("Invalid number.");let n=!1,r=t.split("").reduceRight((i,s)=>{if(n)return s+i;let o=parseInt(s,16)-1;return o>=0?(n=!0,o.toString(16)+i):"f"+i},"");return n?ir(1,27,r):og(0)}if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),9007199254740992),t=t.toString(16),ir(1,27,t)}Ze.i64=Qv;function x4(t){return t>=0?t<24?sg(t):t<=255?Wv(t):t<=65535?qv(t):t<=4294967295?Gv(t):og(t):t>=-24?Kv(t):t>=-255?Yv(t):t>=-65535?Xv(t):t>=-4294967295?Zv(t):Qv(t)}Ze.number=x4;function b4(t){return ti(zd(2,t.byteLength),t)}Ze.bytes=b4;function w4(t){return Hv(t)}Ze.string=w4;function v4(t){return ti(zd(4,t.length),...t)}Ze.array=v4;function _4(t,e=!1){t instanceof Map||(t=new Map(Object.entries(t)));let n=Array.from(t.entries());return e&&(n=n.sort(([r],[i])=>r.localeCompare(i))),ti(zd(5,t.size),...n.map(([r,i])=>ti(Hv(r),i)))}Ze.map=_4;function E4(t){const e=new Float32Array([t]);return ti(new Uint8Array([250]),new Uint8Array(e.buffer))}Ze.singleFloat=E4;function S4(t){const e=new Float64Array([t]);return ti(new Uint8Array([251]),new Uint8Array(e.buffer))}Ze.doubleFloat=S4;function k4(t){return t?Jv():e_()}Ze.bool=k4;function Jv(){return Rl(new Uint8Array([245]))}Ze.true_=Jv;function e_(){return Rl(new Uint8Array([244]))}Ze.false_=e_;function N4(){return Rl(new Uint8Array([246]))}Ze.null_=N4;function T4(){return Rl(new Uint8Array([247]))}Ze.undefined_=T4;var A4=Eo&&Eo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(Vo,"__esModule",{value:!0});const Wn=A4(Ze),C4=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class t_{constructor(e,n=!1){this._serializer=e,this._stable=n,this.name="jsonDefault",this.priority=-100}match(e){return["undefined","boolean","number","string","object"].indexOf(typeof e)!=-1}encode(e){switch(typeof e){case"undefined":return Wn.undefined_();case"boolean":return Wn.bool(e);case"number":return Math.floor(e)===e?Wn.number(e):Wn.doubleFloat(e);case"string":return Wn.string(e);case"object":if(e===null)return Wn.null_();if(Array.isArray(e))return Wn.array(e.map(n=>this._serializer.serializeValue(n)));if(C4.find(n=>e instanceof n))return Wn.bytes(e.buffer);if(Object.getOwnPropertyNames(e).indexOf("toJSON")!==-1)return this.encode(e.toJSON());if(e instanceof Map){const n=new Map;for(const[r,i]of e.entries())n.set(r,this._serializer.serializeValue(i));return Wn.map(n,this._stable)}else{const n=new Map;for(const[r,i]of Object.entries(e))n.set(r,this._serializer.serializeValue(i));return Wn.map(n,this._stable)}default:throw new Error("Invalid value.")}}}Vo.JsonDefaultCborEncoder=t_;class n_{constructor(){this.name="cborEncoder",this.priority=-90}match(e){return typeof e=="object"&&typeof e.toCBOR=="function"}encode(e){return e.toCBOR()}}Vo.ToCborEncoder=n_;class r_{constructor(){this._encoders=new Set}static withDefaultEncoders(e=!1){const n=new this;return n.addEncoder(new t_(n,e)),n.addEncoder(new n_),n}removeEncoder(e){for(const n of this._encoders.values())n.name==e&&this._encoders.delete(n)}addEncoder(e){this._encoders.add(e)}getEncoderFor(e){let n=null;for(const r of this._encoders)(!n||r.priority>n.priority)&&r.match(e)&&(n=r);if(n===null)throw new Error("Could not find an encoder for value.");return n}serializeValue(e){return this.getEncoderFor(e).encode(e)}serialize(e){return this.serializeValue(e)}}Vo.CborSerializer=r_;class B4 extends r_{serialize(e){return Wn.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(e))]))}}Vo.SelfDescribeCborSerializer=B4;(function(t){function e(i){for(var s in i)t.hasOwnProperty(s)||(t[s]=i[s])}var n=Eo&&Eo.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var o in i)Object.hasOwnProperty.call(i,o)&&(s[o]=i[o]);return s.default=i,s};Object.defineProperty(t,"__esModule",{value:!0}),e(Vo);const r=n(Ze);t.value=r})(fn);class j4{get name(){return"Principal"}get priority(){return 0}match(e){return e&&e._isPrincipal===!0}encode(e){return fn.value.bytes(e.toUint8Array())}}class R4{get name(){return"Buffer"}get priority(){return 1}match(e){return e instanceof ArrayBuffer||ArrayBuffer.isView(e)}encode(e){return fn.value.bytes(new Uint8Array(e))}}class P4{get name(){return"BigInt"}get priority(){return 1}match(e){return typeof e=="bigint"}encode(e){return e>BigInt(0)?fn.value.tagged(2,fn.value.bytes(Kr(e.toString(16)))):fn.value.tagged(3,fn.value.bytes(Kr((BigInt("-1")*e).toString(16))))}}const Dd=fn.SelfDescribeCborSerializer.withDefaultEncoders(!0);Dd.addEncoder(new j4);Dd.addEncoder(new R4);Dd.addEncoder(new P4);var m0;(function(t){t[t.Uint64LittleEndian=71]="Uint64LittleEndian",t[t.Semantic=55799]="Semantic"})(m0||(m0={}));function Pf(t){return Dd.serialize(t)}function ay(t){const e=t.byteLength;let n=BigInt(0);for(let r=0;r<e;r++)n=n*BigInt(256)+BigInt(t[r]);return n}class O4 extends $v.Decoder{createByteString(e){return tr(...e)}createByteStringFromHeap(e,n){return e===n?new ArrayBuffer(0):new Uint8Array(this._heap.slice(e,n))}}function Vr(t){const e=new Uint8Array(t),n=new O4({size:e.byteLength,tags:{2:r=>ay(r),3:r=>-ay(r),[m0.Semantic]:r=>r}});try{return n.decodeFirst(e)}catch(r){throw new Error(`Failed to decode CBOR: ${r}, input: ${Ut(e)}`)}}const oc=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const t=new Uint32Array(1);return window.crypto.getRandomValues(t),t[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var y0;(function(t){t.Call="call"})(y0||(y0={}));function x0(){const t=new ArrayBuffer(16),e=new DataView(t),n=oc(),r=oc(),i=oc(),s=oc();return e.setUint32(0,n),e.setUint32(4,r),e.setUint32(8,i),e.setUint32(12,s),t}const ly=BigInt(1e6),M4=60*1e3;class qs{constructor(e){if(e<90*1e3){const a=BigInt(Date.now()+e)*ly/BigInt(1e9);this._value=a*BigInt(1e9);return}const s=BigInt(Math.floor(Date.now()+e-M4))*ly/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=s}toCBOR(){return fn.value.u64(this._value.toString(16),16)}toHash(){return ht(this._value)}}function cy(t=x0){return async e=>{const n=e.request.headers;e.request.headers=n,e.endpoint==="call"&&(e.body.nonce=t())}}function fa(t){const e=[];return t.forEach((n,r)=>{e.push([r,n])}),e}class Of extends kt{constructor(e,n){super(e),this.response=n,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ag=BigInt(0),lg=BigInt(1),I4=BigInt(2);function $d(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function qi(t){if(!$d(t))throw new Error("Uint8Array expected")}function Ma(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const F4=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function js(t){qi(t);let e="";for(let n=0;n<t.length;n++)e+=F4[t[n]];return e}function i_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?ag:BigInt("0x"+t)}const Br={_0:48,_9:57,A:65,F:70,a:97,f:102};function uy(t){if(t>=Br._0&&t<=Br._9)return t-Br._0;if(t>=Br.A&&t<=Br.F)return t-(Br.A-10);if(t>=Br.a&&t<=Br.f)return t-(Br.a-10)}function s_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=uy(t.charCodeAt(s)),a=uy(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function Xn(t){return i_(js(t))}function Ia(t){return qi(t),i_(js(Uint8Array.from(t).reverse()))}function It(t,e){return s_(t.toString(16).padStart(e*2,"0"))}function Zu(t,e){return It(t,e).reverse()}function nn(t,e,n){let r;if(typeof e=="string")try{r=s_(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if($d(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function wt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];qi(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function cg(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Mf=t=>typeof t=="bigint"&&ag<=t;function o_(t,e,n){return Mf(t)&&Mf(e)&&Mf(n)&&e<=t&&t<n}function _i(t,e,n,r){if(!o_(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Fa(t){let e;for(e=0;t>ag;t>>=lg,e+=1);return e}function U4(t,e){return t>>BigInt(e)&lg}const qc=t=>(I4<<BigInt(t-1))-lg,L4={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||$d(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Pl(t,e,n={}){const r=(i,s,o)=>{const a=L4[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const dy=()=>{throw new Error("not implemented")};function ul(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pt=BigInt(0),it=BigInt(1),Ei=BigInt(2),z4=BigInt(3),b0=BigInt(4),fy=BigInt(5),hy=BigInt(8);function ft(t,e){const n=t%e;return n>=Pt?n:e+n}function D4(t,e,n){if(e<Pt)throw new Error("invalid exponent, negatives unsupported");if(n<=Pt)throw new Error("invalid modulus");if(n===it)return Pt;let r=it;for(;e>Pt;)e&it&&(r=r*t%n),t=t*t%n,e>>=it;return r}function cr(t,e,n){let r=t;for(;e-- >Pt;)r*=r,r%=n;return r}function py(t,e){if(t===Pt)throw new Error("invert: expected non-zero number");if(e<=Pt)throw new Error("invert: expected positive modulus, got "+e);let n=ft(t,e),r=e,i=Pt,s=it;for(;n!==Pt;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==it)throw new Error("invert: does not exist");return ft(i,e)}function $4(t){const e=(t-it)/Ei;let n,r,i;for(n=t-it,r=0;n%Ei===Pt;n/=Ei,r++);for(i=Ei;i<t&&D4(i,e,t)!==t-it;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+it)/b0;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+it)/Ei;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),f=a.pow(l,s),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let g=1;for(let b=a.sqr(h);g<c&&!a.eql(b,a.ONE);g++)b=a.sqr(b);const p=a.pow(u,it<<BigInt(c-g-1));u=a.sqr(p),f=a.mul(f,p),h=a.mul(h,u),c=g}return f}}function V4(t){if(t%b0===z4){const e=(t+it)/b0;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%hy===fy){const e=(t-fy)/hy;return function(r,i){const s=r.mul(i,Ei),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,Ei),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return $4(t)}const H4=(t,e)=>(ft(t,e)&it)===it,W4=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function a_(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=W4.reduce((r,i)=>(r[i]="function",r),e);return Pl(t,n)}function Gc(t,e,n){if(n<Pt)throw new Error("invalid exponent, negatives unsupported");if(n===Pt)return t.ONE;if(n===it)return e;let r=t.ONE,i=e;for(;n>Pt;)n&it&&(r=t.mul(r,i)),i=t.sqr(i),n>>=it;return r}function Kc(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function q4(t){const e=(t-it)/Ei;return(n,r)=>n.pow(r,e)}function l_(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ol(t,e,n=!1,r={}){if(t<=Pt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=l_(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:qc(i),ZERO:Pt,ONE:it,create:l=>ft(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Pt<=l&&l<t},is0:l=>l===Pt,isOdd:l=>(l&it)===it,neg:l=>ft(-l,t),eql:(l,c)=>l===c,sqr:l=>ft(l*l,t),add:(l,c)=>ft(l+c,t),sub:(l,c)=>ft(l-c,t),mul:(l,c)=>ft(l*c,t),pow:(l,c)=>Gc(a,l,c),div:(l,c)=>ft(l*py(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>py(l,t),sqrt:r.sqrt||(l=>(o||(o=V4(t)),o(a,l))),invertBatch:l=>Kc(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?Zu(l,s):It(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?Ia(l):Xn(l)}});return Object.freeze(a)}function c_(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function u_(t){const e=c_(t);return e+Math.ceil(e/2)}function G4(t,e,n=!1){const r=t.length,i=c_(e),s=u_(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Ia(t):Xn(t),a=ft(o,e-it)+it;return n?Zu(a,i):It(a,i)}const K4=Xn;function gi(t,e){if(dl(t),dl(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=t&255,t>>>=8;return new Uint8Array(n)}function Y4(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function dl(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function X4(t,e,n,r){qi(t),qi(e),dl(n),e.length>255&&(e=r(wt(cg("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:s}=r,o=Math.ceil(n/i);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=wt(e,gi(e.length,1)),l=gi(0,s),c=gi(n,2),u=new Array(o),f=r(wt(l,t,c,gi(0,1),a));u[0]=r(wt(f,gi(1,1),a));for(let g=1;g<=o;g++){const p=[Y4(f,u[g-1]),gi(g+1,1),a];u[g]=r(wt(...p))}return wt(...u).slice(0,n)}function Z4(t,e,n,r,i){if(qi(t),qi(e),dl(n),e.length>255){const s=Math.ceil(2*r/8);e=i.create({dkLen:s}).update(cg("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(gi(n,2)).update(e).update(gi(e.length,1)).digest()}function gy(t,e,n){Pl(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:s,hash:o,expand:a,DST:l}=n;qi(t),dl(e);const c=typeof l=="string"?cg(l):l,u=r.toString(2).length,f=Math.ceil((u+i)/8),h=e*s*f;let g;if(a==="xmd")g=X4(t,c,h,o);else if(a==="xof")g=Z4(t,c,h,i,o);else if(a==="_internal_pass")g=t;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(e);for(let b=0;b<e;b++){const E=new Array(s);for(let v=0;v<s;v++){const _=f*(v+b*s),k=g.subarray(_,_+f);E[v]=ft(K4(k),r)}p[b]=E}return p}function d_(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[s,o,a,l]=n.map(c=>c.reduce((u,f)=>t.add(t.mul(u,r),f)));return r=t.div(s,o),i=t.mul(i,t.div(a,l)),{x:r,y:i}}}function my(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const s=gy(r,2,{...n,DST:n.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),l=o.add(a).clearCofactor();return l.assertValidity(),l},encodeToCurve(r,i){const s=gy(r,1,{...n,DST:n.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const s of r)if(typeof s!="bigint")throw new Error("mapToCurve: expected array of bigints");const i=t.fromAffine(e(r)).clearCofactor();return i.assertValidity(),i}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yy=BigInt(0),ac=BigInt(1);function If(t,e){const n=e.negate();return t?n:e}function f_(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Ff(t,e){f_(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Q4(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function J4(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Uf=new WeakMap,h_=new WeakMap;function Lf(t){return h_.get(t)||1}function p_(t,e){return{constTimeNegate:If,hasPrecomputes(n){return Lf(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>yy;)r&ac&&(i=i.add(s)),s=s.double(),r>>=ac;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Ff(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Ff(n,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**n-1),u=2**n,f=BigInt(n);for(let h=0;h<s;h++){const g=h*o;let p=Number(i&c);i>>=f,p>o&&(p-=u,i+=ac);const b=g,E=g+Math.abs(p)-1,v=h%2!==0,_=p<0;p===0?l=l.add(If(v,r[b])):a=a.add(If(_,r[E]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=Ff(n,e),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let f=0;f<o;f++){const h=f*a;if(i===yy)break;let g=Number(i&l);if(i>>=u,g>a&&(g-=c,i+=ac),g===0)continue;let p=r[h+Math.abs(g)-1];g<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(n,r,i){let s=Uf.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Uf.set(r,i(s))),s},wNAFCached(n,r,i){const s=Lf(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Lf(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){f_(r,e),h_.set(n,r),Uf.delete(n)}}}function g_(t,e,n,r){if(Q4(n,t),J4(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Fa(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let f=c;f>=0;f-=o){l.fill(i);for(let g=0;g<r.length;g++){const p=r[g],b=Number(p>>BigInt(f)&BigInt(a));l[b]=l[b].add(n[g])}let h=i;for(let g=l.length-1,p=i;g>0;g--)p=p.add(l[g]),h=h.add(p);if(u=u.add(h),f!==0)for(let g=0;g<o;g++)u=u.double()}return u}function m_(t){return a_(t.Fp),Pl(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...l_(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function e8(t){const e=m_(t);Pl(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const fs=BigInt(0),gt=BigInt(1),ai=BigInt(2),Qu=BigInt(3),xy=BigInt(4);function by(t){const e=e8(t),{Fp:n}=e,r=Ol(e.n,e.nBitLength),i=e.toBytes||((b,E,v)=>{const _=E.toAffine();return wt(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=e.fromBytes||(b=>{const E=b.subarray(1),v=n.fromBytes(E.subarray(0,n.BYTES)),_=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:v,y:_}});function o(b){const{a:E,b:v}=e,_=n.sqr(b),k=n.mul(_,b);return n.add(n.add(k,n.mul(b,E)),v)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(b){return o_(b,gt,e.n)}function l(b){const{allowedPrivateKeyLengths:E,nByteLength:v,wrapPrivateKey:_,n:k}=e;if(E&&typeof b!="bigint"){if($d(b)&&(b=js(b)),typeof b!="string"||!E.includes(b.length))throw new Error("invalid private key");b=b.padStart(v*2,"0")}let P;try{P=typeof b=="bigint"?b:Xn(nn("private key",b,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof b)}return _&&(P=ft(P,k)),_i("private key",P,gt,k),P}function c(b){if(!(b instanceof h))throw new Error("ProjectivePoint expected")}const u=ul((b,E)=>{const{px:v,py:_,pz:k}=b;if(n.eql(k,n.ONE))return{x:v,y:_};const P=b.is0();E==null&&(E=P?n.ONE:n.inv(k));const S=n.mul(v,E),M=n.mul(_,E),C=n.mul(k,E);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:S,y:M}}),f=ul(b=>{if(b.is0()){if(e.allowInfinityPoint&&!n.is0(b.py))return;throw new Error("bad point: ZERO")}const{x:E,y:v}=b.toAffine();if(!n.isValid(E)||!n.isValid(v))throw new Error("bad point: x or y not FE");const _=n.sqr(v),k=o(E);if(!n.eql(_,k))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(E,v,_){if(this.px=E,this.py=v,this.pz=_,E==null||!n.isValid(E))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required");Object.freeze(this)}static fromAffine(E){const{x:v,y:_}=E||{};if(!E||!n.isValid(v)||!n.isValid(_))throw new Error("invalid affine point");if(E instanceof h)throw new Error("projective point not allowed");const k=P=>n.eql(P,n.ZERO);return k(v)&&k(_)?h.ZERO:new h(v,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const v=n.invertBatch(E.map(_=>_.pz));return E.map((_,k)=>_.toAffine(v[k])).map(h.fromAffine)}static fromHex(E){const v=h.fromAffine(s(nn("pointHex",E)));return v.assertValidity(),v}static fromPrivateKey(E){return h.BASE.multiply(l(E))}static msm(E,v){return g_(h,r,E,v)}_setWindowSize(E){p.setWindowSize(this,E)}assertValidity(){f(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){c(E);const{px:v,py:_,pz:k}=this,{px:P,py:S,pz:M}=E,C=n.eql(n.mul(v,M),n.mul(P,k)),U=n.eql(n.mul(_,M),n.mul(S,k));return C&&U}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:v}=e,_=n.mul(v,Qu),{px:k,py:P,pz:S}=this;let M=n.ZERO,C=n.ZERO,U=n.ZERO,F=n.mul(k,k),V=n.mul(P,P),se=n.mul(S,S),ie=n.mul(k,P);return ie=n.add(ie,ie),U=n.mul(k,S),U=n.add(U,U),M=n.mul(E,U),C=n.mul(_,se),C=n.add(M,C),M=n.sub(V,C),C=n.add(V,C),C=n.mul(M,C),M=n.mul(ie,M),U=n.mul(_,U),se=n.mul(E,se),ie=n.sub(F,se),ie=n.mul(E,ie),ie=n.add(ie,U),U=n.add(F,F),F=n.add(U,F),F=n.add(F,se),F=n.mul(F,ie),C=n.add(C,F),se=n.mul(P,S),se=n.add(se,se),F=n.mul(se,ie),M=n.sub(M,F),U=n.mul(se,V),U=n.add(U,U),U=n.add(U,U),new h(M,C,U)}add(E){c(E);const{px:v,py:_,pz:k}=this,{px:P,py:S,pz:M}=E;let C=n.ZERO,U=n.ZERO,F=n.ZERO;const V=e.a,se=n.mul(e.b,Qu);let ie=n.mul(v,P),L=n.mul(_,S),H=n.mul(k,M),J=n.add(v,_),Q=n.add(P,S);J=n.mul(J,Q),Q=n.add(ie,L),J=n.sub(J,Q),Q=n.add(v,k);let X=n.add(P,M);return Q=n.mul(Q,X),X=n.add(ie,H),Q=n.sub(Q,X),X=n.add(_,k),C=n.add(S,M),X=n.mul(X,C),C=n.add(L,H),X=n.sub(X,C),F=n.mul(V,Q),C=n.mul(se,H),F=n.add(C,F),C=n.sub(L,F),F=n.add(L,F),U=n.mul(C,F),L=n.add(ie,ie),L=n.add(L,ie),H=n.mul(V,H),Q=n.mul(se,Q),L=n.add(L,H),H=n.sub(ie,H),H=n.mul(V,H),Q=n.add(Q,H),ie=n.mul(L,Q),U=n.add(U,ie),ie=n.mul(X,Q),C=n.mul(J,C),C=n.sub(C,ie),ie=n.mul(J,L),F=n.mul(X,F),F=n.add(F,ie),new h(C,U,F)}subtract(E){return this.add(E.negate())}is0(){return this.equals(h.ZERO)}wNAF(E){return p.wNAFCached(this,E,h.normalizeZ)}multiplyUnsafe(E){const{endo:v,n:_}=e;_i("scalar",E,fs,_);const k=h.ZERO;if(E===fs)return k;if(this.is0()||E===gt)return this;if(!v||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,E,h.normalizeZ);let{k1neg:P,k1:S,k2neg:M,k2:C}=v.splitScalar(E),U=k,F=k,V=this;for(;S>fs||C>fs;)S&gt&&(U=U.add(V)),C&gt&&(F=F.add(V)),V=V.double(),S>>=gt,C>>=gt;return P&&(U=U.negate()),M&&(F=F.negate()),F=new h(n.mul(F.px,v.beta),F.py,F.pz),U.add(F)}multiply(E){const{endo:v,n:_}=e;_i("scalar",E,gt,_);let k,P;if(v){const{k1neg:S,k1:M,k2neg:C,k2:U}=v.splitScalar(E);let{p:F,f:V}=this.wNAF(M),{p:se,f:ie}=this.wNAF(U);F=p.constTimeNegate(S,F),se=p.constTimeNegate(C,se),se=new h(n.mul(se.px,v.beta),se.py,se.pz),k=F.add(se),P=V.add(ie)}else{const{p:S,f:M}=this.wNAF(E);k=S,P=M}return h.normalizeZ([k,P])[0]}multiplyAndAddUnsafe(E,v,_){const k=h.BASE,P=(M,C)=>C===fs||C===gt||!M.equals(k)?M.multiplyUnsafe(C):M.multiply(C),S=P(this,v).add(P(E,_));return S.is0()?void 0:S}toAffine(E){return u(this,E)}isTorsionFree(){const{h:E,isTorsionFree:v}=e;if(E===gt)return!0;if(v)return v(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:v}=e;return E===gt?this:v?v(h,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return Ma("isCompressed",E),this.assertValidity(),i(h,this,E)}toHex(E=!0){return Ma("isCompressed",E),js(this.toRawBytes(E))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const g=e.nBitLength,p=p_(h,e.endo?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function t8(t,e){const n=t.ORDER;let r=fs;for(let p=n-gt;p%ai===fs;p/=ai)r+=gt;const i=r,s=ai<<i-gt-gt,o=s*ai,a=(n-gt)/o,l=(a-gt)/ai,c=o-gt,u=s,f=t.pow(e,a),h=t.pow(e,(a+gt)/ai);let g=(p,b)=>{let E=f,v=t.pow(b,c),_=t.sqr(v);_=t.mul(_,b);let k=t.mul(p,_);k=t.pow(k,l),k=t.mul(k,v),v=t.mul(k,b),_=t.mul(k,p);let P=t.mul(_,v);k=t.pow(P,u);let S=t.eql(k,t.ONE);v=t.mul(_,h),k=t.mul(P,E),_=t.cmov(v,_,S),P=t.cmov(k,P,S);for(let M=i;M>gt;M--){let C=M-ai;C=ai<<C-gt;let U=t.pow(P,C);const F=t.eql(U,t.ONE);v=t.mul(_,E),E=t.mul(E,E),U=t.mul(P,E),_=t.cmov(v,_,F),P=t.cmov(U,P,F)}return{isValid:S,value:_}};if(t.ORDER%xy===Qu){const p=(t.ORDER-Qu)/xy,b=t.sqrt(t.neg(e));g=(E,v)=>{let _=t.sqr(v);const k=t.mul(E,v);_=t.mul(_,k);let P=t.pow(_,p);P=t.mul(P,k);const S=t.mul(P,b),M=t.mul(t.sqr(P),v),C=t.eql(M,E);let U=t.cmov(S,P,C);return{isValid:C,value:U}}}return g}function y_(t,e){if(a_(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=t8(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,s,o,a,l,c,u,f;i=t.sqr(r),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),c=t.sqr(a),l=t.mul(c,e.A),s=t.add(s,l),s=t.mul(s,o),c=t.mul(c,a),l=t.mul(c,e.B),s=t.add(s,l),u=t.mul(i,o);const{isValid:h,value:g}=n(s,c);f=t.mul(i,r),f=t.mul(f,g),u=t.cmov(u,o,h),f=t.cmov(f,g,h);const p=t.isOdd(r)===t.isOdd(f);return f=t.cmov(t.neg(f),f,p),u=t.div(u,a),{x:u,y:f}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n8=BigInt(0),lc=BigInt(1),wy=BigInt(2),fo=BigInt(3);function r8(t){const e=[];for(;t>lc;t>>=lc)(t&lc)===n8?e.unshift(0):(t&fo)===fo?(e.unshift(-1),t+=lc):e.unshift(1);return e}function i8(t){const{Fp:e,Fr:n,Fp2:r,Fp6:i,Fp12:s}=t.fields,o=t.params.xNegative,a=t.params.twistType,l=by({n:n.ORDER,...t.G1}),c=Object.assign(l,my(l.ProjectivePoint,t.G1.mapToCurve,{...t.htfDefaults,...t.G1.htfDefaults})),u=by({n:n.ORDER,...t.G2}),f=Object.assign(u,my(u.ProjectivePoint,t.G2.mapToCurve,{...t.htfDefaults,...t.G2.htfDefaults}));let h;if(a==="multiplicative")h=(oe,B,ue,he,me,de)=>s.mul014(he,oe,r.mul(B,me),r.mul(ue,de));else if(a==="divisive")h=(oe,B,ue,he,me,de)=>s.mul034(he,r.mul(ue,de),r.mul(B,me),oe);else throw new Error("bls: unknown twist type");const g=r.div(r.ONE,r.mul(r.ONE,wy));function p(oe,B,ue,he){const me=r.sqr(ue),de=r.sqr(he),ge=r.mulByB(r.mul(de,fo)),j=r.mul(ge,fo),O=r.sub(r.sub(r.sqr(r.add(ue,he)),de),me),z=r.sub(ge,me),Y=r.mul(r.sqr(B),fo),q=r.neg(O);return oe.push([z,Y,q]),B=r.mul(r.mul(r.mul(r.sub(me,j),B),ue),g),ue=r.sub(r.sqr(r.mul(r.add(me,j),g)),r.mul(r.sqr(ge),fo)),he=r.mul(me,O),{Rx:B,Ry:ue,Rz:he}}function b(oe,B,ue,he,me,de){const ge=r.sub(ue,r.mul(de,he)),j=r.sub(B,r.mul(me,he)),O=r.sub(r.mul(ge,me),r.mul(j,de)),z=r.neg(ge),Y=j;oe.push([O,z,Y]);const q=r.sqr(j),Z=r.mul(q,j),N=r.mul(q,B),m=r.add(r.sub(Z,r.mul(N,wy)),r.mul(r.sqr(ge),he));return B=r.mul(j,m),ue=r.sub(r.mul(r.sub(N,m),ge),r.mul(Z,ue)),he=r.mul(he,Z),{Rx:B,Ry:ue,Rz:he}}const E=r8(t.params.ateLoopSize),v=ul(oe=>{const B=oe,{x:ue,y:he}=B.toAffine(),me=ue,de=he,ge=r.neg(he);let j=me,O=de,z=r.ONE;const Y=[];for(const q of E){const Z=[];({Rx:j,Ry:O,Rz:z}=p(Z,j,O,z)),q&&({Rx:j,Ry:O,Rz:z}=b(Z,j,O,z,me,q===-1?ge:de)),Y.push(Z)}if(t.postPrecompute){const q=Y[Y.length-1];t.postPrecompute(j,O,z,me,de,b.bind(null,q))}return Y});function _(oe,B=!1){let ue=s.ONE;if(oe.length){const he=oe[0][0].length;for(let me=0;me<he;me++){ue=s.sqr(ue);for(const[de,ge,j]of oe)for(const[O,z,Y]of de[me])ue=h(O,z,Y,ue,ge,j)}}return o&&(ue=s.conjugate(ue)),B?s.finalExponentiate(ue):ue}function k(oe,B=!0){const ue=[];c.ProjectivePoint.normalizeZ(oe.map(({g1:he})=>he)),f.ProjectivePoint.normalizeZ(oe.map(({g2:he})=>he));for(const{g1:he,g2:me}of oe){if(he.equals(c.ProjectivePoint.ZERO)||me.equals(f.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");he.assertValidity(),me.assertValidity();const de=he.toAffine();ue.push([v(me),de.x,de.y])}return _(ue,B)}function P(oe,B,ue=!0){return k([{g1:oe,g2:B}],ue)}const S={randomPrivateKey:()=>{const oe=u_(n.ORDER);return G4(t.randomBytes(oe),n.ORDER)},calcPairingPrecomputes:v},{ShortSignature:M}=t.G1,{Signature:C}=t.G2;function U(oe){return oe instanceof c.ProjectivePoint?oe:c.ProjectivePoint.fromHex(oe)}function F(oe,B){return oe instanceof c.ProjectivePoint?oe:c.hashToCurve(nn("point",oe),B)}function V(oe){return oe instanceof f.ProjectivePoint?oe:C.fromHex(oe)}function se(oe,B){return oe instanceof f.ProjectivePoint?oe:f.hashToCurve(nn("point",oe),B)}function ie(oe){return c.ProjectivePoint.fromPrivateKey(oe).toRawBytes(!0)}function L(oe){return f.ProjectivePoint.fromPrivateKey(oe).toRawBytes(!0)}function H(oe,B,ue){const he=se(oe,ue);he.assertValidity();const me=he.multiply(c.normPrivateKeyToScalar(B));return oe instanceof f.ProjectivePoint?me:C.toRawBytes(me)}function J(oe,B,ue){const he=F(oe,ue);he.assertValidity();const me=he.multiply(c.normPrivateKeyToScalar(B));return oe instanceof c.ProjectivePoint?me:M.toRawBytes(me)}function Q(oe,B,ue,he){const me=U(ue),de=se(B,he),ge=c.ProjectivePoint.BASE,j=V(oe),O=k([{g1:me.negate(),g2:de},{g1:ge,g2:j}]);return s.eql(O,s.ONE)}function X(oe,B,ue,he){const me=V(ue),de=F(B,he),ge=f.ProjectivePoint.BASE,j=U(oe),O=k([{g1:de,g2:me},{g1:j,g2:ge.negate()}]);return s.eql(O,s.ONE)}function G(oe){if(!Array.isArray(oe)||oe.length===0)throw new Error("expected non-empty array")}function te(oe){G(oe);const ue=oe.map(U).reduce((he,me)=>he.add(me),c.ProjectivePoint.ZERO);return oe[0]instanceof c.ProjectivePoint?(ue.assertValidity(),ue):ue.toRawBytes(!0)}function le(oe){G(oe);const ue=oe.map(V).reduce((he,me)=>he.add(me),f.ProjectivePoint.ZERO);return oe[0]instanceof f.ProjectivePoint?(ue.assertValidity(),ue):C.toRawBytes(ue)}function ae(oe){G(oe);const ue=oe.map(U).reduce((he,me)=>he.add(me),c.ProjectivePoint.ZERO);return oe[0]instanceof c.ProjectivePoint?(ue.assertValidity(),ue):M.toRawBytes(ue)}function ce(oe,B,ue,he){if(G(B),ue.length!==B.length)throw new Error("amount of public keys and messages should be equal");const me=V(oe),de=B.map(z=>se(z,he)),ge=ue.map(U),j=new Map;for(let z=0;z<ge.length;z++){const Y=ge[z],q=de[z];let Z=j.get(q);Z===void 0&&(Z=[],j.set(q,Z)),Z.push(Y)}const O=[];try{for(const[z,Y]of j){const q=Y.reduce((Z,N)=>Z.add(N));O.push({g1:q,g2:z})}return O.push({g1:c.ProjectivePoint.BASE.negate(),g2:me}),s.eql(k(O),s.ONE)}catch{return!1}}return c.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:ie,getPublicKeyForShortSignatures:L,sign:H,signShortSignature:J,verify:Q,verifyBatch:ce,verifyShortSignature:X,aggregatePublicKeys:te,aggregateSignatures:le,aggregateShortSignatures:ae,millerLoopBatch:_,pairing:P,pairingBatch:k,G1:c,G2:f,Signature:C,ShortSignature:M,fields:{Fr:n,Fp:e,Fp2:r,Fp6:i,Fp12:s},params:{ateLoopSize:t.params.ateLoopSize,r:t.params.r,G1b:t.G1.b,G2b:t.G2.b},utils:S}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const s8=BigInt(0),ho=BigInt(1),Lr=BigInt(2),vy=BigInt(3);function zf(t,e,n,r,i=1,s){const o=BigInt(s===void 0?r:s),a=n**BigInt(r),l=[];for(let c=0;c<i;c++){const u=BigInt(c+1),f=[];for(let h=0,g=ho;h<r;h++){const p=(u*g-u)/o%a;f.push(t.pow(e,p)),g*=n}l.push(f)}return l}function o8(t,e,n){const r=e.pow(n,(t.ORDER-ho)/vy),i=e.pow(n,(t.ORDER-ho)/Lr);function s(h,g){const p=e.mul(e.frobeniusMap(h,1),r),b=e.mul(e.frobeniusMap(g,1),i);return[p,b]}const o=e.pow(n,(t.ORDER**Lr-ho)/vy),a=e.pow(n,(t.ORDER**Lr-ho)/Lr);if(!e.eql(a,e.neg(e.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function l(h,g){return[e.mul(h,o),e.neg(g)]}const c=h=>(g,p)=>{const b=p.toAffine(),E=h(b.x,b.y);return g.fromAffine({x:E[0],y:E[1]})},u=c(s),f=c(l);return{psi:s,psi2:l,G2psi:u,G2psi2:f,PSI_X:r,PSI_Y:i,PSI2_X:o,PSI2_Y:a}}function a8(t){const{ORDER:e}=t,n=Ol(e),r=n.create(t.NONRESIDUE||BigInt(-1)),i=q4(e),s=n.div(n.ONE,Lr),o=zf(n,r,n.ORDER,2)[0],a=({c0:L,c1:H},{c0:J,c1:Q})=>({c0:n.add(L,J),c1:n.add(H,Q)}),l=({c0:L,c1:H},{c0:J,c1:Q})=>({c0:n.sub(L,J),c1:n.sub(H,Q)}),c=({c0:L,c1:H},J)=>{if(typeof J=="bigint")return{c0:n.mul(L,J),c1:n.mul(H,J)};const{c0:Q,c1:X}=J;let G=n.mul(L,Q),te=n.mul(H,X);const le=n.sub(G,te),ae=n.sub(n.mul(n.add(L,H),n.add(Q,X)),n.add(G,te));return{c0:le,c1:ae}},u=({c0:L,c1:H})=>{const J=n.add(L,H),Q=n.sub(L,H),X=n.add(L,L);return{c0:n.mul(J,Q),c1:n.mul(X,H)}},f=L=>{if(L.length!==2)throw new Error("invalid tuple");const H=L.map(J=>n.create(J));return{c0:H[0],c1:H[1]}},h=e*e,g=f(t.FP2_NONRESIDUE),p={ORDER:h,isLE:n.isLE,NONRESIDUE:g,BITS:Fa(h),BYTES:Math.ceil(Fa(h)/8),MASK:qc(Fa(h)),ZERO:{c0:n.ZERO,c1:n.ZERO},ONE:{c0:n.ONE,c1:n.ZERO},create:L=>L,isValid:({c0:L,c1:H})=>typeof L=="bigint"&&typeof H=="bigint",is0:({c0:L,c1:H})=>n.is0(L)&&n.is0(H),eql:({c0:L,c1:H},{c0:J,c1:Q})=>n.eql(L,J)&&n.eql(H,Q),neg:({c0:L,c1:H})=>({c0:n.neg(L),c1:n.neg(H)}),pow:(L,H)=>Gc(p,L,H),invertBatch:L=>Kc(p,L),add:a,sub:l,mul:c,sqr:u,addN:a,subN:l,mulN:c,sqrN:u,div:(L,H)=>p.mul(L,typeof H=="bigint"?n.inv(n.create(H)):p.inv(H)),inv:({c0:L,c1:H})=>{const J=n.inv(n.create(L*L+H*H));return{c0:n.mul(J,n.create(L)),c1:n.mul(J,n.create(-H))}},sqrt:L=>{if(t.Fp2sqrt)return t.Fp2sqrt(L);const{c0:H,c1:J}=L;if(n.is0(J))return n.eql(i(n,H),n.ONE)?p.create({c0:n.sqrt(H),c1:n.ZERO}):p.create({c0:n.ZERO,c1:n.sqrt(n.div(H,r))});const Q=n.sqrt(n.sub(n.sqr(H),n.mul(n.sqr(J),r)));let X=n.mul(n.add(Q,H),s);const G=i(n,X);!n.is0(G)&&!n.eql(G,n.ONE)&&(X=n.sub(X,Q));const te=n.sqrt(X),le=p.create({c0:te,c1:n.div(n.mul(J,s),te)});if(!p.eql(p.sqr(le),L))throw new Error("Cannot find square root");const ae=le,ce=p.neg(ae),{re:oe,im:B}=p.reim(ae),{re:ue,im:he}=p.reim(ce);return B>he||B===he&&oe>ue?ae:ce},isOdd:L=>{const{re:H,im:J}=p.reim(L),Q=H%Lr,X=H===s8,G=J%Lr;return BigInt(Q||X&&G)==ho},fromBytes(L){if(L.length!==p.BYTES)throw new Error("fromBytes invalid length="+L.length);return{c0:n.fromBytes(L.subarray(0,n.BYTES)),c1:n.fromBytes(L.subarray(n.BYTES))}},toBytes:({c0:L,c1:H})=>wt(n.toBytes(L),n.toBytes(H)),cmov:({c0:L,c1:H},{c0:J,c1:Q},X)=>({c0:n.cmov(L,J,X),c1:n.cmov(H,Q,X)}),reim:({c0:L,c1:H})=>({re:L,im:H}),mulByNonresidue:({c0:L,c1:H})=>p.mul({c0:L,c1:H},g),mulByB:t.Fp2mulByB,fromBigTuple:f,frobeniusMap:({c0:L,c1:H},J)=>({c0:L,c1:n.mul(H,o[J%2])})},b=({c0:L,c1:H,c2:J},{c0:Q,c1:X,c2:G})=>({c0:p.add(L,Q),c1:p.add(H,X),c2:p.add(J,G)}),E=({c0:L,c1:H,c2:J},{c0:Q,c1:X,c2:G})=>({c0:p.sub(L,Q),c1:p.sub(H,X),c2:p.sub(J,G)}),v=({c0:L,c1:H,c2:J},Q)=>{if(typeof Q=="bigint")return{c0:p.mul(L,Q),c1:p.mul(H,Q),c2:p.mul(J,Q)};const{c0:X,c1:G,c2:te}=Q,le=p.mul(L,X),ae=p.mul(H,G),ce=p.mul(J,te);return{c0:p.add(le,p.mulByNonresidue(p.sub(p.mul(p.add(H,J),p.add(G,te)),p.add(ae,ce)))),c1:p.add(p.sub(p.mul(p.add(L,H),p.add(X,G)),p.add(le,ae)),p.mulByNonresidue(ce)),c2:p.sub(p.add(ae,p.mul(p.add(L,J),p.add(X,te))),p.add(le,ce))}},_=({c0:L,c1:H,c2:J})=>{let Q=p.sqr(L),X=p.mul(p.mul(L,H),Lr),G=p.mul(p.mul(H,J),Lr),te=p.sqr(J);return{c0:p.add(p.mulByNonresidue(G),Q),c1:p.add(p.mulByNonresidue(te),X),c2:p.sub(p.sub(p.add(p.add(X,p.sqr(p.add(p.sub(L,H),J))),G),Q),te)}},[k,P]=zf(p,g,n.ORDER,6,2,3),S={ORDER:p.ORDER,isLE:p.isLE,BITS:3*p.BITS,BYTES:3*p.BYTES,MASK:qc(3*p.BITS),ZERO:{c0:p.ZERO,c1:p.ZERO,c2:p.ZERO},ONE:{c0:p.ONE,c1:p.ZERO,c2:p.ZERO},create:L=>L,isValid:({c0:L,c1:H,c2:J})=>p.isValid(L)&&p.isValid(H)&&p.isValid(J),is0:({c0:L,c1:H,c2:J})=>p.is0(L)&&p.is0(H)&&p.is0(J),neg:({c0:L,c1:H,c2:J})=>({c0:p.neg(L),c1:p.neg(H),c2:p.neg(J)}),eql:({c0:L,c1:H,c2:J},{c0:Q,c1:X,c2:G})=>p.eql(L,Q)&&p.eql(H,X)&&p.eql(J,G),sqrt:dy,div:(L,H)=>S.mul(L,typeof H=="bigint"?n.inv(n.create(H)):S.inv(H)),pow:(L,H)=>Gc(S,L,H),invertBatch:L=>Kc(S,L),add:b,sub:E,mul:v,sqr:_,addN:b,subN:E,mulN:v,sqrN:_,inv:({c0:L,c1:H,c2:J})=>{let Q=p.sub(p.sqr(L),p.mulByNonresidue(p.mul(J,H))),X=p.sub(p.mulByNonresidue(p.sqr(J)),p.mul(L,H)),G=p.sub(p.sqr(H),p.mul(L,J)),te=p.inv(p.add(p.mulByNonresidue(p.add(p.mul(J,X),p.mul(H,G))),p.mul(L,Q)));return{c0:p.mul(te,Q),c1:p.mul(te,X),c2:p.mul(te,G)}},fromBytes:L=>{if(L.length!==S.BYTES)throw new Error("fromBytes invalid length="+L.length);return{c0:p.fromBytes(L.subarray(0,p.BYTES)),c1:p.fromBytes(L.subarray(p.BYTES,2*p.BYTES)),c2:p.fromBytes(L.subarray(2*p.BYTES))}},toBytes:({c0:L,c1:H,c2:J})=>wt(p.toBytes(L),p.toBytes(H),p.toBytes(J)),cmov:({c0:L,c1:H,c2:J},{c0:Q,c1:X,c2:G},te)=>({c0:p.cmov(L,Q,te),c1:p.cmov(H,X,te),c2:p.cmov(J,G,te)}),fromBigSix:L=>{if(!Array.isArray(L)||L.length!==6)throw new Error("invalid Fp6 usage");return{c0:p.fromBigTuple(L.slice(0,2)),c1:p.fromBigTuple(L.slice(2,4)),c2:p.fromBigTuple(L.slice(4,6))}},frobeniusMap:({c0:L,c1:H,c2:J},Q)=>({c0:p.frobeniusMap(L,Q),c1:p.mul(p.frobeniusMap(H,Q),k[Q%6]),c2:p.mul(p.frobeniusMap(J,Q),P[Q%6])}),mulByFp2:({c0:L,c1:H,c2:J},Q)=>({c0:p.mul(L,Q),c1:p.mul(H,Q),c2:p.mul(J,Q)}),mulByNonresidue:({c0:L,c1:H,c2:J})=>({c0:p.mulByNonresidue(J),c1:L,c2:H}),mul1:({c0:L,c1:H,c2:J},Q)=>({c0:p.mulByNonresidue(p.mul(J,Q)),c1:p.mul(L,Q),c2:p.mul(H,Q)}),mul01({c0:L,c1:H,c2:J},Q,X){let G=p.mul(L,Q),te=p.mul(H,X);return{c0:p.add(p.mulByNonresidue(p.sub(p.mul(p.add(H,J),X),te)),G),c1:p.sub(p.sub(p.mul(p.add(Q,X),p.add(L,H)),G),te),c2:p.add(p.sub(p.mul(p.add(L,J),Q),G),te)}}},M=zf(p,g,n.ORDER,12,1,6)[0],C=({c0:L,c1:H},{c0:J,c1:Q})=>({c0:S.add(L,J),c1:S.add(H,Q)}),U=({c0:L,c1:H},{c0:J,c1:Q})=>({c0:S.sub(L,J),c1:S.sub(H,Q)}),F=({c0:L,c1:H},J)=>{if(typeof J=="bigint")return{c0:S.mul(L,J),c1:S.mul(H,J)};let{c0:Q,c1:X}=J,G=S.mul(L,Q),te=S.mul(H,X);return{c0:S.add(G,S.mulByNonresidue(te)),c1:S.sub(S.mul(S.add(L,H),S.add(Q,X)),S.add(G,te))}},V=({c0:L,c1:H})=>{let J=S.mul(L,H);return{c0:S.sub(S.sub(S.mul(S.add(S.mulByNonresidue(H),L),S.add(L,H)),J),S.mulByNonresidue(J)),c1:S.add(J,J)}};function se(L,H){const J=p.sqr(L),Q=p.sqr(H);return{first:p.add(p.mulByNonresidue(Q),J),second:p.sub(p.sub(p.sqr(p.add(L,H)),J),Q)}}const ie={ORDER:p.ORDER,isLE:S.isLE,BITS:2*p.BITS,BYTES:2*p.BYTES,MASK:qc(2*p.BITS),ZERO:{c0:S.ZERO,c1:S.ZERO},ONE:{c0:S.ONE,c1:S.ZERO},create:L=>L,isValid:({c0:L,c1:H})=>S.isValid(L)&&S.isValid(H),is0:({c0:L,c1:H})=>S.is0(L)&&S.is0(H),neg:({c0:L,c1:H})=>({c0:S.neg(L),c1:S.neg(H)}),eql:({c0:L,c1:H},{c0:J,c1:Q})=>S.eql(L,J)&&S.eql(H,Q),sqrt:dy,inv:({c0:L,c1:H})=>{let J=S.inv(S.sub(S.sqr(L),S.mulByNonresidue(S.sqr(H))));return{c0:S.mul(L,J),c1:S.neg(S.mul(H,J))}},div:(L,H)=>ie.mul(L,typeof H=="bigint"?n.inv(n.create(H)):ie.inv(H)),pow:(L,H)=>Gc(ie,L,H),invertBatch:L=>Kc(ie,L),add:C,sub:U,mul:F,sqr:V,addN:C,subN:U,mulN:F,sqrN:V,fromBytes:L=>{if(L.length!==ie.BYTES)throw new Error("fromBytes invalid length="+L.length);return{c0:S.fromBytes(L.subarray(0,S.BYTES)),c1:S.fromBytes(L.subarray(S.BYTES))}},toBytes:({c0:L,c1:H})=>wt(S.toBytes(L),S.toBytes(H)),cmov:({c0:L,c1:H},{c0:J,c1:Q},X)=>({c0:S.cmov(L,J,X),c1:S.cmov(H,Q,X)}),fromBigTwelve:L=>({c0:S.fromBigSix(L.slice(0,6)),c1:S.fromBigSix(L.slice(6,12))}),frobeniusMap(L,H){const{c0:J,c1:Q,c2:X}=S.frobeniusMap(L.c1,H),G=M[H%12];return{c0:S.frobeniusMap(L.c0,H),c1:S.create({c0:p.mul(J,G),c1:p.mul(Q,G),c2:p.mul(X,G)})}},mulByFp2:({c0:L,c1:H},J)=>({c0:S.mulByFp2(L,J),c1:S.mulByFp2(H,J)}),conjugate:({c0:L,c1:H})=>({c0:L,c1:S.neg(H)}),mul014:({c0:L,c1:H},J,Q,X)=>{let G=S.mul01(L,J,Q),te=S.mul1(H,X);return{c0:S.add(S.mulByNonresidue(te),G),c1:S.sub(S.sub(S.mul01(S.add(H,L),J,p.add(Q,X)),G),te)}},mul034:({c0:L,c1:H},J,Q,X)=>{const G=S.create({c0:p.mul(L.c0,J),c1:p.mul(L.c1,J),c2:p.mul(L.c2,J)}),te=S.mul01(H,Q,X),le=S.mul01(S.add(L,H),p.add(J,Q),X);return{c0:S.add(S.mulByNonresidue(te),G),c1:S.sub(le,S.add(G,te))}},_cyclotomicSquare:t.Fp12cyclotomicSquare,_cyclotomicExp:t.Fp12cyclotomicExp,finalExponentiate:t.Fp12finalExponentiate};return{Fp:n,Fp2:p,Fp6:S,Fp4Square:se,Fp12:ie}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const en=BigInt(0),Ju=BigInt(1),jt=BigInt(2),cc=BigInt(3),Ua=BigInt(4),mi=BigInt("0xd201000000010000"),l8=Fa(mi),{Fp:_e,Fp2:Ee,Fp6:w0,Fp4Square:Df,Fp12:Fe}=a8({ORDER:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),FP2_NONRESIDUE:[Ju,Ju],Fp2mulByB:({c0:t,c1:e})=>{const n=_e.mul(t,Ua),r=_e.mul(e,Ua);return{c0:_e.sub(n,r),c1:_e.add(n,r)}},Fp12cyclotomicSquare:({c0:t,c1:e})=>{const{c0:n,c1:r,c2:i}=t,{c0:s,c1:o,c2:a}=e,{first:l,second:c}=Df(n,o),{first:u,second:f}=Df(s,i),{first:h,second:g}=Df(r,a),p=Ee.mulByNonresidue(g);return{c0:w0.create({c0:Ee.add(Ee.mul(Ee.sub(l,n),jt),l),c1:Ee.add(Ee.mul(Ee.sub(u,r),jt),u),c2:Ee.add(Ee.mul(Ee.sub(h,i),jt),h)}),c1:w0.create({c0:Ee.add(Ee.mul(Ee.add(p,s),jt),p),c1:Ee.add(Ee.mul(Ee.add(c,o),jt),c),c2:Ee.add(Ee.mul(Ee.add(f,a),jt),f)})}},Fp12cyclotomicExp(t,e){let n=Fe.ONE;for(let r=l8-1;r>=0;r--)n=Fe._cyclotomicSquare(n),U4(e,r)&&(n=Fe.mul(n,t));return n},Fp12finalExponentiate:t=>{const e=mi,n=Fe.div(Fe.frobeniusMap(t,6),t),r=Fe.mul(Fe.frobeniusMap(n,2),n),i=Fe.conjugate(Fe._cyclotomicExp(r,e)),s=Fe.mul(Fe.conjugate(Fe._cyclotomicSquare(r)),i),o=Fe.conjugate(Fe._cyclotomicExp(s,e)),a=Fe.conjugate(Fe._cyclotomicExp(o,e)),l=Fe.mul(Fe.conjugate(Fe._cyclotomicExp(a,e)),Fe._cyclotomicSquare(i)),c=Fe.conjugate(Fe._cyclotomicExp(l,e)),u=Fe.frobeniusMap(Fe.mul(i,a),2),f=Fe.frobeniusMap(Fe.mul(o,r),3),h=Fe.frobeniusMap(Fe.mul(l,Fe.conjugate(r)),1),g=Fe.mul(Fe.mul(c,Fe.conjugate(s)),r);return Fe.mul(Fe.mul(Fe.mul(u,f),h),g)}}),_y=Ol(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),c8=d_(Ee,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(t=>t.map(e=>Ee.fromBigTuple(e.map(BigInt))))),u8=d_(_e,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),d8=y_(Ee,{A:Ee.create({c0:_e.create(en),c1:_e.create(BigInt(240))}),B:Ee.create({c0:_e.create(BigInt(1012)),c1:_e.create(BigInt(1012))}),Z:Ee.create({c0:_e.create(BigInt(-2)),c1:_e.create(BigInt(-1))})}),f8=y_(_e,{A:_e.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:_e.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:_e.create(BigInt(11))}),{G2psi:Ey,G2psi2:h8}=o8(_e,Ee,Ee.div(Ee.ONE,Ee.NONRESIDUE)),$f=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:_e.ORDER,m:2,k:128,expand:"xmd",hash:Xp}),ed=fl(_e.toBytes(en),{infinity:!0,compressed:!0});function uc(t){t=t.slice();const e=t[0]&224,n=!!(e>>7&1),r=!!(e>>6&1),i=!!(e>>5&1);return t[0]&=31,{compressed:n,infinity:r,sort:i,value:t}}function fl(t,e){if(t[0]&224)throw new Error("setMask: non-empty mask");return e.compressed&&(t[0]|=128),e.infinity&&(t[0]|=64),e.sort&&(t[0]|=32),t}function Sy(t){t.assertValidity();const e=t.equals(jn.G1.ProjectivePoint.ZERO),{x:n,y:r}=t.toAffine();if(e)return ed.slice();const i=_e.ORDER,s=!!(r*jt/i);return fl(It(n,_e.BYTES),{compressed:!0,sort:s})}function ky(t){t.assertValidity();const e=_e.BYTES;if(t.equals(jn.G2.ProjectivePoint.ZERO))return wt(ed,It(en,e));const{x:n,y:r}=t.toAffine(),{re:i,im:s}=Ee.reim(n),{re:o,im:a}=Ee.reim(r),c=!!((a>en?a*jt:o*jt)/_e.ORDER&Ju),u=i;return wt(fl(It(s,e),{sort:c,compressed:!0}),It(u,e))}const jn=i8({fields:{Fp:_e,Fp2:Ee,Fp6:w0,Fp12:Fe,Fr:_y},G1:{Fp:_e,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:_e.ZERO,b:Ua,htfDefaults:{...$f,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(t,e)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),r=new t(_e.mul(e.px,n),e.py,e.pz);return e.multiplyUnsafe(mi).negate().multiplyUnsafe(mi).equals(r)},clearCofactor:(t,e)=>e.multiplyUnsafe(mi).add(e),mapToCurve:t=>{const{x:e,y:n}=f8(_e.create(t[0]));return u8(e,n)},fromBytes:t=>{const{compressed:e,infinity:n,sort:r,value:i}=uc(t);if(i.length===48&&e){const s=_e.ORDER,o=Xn(i),a=_e.create(o&_e.MASK);if(n){if(a!==en)throw new Error("G1: non-empty compressed point at infinity");return{x:en,y:en}}const l=_e.add(_e.pow(a,cc),_e.create(jn.params.G1b));let c=_e.sqrt(l);if(!c)throw new Error("invalid compressed G1 point");return c*jt/s!==BigInt(r)&&(c=_e.neg(c)),{x:_e.create(a),y:_e.create(c)}}else if(i.length===96&&!e){const s=Xn(i.subarray(0,_e.BYTES)),o=Xn(i.subarray(_e.BYTES));if(n){if(s!==en||o!==en)throw new Error("G1: non-empty point at infinity");return jn.G1.ProjectivePoint.ZERO.toAffine()}return{x:_e.create(s),y:_e.create(o)}}else throw new Error("invalid point G1, expected 48/96 bytes")},toBytes:(t,e,n)=>{const r=e.equals(t.ZERO),{x:i,y:s}=e.toAffine();if(n){if(r)return ed.slice();const o=_e.ORDER,a=!!(s*jt/o);return fl(It(i,_e.BYTES),{compressed:!0,sort:a})}else return r?wt(new Uint8Array([64]),new Uint8Array(2*_e.BYTES-1)):wt(It(i,_e.BYTES),It(s,_e.BYTES))},ShortSignature:{fromHex(t){const{infinity:e,sort:n,value:r}=uc(nn("signatureHex",t,48)),i=_e.ORDER,s=Xn(r);if(e)return jn.G1.ProjectivePoint.ZERO;const o=_e.create(s&_e.MASK),a=_e.add(_e.pow(o,cc),_e.create(jn.params.G1b));let l=_e.sqrt(a);if(!l)throw new Error("invalid compressed G1 point");const c=BigInt(n);l*jt/i!==c&&(l=_e.neg(l));const u=jn.G1.ProjectivePoint.fromAffine({x:o,y:l});return u.assertValidity(),u},toRawBytes(t){return Sy(t)},toHex(t){return js(Sy(t))}}},G2:{Fp:Ee,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:Ee.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Ee.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:Ee.ZERO,b:Ee.fromBigTuple([Ua,Ua]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...$f},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:t=>{const{x:e,y:n}=d8(Ee.fromBigTuple(t));return c8(e,n)},isTorsionFree:(t,e)=>e.multiplyUnsafe(mi).negate().equals(Ey(t,e)),clearCofactor:(t,e)=>{const n=mi;let r=e.multiplyUnsafe(n).negate(),i=Ey(t,e),s=e.double();return s=h8(t,s),s=s.subtract(i),i=r.add(i),i=i.multiplyUnsafe(n).negate(),s=s.add(i),s=s.subtract(r),s.subtract(e)},fromBytes:t=>{const{compressed:e,infinity:n,sort:r,value:i}=uc(t);if(!e&&!n&&r||!e&&n&&r||r&&n&&e)throw new Error("invalid encoding flag: "+(t[0]&224));const s=_e.BYTES,o=(a,l,c)=>Xn(a.slice(l,c));if(i.length===96&&e){const a=jn.params.G2b,l=_e.ORDER;if(n){if(i.reduce((b,E)=>b!==0?E+1:E,0)>0)throw new Error("invalid compressed G2 point");return{x:Ee.ZERO,y:Ee.ZERO}}const c=o(i,0,s),u=o(i,s,2*s),f=Ee.create({c0:_e.create(u),c1:_e.create(c)}),h=Ee.add(Ee.pow(f,cc),a);let g=Ee.sqrt(h);const p=g.c1===en?g.c0*jt/l:g.c1*jt/l?Ju:en;return g=r&&p>0?g:Ee.neg(g),{x:f,y:g}}else if(i.length===192&&!e){if(n){if(i.reduce((f,h)=>f!==0?h+1:h,0)>0)throw new Error("invalid uncompressed G2 point");return{x:Ee.ZERO,y:Ee.ZERO}}const a=o(i,0,s),l=o(i,s,2*s),c=o(i,2*s,3*s),u=o(i,3*s,4*s);return{x:Ee.fromBigTuple([l,a]),y:Ee.fromBigTuple([u,c])}}else throw new Error("invalid point G2, expected 96/192 bytes")},toBytes:(t,e,n)=>{const{BYTES:r,ORDER:i}=_e,s=e.equals(t.ZERO),{x:o,y:a}=e.toAffine();if(n){if(s)return wt(ed,It(en,r));const l=!!(a.c1===en?a.c0*jt/i:a.c1*jt/i);return wt(fl(It(o.c1,r),{compressed:!0,sort:l}),It(o.c0,r))}else{if(s)return wt(new Uint8Array([64]),new Uint8Array(4*r-1));const{re:l,im:c}=Ee.reim(o),{re:u,im:f}=Ee.reim(a);return wt(It(c,r),It(l,r),It(f,r),It(u,r))}},Signature:{fromHex(t){const{infinity:e,sort:n,value:r}=uc(nn("signatureHex",t)),i=_e.ORDER,s=r.length/2;if(s!==48&&s!==96)throw new Error("invalid compressed signature length, must be 96 or 192");const o=Xn(r.slice(0,s)),a=Xn(r.slice(s));if(e)return jn.G2.ProjectivePoint.ZERO;const l=_e.create(o&_e.MASK),c=_e.create(a),u=Ee.create({c0:c,c1:l}),f=Ee.add(Ee.pow(u,cc),jn.params.G2b);let h=Ee.sqrt(f);if(!h)throw new Error("Failed to find a square root");const{re:g,im:p}=Ee.reim(h),b=BigInt(n),E=p>en&&p*jt/i!==b,v=p===en&&g*jt/i!==b;(E||v)&&(h=Ee.neg(h));const _=jn.G2.ProjectivePoint.fromAffine({x:u,y:h});return _.assertValidity(),_},toRawBytes(t){return ky(t)},toHex(t){return js(ky(t))}}},params:{ateLoopSize:mi,r:_y.ORDER,xNegative:!0,twistType:"multiplicative"},htfDefaults:$f,hash:Xp,randomBytes:W1});function p8(t,e,n){const r=typeof t=="string"?t:Ut(t),i=typeof e=="string"?e:Ut(e),s=typeof n=="string"?n:Ut(n);return jn.verifyShortSignature(i,s,r)}const x_=t=>Bt(new $o(t)),ug=t=>{const e=x_(t);return new Date(Number(e)/1e6)};class xr extends kt{constructor(e){super(`Invalid certificate: ${e}`)}}var _n;(function(t){t[t.Empty=0]="Empty",t[t.Fork=1]="Fork",t[t.Labeled=2]="Labeled",t[t.Leaf=3]="Leaf",t[t.Pruned=4]="Pruned"})(_n||(_n={}));function g8(t,e){const n=new Uint8Array(t),r=new Uint8Array(e);for(let i=0;i<n.length;i++)if(n[i]>r[i])return!0;return!1}class ws{constructor(e,n,r,i,s=5){this._rootKey=n,this._canisterId=r,this._blsVerify=i,this._maxAgeInMinutes=s,this.cert=Vr(new Uint8Array(e))}static async create(e){const n=ws.createUnverified(e);return await n.verify(),n}static createUnverified(e){let n=e.blsVerify;return n||(n=p8),new ws(e.certificate,e.rootKey,e.canisterId,n,e.maxAgeInMinutes)}lookup(e){return Po(e,this.cert.tree)}lookup_label(e){return this.lookup([e])}async verify(){const e=await Yc(this.cert.tree),n=await this._checkDelegationAndGetKey(this.cert.delegation),r=this.cert.signature,i=y8(n),s=tr(ha("ic-state-root"),e);let o=!1;const a=Mn(this.lookup(["time"]));if(!a)throw new xr("Certificate does not contain a time");const l=5*60*1e3,c=this._maxAgeInMinutes*60*1e3,u=Date.now(),f=u-c,h=u+l,g=ug(a);if(g.getTime()<f)throw new xr(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+g.toISOString()+" Current time: "+new Date(u).toISOString());if(g.getTime()>h)throw new xr("Certificate is signed more than 5 minutes in the future. Certificate time: "+g.toISOString()+" Current time: "+new Date(u).toISOString());try{o=await this._blsVerify(new Uint8Array(i),new Uint8Array(r),new Uint8Array(s))}catch{o=!1}if(!o)throw new xr("Signature verification failed")}async _checkDelegationAndGetKey(e){if(!e)return this._rootKey;const n=await ws.createUnverified({certificate:e.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(n.cert.delegation)throw new xr("Delegation certificates cannot be nested");if(await n.verify(),this._canisterId.toString()!==u6&&!b_({canisterId:this._canisterId,subnetId:Re.fromUint8Array(new Uint8Array(e.subnet_id)),tree:n.cert.tree}))throw new xr(`Canister ${this._canisterId} not in range of delegations for subnet 0x${Ut(e.subnet_id)}`);const r=Mn(n.lookup(["subnet",e.subnet_id,"public_key"]));if(!r)throw new Error(`Could not find subnet key for subnet 0x${Ut(e.subnet_id)}`);return r}}const ta=Kr("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),m8=96;function y8(t){const e=ta.byteLength+m8;if(t.byteLength!==e)throw new TypeError(`BLS DER-encoded public key must be ${e} bytes long`);const n=t.slice(0,ta.byteLength);if(!Pd(n,ta))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${ta}, but get ${n}`);return t.slice(ta.byteLength)}function Mn(t){if(t.status===Et.Found){if(t.value instanceof ArrayBuffer)return t.value;if(t.value instanceof Uint8Array)return t.value.buffer}}async function Yc(t){switch(t[0]){case _n.Empty:return Qn(ha("ic-hashtree-empty"));case _n.Pruned:return t[1];case _n.Leaf:return Qn(tr(ha("ic-hashtree-leaf"),t[1]));case _n.Labeled:return Qn(tr(ha("ic-hashtree-labeled"),t[1],await Yc(t[2])));case _n.Fork:return Qn(tr(ha("ic-hashtree-fork"),await Yc(t[1]),await Yc(t[2])));default:throw new Error("unreachable")}}function ha(t){const e=new Uint8Array([t.length]),n=new TextEncoder().encode(t);return tr(e,n)}var Et;(function(t){t.Unknown="unknown",t.Absent="absent",t.Found="found"})(Et||(Et={}));var zr;(function(t){t.Less="less",t.Greater="greater"})(zr||(zr={}));function Po(t,e){if(t.length===0)switch(e[0]){case _n.Leaf:{if(!e[1])throw new Error("Invalid tree structure for leaf");return e[1]instanceof ArrayBuffer?{status:Et.Found,value:e[1]}:e[1]instanceof Uint8Array?{status:Et.Found,value:e[1].buffer}:{status:Et.Found,value:e[1]}}default:return{status:Et.Found,value:e}}const n=typeof t[0]=="string"?new TextEncoder().encode(t[0]):t[0],r=Xc(n,e);switch(r.status){case Et.Found:return Po(t.slice(1),r.value);case zr.Greater:case zr.Less:return{status:Et.Absent};default:return r}}function v0(t){switch(t[0]){case _n.Empty:return[];case _n.Fork:return v0(t[1]).concat(v0(t[2]));default:return[t]}}function Xc(t,e){switch(e[0]){case _n.Labeled:return g8(t,e[1])?{status:zr.Greater}:Pd(t,e[1])?{status:Et.Found,value:e[2]}:{status:zr.Less};case _n.Fork:const n=Xc(t,e[1]);switch(n.status){case zr.Greater:{const r=Xc(t,e[2]);return r.status===zr.Less?{status:Et.Absent}:r}case Et.Unknown:{let r=Xc(t,e[2]);return r.status===zr.Less?{status:Et.Unknown}:r}default:return n}case _n.Pruned:return{status:Et.Unknown};default:return{status:Et.Absent}}}function b_(t){const{canisterId:e,subnetId:n,tree:r}=t,i=Po(["subnet",n.toUint8Array(),"canister_ranges"],r);if(i.status!==Et.Found||!(i.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${n}`);return Vr(i.value).map(l=>[Re.fromUint8Array(l[0]),Re.fromUint8Array(l[1])]).some(l=>l[0].ltEq(e)&&l[1].gtEq(e))}class x8{constructor(e,n,r){this.key=e,this.path=n,this.decodeStrategy=r}}const w_=async t=>{const{agent:e,paths:n}=t,r=Re.from(t.canisterId),i=[...new Set(n)],s=i.map(l=>_0(l,r)),o=new Map,a=i.map((l,c)=>(async()=>{var u;try{const f=await e.readState(r,{paths:[s[c]]}),h=await ws.create({certificate:f.certificate,rootKey:e.rootKey,canisterId:r}),g=(E,v)=>{if(v==="subnet"){const _=v_(f.certificate,r,e.rootKey);return{path:v,data:_}}else return{path:v,data:Mn(E.lookup(_0(v,r)))}},{path:p,data:b}=g(h,i[c]);if(!b)console.warn(`Expected to find result for path ${p}, but instead found nothing.`),typeof p=="string"?o.set(p,null):o.set(p.key,null);else switch(p){case"time":{o.set(p,ug(b));break}case"controllers":{o.set(p,w8(b));break}case"module_hash":{o.set(p,Ny(b));break}case"subnet":{o.set(p,b);break}case"candid":{o.set(p,new TextDecoder().decode(b));break}default:if(typeof p!="string"&&"key"in p&&"path"in p)switch(p.decodeStrategy){case"raw":o.set(p.key,b);break;case"leb128":{o.set(p.key,x_(b));break}case"cbor":{o.set(p.key,__(b));break}case"hex":{o.set(p.key,Ny(b));break}case"utf-8":o.set(p.key,b8(b))}}}catch(f){if(!((u=f==null?void 0:f.message)===null||u===void 0)&&u.includes("Invalid certificate"))throw new kt(f.message);typeof l!="string"&&"key"in l&&"path"in l?o.set(l.key,null):o.set(l,null),console.group(),console.warn(`Expected to find result for path ${l}, but instead found nothing.`),console.warn(f),console.groupEnd()}})());return await Promise.all(a),o},v_=(t,e,n)=>{if(!e._isPrincipal)throw new Error("Invalid canisterId");const r=Vr(new Uint8Array(t)),i=r.tree;let s=r.delegation,o;if(s&&s.subnet_id?o=Re.fromUint8Array(new Uint8Array(s.subnet_id)):!s&&typeof n<"u"?(o=Re.selfAuthenticating(new Uint8Array(n)),s={subnet_id:o.toUint8Array(),certificate:new ArrayBuffer(0)}):(o=Re.selfAuthenticating(Re.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),s={subnet_id:o.toUint8Array(),certificate:new ArrayBuffer(0)}),!b_({canisterId:e,subnetId:o,tree:i}))throw new Error("Canister not in range");const l=Po(["subnet",s.subnet_id,"node"],i);if(l.status!==Et.Found)throw new Error("Node not found");if(l.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const c=v0(l.value),u=new Map;return c.forEach(f=>{const h=Re.from(new Uint8Array(f[1])).toText(),g=Po(["public_key"],f[2]);if(g.status!==Et.Found)throw new Error("Public key not found");const p=g.value;if(p.byteLength!==44)throw new Error("Invalid public key length");u.set(h,p)}),{subnetId:Re.fromUint8Array(new Uint8Array(s.subnet_id)).toText(),nodeKeys:u}},_0=(t,e)=>{const n=new TextEncoder,r=s=>new DataView(n.encode(s).buffer).buffer,i=new DataView(e.toUint8Array().buffer).buffer;switch(t){case"time":return[r("time")];case"controllers":return[r("canister"),i,r("controllers")];case"module_hash":return[r("canister"),i,r("module_hash")];case"subnet":return[r("subnet")];case"candid":return[r("canister"),i,r("metadata"),r("candid:service")];default:if("key"in t&&"path"in t)if(typeof t.path=="string"||t.path instanceof ArrayBuffer){const s=t.path,o=typeof s=="string"?r(s):s;return[r("canister"),i,r("metadata"),o]}else return t.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${t} was formatted correctly.`)},Ny=t=>Ut(t),__=t=>Vr(t),b8=t=>new TextDecoder().decode(t),w8=t=>__(t).map(n=>Re.fromUint8Array(new Uint8Array(n))),v8=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:x8,encodePath:_0,fetchNodeKeys:v_,request:w_},Symbol.toStringTag,{value:"Module"})),dc=BigInt(2**32-1),E0=BigInt(32);function E_(t,e=!1){return e?{h:Number(t&dc),l:Number(t>>E0&dc)}:{h:Number(t>>E0&dc)|0,l:Number(t&dc)|0}}function _8(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=E_(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const E8=(t,e)=>BigInt(t>>>0)<<E0|BigInt(e>>>0),S8=(t,e,n)=>t>>>n,k8=(t,e,n)=>t<<32-n|e>>>n,N8=(t,e,n)=>t>>>n|e<<32-n,T8=(t,e,n)=>t<<32-n|e>>>n,A8=(t,e,n)=>t<<64-n|e>>>n-32,C8=(t,e,n)=>t>>>n-32|e<<64-n,B8=(t,e)=>e,j8=(t,e)=>t,R8=(t,e,n)=>t<<n|e>>>32-n,P8=(t,e,n)=>e<<n|t>>>32-n,O8=(t,e,n)=>e<<n-32|t>>>64-n,M8=(t,e,n)=>t<<n-32|e>>>64-n;function I8(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const F8=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),U8=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,L8=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),z8=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,D8=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),$8=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,je={fromBig:E_,split:_8,toBig:E8,shrSH:S8,shrSL:k8,rotrSH:N8,rotrSL:T8,rotrBH:A8,rotrBL:C8,rotr32H:B8,rotr32L:j8,rotlSH:R8,rotlSL:P8,rotlBH:O8,rotlBL:M8,add:I8,add3L:F8,add3H:U8,add4L:L8,add4H:z8,add5H:$8,add5L:D8},[V8,H8]=je.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),li=new Uint32Array(80),ci=new Uint32Array(80);class W8 extends q1{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:f,Fl:h,Gh:g,Gl:p,Hh:b,Hl:E}=this;return[e,n,r,i,s,o,a,l,c,u,f,h,g,p,b,E]}set(e,n,r,i,s,o,a,l,c,u,f,h,g,p,b,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=g|0,this.Gl=p|0,this.Hh=b|0,this.Hl=E|0}process(e,n){for(let k=0;k<16;k++,n+=4)li[k]=e.getUint32(n),ci[k]=e.getUint32(n+=4);for(let k=16;k<80;k++){const P=li[k-15]|0,S=ci[k-15]|0,M=je.rotrSH(P,S,1)^je.rotrSH(P,S,8)^je.shrSH(P,S,7),C=je.rotrSL(P,S,1)^je.rotrSL(P,S,8)^je.shrSL(P,S,7),U=li[k-2]|0,F=ci[k-2]|0,V=je.rotrSH(U,F,19)^je.rotrBH(U,F,61)^je.shrSH(U,F,6),se=je.rotrSL(U,F,19)^je.rotrBL(U,F,61)^je.shrSL(U,F,6),ie=je.add4L(C,se,ci[k-7],ci[k-16]),L=je.add4H(ie,M,V,li[k-7],li[k-16]);li[k]=L|0,ci[k]=ie|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:f,El:h,Fh:g,Fl:p,Gh:b,Gl:E,Hh:v,Hl:_}=this;for(let k=0;k<80;k++){const P=je.rotrSH(f,h,14)^je.rotrSH(f,h,18)^je.rotrBH(f,h,41),S=je.rotrSL(f,h,14)^je.rotrSL(f,h,18)^je.rotrBL(f,h,41),M=f&g^~f&b,C=h&p^~h&E,U=je.add5L(_,S,C,H8[k],ci[k]),F=je.add5H(U,v,P,M,V8[k],li[k]),V=U|0,se=je.rotrSH(r,i,28)^je.rotrBH(r,i,34)^je.rotrBH(r,i,39),ie=je.rotrSL(r,i,28)^je.rotrBL(r,i,34)^je.rotrBL(r,i,39),L=r&s^r&a^s&a,H=i&o^i&l^o&l;v=b|0,_=E|0,b=g|0,E=p|0,g=f|0,p=h|0,{h:f,l:h}=je.add(c|0,u|0,F|0,V|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const J=je.add3L(V,ie,H);r=je.add3H(J,F,se,L),i=J|0}({h:r,l:i}=je.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=je.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=je.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=je.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:h}=je.add(this.Eh|0,this.El|0,f|0,h|0),{h:g,l:p}=je.add(this.Fh|0,this.Fl|0,g|0,p|0),{h:b,l:E}=je.add(this.Gh|0,this.Gl|0,b|0,E|0),{h:v,l:_}=je.add(this.Hh|0,this.Hl|0,v|0,_|0),this.set(r,i,s,o,a,l,c,u,f,h,g,p,b,E,v,_)}roundClean(){li.fill(0),ci.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const q8=Yp(()=>new W8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hn=BigInt(0),an=BigInt(1),fc=BigInt(2),G8=BigInt(8),K8={zip215:!0};function Y8(t){const e=m_(t);return Pl(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function X8(t){const e=Y8(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=fc<<BigInt(a*8)-an,u=n.create,f=Ol(e.n,e.nBitLength),h=e.uvRatio||((Q,X)=>{try{return{isValid:!0,value:n.sqrt(Q*n.inv(X))}}catch{return{isValid:!1,value:Hn}}}),g=e.adjustScalarBytes||(Q=>Q),p=e.domain||((Q,X,G)=>{if(Ma("phflag",G),X.length||G)throw new Error("Contexts/pre-hash are not supported");return Q});function b(Q,X){_i("coordinate "+Q,X,Hn,c)}function E(Q){if(!(Q instanceof k))throw new Error("ExtendedPoint expected")}const v=ul((Q,X)=>{const{ex:G,ey:te,ez:le}=Q,ae=Q.is0();X==null&&(X=ae?G8:n.inv(le));const ce=u(G*X),oe=u(te*X),B=u(le*X);if(ae)return{x:Hn,y:an};if(B!==an)throw new Error("invZ was invalid");return{x:ce,y:oe}}),_=ul(Q=>{const{a:X,d:G}=e;if(Q.is0())throw new Error("bad point: ZERO");const{ex:te,ey:le,ez:ae,et:ce}=Q,oe=u(te*te),B=u(le*le),ue=u(ae*ae),he=u(ue*ue),me=u(oe*X),de=u(ue*u(me+B)),ge=u(he+u(G*u(oe*B)));if(de!==ge)throw new Error("bad point: equation left != right (1)");const j=u(te*le),O=u(ae*ce);if(j!==O)throw new Error("bad point: equation left != right (2)");return!0});class k{constructor(X,G,te,le){this.ex=X,this.ey=G,this.ez=te,this.et=le,b("x",X),b("y",G),b("z",te),b("t",le),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(X){if(X instanceof k)throw new Error("extended point not allowed");const{x:G,y:te}=X||{};return b("x",G),b("y",te),new k(G,te,an,u(G*te))}static normalizeZ(X){const G=n.invertBatch(X.map(te=>te.ez));return X.map((te,le)=>te.toAffine(G[le])).map(k.fromAffine)}static msm(X,G){return g_(k,f,X,G)}_setWindowSize(X){M.setWindowSize(this,X)}assertValidity(){_(this)}equals(X){E(X);const{ex:G,ey:te,ez:le}=this,{ex:ae,ey:ce,ez:oe}=X,B=u(G*oe),ue=u(ae*le),he=u(te*oe),me=u(ce*le);return B===ue&&he===me}is0(){return this.equals(k.ZERO)}negate(){return new k(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:X}=e,{ex:G,ey:te,ez:le}=this,ae=u(G*G),ce=u(te*te),oe=u(fc*u(le*le)),B=u(X*ae),ue=G+te,he=u(u(ue*ue)-ae-ce),me=B+ce,de=me-oe,ge=B-ce,j=u(he*de),O=u(me*ge),z=u(he*ge),Y=u(de*me);return new k(j,O,Y,z)}add(X){E(X);const{a:G,d:te}=e,{ex:le,ey:ae,ez:ce,et:oe}=this,{ex:B,ey:ue,ez:he,et:me}=X;if(G===BigInt(-1)){const R=u((ae-le)*(ue+B)),D=u((ae+le)*(ue-B)),ee=u(D-R);if(ee===Hn)return this.double();const fe=u(ce*fc*me),be=u(oe*fc*he),ve=be+fe,Ae=D+R,T=be-fe,x=u(ve*ee),w=u(Ae*T),I=u(ve*T),K=u(ee*Ae);return new k(x,w,K,I)}const de=u(le*B),ge=u(ae*ue),j=u(oe*te*me),O=u(ce*he),z=u((le+ae)*(B+ue)-de-ge),Y=O-j,q=O+j,Z=u(ge-G*de),N=u(z*Y),m=u(q*Z),y=u(z*Z),A=u(Y*q);return new k(N,m,A,y)}subtract(X){return this.add(X.negate())}wNAF(X){return M.wNAFCached(this,X,k.normalizeZ)}multiply(X){const G=X;_i("scalar",G,an,r);const{p:te,f:le}=this.wNAF(G);return k.normalizeZ([te,le])[0]}multiplyUnsafe(X,G=k.ZERO){const te=X;return _i("scalar",te,Hn,r),te===Hn?S:this.is0()||te===an?this:M.wNAFCachedUnsafe(this,te,k.normalizeZ,G)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return M.unsafeLadder(this,r).is0()}toAffine(X){return v(this,X)}clearCofactor(){const{h:X}=e;return X===an?this:this.multiplyUnsafe(X)}static fromHex(X,G=!1){const{d:te,a:le}=e,ae=n.BYTES;X=nn("pointHex",X,ae),Ma("zip215",G);const ce=X.slice(),oe=X[ae-1];ce[ae-1]=oe&-129;const B=Ia(ce),ue=G?c:n.ORDER;_i("pointHex.y",B,Hn,ue);const he=u(B*B),me=u(he-an),de=u(te*he-le);let{isValid:ge,value:j}=h(me,de);if(!ge)throw new Error("Point.fromHex: invalid y coordinate");const O=(j&an)===an,z=(oe&128)!==0;if(!G&&j===Hn&&z)throw new Error("Point.fromHex: x=0 and x_0=1");return z!==O&&(j=u(-j)),k.fromAffine({x:j,y:B})}static fromPrivateKey(X){return F(X).point}toRawBytes(){const{x:X,y:G}=this.toAffine(),te=Zu(G,n.BYTES);return te[te.length-1]|=X&an?128:0,te}toHex(){return js(this.toRawBytes())}}k.BASE=new k(e.Gx,e.Gy,an,u(e.Gx*e.Gy)),k.ZERO=new k(Hn,an,an,Hn);const{BASE:P,ZERO:S}=k,M=p_(k,a*8);function C(Q){return ft(Q,r)}function U(Q){return C(Ia(Q))}function F(Q){const X=n.BYTES;Q=nn("private key",Q,X);const G=nn("hashed private key",s(Q),2*X),te=g(G.slice(0,X)),le=G.slice(X,2*X),ae=U(te),ce=P.multiply(ae),oe=ce.toRawBytes();return{head:te,prefix:le,scalar:ae,point:ce,pointBytes:oe}}function V(Q){return F(Q).pointBytes}function se(Q=new Uint8Array,...X){const G=wt(...X);return U(s(p(G,nn("context",Q),!!i)))}function ie(Q,X,G={}){Q=nn("message",Q),i&&(Q=i(Q));const{prefix:te,scalar:le,pointBytes:ae}=F(X),ce=se(G.context,te,Q),oe=P.multiply(ce).toRawBytes(),B=se(G.context,oe,ae,Q),ue=C(ce+B*le);_i("signature.s",ue,Hn,r);const he=wt(oe,Zu(ue,n.BYTES));return nn("result",he,n.BYTES*2)}const L=K8;function H(Q,X,G,te=L){const{context:le,zip215:ae}=te,ce=n.BYTES;Q=nn("signature",Q,2*ce),X=nn("message",X),G=nn("publicKey",G,ce),ae!==void 0&&Ma("zip215",ae),i&&(X=i(X));const oe=Ia(Q.slice(ce,2*ce));let B,ue,he;try{B=k.fromHex(G,ae),ue=k.fromHex(Q.slice(0,ce),ae),he=P.multiplyUnsafe(oe)}catch{return!1}if(!ae&&B.isSmallOrder())return!1;const me=se(le,ue.toRawBytes(),B.toRawBytes(),X);return ue.add(B.multiplyUnsafe(me)).subtract(he).clearCofactor().equals(k.ZERO)}return P._setWindowSize(8),{CURVE:e,getPublicKey:V,sign:ie,verify:H,ExtendedPoint:k,utils:{getExtendedPublicKey:F,randomPrivateKey:()=>o(n.BYTES),precompute(Q=8,X=k.BASE){return X._setWindowSize(Q),X.multiply(BigInt(3)),X}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dg=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ty=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Z8=BigInt(1),Ay=BigInt(2);BigInt(3);const Q8=BigInt(5),J8=BigInt(8);function e6(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=dg,a=t*t%s*t%s,l=cr(a,Ay,s)*a%s,c=cr(l,Z8,s)*t%s,u=cr(c,Q8,s)*c%s,f=cr(u,e,s)*u%s,h=cr(f,n,s)*f%s,g=cr(h,r,s)*h%s,p=cr(g,i,s)*g%s,b=cr(p,i,s)*g%s,E=cr(b,e,s)*u%s;return{pow_p_5_8:cr(E,Ay,s)*t%s,b2:a}}function t6(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function n6(t,e){const n=dg,r=ft(e*e*e,n),i=ft(r*r*e,n),s=e6(t*i).pow_p_5_8;let o=ft(t*r*s,n);const a=ft(e*o*o,n),l=o,c=ft(o*Ty,n),u=a===t,f=a===ft(-t,n),h=a===ft(-t*Ty,n);return u&&(o=l),(f||h)&&(o=c),H4(o,n)&&(o=ft(-o,n)),{isValid:u||f,value:o}}const r6=Ol(dg,void 0,!0),i6={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:r6,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:J8,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:q8,randomBytes:W1,adjustScalarBytes:t6,uvRatio:n6},Gs=X8(i6);var Cy=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Zt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Vt,pa,S_,k_;class s6{constructor(e={}){Vt.set(this,void 0),pa.set(this,void 0),this[S_]=this.entries.bind(this),this[k_]="ExpirableMap";const{source:n=[],expirationTime:r=10*60*1e3}=e,i=Date.now();Cy(this,Vt,new Map([...n].map(([s,o])=>[s,{value:o,timestamp:i}])),"f"),Cy(this,pa,r,"f")}prune(){const e=Date.now();for(const[n,r]of Zt(this,Vt,"f").entries())e-r.timestamp>Zt(this,pa,"f")&&Zt(this,Vt,"f").delete(n);return this}set(e,n){this.prune();const r={value:n,timestamp:Date.now()};return Zt(this,Vt,"f").set(e,r),this}get(e){const n=Zt(this,Vt,"f").get(e);if(n!==void 0){if(Date.now()-n.timestamp>Zt(this,pa,"f")){Zt(this,Vt,"f").delete(e);return}return n.value}}clear(){Zt(this,Vt,"f").clear()}entries(){const e=Zt(this,Vt,"f").entries();return function*(){for(const[r,i]of e)yield[r,i.value]}()}values(){const e=Zt(this,Vt,"f").values();return function*(){for(const r of e)yield r.value}()}keys(){return Zt(this,Vt,"f").keys()}forEach(e,n){for(const[r,i]of Zt(this,Vt,"f").entries())e.call(n,i.value,r,this)}has(e){return Zt(this,Vt,"f").has(e)}delete(e){return Zt(this,Vt,"f").delete(e)}get size(){return Zt(this,Vt,"f").size}}Vt=new WeakMap,pa=new WeakMap,S_=Symbol.iterator,k_=Symbol.toStringTag;const By=t=>{if(t<=127)return 1;if(t<=255)return 2;if(t<=65535)return 3;if(t<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},jy=(t,e,n)=>{if(n<=127)return t[e]=n,1;if(n<=255)return t[e]=129,t[e+1]=n,2;if(n<=65535)return t[e]=130,t[e+1]=n>>8,t[e+2]=n,3;if(n<=16777215)return t[e]=131,t[e+1]=n>>16,t[e+2]=n>>8,t[e+3]=n,4;throw new Error("Length too long (> 4 bytes)")},S0=(t,e)=>{if(t[e]<128)return 1;if(t[e]===128)throw new Error("Invalid length 0");if(t[e]===129)return 2;if(t[e]===130)return 3;if(t[e]===131)return 4;throw new Error("Length too long (> 4 bytes)")},o6=(t,e)=>{const n=S0(t,e);if(n===1)return t[e];if(n===2)return t[e+1];if(n===3)return(t[e+1]<<8)+t[e+2];if(n===4)return(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const td=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function N_(t,e){const n=2+By(t.byteLength+1),r=e.byteLength+n+t.byteLength;let i=0;const s=new Uint8Array(1+By(r)+r);return s[i++]=48,i+=jy(s,i,r),s.set(e,i),i+=e.byteLength,s[i++]=3,i+=jy(s,i,t.byteLength+1),s[i++]=0,s.set(new Uint8Array(t),i),s}const T_=(t,e)=>{let n=0;const r=(a,l)=>{if(i[n++]!==a)throw new Error("Expected: "+l)},i=new Uint8Array(t);if(r(48,"sequence"),n+=S0(i,n),!Pd(i.slice(n,n+e.byteLength),e))throw new Error("Not the expected OID.");n+=e.byteLength,r(3,"bit string");const s=o6(i,n)-1;n+=S0(i,n),r(0,"0 padding");const o=i.slice(n);if(s!==o.length)throw new Error(`DER payload mismatch: Expected length ${s} actual length ${o.length}`);return o};var Ry=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Py=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Zc,Qc;let A_=class ga{constructor(e){if(Zc.set(this,void 0),Qc.set(this,void 0),e.byteLength!==ga.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Ry(this,Zc,e,"f"),Ry(this,Qc,ga.derEncode(e),"f")}static from(e){return this.fromDer(e.toDer())}static fromRaw(e){return new ga(e)}static fromDer(e){return new ga(this.derDecode(e))}static derEncode(e){return N_(e,td).buffer}static derDecode(e){const n=T_(e,td);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return Py(this,Zc,"f")}get derKey(){return Py(this,Qc,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Zc=new WeakMap,Qc=new WeakMap;A_.RAW_KEY_LENGTH=32;class a6{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(n=>n!==e)}notify(e,...n){this.observers.forEach(r=>r(e,...n))}}class l6 extends a6{constructor(){super()}print(e,...n){this.notify({message:e,level:"info"},...n)}warn(e,...n){this.notify({message:e,level:"warn"},...n)}error(e,n,...r){this.notify({message:e,level:"error",error:n},...r)}}var ur=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},$t=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},fr,Jc,eu,tu,nu,ru,iu,su,Ks;const C_=.5,B_=1.5,j_=500,R_=6e4,P_=9e5,O_=10;class Vd{constructor(e=Vd.default){fr.set(this,void 0),Jc.set(this,void 0),eu.set(this,void 0),tu.set(this,void 0),nu.set(this,void 0),ru.set(this,void 0),iu.set(this,void 0),su.set(this,void 0),Ks.set(this,0);const{initialInterval:n=j_,randomizationFactor:r=C_,multiplier:i=B_,maxInterval:s=R_,maxElapsedTime:o=P_,maxIterations:a=O_,date:l=Date}=e;ur(this,fr,n,"f"),ur(this,Jc,r,"f"),ur(this,eu,i,"f"),ur(this,tu,s,"f"),ur(this,su,l,"f"),ur(this,nu,l.now(),"f"),ur(this,ru,o,"f"),ur(this,iu,a,"f")}get ellapsedTimeInMsec(){return $t(this,su,"f").now()-$t(this,nu,"f")}get currentInterval(){return $t(this,fr,"f")}get count(){return $t(this,Ks,"f")}get randomValueFromInterval(){const e=$t(this,Jc,"f")*$t(this,fr,"f"),n=$t(this,fr,"f")-e,r=$t(this,fr,"f")+e;return Math.random()*(r-n)+n}incrementCurrentInterval(){var e;return ur(this,fr,Math.min($t(this,fr,"f")*$t(this,eu,"f"),$t(this,tu,"f")),"f"),ur(this,Ks,(e=$t(this,Ks,"f"),e++,e),"f"),$t(this,fr,"f")}next(){return this.ellapsedTimeInMsec>=$t(this,ru,"f")||$t(this,Ks,"f")>=$t(this,iu,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}fr=new WeakMap,Jc=new WeakMap,eu=new WeakMap,tu=new WeakMap,nu=new WeakMap,ru=new WeakMap,iu=new WeakMap,su=new WeakMap,Ks=new WeakMap;Vd.default={initialInterval:j_,randomizationFactor:C_,multiplier:B_,maxInterval:R_,maxElapsedTime:P_,maxIterations:O_,date:Date};const M_=5*60*1e3;var Qt=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},xe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},_r,hr,yi,po,ma,ya,qn,ou,Kn,as,ls,xa,Ys,Xs,cs,hs,I_,au,lu,Mr;(function(t){t.Received="received",t.Processing="processing",t.Replied="replied",t.Rejected="rejected",t.Unknown="unknown",t.Done="done"})(Mr||(Mr={}));const hc=60*1e3,c6="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",u6="aaaaa-aa",d6="ic0.app",f6=".ic0.app",h6="icp0.io",p6=".icp0.io",g6="icp-api.io",m6=".icp-api.io";class Vf extends kt{constructor(e){super(e),this.message=e}}class pc extends kt{constructor(e){super(e),this.message=e}}function y6(){let t;if(typeof window<"u")if(window.fetch)t=window.fetch.bind(window);else throw new Vf("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)t=global.fetch.bind(global);else throw new Vf("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(t=self.fetch.bind(self));if(t)return t;throw new Vf("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function x6(t){let e;if(t!==void 0)!t.match(/^[a-z]+:/)&&typeof window<"u"?e=new URL(window.location.protocol+"//"+t):e=new URL(t);else{const n=["ic0.app","icp0.io","127.0.0.1","localhost"],r=[".github.dev",".gitpod.io"],i=typeof window<"u"?window.location:void 0,s=i==null?void 0:i.hostname;let o;s&&typeof s=="string"&&(r.some(a=>s.endsWith(a))?o=s:o=n.find(a=>s.endsWith(a))),i&&o?e=new URL(`${i.protocol}//${o}${i.port?":"+i.port:""}`):e=new URL("https://icp-api.io")}return e.toString()}class La{constructor(e={}){var n;_r.add(this),hr.set(this,void 0),yi.set(this,void 0),po.set(this,void 0),ma.set(this,void 0),ya.set(this,0),qn.set(this,void 0),ou.set(this,!1),Kn.set(this,void 0),as.set(this,void 0),ls.set(this,void 0),this._isAgent=!0,this.config={},xa.set(this,0),this.log=new l6,Ys.set(this,[]),Xs.set(this,[]),cs.set(this,new s6({expirationTime:5*60*1e3})),hs.set(this,!0),lu.set(this,(s,o)=>{if(xe(this,hs,"f")===!1)return s;if(!o)throw new xr("Invalid signature from replica signed query: no matching node key found.");const{status:a,signatures:l=[],requestId:c}=s,u=new TextEncoder().encode("\vic-response");for(const f of l){const{timestamp:h,identity:g}=f,p=Re.fromUint8Array(g).toText();let b;if(a==="replied"){const{reply:P}=s;b=Xu({status:a,reply:P,timestamp:BigInt(h),request_id:c})}else if(a==="rejected"){const{reject_code:P,reject_message:S,error_code:M}=s;b=Xu({status:a,reject_code:P,reject_message:S,error_code:M,timestamp:BigInt(h),request_id:c})}else throw new Error(`Unknown status: ${a}`);const E=tr(u,new Uint8Array(b)),v=o==null?void 0:o.nodeKeys.get(p);if(!v)throw new xr("Invalid signature from replica signed query: no matching node key found.");const _=A_.fromDer(v).rawKey;if(Gs.verify(f.signature,new Uint8Array(E),new Uint8Array(_)))return s;throw new xr(`Invalid signature from replica ${p} signed query.`)}return s}),this.config=e,Qt(this,yi,e.fetch||y6()||fetch.bind(global),"f"),Qt(this,po,e.fetchOptions,"f"),Qt(this,ma,e.callOptions,"f"),this.rootKey=e.rootKey?e.rootKey:Kr(c6);const r=x6(e.host);this.host=new URL(r),e.verifyQuerySignatures!==void 0&&Qt(this,hs,e.verifyQuerySignatures,"f"),Qt(this,Kn,(n=e.retryTimes)!==null&&n!==void 0?n:3,"f");const i=()=>new Vd({maxIterations:xe(this,Kn,"f")});if(Qt(this,as,e.backoffStrategy||i,"f"),this.host.hostname.endsWith(f6)?this.host.hostname=d6:this.host.hostname.endsWith(p6)?this.host.hostname=h6:this.host.hostname.endsWith(m6)&&(this.host.hostname=g6),e.credentials){const{name:s,password:o}=e.credentials;Qt(this,qn,`${s}${o?":"+o:""}`,"f")}if(Qt(this,hr,Promise.resolve(e.identity||new g0),"f"),e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes>5)throw new kt(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${e.ingressExpiryInMinutes} minutes.`);if(e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes<=0)throw new kt(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${e.ingressExpiryInMinutes} minutes.`);Qt(this,ls,e.ingressExpiryInMinutes||5,"f"),this.addTransform("update",cy(x0)),e.useQueryNonces&&this.addTransform("query",cy(x0)),e.logToConsole&&this.log.subscribe(s=>{s.level==="error"?console.error(s.message):s.level==="warn"?console.warn(s.message):console.log(s.message)})}get waterMark(){return xe(this,xa,"f")}static createSync(e={}){return new this(Object.assign({},e))}static async create(e={shouldFetchRootKey:!1}){const n=La.createSync(e),r=[n.syncTime()];return n.host.toString()!=="https://icp-api.io"&&e.shouldFetchRootKey&&r.push(n.fetchRootKey()),await Promise.all(r),n}static async from(e){var n;try{return"config"in e?await La.create(e.config):await La.create({fetch:e._fetch,fetchOptions:e._fetchOptions,callOptions:e._callOptions,host:e._host.toString(),identity:(n=e._identity)!==null&&n!==void 0?n:void 0})}catch{throw new kt("Failed to create agent from provided agent")}}isLocal(){const e=this.host.hostname;return e==="127.0.0.1"||e.endsWith("127.0.0.1")}addTransform(e,n,r=n.priority||0){if(e==="update"){const i=xe(this,Xs,"f").findIndex(s=>(s.priority||0)<r);xe(this,Xs,"f").splice(i>=0?i:xe(this,Xs,"f").length,0,Object.assign(n,{priority:r}))}else if(e==="query"){const i=xe(this,Ys,"f").findIndex(s=>(s.priority||0)<r);xe(this,Ys,"f").splice(i>=0?i:xe(this,Ys,"f").length,0,Object.assign(n,{priority:r}))}}async getPrincipal(){if(!xe(this,hr,"f"))throw new pc("This identity has expired due this application's security policy. Please refresh your authentication.");return(await xe(this,hr,"f")).getPrincipal()}async call(e,n,r){var i;const s=(i=n.callSync)!==null&&i!==void 0?i:!0,o=await(r!==void 0?await r:await xe(this,hr,"f"));if(!o)throw new pc("This identity has expired due this application's security policy. Please refresh your authentication.");const a=Re.from(e),l=n.effectiveCanisterId?Re.from(n.effectiveCanisterId):a,c=o.getPrincipal()||Re.anonymous();let u=new qs(xe(this,ls,"f")*hc);Math.abs(xe(this,ya,"f"))>1e3*30&&(u=new qs(xe(this,ls,"f")*hc+xe(this,ya,"f")));const f={request_type:y0.Call,canister_id:a,method_name:n.methodName,arg:n.arg,sender:c,ingress_expiry:u};let h=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},xe(this,qn,"f")?{Authorization:"Basic "+btoa(xe(this,qn,"f"))}:{})},endpoint:"call",body:f});const g=h.body.nonce?p(h.body.nonce):void 0;f.nonce=g;function p(v){return new Uint8Array(v)}h=await o.transformRequest(h);const b=Pf(h.body),E=xe(this,as,"f").call(this);try{const v=()=>(this.log.print(`fetching "/api/v3/canister/${l.toText()}/call" with request:`,h),xe(this,yi,"f").call(this,""+new URL(`/api/v3/canister/${l.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,ma,"f")),h.request),{body:b}))),_=()=>(this.log.print(`fetching "/api/v2/canister/${l.toText()}/call" with request:`,h),xe(this,yi,"f").call(this,""+new URL(`/api/v2/canister/${l.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,ma,"f")),h.request),{body:b}))),k=xe(this,_r,"m",au).call(this,{request:s?v:_,backoff:E,tries:0}),P=cl(f),S=await k,M=await S.arrayBuffer(),C=S.status===200&&M.byteLength>0?Vr(M):null;if(C&&"certificate"in C){const U=await this.parseTimeFromResponse({certificate:C.certificate});Qt(this,xa,U,"f")}return{requestId:P,response:{ok:S.ok,status:S.status,statusText:S.statusText,body:C,headers:fa(S.headers)},requestDetails:f}}catch(v){if(v.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(e,Object.assign(Object.assign({},n),{callSync:!1}),r);throw this.log.error("Error while making call:",v),v}}async query(e,n,r){const i=xe(this,as,"f").call(this),s=n.effectiveCanisterId?Re.from(n.effectiveCanisterId):Re.from(e);this.log.print(`ecid ${s.toString()}`),this.log.print(`canisterId ${e.toString()}`);const o=async()=>{const g=await(r!==void 0?r:xe(this,hr,"f"));if(!g)throw new pc("This identity has expired due this application's security policy. Please refresh your authentication.");const p=Re.from(e),b=(g==null?void 0:g.getPrincipal())||Re.anonymous(),E={request_type:"query",canister_id:p,method_name:n.methodName,arg:n.arg,sender:b,ingress_expiry:new qs(xe(this,ls,"f")*hc)},v=cl(E);let _=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},xe(this,qn,"f")?{Authorization:"Basic "+btoa(xe(this,qn,"f"))}:{})},endpoint:"read",body:E});_=await(g==null?void 0:g.transformRequest(_));const k=Pf(_.body),P={canister:p.toText(),ecid:s,transformedRequest:_,body:k,requestId:v,backoff:i,tries:0};return{requestDetails:E,query:await xe(this,_r,"m",I_).call(this,P)}},a=async()=>{if(!xe(this,hs,"f"))return;const g=xe(this,cs,"f").get(s.toString());return g||(await this.fetchSubnetKeys(s.toString()),xe(this,cs,"f").get(s.toString()))},[l,c]=await Promise.all([o(),a()]),{requestDetails:u,query:f}=l,h=Object.assign(Object.assign({},f),{requestDetails:u});if(this.log.print("Query response:",h),!xe(this,hs,"f"))return h;try{return xe(this,lu,"f").call(this,h,c)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),xe(this,cs,"f").delete(e.toString()),await this.fetchSubnetKeys(s.toString());const p=xe(this,cs,"f").get(e.toString());if(!p)throw new xr("Invalid signature from replica signed query: no matching node key found.");return xe(this,lu,"f").call(this,h,p)}}async createReadStateRequest(e,n){const r=await(n!==void 0?await n:await xe(this,hr,"f"));if(!r)throw new pc("This identity has expired due this application's security policy. Please refresh your authentication.");const i=(r==null?void 0:r.getPrincipal())||Re.anonymous(),s=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},xe(this,qn,"f")?{Authorization:"Basic "+btoa(xe(this,qn,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:e.paths,sender:i,ingress_expiry:new qs(xe(this,ls,"f")*hc)}});return r==null?void 0:r.transformRequest(s)}async readState(e,n,r,i){const s=typeof e=="string"?Re.fromText(e):e,o=i??await this.createReadStateRequest(n,r),a=Object.assign(Object.assign({},o.body),{ingress_expiry:new qs(M_)}),l=Pf(a);this.log.print(`fetching "/api/v2/canister/${s}/read_state" with request:`,o);const c=xe(this,as,"f").call(this);try{const u=await xe(this,_r,"m",au).call(this,{request:()=>xe(this,yi,"f").call(this,""+new URL(`/api/v2/canister/${s.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,po,"f")),o.request),{body:l})),backoff:c,tries:0});if(!u.ok)throw new Error(`Server returned an error:
  Code: ${u.status} (${u.statusText})
  Body: ${await u.text()}
`);const f=Vr(await u.arrayBuffer());this.log.print("Read state response:",f);const h=await this.parseTimeFromResponse(f);return h>0&&(this.log.print("Read state response time:",h),Qt(this,xa,h,"f")),f}catch(u){throw this.log.error("Caught exception while attempting to read state",u),u}}async parseTimeFromResponse(e){let n;if(e.certificate){const r=Vr(e.certificate);if(r&&"tree"in r)n=r.tree;else throw new Error("Could not decode time from response");const i=Po(["time"],n);if(i.status!==Et.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(i.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(i))throw new Error("Time was not found in the response or was not in its expected format.");const s=ug(Zp(i.value));return this.log.print("Time from response:",s),this.log.print("Time from response in milliseconds:",Number(s)),Number(s)}else this.log.warn("No certificate found in response");return 0}async syncTime(e){const n=await oN(()=>Promise.resolve().then(()=>v8),[],import.meta.url),r=Date.now();try{e||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const s=(await n.request({canisterId:e??Re.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:this,paths:["time"]})).get("time");s&&Qt(this,ya,Number(s)-Number(r),"f")}catch(i){this.log.error("Caught exception while attempting to sync time",i)}}async status(){const e=xe(this,qn,"f")?{Authorization:"Basic "+btoa(xe(this,qn,"f"))}:{};this.log.print('fetching "/api/v2/status"');const n=xe(this,as,"f").call(this),r=await xe(this,_r,"m",au).call(this,{backoff:n,request:()=>xe(this,yi,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:e},xe(this,po,"f"))),tries:0});return Vr(await r.arrayBuffer())}async fetchRootKey(){if(!xe(this,ou,"f")){const e=await this.status();this.rootKey=e.root_key,Qt(this,ou,!0,"f")}return this.rootKey}invalidateIdentity(){Qt(this,hr,null,"f")}replaceIdentity(e){Qt(this,hr,Promise.resolve(e),"f")}async fetchSubnetKeys(e){const n=Re.from(e),i=(await w_({canisterId:n,paths:["subnet"],agent:this})).get("subnet");if(i&&typeof i=="object"&&"nodeKeys"in i)return xe(this,cs,"f").set(n.toText(),i),i}_transform(e){let n=Promise.resolve(e);if(e.endpoint==="call")for(const r of xe(this,Xs,"f"))n=n.then(i=>r(i).then(s=>s||i));else for(const r of xe(this,Ys,"f"))n=n.then(i=>r(i).then(s=>s||i));return n}}hr=new WeakMap,yi=new WeakMap,po=new WeakMap,ma=new WeakMap,ya=new WeakMap,qn=new WeakMap,ou=new WeakMap,Kn=new WeakMap,as=new WeakMap,ls=new WeakMap,xa=new WeakMap,Ys=new WeakMap,Xs=new WeakMap,cs=new WeakMap,hs=new WeakMap,lu=new WeakMap,_r=new WeakSet,I_=async function t(e){var n,r;const{ecid:i,transformedRequest:s,body:o,requestId:a,backoff:l,tries:c}=e,u=c===0?0:l.next();if(this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:c,backoff:l,delay:u}),u===null)throw new kt(`Timestamp failed to pass the watermark after retrying the configured ${xe(this,Kn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);u>0&&await new Promise(p=>setTimeout(p,u));let f;try{this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,s);const p=await xe(this,yi,"f").call(this,""+new URL(`/api/v2/canister/${i.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,po,"f")),s.request),{body:o}));if(p.status===200){const b=Vr(await p.arrayBuffer());f=Object.assign(Object.assign({},b),{httpDetails:{ok:p.ok,status:p.status,statusText:p.statusText,headers:fa(p.headers)},requestId:a})}else throw new Of(`Gateway returned an error:
  Code: ${p.status} (${p.statusText})
  Body: ${await p.text()}
`,{ok:p.ok,status:p.status,statusText:p.statusText,headers:fa(p.headers)})}catch(p){if(c<xe(this,Kn,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${p}
  Retrying query.`),await xe(this,_r,"m",t).call(this,Object.assign(Object.assign({},e),{tries:c+1}));throw p}const h=(r=(n=f.signatures)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.timestamp;if(!xe(this,hs,"f"))return f;if(!h)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const g=Number(BigInt(h)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:g}),Number(this.waterMark)>g){const p=new kt("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",p,{timestamp:h,waterMark:this.waterMark}),c<xe(this,Kn,"f"))return await xe(this,_r,"m",t).call(this,Object.assign(Object.assign({},e),{tries:c+1}));throw new kt(`Timestamp failed to pass the watermark after retrying the configured ${xe(this,Kn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return f},au=async function t(e){const{request:n,backoff:r,tries:i}=e,s=i===0?0:r.next();if(s===null)throw new kt(`Timestamp failed to pass the watermark after retrying the configured ${xe(this,Kn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);s>0&&await new Promise(c=>setTimeout(c,s));let o;try{o=await n()}catch(c){if(xe(this,Kn,"f")>i)return this.log.warn(`Caught exception while attempting to make request:
  ${c}
  Retrying request.`),await xe(this,_r,"m",t).call(this,{request:n,backoff:r,tries:i+1});throw c}if(o.ok)return o;const a=await o.clone().text(),l=`Server returned an error:
  Code: ${o.status} (${o.statusText})
  Body: ${a}
`;if(o.status===404&&o.url.includes("api/v3"))throw new Of("v3 api not supported. Fall back to v2",{ok:o.ok,status:o.status,statusText:o.statusText,headers:fa(o.headers)});if(i<xe(this,Kn,"f"))return await xe(this,_r,"m",t).call(this,{request:n,backoff:r,tries:i+1});throw new Of(l,{ok:o.ok,status:o.status,statusText:o.statusText,headers:fa(o.headers)})};var Oy;(function(t){t.Error="err",t.GetPrincipal="gp",t.GetPrincipalResponse="gpr",t.Query="q",t.QueryResponse="qr",t.Call="c",t.CallResponse="cr",t.ReadState="rs",t.ReadStateResponse="rsr",t.Status="s",t.StatusResponse="sr"})(Oy||(Oy={}));function My(){const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!t)throw new Error("No Agent could be found.");return t}const b6=5*60*1e3;function F_(){return S6(v6(w6(),1e3),E6(1e3,1.2),_6(b6))}function w6(){let t=!0;return async()=>t?(t=!1,!0):!1}function v6(t,e){return async(n,r,i)=>{if(await t(n,r,i))return new Promise(s=>setTimeout(s,e))}}function _6(t){const e=Date.now()+t;return async(n,r,i)=>{if(Date.now()>e)throw new Error(`Request timed out after ${t} msec:
  Request ID: ${Ut(r)}
  Request status: ${i}
`)}}function E6(t,e){let n=t;return()=>new Promise(r=>setTimeout(()=>{n*=e,r()},n))}function S6(...t){return async(e,n,r)=>{for(const i of t)await i(e,n,r)}}function $s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k6(t){return t!==null&&typeof t=="object"&&$s(t,"body")&&t.body!==null&&typeof t.body=="object"&&$s(t.body,"content")&&t.body.content!==null&&typeof t.body.content=="object"&&$s(t.body.content,"request_type")&&t.body.content.request_type==="read_state"&&$s(t.body.content,"ingress_expiry")&&typeof t.body.content.ingress_expiry=="object"&&t.body.content.ingress_expiry!==null&&$s(t.body.content.ingress_expiry,"toCBOR")&&typeof t.body.content.ingress_expiry.toCBOR=="function"&&$s(t.body.content.ingress_expiry,"toHash")&&typeof t.body.content.ingress_expiry.toHash=="function"}async function U_(t,e,n,r=F_(),i,s){var o;const a=[new TextEncoder().encode("request_status"),n],l=i??await((o=t.createReadStateRequest)===null||o===void 0?void 0:o.call(t,{paths:[a]}));i&&k6(l)&&(l.body.content.ingress_expiry=new qs(M_));const c=await t.readState(e,{paths:[a]},void 0,l);if(t.rootKey==null)throw new Error("Agent root key not initialized before polling");const u=await ws.create({certificate:c.certificate,rootKey:t.rootKey,canisterId:e,blsVerify:s}),f=Mn(u.lookup([...a,new TextEncoder().encode("status")]));let h;switch(typeof f>"u"?h=Mr.Unknown:h=new TextDecoder().decode(f),h){case Mr.Replied:return{reply:Mn(u.lookup([...a,"reply"])),certificate:u};case Mr.Received:case Mr.Unknown:case Mr.Processing:return await r(e,n,h),U_(t,e,n,r,l,s);case Mr.Rejected:{const g=new Uint8Array(Mn(u.lookup([...a,"reject_code"])))[0],p=new TextDecoder().decode(Mn(u.lookup([...a,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${Ut(n)}
  Reject code: ${g}
  Reject text: ${p}
`)}case Mr.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${Ut(n)}
`)}throw new Error("unreachable")}const N6=({IDL:t})=>{const e=t.Variant({mainnet:t.Null,testnet:t.Null}),n=t.Text,r=t.Record({network:e,address:n,min_confirmations:t.Opt(t.Nat32)}),i=t.Nat64,s=i,o=t.Nat32,a=t.Record({start_height:o,end_height:t.Opt(o),network:e}),l=t.Vec(t.Nat8),c=t.Record({tip_height:o,block_headers:t.Vec(l)}),u=t.Record({network:e}),f=t.Nat64,h=t.Vec(f),g=t.Record({network:e,filter:t.Opt(t.Variant({page:t.Vec(t.Nat8),min_confirmations:t.Nat32})),address:n}),p=t.Vec(t.Nat8),b=t.Record({txid:t.Vec(t.Nat8),vout:t.Nat32}),E=t.Record({height:t.Nat32,value:i,outpoint:b}),v=t.Record({next_page:t.Opt(t.Vec(t.Nat8)),tip_height:o,tip_block_hash:p,utxos:t.Vec(E)}),_=t.Record({transaction:t.Vec(t.Nat8),network:e}),k=t.Principal,P=t.Record({canister_id:k,num_requested_changes:t.Opt(t.Nat64)}),S=t.Variant({from_user:t.Record({user_id:t.Principal}),from_canister:t.Record({canister_version:t.Opt(t.Nat64),canister_id:t.Principal})}),M=t.Vec(t.Nat8),C=t.Variant({creation:t.Record({controllers:t.Vec(t.Principal)}),code_deployment:t.Record({mode:t.Variant({reinstall:t.Null,upgrade:t.Null,install:t.Null}),module_hash:t.Vec(t.Nat8)}),load_snapshot:t.Record({canister_version:t.Nat64,taken_at_timestamp:t.Nat64,snapshot_id:M}),controllers_change:t.Record({controllers:t.Vec(t.Principal)}),code_uninstall:t.Null}),U=t.Record({timestamp_nanos:t.Nat64,canister_version:t.Nat64,origin:S,details:C}),F=t.Record({controllers:t.Vec(t.Principal),module_hash:t.Opt(t.Vec(t.Nat8)),recent_changes:t.Vec(U),total_num_changes:t.Nat64}),V=t.Record({canister_id:k}),se=t.Variant({controllers:t.Null,public:t.Null}),ie=t.Record({freezing_threshold:t.Nat,controllers:t.Vec(t.Principal),reserved_cycles_limit:t.Nat,log_visibility:se,wasm_memory_limit:t.Nat,memory_allocation:t.Nat,compute_allocation:t.Nat}),L=t.Record({status:t.Variant({stopped:t.Null,stopping:t.Null,running:t.Null}),memory_size:t.Nat,cycles:t.Nat,settings:ie,query_stats:t.Record({response_payload_bytes_total:t.Nat,num_instructions_total:t.Nat,num_calls_total:t.Nat,request_payload_bytes_total:t.Nat}),idle_cycles_burned_per_day:t.Nat,module_hash:t.Opt(t.Vec(t.Nat8)),reserved_cycles:t.Nat}),H=t.Record({canister_id:k}),J=t.Record({freezing_threshold:t.Opt(t.Nat),controllers:t.Opt(t.Vec(t.Principal)),reserved_cycles_limit:t.Opt(t.Nat),log_visibility:t.Opt(se),wasm_memory_limit:t.Opt(t.Nat),memory_allocation:t.Opt(t.Nat),compute_allocation:t.Opt(t.Nat)}),Q=t.Record({settings:t.Opt(J),sender_canister_version:t.Opt(t.Nat64)}),X=t.Record({canister_id:k}),G=t.Record({canister_id:k}),te=t.Record({canister_id:k,snapshot_id:M}),le=t.Record({canister_id:k}),ae=t.Variant({secp256k1:t.Null}),ce=t.Record({key_id:t.Record({name:t.Text,curve:ae}),canister_id:t.Opt(k),derivation_path:t.Vec(t.Vec(t.Nat8))}),oe=t.Record({public_key:t.Vec(t.Nat8),chain_code:t.Vec(t.Nat8)}),B=t.Record({canister_id:k}),ue=t.Record({idx:t.Nat64,timestamp_nanos:t.Nat64,content:t.Vec(t.Nat8)}),he=t.Record({canister_log_records:t.Vec(ue)}),me=t.Record({value:t.Text,name:t.Text}),de=t.Record({status:t.Nat,body:t.Vec(t.Nat8),headers:t.Vec(me)}),ge=t.Record({url:t.Text,method:t.Variant({get:t.Null,head:t.Null,post:t.Null}),max_response_bytes:t.Opt(t.Nat64),body:t.Opt(t.Vec(t.Nat8)),transform:t.Opt(t.Record({function:t.Func([t.Record({context:t.Vec(t.Nat8),response:de})],[de],["query"]),context:t.Vec(t.Nat8)})),headers:t.Vec(me)}),j=t.Variant({reinstall:t.Null,upgrade:t.Opt(t.Record({wasm_memory_persistence:t.Opt(t.Variant({keep:t.Null,replace:t.Null})),skip_pre_upgrade:t.Opt(t.Bool)})),install:t.Null}),O=t.Record({hash:t.Vec(t.Nat8)}),z=t.Record({arg:t.Vec(t.Nat8),wasm_module_hash:t.Vec(t.Nat8),mode:j,chunk_hashes_list:t.Vec(O),target_canister:k,store_canister:t.Opt(k),sender_canister_version:t.Opt(t.Nat64)}),Y=t.Vec(t.Nat8),q=t.Record({arg:t.Vec(t.Nat8),wasm_module:Y,mode:j,canister_id:k,sender_canister_version:t.Opt(t.Nat64)}),Z=t.Record({canister_id:k}),N=t.Record({id:M,total_size:t.Nat64,taken_at_timestamp:t.Nat64}),m=t.Vec(N),y=t.Record({canister_id:k,sender_canister_version:t.Opt(t.Nat64),snapshot_id:M}),A=t.Record({start_at_timestamp_nanos:t.Nat64,subnet_id:t.Principal}),R=t.Record({num_block_failures_total:t.Nat64,node_id:t.Principal,num_blocks_proposed_total:t.Nat64}),D=t.Vec(t.Record({timestamp_nanos:t.Nat64,node_metrics:t.Vec(R)})),ee=t.Record({settings:t.Opt(J),specified_id:t.Opt(k),amount:t.Opt(t.Nat),sender_canister_version:t.Opt(t.Nat64)}),fe=t.Record({canister_id:k}),be=t.Record({canister_id:k,amount:t.Nat}),ve=t.Vec(t.Nat8),Ae=t.Variant({ed25519:t.Null,bip340secp256k1:t.Null}),T=t.Record({key_id:t.Record({algorithm:Ae,name:t.Text}),canister_id:t.Opt(k),derivation_path:t.Vec(t.Vec(t.Nat8))}),x=t.Record({public_key:t.Vec(t.Nat8),chain_code:t.Vec(t.Nat8)}),w=t.Record({key_id:t.Record({name:t.Text,curve:ae}),derivation_path:t.Vec(t.Vec(t.Nat8)),message_hash:t.Vec(t.Nat8)}),I=t.Record({signature:t.Vec(t.Nat8)}),K=t.Record({key_id:t.Record({algorithm:Ae,name:t.Text}),derivation_path:t.Vec(t.Vec(t.Nat8)),message:t.Vec(t.Nat8)}),re=t.Record({signature:t.Vec(t.Nat8)}),ne=t.Record({canister_id:k}),Te=t.Record({canister_id:k}),Oe=t.Record({canister_id:k}),Ce=t.Vec(O),Ne=t.Record({replace_snapshot:t.Opt(M),canister_id:k}),Ve=N,Qe=t.Record({canister_id:k,sender_canister_version:t.Opt(t.Nat64)}),Yd=t.Record({canister_id:t.Principal,settings:J,sender_canister_version:t.Opt(t.Nat64)}),Xd=t.Record({chunk:t.Vec(t.Nat8),canister_id:t.Principal}),Zd=O;return t.Service({bitcoin_get_balance:t.Func([r],[s],[]),bitcoin_get_block_headers:t.Func([a],[c],[]),bitcoin_get_current_fee_percentiles:t.Func([u],[h],[]),bitcoin_get_utxos:t.Func([g],[v],[]),bitcoin_send_transaction:t.Func([_],[],[]),canister_info:t.Func([P],[F],[]),canister_status:t.Func([V],[L],[]),clear_chunk_store:t.Func([H],[],[]),create_canister:t.Func([Q],[X],[]),delete_canister:t.Func([G],[],[]),delete_canister_snapshot:t.Func([te],[],[]),deposit_cycles:t.Func([le],[],[]),ecdsa_public_key:t.Func([ce],[oe],[]),fetch_canister_logs:t.Func([B],[he],["query"]),http_request:t.Func([ge],[de],[]),install_chunked_code:t.Func([z],[],[]),install_code:t.Func([q],[],[]),list_canister_snapshots:t.Func([Z],[m],[]),load_canister_snapshot:t.Func([y],[],[]),node_metrics_history:t.Func([A],[D],[]),provisional_create_canister_with_cycles:t.Func([ee],[fe],[]),provisional_top_up_canister:t.Func([be],[],[]),raw_rand:t.Func([],[ve],[]),schnorr_public_key:t.Func([T],[x],[]),sign_with_ecdsa:t.Func([w],[I],[]),sign_with_schnorr:t.Func([K],[re],[]),start_canister:t.Func([ne],[],[]),stop_canister:t.Func([Te],[],[]),stored_chunks:t.Func([Oe],[Ce],[]),take_canister_snapshot:t.Func([Ne],[Ve],[]),uninstall_code:t.Func([Qe],[],[]),update_settings:t.Func([Yd],[],[]),upload_chunk:t.Func([Xd],[Zd],[])})};class L_ extends kt{constructor(e,n,r,i){super(["Call failed:",`  Canister: ${e.toText()}`,`  Method: ${n} (${r})`,...Object.getOwnPropertyNames(i).map(s=>`  "${s}": ${JSON.stringify(i[s])}`)].join(`
`)),this.canisterId=e,this.methodName=n,this.type=r,this.props=i}}class T6 extends L_{constructor(e,n,r){var i;super(e,n,"query",{Status:r.status,Code:(i=o0[r.reject_code])!==null&&i!==void 0?i:`Unknown Code "${r.reject_code}"`,Message:r.reject_message}),this.result=r}}class Iy extends L_{constructor(e,n,r,i,s,o,a){super(e,n,"update",Object.assign({"Request ID":Ut(r)},i.body?Object.assign(Object.assign({},a?{"Error code":a}:{}),{"Reject code":String(s),"Reject message":o}):{"HTTP status code":i.status.toString(),"HTTP status text":i.statusText})),this.requestId=r,this.response=i,this.reject_code=s,this.reject_message=o,this.error_code=a}}const Rn=Symbol.for("ic-agent-metadata");class Hd{constructor(e){this[Rn]=Object.freeze(e)}static agentOf(e){return e[Rn].config.agent}static interfaceOf(e){return e[Rn].service}static canisterIdOf(e){return Re.from(e[Rn].config.canisterId)}static async install(e,n){const r=e.mode===void 0?{install:null}:e.mode,i=e.arg?[...new Uint8Array(e.arg)]:[],s=[...new Uint8Array(e.module)],o=typeof n.canisterId=="string"?Re.fromText(n.canisterId):n.canisterId;await Fy(n).install_code({mode:r,arg:i,wasm_module:s,canister_id:o,sender_canister_version:[]})}static async createCanister(e,n){function r(s){return[{controllers:s.controllers?[s.controllers]:[],compute_allocation:s.compute_allocation?[s.compute_allocation]:[],freezing_threshold:s.freezing_threshold?[s.freezing_threshold]:[],memory_allocation:s.memory_allocation?[s.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:i}=await Fy(e||{}).provisional_create_canister_with_cycles({amount:[],settings:r(n||{}),specified_id:[],sender_canister_version:[]});return i}static async createAndInstallCanister(e,n,r){const i=await this.createCanister(r);return await this.install(Object.assign({},n),Object.assign(Object.assign({},r),{canisterId:i})),this.createActor(e,Object.assign(Object.assign({},r),{canisterId:i}))}static createActorClass(e,n){const r=e({IDL:PN});class i extends Hd{constructor(o){if(!o.canisterId)throw new kt(`Canister ID is required, but received ${typeof o.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const a=typeof o.canisterId=="string"?Re.fromText(o.canisterId):o.canisterId;super({config:Object.assign(Object.assign(Object.assign({},z_),o),{canisterId:a}),service:r});for(const[l,c]of r._fields)n!=null&&n.httpDetails&&c.annotations.push(k0),n!=null&&n.certificate&&c.annotations.push(D_),this[l]=A6(this,l,c,o.blsVerify)}}return i}static createActor(e,n){if(!n.canisterId)throw new kt(`Canister ID is required, but received ${typeof n.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(e))(n)}static createActorWithHttpDetails(e,n){return new(this.createActorClass(e,{httpDetails:!0}))(n)}static createActorWithExtendedDetails(e,n,r={httpDetails:!0,certificate:!0}){return new(this.createActorClass(e,r))(n)}}function Vs(t,e){const n=av(t,D1.Buffer.from(e));switch(n.length){case 0:return;case 1:return n[0];default:return n}}const z_={pollingStrategyFactory:F_},k0="http-details",D_="certificate";function A6(t,e,n,r){let i;n.annotations.includes("query")||n.annotations.includes("composite_query")?i=async(o,...a)=>{var l,c;o=Object.assign(Object.assign({},o),(c=(l=t[Rn].config).queryTransform)===null||c===void 0?void 0:c.call(l,e,a,Object.assign(Object.assign({},t[Rn].config),o)));const u=o.agent||t[Rn].config.agent||My(),f=Re.from(o.canisterId||t[Rn].config.canisterId),h=l0(n.argTypes,a),g=await u.query(f,{methodName:e,arg:h,effectiveCanisterId:o.effectiveCanisterId}),p=Object.assign(Object.assign({},g.httpDetails),{requestDetails:g.requestDetails});switch(g.status){case"rejected":throw new T6(f,e,g);case"replied":return n.annotations.includes(k0)?{httpDetails:p,result:Vs(n.retTypes,g.reply.arg)}:Vs(n.retTypes,g.reply.arg)}}:i=async(o,...a)=>{var l,c;o=Object.assign(Object.assign({},o),(c=(l=t[Rn].config).callTransform)===null||c===void 0?void 0:c.call(l,e,a,Object.assign(Object.assign({},t[Rn].config),o)));const u=o.agent||t[Rn].config.agent||My(),{canisterId:f,effectiveCanisterId:h,pollingStrategyFactory:g}=Object.assign(Object.assign(Object.assign({},z_),t[Rn].config),o),p=Re.from(f),b=h!==void 0?Re.from(h):p,E=l0(n.argTypes,a);if(u.rootKey==null)throw new kt("Agent root key not initialized before making call");const{requestId:v,response:_,requestDetails:k}=await u.call(p,{methodName:e,arg:E,effectiveCanisterId:b});let P,S;if(_.body&&_.body.certificate){const F=_.body.certificate;S=await ws.create({certificate:Gu(F),rootKey:u.rootKey,canisterId:Re.from(f),blsVerify:r});const V=[new TextEncoder().encode("request_status"),v];switch(new TextDecoder().decode(Mn(S.lookup([...V,"status"])))){case"replied":P=Mn(S.lookup([...V,"reply"]));break;case"rejected":{const ie=new Uint8Array(Mn(S.lookup([...V,"reject_code"])))[0],L=new TextDecoder().decode(Mn(S.lookup([...V,"reject_message"]))),H=Mn(S.lookup([...V,"error_code"])),J=H?new TextDecoder().decode(H):void 0;throw new Iy(p,e,v,_,ie,L,J)}}}else if(_.body&&"reject_message"in _.body){const{reject_code:F,reject_message:V,error_code:se}=_.body;throw new Iy(p,e,v,_,F,V,se)}if(_.status===202){const F=g(),V=await U_(u,b,v,F,r);S=V.certificate,P=V.reply}const M=n.annotations.includes(k0),C=n.annotations.includes(D_),U=Object.assign(Object.assign({},_),{requestDetails:k});if(P!==void 0)return M&&C?{httpDetails:U,certificate:S,result:Vs(n.retTypes,P)}:C?{certificate:S,result:Vs(n.retTypes,P)}:M?{httpDetails:U,result:Vs(n.retTypes,P)}:Vs(n.retTypes,P);if(n.retTypes.length===0)return M?{httpDetails:_,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${n.retTypes.join(",")}].`)};const s=(...o)=>i({},...o);return s.withOptions=o=>(...a)=>i(o,...a),s}function Fy(t){function e(n,r){if(t.effectiveCanisterId)return{effectiveCanisterId:Re.from(t.effectiveCanisterId)};const i=r[0];let s=Re.fromHex("");return i&&typeof i=="object"&&i.target_canister&&n==="install_chunked_code"&&(s=Re.from(i.target_canister)),i&&typeof i=="object"&&i.canister_id&&(s=Re.from(i.canister_id)),{effectiveCanisterId:s}}return Hd.createActor(N6,Object.assign(Object.assign(Object.assign({},t),{canisterId:Re.fromHex("")}),{callTransform:e,queryTransform:e}))}var nd=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},xi=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},cu,uu,Zs,Qs;function Uy(t){return t!==null&&typeof t=="object"}class Hr{constructor(e){if(cu.set(this,void 0),uu.set(this,void 0),e.byteLength!==Hr.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");nd(this,cu,e,"f"),nd(this,uu,Hr.derEncode(e),"f")}static from(e){if(typeof e=="string"){const n=Kr(e);return this.fromRaw(n)}else if(Uy(e)){const n=e;if(Uy(n)&&Object.hasOwnProperty.call(n,"__derEncodedPublicKey__"))return this.fromDer(n);if(ArrayBuffer.isView(n)){const r=n;return this.fromRaw(Zp(r.buffer))}else{if(n instanceof ArrayBuffer)return this.fromRaw(n);if("rawKey"in n)return this.fromRaw(n.rawKey);if("derKey"in n)return this.fromDer(n.derKey);if("toDer"in n)return this.fromDer(n.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(e){return new Hr(e)}static fromDer(e){return new Hr(this.derDecode(e))}static derEncode(e){const n=N_(e,td).buffer;return n.__derEncodedPublicKey__=void 0,n}static derDecode(e){const n=T_(e,td);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return xi(this,cu,"f")}get derKey(){return xi(this,uu,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}cu=new WeakMap,uu=new WeakMap;Hr.RAW_KEY_LENGTH=32;class Ti extends ig{constructor(e,n){super(),Zs.set(this,void 0),Qs.set(this,void 0),nd(this,Zs,Hr.from(e),"f"),nd(this,Qs,new Uint8Array(n),"f")}static generate(e){if(e&&e.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");e||(e=Gs.utils.randomPrivateKey()),Pd(e,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const n=new Uint8Array(32);for(let i=0;i<32;i++)n[i]=new Uint8Array(e)[i];const r=Gs.getPublicKey(n);return Ti.fromKeyPair(r,n)}static fromParsedJson(e){const[n,r]=e;return new Ti(Hr.fromDer(Kr(n)),Kr(r))}static fromJSON(e){const n=JSON.parse(e);if(Array.isArray(n)){if(typeof n[0]=="string"&&typeof n[1]=="string")return this.fromParsedJson([n[0],n[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(e)}`)}static fromKeyPair(e,n){return new Ti(Hr.fromRaw(e),n)}static fromSecretKey(e){const n=Gs.getPublicKey(new Uint8Array(e));return Ti.fromKeyPair(n,e)}toJSON(){return[Ut(xi(this,Zs,"f").toDer()),Ut(xi(this,Qs,"f"))]}getKeyPair(){return{secretKey:xi(this,Qs,"f"),publicKey:xi(this,Zs,"f")}}getPublicKey(){return xi(this,Zs,"f")}async sign(e){const n=new Uint8Array(e),r=Oa(Gs.sign(n,xi(this,Qs,"f").slice(0,32)));return Object.defineProperty(r,"__signature__",{enumerable:!1,value:void 0}),r}static verify(e,n,r){const[i,s,o]=[e,n,r].map(a=>(typeof a=="string"&&(a=Kr(a)),a instanceof Uint8Array&&(a=a.buffer),new Uint8Array(a)));return Gs.verify(s,i,o)}}Zs=new WeakMap,Qs=new WeakMap;class fg extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,fg.prototype)}}function Ly(t){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(t)return t;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new fg("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class rd extends ig{constructor(e,n,r){super(),this._keyPair=e,this._derKey=n,this._subtleCrypto=r}static async generate(e){const{extractable:n=!1,keyUsages:r=["sign","verify"],subtleCrypto:i}=e??{},s=Ly(i),o=await s.generateKey({name:"ECDSA",namedCurve:"P-256"},n,r),a=await s.exportKey("spki",o.publicKey);return new this(o,a,s)}static async fromKeyPair(e,n){const r=Ly(n),i=await r.exportKey("spki",e.publicKey);return new rd(e,i,r)}getKeyPair(){return this._keyPair}getPublicKey(){const e=this._derKey,n=Object.create(this._keyPair.publicKey);return n.toDer=function(){return e},n}async sign(e){const n={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(n,this._keyPair.privateKey,e)}}var C6=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},na=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},fi;class B6{constructor(e){fi.set(this,void 0),C6(this,fi,e,"f")}get rawKey(){return na(this,fi,"f").rawKey}get derKey(){return na(this,fi,"f").derKey}toDer(){return na(this,fi,"f").toDer()}getPublicKey(){return na(this,fi,"f")}getPrincipal(){return Re.from(na(this,fi,"f").rawKey)}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}fi=new WeakMap;var j6=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},R6=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},P6=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},du;const O6=new TextEncoder().encode("ic-request-auth-delegation"),M6=new TextEncoder().encode(`
ic-request`);function Hf(t){if(typeof t!="string"||t.length<64)throw new Error("Invalid public key.");return Kr(t)}class hg{constructor(e,n,r){this.pubkey=e,this.expiration=n,this.targets=r}toCBOR(){return fn.value.map(Object.assign({pubkey:fn.value.bytes(this.pubkey),expiration:fn.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:fn.value.array(this.targets.map(e=>fn.value.bytes(e.toUint8Array())))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:Ut(this.pubkey)},this.targets&&{targets:this.targets.map(e=>e.toHex())})}}async function I6(t,e,n,r){const i=new hg(e.toDer(),BigInt(+n)*BigInt(1e6),r),s=new Uint8Array([...O6,...new Uint8Array(cl(Object.assign({},i)))]),o=await t.sign(s);return{delegation:i,signature:o}}class id{constructor(e,n){this.delegations=e,this.publicKey=n}static async create(e,n,r=new Date(Date.now()+15*60*1e3),i={}){var s,o;const a=await I6(e,n,r,i.targets);return new id([...((s=i.previous)===null||s===void 0?void 0:s.delegations)||[],a],((o=i.previous)===null||o===void 0?void 0:o.publicKey)||e.getPublicKey().toDer())}static fromJSON(e){const{publicKey:n,delegations:r}=typeof e=="string"?JSON.parse(e):e;if(!Array.isArray(r))throw new Error("Invalid delegations.");const i=r.map(s=>{const{delegation:o,signature:a}=s,{pubkey:l,expiration:c,targets:u}=o;if(u!==void 0&&!Array.isArray(u))throw new Error("Invalid targets.");return{delegation:new hg(Hf(l),BigInt("0x"+c),u&&u.map(f=>{if(typeof f!="string")throw new Error("Invalid target.");return Re.fromHex(f)})),signature:Hf(a)}});return new this(i,Hf(n))}static fromDelegations(e,n){return new this(e,n)}toJSON(){return{delegations:this.delegations.map(e=>{const{delegation:n,signature:r}=e,{targets:i}=n;return{delegation:Object.assign({expiration:n.expiration.toString(16),pubkey:Ut(n.pubkey)},i&&{targets:i.map(s=>s.toHex())}),signature:Ut(r)}}),publicKey:Ut(this.publicKey)}}}class zy extends ig{constructor(e,n){super(),this._inner=e,this._delegation=n}static fromDelegation(e,n){return new this(e,n)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(e){return this._inner.sign(e)}async transformRequest(e){const{body:n}=e,r=P6(e,["body"]),i=await cl(n);return Object.assign(Object.assign({},r),{body:{content:n,sender_sig:await this.sign(new Uint8Array([...M6,...new Uint8Array(i)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class sd extends B6{constructor(e,n){super(e),du.set(this,void 0),j6(this,du,n,"f")}get delegation(){return R6(this,du,"f")}static fromDelegation(e,n){return new sd(e,n)}}du=new WeakMap;function F6(t,e){for(const{delegation:r}of t.delegations)if(+new Date(Number(r.expiration/BigInt(1e6)))<=+Date.now())return!1;const n=[];for(const r of n){const i=r.toText();for(const{delegation:s}of t.delegations){if(s.targets===void 0)continue;let o=!0;for(const a of s.targets)if(a.toText()===i){o=!1;break}if(o)return!1}}return!0}var Dy;(function(t){t[t.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(Dy||(Dy={}));const $y=["mousedown","mousemove","keydown","touchstart","wheel"];class Vy{constructor(e={}){var n;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:r,idleTimeout:i=10*60*1e3}=e||{};this.callbacks=r?[r]:[],this.idleTimeout=i;const s=this._resetTimer.bind(this);window.addEventListener("load",s,!0),$y.forEach(function(a){document.addEventListener(a,s,!0)});const o=(a,l)=>{let c;return(...u)=>{const f=this,h=function(){c=void 0,a.apply(f,u)};clearTimeout(c),c=window.setTimeout(h,l)}};if(e!=null&&e.captureScroll){const a=o(s,(n=e==null?void 0:e.scrollDebounce)!==null&&n!==void 0?n:100);window.addEventListener("scroll",a,!0)}s()}static create(e={}){return new this(e)}registerCallback(e){this.callbacks.push(e)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const e=this._resetTimer.bind(this);$y.forEach(function(n){document.removeEventListener(n,e,!0)}),this.callbacks.forEach(n=>n())}_resetTimer(){const e=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(e,this.idleTimeout)}}const U6=(t,e)=>e.some(n=>t instanceof n);let Hy,Wy;function L6(){return Hy||(Hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z6(){return Wy||(Wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $_=new WeakMap,N0=new WeakMap,V_=new WeakMap,Wf=new WeakMap,pg=new WeakMap;function D6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$_.set(n,t)}).catch(()=>{}),pg.set(e,t),e}function $6(t){if(N0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});N0.set(t,e)}let T0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return N0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V6(t){T0=t(T0)}function H6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qf(this),e,...n);return V_.set(r,e.sort?e.sort():[e]),zi(r)}:z6().includes(t)?function(...e){return t.apply(qf(this),e),zi($_.get(this))}:function(...e){return zi(t.apply(qf(this),e))}}function W6(t){return typeof t=="function"?H6(t):(t instanceof IDBTransaction&&$6(t),U6(t,L6())?new Proxy(t,T0):t)}function zi(t){if(t instanceof IDBRequest)return D6(t);if(Wf.has(t))return Wf.get(t);const e=W6(t);return e!==t&&(Wf.set(t,e),pg.set(e,t)),e}const qf=t=>pg.get(t);function q6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const G6=["get","getKey","getAll","getAllKeys","count"],K6=["put","add","delete","clear"],Gf=new Map;function qy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Gf.set(e,s),s}V6(t=>({...t,get:(e,n,r)=>qy(e,n)||t.get(e,n,r),has:(e,n)=>!!qy(e,n)||t.has(e,n)}));const H_="auth-client-db",W_="ic-keyval",Y6=async(t=H_,e=W_,n)=>(q_&&(localStorage!=null&&localStorage.getItem(Si))&&(localStorage.removeItem(Si),localStorage.removeItem(bi)),await q6(t,n,{upgrade:r=>{r.objectStoreNames.contains(e)&&r.clear(e),r.createObjectStore(e)}}));async function X6(t,e,n){return await t.get(e,n)}async function Z6(t,e,n,r){return await t.put(e,r,n)}async function Q6(t,e,n){return await t.delete(e,n)}class gg{constructor(e,n){this._db=e,this._storeName=n}static async create(e){const{dbName:n=H_,storeName:r=W_,version:i=nT}=e??{},s=await Y6(n,r,i);return new gg(s,r)}async set(e,n){return await Z6(this._db,this._storeName,e,n)}async get(e){var n;return(n=await X6(this._db,this._storeName,e))!==null&&n!==void 0?n:null}async remove(e){return await Q6(this._db,this._storeName,e)}}var J6=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},eT=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},fu;const bi="identity",Si="delegation",tT="iv",nT=1,q_=typeof window<"u";class rT{constructor(e="ic-",n){this.prefix=e,this._localStorage=n}get(e){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+e))}set(e,n){return this._getLocalStorage().setItem(this.prefix+e,n),Promise.resolve()}remove(e){return this._getLocalStorage().removeItem(this.prefix+e),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!e)throw new Error("Could not find local storage.");return e}}class iT{constructor(e){fu.set(this,void 0),J6(this,fu,e??{},"f")}get _db(){return new Promise(e=>{if(this.initializedDb){e(this.initializedDb);return}gg.create(eT(this,fu,"f")).then(n=>{this.initializedDb=n,e(n)})})}async get(e){return await(await this._db).get(e)}async set(e,n){await(await this._db).set(e,n)}async remove(e){await(await this._db).remove(e)}}fu=new WeakMap;const sT="https://identity.ic0.app",oT="#authorize",Kf="ECDSA",Yf="Ed25519",aT=500,lT="UserInterrupt";class mg{constructor(e,n,r,i,s,o,a,l){this._identity=e,this._key=n,this._chain=r,this._storage=i,this.idleManager=s,this._createOptions=o,this._idpWindow=a,this._eventHandler=l,this._registerDefaultIdleCallback()}static async create(e={}){var n,r,i;const s=(n=e.storage)!==null&&n!==void 0?n:new iT,o=(r=e.keyType)!==null&&r!==void 0?r:Kf;let a=null;if(e.identity)a=e.identity;else{let f=await s.get(bi);if(!f&&q_)try{const h=new rT,g=await h.get(Si),p=await h.get(bi);g&&p&&o===Kf&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await s.set(Si,g),await s.set(bi,p),f=g,await h.remove(Si),await h.remove(bi))}catch(h){console.error("error while attempting to recover localstorage: "+h)}if(f)try{typeof f=="object"?o===Yf&&typeof f=="string"?a=await Ti.fromJSON(f):a=await rd.fromKeyPair(f):typeof f=="string"&&(a=Ti.fromJSON(f))}catch{}}let l=new g0,c=null;if(a)try{const f=await s.get(Si);if(typeof f=="object"&&f!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");e.identity?l=e.identity:f&&(c=id.fromJSON(f),F6(c)?"toDer"in a?l=sd.fromDelegation(a,c):l=zy.fromDelegation(a,c):(await Xf(s),a=null))}catch(f){console.error(f),await Xf(s),a=null}let u;return!((i=e.idleOptions)===null||i===void 0)&&i.disableIdle?u=void 0:(c||e.identity)&&(u=Vy.create(e.idleOptions)),a||(o===Yf?(a=await Ti.generate(),await s.set(bi,JSON.stringify(a.toJSON()))):(e.storage&&o===Kf&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${Yf}' as the key type, as it can serialize to a string`),a=await rd.generate(),await s.set(bi,a.getKeyPair()))),new this(l,a,c,s,u,e)}_registerDefaultIdleCallback(){var e,n;const r=(e=this._createOptions)===null||e===void 0?void 0:e.idleOptions;!(r!=null&&r.onIdle)&&!(r!=null&&r.disableDefaultIdleCallback)&&((n=this.idleManager)===null||n===void 0||n.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(e,n){var r,i;const s=e.delegations.map(c=>({delegation:new hg(c.delegation.pubkey,c.delegation.expiration,c.delegation.targets),signature:c.signature.buffer})),o=id.fromDelegations(s,e.userPublicKey.buffer),a=this._key;if(!a)return;this._chain=o,"toDer"in a?this._identity=sd.fromDelegation(a,this._chain):this._identity=zy.fromDelegation(a,this._chain),(r=this._idpWindow)===null||r===void 0||r.close();const l=(i=this._createOptions)===null||i===void 0?void 0:i.idleOptions;!this.idleManager&&!(l!=null&&l.disableIdle)&&(this.idleManager=Vy.create(l),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Si,JSON.stringify(this._chain.toJSON())),n==null||n(e)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(e){var n,r,i,s;const o=BigInt(8)*BigInt(36e11),a=new URL(((n=e==null?void 0:e.identityProvider)===null||n===void 0?void 0:n.toString())||sT);a.hash=oT,(r=this._idpWindow)===null||r===void 0||r.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(a,Object.assign({maxTimeToLive:(i=e==null?void 0:e.maxTimeToLive)!==null&&i!==void 0?i:o},e)),window.addEventListener("message",this._eventHandler),this._idpWindow=(s=window.open(a.toString(),"idpWindow",e==null?void 0:e.windowOpenerFeatures))!==null&&s!==void 0?s:void 0;const l=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(lT,e==null?void 0:e.onError):setTimeout(l,aT))};l()}_getEventHandler(e,n){return async r=>{var i,s,o;if(r.origin!==e.origin)return;const a=r.data;switch(a.kind){case"authorize-ready":{const l=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((i=this._key)===null||i===void 0?void 0:i.getPublicKey().toDer()),maxTimeToLive:n==null?void 0:n.maxTimeToLive,allowPinAuthentication:n==null?void 0:n.allowPinAuthentication,derivationOrigin:(s=n==null?void 0:n.derivationOrigin)===null||s===void 0?void 0:s.toString()},n==null?void 0:n.customValues);(o=this._idpWindow)===null||o===void 0||o.postMessage(l,e.origin);break}case"authorize-client-success":try{await this._handleSuccess(a,n==null?void 0:n.onSuccess)}catch(l){this._handleFailure(l.message,n==null?void 0:n.onError)}break;case"authorize-client-failure":this._handleFailure(a.text,n==null?void 0:n.onError);break}}}_handleFailure(e,n){var r;(r=this._idpWindow)===null||r===void 0||r.close(),n==null||n(e),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(e={}){if(await Xf(this._storage),this._identity=new g0,this._chain=null,e.returnTo)try{window.history.pushState({},"",e.returnTo)}catch{window.location.href=e.returnTo}}}async function Xf(t){await t.remove(bi),await t.remove(Si),await t.remove(tT)}const cT=({IDL:t})=>{const e=t.Variant({Ok:t.Text,Err:t.Text}),n=t.Record({txid:t.Vec(t.Nat8),vout:t.Nat32}),r=t.Record({value:t.Nat64,outpoint:n}),i=t.Record({utxos:t.Vec(r)}),s=t.Variant({Ok:i,Err:t.Text}),o=t.Variant({Ok:t.Nat64,Err:t.Text}),a=t.Record({id:t.Nat64,updated_at:t.Nat64,period:t.Text,created_at:t.Nat64,spent:t.Float64,currency:t.Text,category:t.Text,budget:t.Float64}),l=t.Record({id:t.Nat64,status:t.Text,title:t.Text,updated_at:t.Nat64,description:t.Text,deadline:t.Text,created_at:t.Nat64,current_amount:t.Float64,currency:t.Text,target_amount:t.Float64,category:t.Text,priority:t.Text}),c=t.Record({id:t.Nat64,is_read:t.Bool,title:t.Text,type_:t.Text,message:t.Text,timestamp:t.Nat64,category:t.Text}),u=t.Record({id:t.Nat64,conversion_rate:t.Opt(t.Float64),is_income:t.Bool,date:t.Text,description:t.Text,currency:t.Text,timestamp:t.Nat64,converted_currency:t.Opt(t.Text),category:t.Text,converted_amount:t.Opt(t.Float64),amount:t.Float64});return t.Service({add_budget:t.Func([t.Text,t.Float64,t.Text,t.Text],[e],[]),add_goal:t.Func([t.Text,t.Text,t.Float64,t.Float64,t.Text,t.Text,t.Text,t.Text],[e],[]),add_transaction:t.Func([t.Float64,t.Text,t.Text,t.Bool,t.Text],[e],[]),btc_to_satoshis:t.Func([t.Float64],[t.Nat64],["query"]),convert_currency:t.Func([t.Float64,t.Text,t.Text],[t.Opt(t.Float64)],["query"]),fetch_btc_transactions:t.Func([],[s],[]),format_btc_amount:t.Func([t.Float64],[t.Text],["query"]),get_balance:t.Func([t.Text,t.Opt(t.Text)],[t.Float64],["query"]),get_btc_balance:t.Func([],[o],[]),get_budgets:t.Func([t.Opt(t.Text)],[t.Vec(a)],["query"]),get_currency_rate:t.Func([t.Text,t.Text],[t.Opt(t.Float64)],["query"]),get_goals:t.Func([],[t.Vec(l)],["query"]),get_notifications:t.Func([t.Opt(t.Text),t.Bool],[t.Vec(c)],["query"]),get_total_expense:t.Func([t.Text,t.Opt(t.Text)],[t.Float64],["query"]),get_total_income:t.Func([t.Text,t.Opt(t.Text)],[t.Float64],["query"]),get_transactions:t.Func([],[t.Vec(u)],["query"]),get_transactions_by_period:t.Func([t.Text],[t.Vec(u)],["query"]),get_unread_notification_count:t.Func([],[t.Nat64],["query"]),get_user_balance_summary:t.Func([],[t.Float64,t.Float64,t.Float64],["query"]),get_user_summary:t.Func([],[t.Nat64,t.Nat64,t.Nat64,t.Nat64],["query"]),get_wallet_address:t.Func([t.Text],[t.Opt(t.Text)],["query"]),mark_notification_read:t.Func([t.Nat64],[e],[]),satoshis_to_btc:t.Func([t.Nat64],[t.Float64],["query"]),set_currency_rate:t.Func([t.Text,t.Text,t.Float64],[e],[]),set_wallet_address:t.Func([t.Text,t.Text],[e],[]),update_budget_spent:t.Func([],[e],[]),validate_btc_address:t.Func([t.Text],[t.Bool],["query"])})},yg="uxrrr-q7777-77774-qaaaq-cai",G_=(t,e={})=>{const n=e.agent||new La({...e.agentOptions});return e.agent&&e.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.fetchRootKey().catch(r=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(r)}),Hd.createActor(cT,{agent:n,canisterId:t,...e.actorOptions})};G_(yg);const Zf="local",K_="http://uzt4z-lp777-77774-qaabq-cai.localhost:4943";let gn=null,Se=null;const Ge=async()=>{try{gn||(gn=await mg.create());const t=gn.getIdentity();Se=G_(yg,{agentOptions:{identity:t}});const e=await gn.isAuthenticated();return console.log("initAuth - isAuthenticated:",e),e}catch(t){return console.error("Error in initAuth:",t),!1}},Gy=async()=>{try{gn||(console.log("No authClient, creating new one"),gn=await mg.create());const t=await gn.isAuthenticated();return console.log("isAuthenticated check:",t),t}catch(t){return console.error("Error checking authentication:",t),!1}},uT=async()=>{try{gn||(gn=await mg.create()),await gn.login({identityProvider:K_,onSuccess:async()=>{console.log("Login successful, initializing auth..."),await Ge()},onError:t=>{console.error("Login error:",t)}})}catch(t){throw console.error("Error in login:",t),t}},dT=async()=>{gn&&(await gn.logout(),Se=null)},Er={async addTransaction(t,e,n,r,i){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");const s=Number(t),o=n,a=i,l=r,c=e;return console.log("Sending transaction data:",{amount:s,description:o,category:a,isIncome:l,currency:c}),{success:!0,data:await Se.add_transaction(s,c,o,l,a)}}catch(s){return console.error("Error adding transaction:",s),{success:!1,error:s.message}}},async getTransactions(){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_transactions()}}catch(t){return console.error("Error getting transactions:",t),{success:!1,error:t.message}}},async getTransactionsByPeriod(t){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_transactions_by_period(t)}}catch(e){return console.error("Error getting transactions by period:",e),{success:!1,error:e.message}}},async getBalance(t,e=null){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_balance(e||"",t)}}catch(n){return console.error("Error getting balance:",n),{success:!1,error:n.message}}},async getTotalIncome(t,e=null){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_income(e||"",t)}}catch(n){return console.error("Error getting total income:",n),{success:!1,error:n.message}}},async getTotalExpense(t,e=null){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_expense(e||"",t)}}catch(n){return console.error("Error getting total expense:",n),{success:!1,error:n.message}}}},Ky={async addBudget(t,e,n,r){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.add_budget(t,e,n,r)}}catch(i){return console.error("Error adding budget:",i),{success:!1,error:i.message}}},async getBudgets(t=null){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_budgets(t)}}catch(e){return console.error("Error getting budgets:",e),{success:!1,error:e.message}}},async updateBudgetSpent(){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.update_budget_spent()}}catch(t){return console.error("Error updating budget spent:",t),{success:!1,error:t.message}}}},Yy={async addGoal(t,e,n,r,i,s,o,a){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.add_goal(t,e,n,r,i,s,o,a)}}catch(l){return console.error("Error adding goal:",l),{success:!1,error:l.message}}},async getGoals(){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_goals()}}catch(t){return console.error("Error getting goals:",t),{success:!1,error:t.message}}}},A0={async getNotifications(t=null,e=!1){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return console.log("Skipping notifications call to avoid error"),{success:!0,data:[]}}catch(n){return console.error("Error getting notifications:",n),{success:!1,error:n.message}}},async getUnreadCount(){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_unread_notification_count()}}catch(t){return console.error("Error getting unread count:",t),{success:!1,error:t.message}}},async markAsRead(t){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.mark_notification_read(t)}}catch(e){return console.error("Error marking notification as read:",e),{success:!1,error:e.message}}}},C0={async getCurrencyRate(t,e){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_currency_rate(t,e)}}catch(n){return console.error("Error getting currency rate:",n),{success:!1,error:n.message}}},async setCurrencyRate(t,e,n){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.set_currency_rate(t,e,n)}}catch(r){return console.error("Error setting currency rate:",r),{success:!1,error:r.message}}},async convertCurrency(t,e,n){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.convert_currency(t,e,n)}}catch(r){return console.error("Error converting currency:",r),{success:!1,error:r.message}}}},Yr={async getUserSummary(){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_user_summary()}}catch(t){return console.error("Error getting user summary:",t),{success:!1,error:t.message}}},async getUserBalanceSummary(){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_user_balance_summary()}}catch(t){return console.error("Error getting user balance summary:",t),{success:!1,error:t.message}}},async setWalletAddress(t,e){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.set_wallet_address(t,e)}}catch(n){return console.error("Error setting wallet address:",n),{success:!1,error:n.message}}},async getWalletAddress(t){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_wallet_address(t)}}catch(e){return console.error("Error getting wallet address:",e),{success:!1,error:e.message}}}},B0={async getBtcBalance(){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.get_btc_balance()}}catch(t){return console.error("Error getting BTC balance:",t),{success:!1,error:t.message}}},async fetchBtcTransactions(){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.fetch_btc_transactions()}}catch(t){return console.error("Error fetching BTC transactions:",t),{success:!1,error:t.message}}},async validateBtcAddress(t){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.validate_btc_address(t)}}catch(e){return console.error("Error validating BTC address:",e),{success:!1,error:e.message}}},async formatBtcAmount(t){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.format_btc_amount(t)}}catch(e){return console.error("Error formatting BTC amount:",e),{success:!1,error:e.message}}},async satoshisToBtc(t){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.satoshis_to_btc(t)}}catch(e){return console.error("Error converting satoshis to BTC:",e),{success:!1,error:e.message}}},async btcToSatoshis(t){try{if(!Se&&!await Ge())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await Se.btc_to_satoshis(t)}}catch(e){return console.error("Error converting BTC to satoshis:",e),{success:!1,error:e.message}}}},Fr={async init(){return await Ge()},async login(){return await uT()},async logout(){return await dT()},async isAuthenticated(){return await Gy()},async getCurrentUser(){try{return gn?gn.getIdentity().getPrincipal():null}catch(t){return console.error("Error getting current user:",t),null}},getEnvironmentInfo(){return{network:Zf,identityProvider:K_,canisterId:yg,isLocal:Zf==="local",isIc:Zf==="ic"}},async getBackendStatus(){try{const t=await Gy();return{success:!0,connected:!!Se,authenticated:t,environment:this.getEnvironmentInfo()}}catch(t){return{success:!1,connected:!1,authenticated:!1,error:t.message,environment:this.getEnvironmentInfo()}}}},wn=$.createContext(),fT=({children:t})=>{const[e,n]=$.useState(!1),[r,i]=$.useState(null),[s,o]=$.useState("IDR"),[a,l]=$.useState(!0);$.useEffect(()=>{const M=setTimeout(async()=>{try{l(!0);const C=await Fr.isAuthenticated();if(console.log("Initial auth check:",C),n(C),C)try{const U=await Fr.getCurrentUser();i(U)}catch(U){console.error("Error getting current user:",U)}}catch(C){console.error("Error initializing auth:",C),n(!1),i(null)}finally{l(!1)}},500);return()=>clearTimeout(M)},[]);const P={isLoggedIn:e,user:r,loading:a,handleLogin:async()=>{try{l(!0),await Fr.login(),await new Promise(M=>setTimeout(M,3e3));const S=await Fr.isAuthenticated();if(console.log("Login result - isAuthenticated:",S),n(S),S)try{const M=await Fr.getCurrentUser();i(M)}catch(M){console.error("Error getting current user after login:",M)}}catch(S){console.error("Login error:",S),n(!1),i(null)}finally{l(!1)}},handleLogout:async()=>{try{await Fr.logout(),n(!1),i(null)}catch(S){console.error("Logout error:",S)}},currency:s,setCurrency:o,convertCurrency:async(S,M,C)=>{try{const U=await C0.convertCurrency(S,M,C);return U.success?U.data:S}catch(U){return console.error("Currency conversion error:",U),S}},getExchangeRate:async(S,M)=>{try{const C=await C0.getCurrencyRate(S,M);return C.success?C.data:null}catch(C){return console.error("Get exchange rate error:",C),null}},formatCurrency:(S,M)=>new Intl.NumberFormat("id-ID",{style:"currency",currency:M,minimumFractionDigits:M==="BTC"?8:2}).format(S),getUserBalance:async()=>{try{const S=await Yr.getUserBalanceSummary();return S.success?S.data:{balance_idr:0,balance_usd:0,balance_btc:0}}catch(S){return console.error("Get user balance error:",S),{balance_idr:0,balance_usd:0,balance_btc:0}}},getUserSummary:async()=>{try{const S=await Yr.getUserSummary();return S.success?S.data:{total_transactions:0,total_budgets:0,total_goals:0,unread_notifications:0}}catch(S){return console.error("Get user summary error:",S),{total_transactions:0,total_budgets:0,total_goals:0,unread_notifications:0}}},getTransactions:async()=>{try{const S=await Er.getTransactions();return S.success?S.data:[]}catch(S){return console.error("Get transactions error:",S),[]}},getBalance:async(S,M=null)=>{try{const C=await Er.getBalance(S,M);return C.success?C.data:0}catch(C){return console.error("Get balance error:",C),0}},getTotalIncome:async(S,M=null)=>{try{const C=await Er.getTotalIncome(S,M);return C.success?C.data:0}catch(C){return console.error("Get total income error:",C),0}},getTotalExpense:async(S,M=null)=>{try{const C=await Er.getTotalExpense(S,M);return C.success?C.data:0}catch(C){return console.error("Get total expense error:",C),0}}};return d.jsx(wn.Provider,{value:P,children:t})};class hT extends gd.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:d.jsx("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900",children:d.jsx("svg",{className:"h-6 w-6 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Something went wrong"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"An error occurred while loading the application."}),d.jsx("div",{className:"mt-6",children:d.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Reload Page"})}),!1]})})}):this.props.children}}const pT=[{to:"/dashboard",label:"Dashboard"},{to:"/transactions",label:"Transactions"},{to:"/portfolio",label:"Portfolio"},{to:"/wallets",label:"Wallets"},{to:"/budget",label:"Budget"},{to:"/goals",label:"Goals"},{to:"/analytics",label:"Analytics"},{to:"/ai-advisor",label:"AI Advisor"},{to:"/notifications",label:"Notifications"},{to:"/settings",label:"Settings"},{to:"/help",label:"Help"}];function gT(){return d.jsxs("aside",{className:"hidden md:flex md:flex-col w-56 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 min-h-screen",children:[d.jsxs("div",{className:"flex items-center h-16 px-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("img",{src:"/logo.svg",alt:"FinTrack Logo",className:"h-8 mr-2"}),d.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"FinTrack"})]}),d.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:pT.map(t=>d.jsxs(Kp,{to:t.to,className:({isActive:e})=>`flex items-center px-4 py-2 rounded-lg text-base font-medium transition-colors ${e?"bg-blue-100 dark:bg-gray-700 text-blue-700 dark:text-white":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[d.jsx("span",{className:"mr-3",children:"🔹"}),t.label]},t.to))})]})}const mT=[{to:"/dashboard",label:"Home",icon:"🏠"},{to:"/transactions",label:"Tx",icon:"💸"},{to:"/budget",label:"Budget",icon:"💰"},{to:"/notifications",label:"Notif",icon:"🔔"},{to:"/settings",label:"Settings",icon:"⚙️"}];function yT(){return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 flex justify-around py-2 shadow",children:mT.map(t=>d.jsxs(Kp,{to:t.to,className:({isActive:e})=>`flex flex-col items-center text-xs font-medium px-2 ${e?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-300"}`,children:[d.jsx("span",{className:"text-xl mb-1",children:t.icon}),t.label]},t.to))})}function xT({size:t="md",className:e=""}){const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};return d.jsx("div",{className:`flex justify-center items-center ${e}`,children:d.jsx("div",{className:`${n[t]} animate-spin rounded-full border-2 border-gray-300 border-t-blue-600`})})}function Be({children:t,variant:e="primary",size:n="md",loading:r=!1,disabled:i=!1,className:s="",...o}){const a="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",l={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},u=i||r;return d.jsxs("button",{className:`${a} ${l[e]} ${c[n]} ${u?"opacity-60 cursor-not-allowed":""} ${s}`,disabled:u,...o,children:[r&&d.jsx(xT,{size:"sm",className:"mr-2"}),t]})}function bT({children:t,variant:e="info",dismissible:n=!1,onDismiss:r,className:i="",...s}){const[o,a]=$.useState(!0),l=()=>{a(!1),r==null||r()},c={success:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-200",warning:"bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-200",danger:"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-200",info:"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-200"};return o?d.jsx("div",{className:`border rounded-lg p-4 ${c[e]} ${i}`,...s,children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-1",children:t}),n&&d.jsx("button",{onClick:l,className:"ml-3 -mt-1 -mr-1 text-current hover:opacity-75",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null}function wT(){const{handleLogin:t}=$.useContext(wn),[e,n]=$.useState(!1),[r,i]=$.useState(null),s=async()=>{n(!0),i(null);try{await t()}catch{i("Login gagal. Coba lagi.")}finally{n(!1)}};return d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:[d.jsx("img",{src:"/logo.svg",alt:"FinTrack Logo",className:"h-16 mb-6"}),d.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Sign in to FinTrack"}),d.jsx(Be,{onClick:s,loading:e,size:"lg",className:"mb-4",children:"Sign in with Internet Identity"}),r&&d.jsx(bT,{variant:"danger",dismissible:!0,onDismiss:()=>i(null),children:r})]})}function Y_({isOpen:t,onClose:e,onTransactionAdded:n}){const{currency:r}=$.useContext(wn),[i,s]=$.useState({amount:"",description:"",category:"",isIncome:!1,currency:r||"IDR"}),[o,a]=$.useState(!1),[l,c]=$.useState(""),u=async h=>{h.preventDefault(),a(!0),c("");try{console.log("Submitting transaction:",i);const g=await Er.addTransaction(parseFloat(i.amount),i.currency,i.description,i.isIncome,i.category);console.log("Transaction result:",g),g.success?(s({amount:"",description:"",category:"",isIncome:!1,currency:r||"IDR"}),n(),e()):(console.error("Transaction failed:",g.error),c(g.error||"Failed to add transaction"))}catch(g){console.error("Transaction error:",g),c(`Network error: ${g.message||"Please try again."}`)}finally{a(!1)}},f=h=>{const{name:g,value:p,type:b,checked:E}=h.target;s(v=>({...v,[g]:b==="checkbox"?E:p}))};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[d.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Add Transaction"}),l&&d.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:l}),d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),d.jsx("input",{type:"number",name:"amount",value:i.amount,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter amount"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),d.jsx("input",{type:"text",name:"description",value:i.description,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter description"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),d.jsxs("select",{name:"category",value:i.category,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[d.jsx("option",{value:"",children:"Select category"}),d.jsx("option",{value:"Food & Dining",children:"Food & Dining"}),d.jsx("option",{value:"Transportation",children:"Transportation"}),d.jsx("option",{value:"Shopping",children:"Shopping"}),d.jsx("option",{value:"Entertainment",children:"Entertainment"}),d.jsx("option",{value:"Healthcare",children:"Healthcare"}),d.jsx("option",{value:"Education",children:"Education"}),d.jsx("option",{value:"Salary",children:"Salary"}),d.jsx("option",{value:"Investment",children:"Investment"}),d.jsx("option",{value:"Other",children:"Other"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Currency"}),d.jsxs("select",{name:"currency",value:i.currency,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[d.jsx("option",{value:"IDR",children:"IDR"}),d.jsx("option",{value:"USD",children:"USD"}),d.jsx("option",{value:"BTC",children:"BTC"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"isIncome",checked:i.isIncome,onChange:f,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-900 dark:text-gray-300",children:"This is income"})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Adding...":"Add Transaction"}),d.jsx("button",{type:"button",onClick:e,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"})]})]})]})}):null}function ke({children:t,variant:e="default",size:n="md",className:r="",...i}){const s="rounded-lg shadow",o={default:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",elevated:"bg-white dark:bg-gray-800 shadow-lg",outline:"bg-transparent border-2 border-gray-200 dark:border-gray-700"},a={sm:"p-3",md:"p-4",lg:"p-6"};return d.jsx("div",{className:`${s} ${o[e]} ${a[n]} ${r}`,...i,children:t})}function hl({value:t=0,max:e=100,variant:n="default",size:r="md",showLabel:i=!1,className:s="",...o}){const a=Math.min(Math.max(t/e*100,0),100),l={default:"bg-blue-600",success:"bg-green-600",warning:"bg-yellow-600",danger:"bg-red-600"},c={sm:"h-1",md:"h-2",lg:"h-3"};return d.jsxs("div",{className:`w-full ${s}`,...o,children:[i&&d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[Math.round(a),"%"]})]}),d.jsx("div",{className:`w-full bg-gray-200 dark:bg-gray-700 rounded-full ${c[r]}`,children:d.jsx("div",{className:`${l[n]} rounded-full transition-all duration-300 ${c[r]}`,style:{width:`${a}%`}})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ml(t){return t+.5|0}const Ai=(t,e,n)=>Math.max(Math.min(t,n),e);function ba(t){return Ai(Ml(t*2.55),0,255)}function Di(t){return Ai(Ml(t*255),0,255)}function Ur(t){return Ai(Ml(t/2.55)/100,0,1)}function Xy(t){return Ai(Ml(t*100),0,100)}const Cn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},j0=[..."0123456789ABCDEF"],vT=t=>j0[t&15],_T=t=>j0[(t&240)>>4]+j0[t&15],gc=t=>(t&240)>>4===(t&15),ET=t=>gc(t.r)&&gc(t.g)&&gc(t.b)&&gc(t.a);function ST(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Cn[t[1]]*17,g:255&Cn[t[2]]*17,b:255&Cn[t[3]]*17,a:e===5?Cn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Cn[t[1]]<<4|Cn[t[2]],g:Cn[t[3]]<<4|Cn[t[4]],b:Cn[t[5]]<<4|Cn[t[6]],a:e===9?Cn[t[7]]<<4|Cn[t[8]]:255})),n}const kT=(t,e)=>t<255?e(t):"";function NT(t){var e=ET(t)?vT:_T;return t?"#"+e(t.r)+e(t.g)+e(t.b)+kT(t.a,e):void 0}const TT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function X_(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function AT(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function CT(t,e,n){const r=X_(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function BT(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function xg(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=BT(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function bg(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Di)}function wg(t,e,n){return bg(X_,t,e,n)}function jT(t,e,n){return bg(CT,t,e,n)}function RT(t,e,n){return bg(AT,t,e,n)}function Z_(t){return(t%360+360)%360}function PT(t){const e=TT.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?ba(+e[5]):Di(+e[5]));const i=Z_(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=jT(i,s,o):e[1]==="hsv"?r=RT(i,s,o):r=wg(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function OT(t,e){var n=xg(t);n[0]=Z_(n[0]+e),n=wg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function MT(t){if(!t)return;const e=xg(t),n=e[0],r=Xy(e[1]),i=Xy(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Ur(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Zy={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Qy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function IT(){const t={},e=Object.keys(Qy),n=Object.keys(Zy);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Zy[s]);s=parseInt(Qy[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let mc;function FT(t){mc||(mc=IT(),mc.transparent=[0,0,0,0]);const e=mc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const UT=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function LT(t){const e=UT.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?ba(o):Ai(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?ba(r):Ai(r,0,255)),i=255&(e[4]?ba(i):Ai(i,0,255)),s=255&(e[6]?ba(s):Ai(s,0,255)),{r,g:i,b:s,a:n}}}function zT(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ur(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Qf=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Hs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function DT(t,e,n){const r=Hs(Ur(t.r)),i=Hs(Ur(t.g)),s=Hs(Ur(t.b));return{r:Di(Qf(r+n*(Hs(Ur(e.r))-r))),g:Di(Qf(i+n*(Hs(Ur(e.g))-i))),b:Di(Qf(s+n*(Hs(Ur(e.b))-s))),a:t.a+n*(e.a-t.a)}}function yc(t,e,n){if(t){let r=xg(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=wg(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Q_(t,e){return t&&Object.assign(e||{},t)}function Jy(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Di(t[3]))):(e=Q_(t,{r:0,g:0,b:0,a:1}),e.a=Di(e.a)),e}function $T(t){return t.charAt(0)==="r"?LT(t):PT(t)}class pl{constructor(e){if(e instanceof pl)return e;const n=typeof e;let r;n==="object"?r=Jy(e):n==="string"&&(r=ST(e)||FT(e)||$T(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Q_(this._rgb);return e&&(e.a=Ur(e.a)),e}set rgb(e){this._rgb=Jy(e)}rgbString(){return this._valid?zT(this._rgb):void 0}hexString(){return this._valid?NT(this._rgb):void 0}hslString(){return this._valid?MT(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=DT(this._rgb,e._rgb,n)),this}clone(){return new pl(this.rgb)}alpha(e){return this._rgb.a=Di(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ml(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return yc(this._rgb,2,e),this}darken(e){return yc(this._rgb,2,-e),this}saturate(e){return yc(this._rgb,1,e),this}desaturate(e){return yc(this._rgb,1,-e),this}rotate(e){return OT(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jr(){}const VT=(()=>{let t=0;return()=>t++})();function De(t){return t==null}function lt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $e(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function bn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function dr(t,e){return bn(t)?t:e}function Pe(t,e){return typeof t>"u"?e:t}const HT=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,J_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Je(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function We(t,e,n,r){let i,s,o;if(lt(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if($e(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function od(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ad(t){if(lt(t))return t.map(ad);if($e(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=ad(t[n[i]]);return e}return t}function e2(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function WT(t,e,n,r){if(!e2(t))return;const i=e[t],s=n[t];$e(i)&&$e(s)?gl(i,s,r):e[t]=ad(s)}function gl(t,e,n){const r=lt(e)?e:[e],i=r.length;if(!$e(t))return t;n=n||{};const s=n.merger||WT;let o;for(let a=0;a<i;++a){if(o=r[a],!$e(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function za(t,e){return gl(t,e,{merger:qT})}function qT(t,e,n){if(!e2(t))return;const r=e[t],i=n[t];$e(r)&&$e(i)?za(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ad(i))}const ex={"":t=>t,x:t=>t.x,y:t=>t.y};function GT(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function KT(t){const e=GT(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Gi(t,e){return(ex[e]||(ex[e]=KT(e)))(t)}function vg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ml=t=>typeof t<"u",Ki=t=>typeof t=="function",tx=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function YT(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const He=Math.PI,st=2*He,XT=st+He,ld=Number.POSITIVE_INFINITY,ZT=He/180,yt=He/2,ts=He/4,nx=He*2/3,R0=Math.log10,Tr=Math.sign;function Da(t,e,n){return Math.abs(t-e)<n}function rx(t){const e=Math.round(t);t=Da(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(R0(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function QT(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function JT(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function yl(t){return!JT(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function eA(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function tA(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Sr(t){return t*(He/180)}function _g(t){return t*(180/He)}function ix(t){if(!bn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function t2(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*He&&(s+=st),{angle:s,distance:i}}function P0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nA(t,e){return(t-e+XT)%st-He}function cn(t){return(t%st+st)%st}function xl(t,e,n,r){const i=cn(t),s=cn(e),o=cn(n),a=cn(s-i),l=cn(o-i),c=cn(i-s),u=cn(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function qt(t,e,n){return Math.max(e,Math.min(n,t))}function rA(t){return qt(t,-32768,32767)}function Ci(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Eg(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const ys=(t,e,n,r)=>Eg(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),iA=(t,e,n)=>Eg(t,n,r=>t[r][e]>=n);function sA(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const n2=["push","pop","shift","splice","unshift"];function oA(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),n2.forEach(n=>{const r="_onData"+vg(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function sx(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(n2.forEach(s=>{delete t[s]}),delete t._chartjs)}function r2(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const i2=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function s2(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,i2.call(window,()=>{r=!1,t.apply(e,n)}))}}function aA(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Sg=t=>t==="start"?"left":t==="end"?"right":"center",Ht=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,lA=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function cA(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:f,max:h,minDefined:g,maxDefined:p}=o.getUserBounds();if(g){if(i=Math.min(ys(l,u,f).lo,n?r:ys(e,u,o.getPixelForValue(f)).lo),c){const b=l.slice(0,i+1).reverse().findIndex(E=>!De(E[a.axis]));i-=Math.max(0,b)}i=qt(i,0,r-1)}if(p){let b=Math.max(ys(l,o.axis,h,!0).hi+1,n?0:ys(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const E=l.slice(b-1).findIndex(v=>!De(v[a.axis]));b+=Math.max(0,E)}s=qt(b,i,r)-i}else s=r-i}return{start:i,count:s}}function uA(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const xc=t=>t===0||t===1,ox=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*st/n)),ax=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*st/n)+1,$a={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*yt)+1,easeOutSine:t=>Math.sin(t*yt),easeInOutSine:t=>-.5*(Math.cos(He*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>xc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>xc(t)?t:ox(t,.075,.3),easeOutElastic:t=>xc(t)?t:ax(t,.075,.3),easeInOutElastic(t){return xc(t)?t:t<.5?.5*ox(t*2,.1125,.45):.5+.5*ax(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-$a.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?$a.easeInBounce(t*2)*.5:$a.easeOutBounce(t*2-1)*.5+.5};function kg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function lx(t){return kg(t)?t:new pl(t)}function Jf(t){return kg(t)?t:new pl(t).saturate(.5).darken(.1).hexString()}const dA=["x","y","borderWidth","radius","tension"],fA=["color","borderColor","backgroundColor"];function hA(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:fA},numbers:{type:"number",properties:dA}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function pA(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cx=new Map;function gA(t,e){e=e||{};const n=t+JSON.stringify(e);let r=cx.get(n);return r||(r=new Intl.NumberFormat(t,e),cx.set(n,r)),r}function Ng(t,e,n){return gA(e,n).format(t)}const o2={values(t){return lt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=mA(t,n)}const o=R0(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ng(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(R0(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?o2.numeric.call(this,t,e,n):""}};function mA(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Tg={formatters:o2};function yA(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Rs=Object.create(null),O0=Object.create(null);function Va(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function eh(t,e,n){return typeof e=="string"?gl(Va(t,e),n):gl(Va(t,""),e)}class xA{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Jf(i.backgroundColor),this.hoverBorderColor=(r,i)=>Jf(i.borderColor),this.hoverColor=(r,i)=>Jf(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return eh(this,e,n)}get(e){return Va(this,e)}describe(e,n){return eh(O0,e,n)}override(e,n){return eh(Rs,e,n)}route(e,n,r,i){const s=Va(this,e),o=Va(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return $e(l)?Object.assign({},c,l):Pe(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var pt=new xA({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hA,pA,yA]);function bA(t){return!t||De(t.size)||De(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function cd(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function wA(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,f,h;for(l=0;l<a;l++)if(f=n[l],f!=null&&!lt(f))o=cd(t,i,s,o,f);else if(lt(f))for(c=0,u=f.length;c<u;c++)h=f[c],h!=null&&!lt(h)&&(o=cd(t,i,s,o,h));t.restore();const g=s.length/2;if(g>n.length){for(l=0;l<g;l++)delete i[s[l]];s.splice(0,g)}return o}function ns(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function ux(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function M0(t,e,n,r){a2(t,e,n,r,null)}function a2(t,e,n,r,i){let s,o,a,l,c,u,f,h;const g=e.pointStyle,p=e.rotation,b=e.radius;let E=(p||0)*ZT;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(E),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,r,i/2,b,0,0,st):t.arc(n,r,b,0,st),t.closePath();break;case"triangle":u=i?i/2:b,t.moveTo(n+Math.sin(E)*u,r-Math.cos(E)*b),E+=nx,t.lineTo(n+Math.sin(E)*u,r-Math.cos(E)*b),E+=nx,t.lineTo(n+Math.sin(E)*u,r-Math.cos(E)*b),t.closePath();break;case"rectRounded":c=b*.516,l=b-c,o=Math.cos(E+ts)*l,f=Math.cos(E+ts)*(i?i/2-c:l),a=Math.sin(E+ts)*l,h=Math.sin(E+ts)*(i?i/2-c:l),t.arc(n-f,r-a,c,E-He,E-yt),t.arc(n+h,r-o,c,E-yt,E),t.arc(n+f,r+a,c,E,E+yt),t.arc(n-h,r+o,c,E+yt,E+He),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*b,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}E+=ts;case"rectRot":f=Math.cos(E)*(i?i/2:b),o=Math.cos(E)*b,a=Math.sin(E)*b,h=Math.sin(E)*(i?i/2:b),t.moveTo(n-f,r-a),t.lineTo(n+h,r-o),t.lineTo(n+f,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":E+=ts;case"cross":f=Math.cos(E)*(i?i/2:b),o=Math.cos(E)*b,a=Math.sin(E)*b,h=Math.sin(E)*(i?i/2:b),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":f=Math.cos(E)*(i?i/2:b),o=Math.cos(E)*b,a=Math.sin(E)*b,h=Math.sin(E)*(i?i/2:b),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),E+=ts,f=Math.cos(E)*(i?i/2:b),o=Math.cos(E)*b,a=Math.sin(E)*b,h=Math.sin(E)*(i?i/2:b),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(E)*b,a=Math.sin(E)*b,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(E)*(i?i/2:b),r+Math.sin(E)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Wr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ag(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Cg(t){t.restore()}function vA(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function _A(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function EA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),De(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function SA(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function kA(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ps(t,e,n,r,i,s={}){const o=lt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,EA(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&kA(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),De(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),SA(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function bl(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*He,He,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,He,yt,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,yt,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-yt,!0),t.lineTo(n+o.topLeft,r)}const NA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,TA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function AA(t,e){const n=(""+t).match(NA);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const CA=t=>+t||0;function Bg(t,e){const n={},r=$e(e),i=r?Object.keys(e):e,s=$e(t)?r?o=>Pe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=CA(s(o));return n}function l2(t){return Bg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function vs(t){return Bg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Kt(t){const e=l2(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Nt(t,e){t=t||{},e=e||pt.font;let n=Pe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Pe(t.style,e.style);r&&!(""+r).match(TA)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Pe(t.family,e.family),lineHeight:AA(Pe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Pe(t.weight,e.weight),string:""};return i.string=bA(i),i}function bc(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function BA(t,e,n){const{min:r,max:i}=t,s=J_(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function es(t,e){return Object.assign(Object.create(t),e)}function jg(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=f2("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>jg([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return u2(a,l,()=>UA(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return fx(a).includes(l)},ownKeys(a){return fx(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Oo(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:c2(t,r),setContext:s=>Oo(t,s,n,r),override:s=>Oo(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return u2(s,o,()=>RA(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function c2(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Ki(n)?n:()=>n,isIndexable:Ki(r)?r:()=>r}}const jA=(t,e)=>t?t+vg(e):e,Rg=(t,e)=>$e(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function u2(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function RA(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Ki(a)&&o.isScriptable(e)&&(a=PA(e,a,t,n)),lt(a)&&a.length&&(a=OA(e,a,t,o.isIndexable)),Rg(e,a)&&(a=Oo(a,i,s&&s[e],o)),a}function PA(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),Rg(t,l)&&(l=Pg(i._scopes,i,t,l)),l}function OA(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if($e(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const f=Pg(c,i,t,u);e.push(Oo(f,s,o&&o[t],a))}}return e}function d2(t,e,n){return Ki(t)?t(e,n):t}const MA=(t,e)=>t===!0?e:typeof t=="string"?Gi(e,t):void 0;function IA(t,e,n,r,i){for(const s of e){const o=MA(n,s);if(o){t.add(o);const a=d2(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Pg(t,e,n,r){const i=e._rootScopes,s=d2(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=dx(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=dx(a,o,s,l,r),l===null)?!1:jg(Array.from(a),[""],i,s,()=>FA(e,n,r))}function dx(t,e,n,r,i){for(;n;)n=IA(t,e,n,r,i);return n}function FA(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return lt(i)&&$e(n)?n:i||{}}function UA(t,e,n,r){let i;for(const s of e)if(i=f2(jA(s,t),n),typeof i<"u")return Rg(t,i)?Pg(n,r,t,i):i}function f2(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function fx(t){let e=t._keys;return e||(e=t._keys=LA(t._scopes)),e}function LA(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function zA(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=e[c],o[a]={r:i.parse(Gi(u,s),c)};return o}const DA=Number.EPSILON||1e-14,Mo=(t,e)=>e<t.length&&!t[e].skip&&t[e],h2=t=>t==="x"?"y":"x";function $A(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=P0(s,i),l=P0(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=r*c,h=r*u;return{previous:{x:s.x-f*(o.x-i.x),y:s.y-f*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function VA(t,e,n){const r=t.length;let i,s,o,a,l,c=Mo(t,0);for(let u=0;u<r-1;++u)if(l=c,c=Mo(t,u+1),!(!l||!c)){if(Da(e[u],0,DA)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function HA(t,e,n="x"){const r=h2(n),i=t.length;let s,o,a,l=Mo(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Mo(t,c+1),!a)continue;const u=a[n],f=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=f-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=f+s*e[c])}}function WA(t,e="x"){const n=h2(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Mo(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=Mo(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Tr(i[o-1])!==Tr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}VA(t,i,s),HA(t,s,e)}function wc(t,e,n){return Math.max(Math.min(t,n),e)}function qA(t,e){let n,r,i,s,o,a=Wr(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Wr(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=wc(i.cp1x,e.left,e.right),i.cp1y=wc(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=wc(i.cp2x,e.left,e.right),i.cp2y=wc(i.cp2y,e.top,e.bottom)))}function GA(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")WA(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=$A(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&qA(t,n)}function Og(){return typeof window<"u"&&typeof document<"u"}function Mg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ud(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Wd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function KA(t,e){return Wd(t).getPropertyValue(e)}const YA=["top","right","bottom","left"];function _s(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=YA[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const XA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function ZA(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(XA(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function us(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Wd(n),s=i.boxSizing==="border-box",o=_s(i,"padding"),a=_s(i,"border","width"),{x:l,y:c,box:u}=ZA(t,n),f=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:g,height:p}=e;return s&&(g-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-f)/g*n.width/r),y:Math.round((c-h)/p*n.height/r)}}function QA(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Mg(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Wd(s),l=_s(a,"border","width"),c=_s(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=ud(a.maxWidth,s,"clientWidth"),i=ud(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||ld,maxHeight:i||ld}}const vc=t=>Math.round(t*10)/10;function JA(t,e,n,r){const i=Wd(t),s=_s(i,"margin"),o=ud(i.maxWidth,t,"clientWidth")||ld,a=ud(i.maxHeight,t,"clientHeight")||ld,l=QA(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=_s(i,"border","width"),g=_s(i,"padding");c-=g.width+h.width,u-=g.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=vc(Math.min(c,o,l.maxWidth)),u=vc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=vc(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=vc(Math.floor(u*r))),{width:c,height:u}}function hx(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const e5=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Og()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function px(t,e){const n=KA(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ds(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function t5(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function n5(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=ds(t,i,n),a=ds(i,s,n),l=ds(s,e,n),c=ds(o,a,n),u=ds(a,l,n);return ds(c,u,n)}const r5=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},i5=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function _o(t,e,n){return t?r5(e,n):i5()}function p2(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function g2(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function m2(t){return t==="angle"?{between:xl,compare:nA,normalize:cn}:{between:Ci,compare:(e,n)=>e-n,normalize:e=>e}}function gx({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function s5(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=m2(r),l=e.length;let{start:c,end:u,loop:f}=t,h,g;if(f){for(c+=l,u+=l,h=0,g=l;h<g&&o(a(e[c%l][r]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:t.style}}function o5(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=m2(r),{start:u,end:f,loop:h,style:g}=s5(t,e,n),p=[];let b=!1,E=null,v,_,k;const P=()=>l(i,k,v)&&a(i,k)!==0,S=()=>a(s,v)===0||l(s,k,v),M=()=>b||P(),C=()=>!b||S();for(let U=u,F=u;U<=f;++U)_=e[U%o],!_.skip&&(v=c(_[r]),v!==k&&(b=l(v,i,s),E===null&&M()&&(E=a(v,i)===0?U:F),E!==null&&C()&&(p.push(gx({start:E,end:U,loop:h,count:o,style:g})),E=null),F=U,k=v));return E!==null&&p.push(gx({start:E,end:f,loop:h,count:o,style:g})),p}function a5(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=o5(r[i],t.points,e);s.length&&n.push(...s)}return n}function l5(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function c5(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function u5(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=l5(n,i,s,r);if(r===!0)return mx(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return mx(t,c5(n,o,l,c),n,e)}function mx(t,e,n,r){return!r||!r.setContext||!n?e:d5(t,e,n,r)}function d5(t,e,n,r){const i=t._chart.getContext(),s=yx(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,f=e[0].start,h=f;function g(p,b,E,v){const _=a?-1:1;if(p!==b){for(p+=l;n[p%l].skip;)p-=_;for(;n[b%l].skip;)b+=_;p%l!==b%l&&(c.push({start:p%l,end:b%l,loop:E,style:v}),u=v,f=b%l)}}for(const p of e){f=a?f:p.start;let b=n[f%l],E;for(h=f+1;h<=p.end;h++){const v=n[h%l];E=yx(r.setContext(es(i,{type:"segment",p0:b,p1:v,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),f5(E,u)&&g(f,h-1,p.loop,u),b=v,u=E}f<h-1&&g(f,h-1,p.loop,u)}return c}function yx(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function f5(t,e){if(!e)return!1;const n=[],r=function(i,s){return kg(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function _c(t,e,n){return t.options.clip?t[n]:e[n]}function h5(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:_c(n,e,"left"),right:_c(n,e,"right"),top:_c(r,e,"top"),bottom:_c(r,e,"bottom")}:e}function p5(t,e){const n=e._clip;if(n.disabled)return!1;const r=h5(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class g5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=i2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Rr=new g5;const xx="transparent",m5={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=lx(t||xx),i=r.valid&&lx(e||xx);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class y5{constructor(e,n,r,i){const s=n[r];i=bc([e.to,i,s,e.from]);const o=bc([e.from,s,i]);this._active=!0,this._fn=e.fn||m5[e.type||typeof o],this._easing=$a[e.easing]||$a.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=bc([e.to,n,i,e.from]),this._from=bc([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class y2{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!$e(e))return;const n=Object.keys(pt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!$e(s))return;const o={};for(const a of n)o[a]=s[a];(lt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=b5(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&x5(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let f=s[c];const h=r.get(c);if(f)if(h&&f.active()){f.update(h,u,a);continue}else f.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=f=new y5(h,e,c,u),i.push(f)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Rr.add(this._chart,r),!0}}function x5(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function b5(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function bx(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function w5(t,e,n){if(n===!1)return!1;const r=bx(t,n),i=bx(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function v5(t){let e,n,r,i;return $e(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function x2(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function wx(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],bn(c)&&(s||e===0||Tr(e)===Tr(c))&&(e+=c)}return!u&&!r.all?0:e}function _5(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function th(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function E5(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function S5(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function k5(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function vx(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function _x(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=E5(s,o,r),f=e.length;let h;for(let g=0;g<f;++g){const p=e[g],{[l]:b,[c]:E}=p,v=p._stacks||(p._stacks={});h=v[c]=k5(i,u,b),h[a]=E,h._top=vx(h,o,!0,r.type),h._bottom=vx(h,o,!1,r.type);const _=h._visualValues||(h._visualValues={});_[a]=E}}function nh(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function N5(t,e){return es(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function T5(t,e,n){return es(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ra(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const rh=t=>t==="reset"||t==="none",Ex=(t,e)=>e?t:Object.assign({},t),A5=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:x2(n,!0),values:null};class $i{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=th(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ra(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(f,h,g,p)=>f==="x"?h:f==="r"?p:g,s=n.xAxisID=Pe(r.xAxisID,nh(e,"x")),o=n.yAxisID=Pe(r.yAxisID,nh(e,"y")),a=n.rAxisID=Pe(r.rAxisID,nh(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&sx(this._data,this),e._stacked&&ra(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if($e(n)){const i=this._cachedMeta;this._data=_5(n,i)}else if(r!==n){if(r){sx(r,this);const i=this._cachedMeta;ra(i),i._parsed=[]}n&&Object.isExtensible(n)&&oA(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=th(n.vScale,n),n.stack!==r.stack&&(i=!0,ra(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(_x(this,n._parsed),n._stacked=th(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,f,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{lt(i[e])?h=this.parseArrayData(r,i,e,n):$e(i[e])?h=this.parseObjectData(r,i,e,n):h=this.parsePrimitiveData(r,i,e,n);const g=()=>f[a]===null||c&&f[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=f=h[u],l&&(g()&&(l=!1),c=f);r._sorted=l}o&&_x(this,h)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,f=new Array(i);let h,g,p;for(h=0,g=i;h<g;++h)p=h+r,f[h]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return f}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,f;for(l=0,c=i;l<c;++l)u=l+r,f=n[u],a[l]={x:s.parse(f[0],u),y:o.parse(f[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,f,h,g;for(u=0,f=i;u<f;++u)h=u+r,g=n[h],c[u]={x:s.parse(Gi(g,a),h),y:o.parse(Gi(g,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:x2(i,!0),values:n._stacks[e.axis]._visualValues};return wx(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=wx(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=A5(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=S5(a);let h,g;function p(){g=i[h];const b=g[a.axis];return!bn(g[e.axis])||u>b||f<b}for(h=0;h<o&&!(!p()&&(this.updateRangeFromParsed(c,e,g,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],bn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=v5(Pe(this.options.clip,w5(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const f=i[u];f.hidden||(f.active&&c?o.push(f):f.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=T5(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=N5(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&ml(r);if(a)return Ex(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),g=Object.keys(pt.elements[e]),p=()=>this.getContext(r,i,n),b=c.resolveNamedOptions(h,g,p,f);return b.$shared&&(b.$shared=l,s[o]=Object.freeze(Ex(b,l))),b}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(h,this.getContext(e,r,n))}const c=new y2(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||rh(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){rh(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!rh(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&ra(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ye($i,"defaults",{}),ye($i,"datasetElementType",null),ye($i,"dataElementType",null);function C5(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=r2(r.sort((i,s)=>i-s))}return t._cache.$bar}function B5(t){const e=t.iScale,n=C5(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(ml(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function j5(t,e,n,r){const i=n.barThickness;let s,o;return De(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function R5(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function P5(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function b2(t,e,n,r){return lt(t)?P5(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Sx(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,f,h;for(c=n,u=n+r;c<u;++c)h=e[c],f={},f[i.axis]=a||i.parse(o[c],c),l.push(b2(h,f,s,c));return l}function ih(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function O5(t,e,n){return t!==0?Tr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function M5(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function I5(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=M5(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[kx(u,o,a,l)]=!0,i=c)),s[kx(i,o,a,l)]=!0,t.borderSkipped=s}function kx(t,e,n,r){return r?(t=F5(t,e,n),t=Nx(t,n,e)):t=Nx(t,e,n),t}function F5(t,e,n){return t===e?n:t===n?e:t}function Nx(t,e,n){return t==="start"?e:t==="end"?n:t}function U5(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class hu extends $i{parsePrimitiveData(e,n,r,i){return Sx(e,n,r,i)}parseArrayData(e,n,r,i){return Sx(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,f=[];let h,g,p,b;for(h=r,g=r+i;h<g;++h)b=n[h],p={},p[s.axis]=s.parse(Gi(b,c),h),f.push(b2(Gi(b,u),p,o,h));return f}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=ih(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,i);for(let g=n;g<n+r;g++){const p=this.getParsed(g),b=s||De(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),E=this._calculateBarIndexPixels(g,u),v=(p._stacks||{})[a.axis],_={horizontal:c,base:b.base,enableBorderRadius:!v||ih(p._custom)||o===v._top||o===v._bottom,x:c?b.head:E.center,y:c?E.center:b.head,height:c?E.size:Math.abs(b.size),width:c?Math.abs(b.size):E.size};h&&(_.options=f||this.resolveDataElementOptions(g,e[g].active?"active":i));const k=_.options||e[g].options;I5(_,k,v,o),U5(_,k,u.ratio),this.updateElement(e[g],g,_,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=u=>{const f=u._parsed.find(g=>g[r.axis]===l),h=f&&f[u.vScale.axis];if(De(h)||isNaN(h))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Pe(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||B5(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=ih(c);let f=l[n.axis],h=0,g=r?this.applyStack(n,l,r):f,p,b;g!==f&&(h=g-f,g=f),u&&(f=c.barStart,g=c.barEnd-c.barStart,f!==0&&Tr(f)!==Tr(c.barEnd)&&(h=0),h+=f);const E=!De(s)&&!u?s:h;let v=n.getPixelForValue(E);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(h+g):p=v,b=p-v,Math.abs(b)<o){b=O5(b,n,a)*o,f===a&&(v-=b/2);const _=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),P=Math.min(_,k),S=Math.max(_,k);v=Math.max(Math.min(v,S),P),p=v+b,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(p)-n.getValueForPixel(v))}if(v===n.getPixelForValue(a)){const _=Tr(b)*n.getLineWidthForValue(a)/2;v+=_,b-=_}return{size:b,base:v,head:p,center:p+b/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=Pe(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=s?this._getStackCount(e):n.stackCount,f=i.barThickness==="flex"?R5(e,n,i,u*c):j5(e,n,i,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(Pe(h,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+g;a=f.start+f.chunk*p+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}ye(hu,"id","bar"),ye(hu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ye(hu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function L5(t,e,n){let r=1,i=1,s=0,o=0;if(e<st){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),f=Math.cos(l),h=Math.sin(l),g=(k,P,S)=>xl(k,a,l,!0)?1:Math.max(P,P*n,S,S*n),p=(k,P,S)=>xl(k,a,l,!0)?-1:Math.min(P,P*n,S,S*n),b=g(0,c,f),E=g(yt,u,h),v=p(He,c,f),_=p(He+yt,u,h);r=(b-v)/2,i=(E-_)/2,s=-(b+v)/2,o=-(E+_)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class go extends $i{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if($e(r[e])){const{key:l="value"}=this._parsing;s=c=>+Gi(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Sr(this.options.rotation-90)}_getCircumference(){return Sr(this.options.circumference)}_getRotationExtents(){let e=st,n=-st;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(HT(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:g,offsetX:p,offsetY:b}=L5(f,u,l),E=(r.width-o)/h,v=(r.height-o)/g,_=Math.max(Math.min(E,v)/2,0),k=J_(this.options.radius,_),P=Math.max(k*l,0),S=(k-P)/this._getVisibleDatasetWeightTotal();this.offsetX=p*k,this.offsetY=b*k,i.total=this.calculateTotal(),this.outerRadius=k-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/st)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=s&&c.animateScale,g=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:b,includeOptions:E}=this._getSharedOptions(n,i);let v=this._getRotation(),_;for(_=0;_<n;++_)v+=this._circumference(_,s);for(_=n;_<n+r;++_){const k=this._circumference(_,s),P=e[_],S={x:u+this.offsetX,y:f+this.offsetY,startAngle:v,endAngle:v+k,circumference:k,outerRadius:p,innerRadius:g};E&&(S.options=b||this.resolveDataElementOptions(_,P.active?"active":i)),v+=k,this.updateElement(P,_,S,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?st*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Ng(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Pe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ye(go,"id","doughnut"),ye(go,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ye(go,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ye(go,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class pu extends $i{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=cA(n,i,o);this._drawStart=a,this._drawCount=l,uA(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,i),h=o.axis,g=a.axis,{spanGaps:p,segment:b}=this.options,E=yl(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",_=n+r,k=e.length;let P=n>0&&this.getParsed(n-1);for(let S=0;S<k;++S){const M=e[S],C=v?M:{};if(S<n||S>=_){C.skip=!0;continue}const U=this.getParsed(S),F=De(U[g]),V=C[h]=o.getPixelForValue(U[h],S),se=C[g]=s||F?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,U,l):U[g],S);C.skip=isNaN(V)||isNaN(se)||F,C.stop=S>0&&Math.abs(U[h]-P[h])>E,b&&(C.parsed=U,C.raw=c.data[S]),f&&(C.options=u||this.resolveDataElementOptions(S,M.active?"active":i)),v||this.updateElement(M,S,C,i),P=U}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ye(pu,"id","line"),ye(pu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ye(pu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class I0 extends go{}ye(I0,"id","pie"),ye(I0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class gu extends $i{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return zA.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=s.getPointPositionForValue(a,this.getParsed(a).r),f=o?s.xCenter:u.x,h=o?s.yCenter:u.y,g={x:f,y:h,angle:u.angle,skip:isNaN(f)||isNaN(h),options:c};this.updateElement(l,a,g,i)}}}ye(gu,"id","radar"),ye(gu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ye(gu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function rs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ig{constructor(e){ye(this,"options");this.options=e||{}}static override(e){Object.assign(Ig.prototype,e)}init(){}formats(){return rs()}parse(){return rs()}format(){return rs()}add(){return rs()}diff(){return rs()}startOf(){return rs()}endOf(){return rs()}}var z5={_date:Ig};function D5(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?iA:ys;if(r){if(i._sharedOptions){const u=s[0],f=typeof u.getRange=="function"&&u.getRange(e);if(f){const h=c(s,e,n-f),g=c(s,e,n+f);return{lo:h.lo,hi:g.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:f}=i._cachedMeta,{_parsed:h}=t,g=h.slice(0,u.lo+1).reverse().findIndex(b=>!De(b[f.axis]));u.lo-=Math.max(0,g);const p=h.slice(u.hi).findIndex(b=>!De(b[f.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:s.length-1}}function Il(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:f,hi:h}=D5(s[a],e,o,i);for(let g=f;g<=h;++g){const p=u[g];p.skip||r(p,c,g)}}}function $5(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function sh(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Il(t,n,e,function(a,l,c){!i&&!Wr(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function V5(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:f}=t2(o,{x:e.x,y:e.y});xl(f,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Il(t,n,e,s),i}function H5(t,e,n,r,i,s){let o=[];const a=$5(n);let l=Number.POSITIVE_INFINITY;function c(u,f,h){const g=u.inRange(e.x,e.y,i);if(r&&!g)return;const p=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!g)return;const E=a(e,p);E<l?(o=[{element:u,datasetIndex:f,index:h}],l=E):E===l&&o.push({element:u,datasetIndex:f,index:h})}return Il(t,n,e,c),o}function oh(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?V5(t,e,n,i):H5(t,e,n,r,i,s)}function Tx(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Il(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var W5={evaluateInteractionItems:Il,modes:{index(t,e,n,r){const i=us(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?sh(t,i,s,r,o):oh(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=us(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?sh(t,i,s,r,o):oh(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=us(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return sh(t,i,s,r,o)},nearest(t,e,n,r){const i=us(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return oh(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=us(e,t);return Tx(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=us(e,t);return Tx(t,i,"y",n.intersect,r)}}};const w2=["left","top","right","bottom"];function ia(t,e){return t.filter(n=>n.pos===e)}function Ax(t,e){return t.filter(n=>w2.indexOf(n.pos)===-1&&n.box.axis===e)}function sa(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function q5(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function G5(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!w2.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function K5(t,e){const n=G5(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function Y5(t){const e=q5(t),n=sa(e.filter(c=>c.box.fullSize),!0),r=sa(ia(e,"left"),!0),i=sa(ia(e,"right")),s=sa(ia(e,"top"),!0),o=sa(ia(e,"bottom")),a=Ax(e,"x"),l=Ax(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:ia(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function Cx(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function v2(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function X5(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!$e(i)){n.size&&(t[i]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,t[i]+=n.size}s.getPadding&&v2(o,s.getPadding());const a=Math.max(0,e.outerWidth-Cx(o,t,"left","right")),l=Math.max(0,e.outerHeight-Cx(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Z5(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Q5(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function wa(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Q5(a.horizontal,e));const{same:f,other:h}=X5(e,n,a,r);c|=f&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&wa(i,e,n,r)||u}function Ec(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Bx(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*u,h=c.size||l.height;ml(c.start)&&(o=c.start),l.fullSize?Ec(l,i.left,o,n.outerWidth-i.right-i.left,h):Ec(l,e.left+c.placed,o,f,h),c.start=o,c.placed+=f,o=l.bottom}else{const f=e.h*u,h=c.size||l.width;ml(c.start)&&(s=c.start),l.fullSize?Ec(l,s,i.top,h,n.outerHeight-i.bottom-i.top):Ec(l,s,e.top+c.placed,h,f),c.start=s,c.placed+=f,s=l.right}}e.x=s,e.y=o}var Fn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Kt(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=Y5(t.boxes),l=a.vertical,c=a.horizontal;We(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const u=l.reduce((b,E)=>E.box.options&&E.box.options.display===!1?b:b+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);v2(h,Kt(r));const g=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),p=K5(l.concat(c),f);wa(a.fullSize,g,f,p),wa(l,g,f,p),wa(c,g,f,p)&&wa(l,g,f,p),Z5(g),Bx(a.leftAndTop,g,f,p),g.x+=g.w,g.y+=g.h,Bx(a.rightAndBottom,g,f,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},We(a.chartArea,b=>{const E=b.box;Object.assign(E,t.chartArea),E.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class _2{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class J5 extends _2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const mu="$chartjs",eC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jx=t=>t===null||t==="";function tC(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[mu]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",jx(i)){const s=px(t,"width");s!==void 0&&(t.width=s)}if(jx(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=px(t,"height");s!==void 0&&(t.height=s)}return t}const E2=e5?{passive:!0}:!1;function nC(t,e,n){t&&t.addEventListener(e,n,E2)}function rC(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,E2)}function iC(t,e){const n=eC[t.type]||t.type,{x:r,y:i}=us(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function dd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function sC(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||dd(a.addedNodes,r),o=o&&!dd(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function oC(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||dd(a.removedNodes,r),o=o&&!dd(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const wl=new Map;let Rx=0;function S2(){const t=window.devicePixelRatio;t!==Rx&&(Rx=t,wl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function aC(t,e){wl.size||window.addEventListener("resize",S2),wl.set(t,e)}function lC(t){wl.delete(t),wl.size||window.removeEventListener("resize",S2)}function cC(t,e,n){const r=t.canvas,i=r&&Mg(r);if(!i)return;const s=s2((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),aC(t,s),o}function ah(t,e,n){n&&n.disconnect(),e==="resize"&&lC(t)}function uC(t,e,n){const r=t.canvas,i=s2(s=>{t.ctx!==null&&n(iC(s,t))},t);return nC(r,e,i),i}class dC extends _2{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(tC(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[mu])return!1;const r=n[mu].initial;["height","width"].forEach(s=>{const o=r[s];De(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[mu],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:sC,detach:oC,resize:cC}[n]||uC;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:ah,detach:ah,resize:ah}[n]||rC)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return JA(e,n,r,i)}isAttached(e){const n=e&&Mg(e);return!!(n&&n.isConnected)}}function fC(t){return!Og()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?J5:dC}class sr{constructor(){ye(this,"x");ye(this,"y");ye(this,"active",!1);ye(this,"options");ye(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return yl(this.x)&&yl(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}ye(sr,"defaults",{}),ye(sr,"defaultRoutes");function hC(t,e){const n=t.options.ticks,r=pC(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?mC(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return yC(e,c,s,o/i),c;const u=gC(s,e,i);if(o>0){let f,h;const g=o>1?Math.round((l-a)/(o-1)):null;for(Sc(e,c,u,De(g)?0:a-g,a),f=0,h=o-1;f<h;f++)Sc(e,c,u,s[f],s[f+1]);return Sc(e,c,u,l,De(g)?e.length:l+g),c}return Sc(e,c,u),c}function pC(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function gC(t,e,n){const r=xC(t),i=e.length/n;if(!r)return Math.max(i,1);const s=QT(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function mC(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function yC(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Sc(t,e,n,r,i){const s=Pe(r,0),o=Math.min(Pe(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function xC(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const bC=t=>t==="left"?"right":t==="right"?"left":t,Px=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Ox=(t,e)=>Math.min(e||t,t);function Mx(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function wC(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function vC(t,e){We(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function oa(t){return t.drawTicks?t.tickLength:0}function Ix(t,e){if(!t.display)return 0;const n=Nt(t.font,e),r=Kt(t.padding);return(lt(t.text)?t.text.length:1)*n.lineHeight+r.height}function _C(t,e){return es(t,{scale:e,type:"scale"})}function EC(t,e,n){return es(t,{tick:n,index:e,type:"tick"})}function SC(t,e,n){let r=Sg(t);return(n&&e!=="right"||!n&&e==="right")&&(r=bC(r)),r}function kC(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let f=0,h,g,p;const b=o-i,E=a-s;if(t.isHorizontal()){if(g=Ht(r,s,a),$e(n)){const v=Object.keys(n)[0],_=n[v];p=u[v].getPixelForValue(_)+b-e}else n==="center"?p=(c.bottom+c.top)/2+b-e:p=Px(t,n,e);h=a-s}else{if($e(n)){const v=Object.keys(n)[0],_=n[v];g=u[v].getPixelForValue(_)-E+e}else n==="center"?g=(c.left+c.right)/2-E+e:g=Px(t,n,e);p=Ht(r,o,i),f=n==="left"?-yt:yt}return{titleX:g,titleY:p,maxWidth:h,rotation:f}}class Ho extends sr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=dr(e,Number.POSITIVE_INFINITY),n=dr(n,Number.NEGATIVE_INFINITY),r=dr(r,Number.POSITIVE_INFINITY),i=dr(i,Number.NEGATIVE_INFINITY),{min:dr(e,r),max:dr(n,i),minDefined:bn(e),maxDefined:bn(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:dr(n,dr(r,n)),max:dr(r,dr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Je(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=BA(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Mx(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=hC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Je(this.options.afterUpdate,[this])}beforeSetDimensions(){Je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Je(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Ox(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,g=qt(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/r:g/(r-1),f+6>a&&(a=g/(r-(e.offset?.5:1)),l=this.maxHeight-oa(e.grid)-n.padding-Ix(e.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),o=_g(Math.min(Math.asin(qt((u.highest.height+6)/a,-1,1)),Math.asin(qt(l/c,-1,1))-Math.asin(qt(h/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Ix(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=oa(s)+l):(e.height=this.maxHeight,e.width=oa(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:h}=this._getLabelSizes(),g=r.padding*2,p=Sr(this.labelRotation),b=Math.cos(p),E=Math.sin(p);if(a){const v=r.mirror?0:E*f.width+b*h.height;e.height=Math.min(this.maxHeight,e.height+v+g)}else{const v=r.mirror?0:b*f.width+E*h.height;e.width=Math.min(this.maxWidth,e.width+v+g)}this._calculatePadding(c,u,E,b)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,g=0;l?c?(h=i*e.width,g=r*n.height):(h=r*e.height,g=i*n.width):s==="start"?g=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,g=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let u=n.height/2,f=e.height/2;s==="start"?(u=0,f=e.height):s==="end"&&(u=n.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)De(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Mx(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/Ox(n,r));let c=0,u=0,f,h,g,p,b,E,v,_,k,P,S;for(f=0;f<n;f+=l){if(p=e[f].label,b=this._resolveTickFontOptions(f),i.font=E=b.string,v=s[E]=s[E]||{data:{},gc:[]},_=b.lineHeight,k=P=0,!De(p)&&!lt(p))k=cd(i,v.data,v.gc,k,p),P=_;else if(lt(p))for(h=0,g=p.length;h<g;++h)S=p[h],!De(S)&&!lt(S)&&(k=cd(i,v.data,v.gc,k,S),P+=_);o.push(k),a.push(P),c=Math.max(k,c),u=Math.max(P,u)}vC(s,n);const M=o.indexOf(c),C=a.indexOf(u),U=F=>({width:o[F]||0,height:a[F]||0});return{first:U(0),last:U(n-1),widest:U(M),highest:U(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return rA(this._alignToPixels?ns(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=EC(this.getContext(),e,r))}return this.$context||(this.$context=_C(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Sr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=oa(s),g=[],p=a.setContext(this.getContext()),b=p.display?p.width:0,E=b/2,v=function(Q){return ns(r,Q,b)};let _,k,P,S,M,C,U,F,V,se,ie,L;if(o==="top")_=v(this.bottom),C=this.bottom-h,F=_-E,se=v(e.top)+E,L=e.bottom;else if(o==="bottom")_=v(this.top),se=e.top,L=v(e.bottom)-E,C=_+E,F=this.top+h;else if(o==="left")_=v(this.right),M=this.right-h,U=_-E,V=v(e.left)+E,ie=e.right;else if(o==="right")_=v(this.left),V=e.left,ie=v(e.right)-E,M=_+E,U=this.left+h;else if(n==="x"){if(o==="center")_=v((e.top+e.bottom)/2+.5);else if($e(o)){const Q=Object.keys(o)[0],X=o[Q];_=v(this.chart.scales[Q].getPixelForValue(X))}se=e.top,L=e.bottom,C=_+E,F=C+h}else if(n==="y"){if(o==="center")_=v((e.left+e.right)/2);else if($e(o)){const Q=Object.keys(o)[0],X=o[Q];_=v(this.chart.scales[Q].getPixelForValue(X))}M=_-E,U=M-h,V=e.left,ie=e.right}const H=Pe(i.ticks.maxTicksLimit,f),J=Math.max(1,Math.ceil(f/H));for(k=0;k<f;k+=J){const Q=this.getContext(k),X=s.setContext(Q),G=a.setContext(Q),te=X.lineWidth,le=X.color,ae=G.dash||[],ce=G.dashOffset,oe=X.tickWidth,B=X.tickColor,ue=X.tickBorderDash||[],he=X.tickBorderDashOffset;P=wC(this,k,l),P!==void 0&&(S=ns(r,P,te),c?M=U=V=ie=S:C=F=se=L=S,g.push({tx1:M,ty1:C,tx2:U,ty2:F,x1:V,y1:se,x2:ie,y2:L,width:te,color:le,borderDash:ae,borderDashOffset:ce,tickWidth:oe,tickColor:B,tickBorderDash:ue,tickBorderDashOffset:he}))}return this._ticksLength=f,this._borderValue=_,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=s,h=oa(r.grid),g=h+u,p=f?-u:g,b=-Sr(this.labelRotation),E=[];let v,_,k,P,S,M,C,U,F,V,se,ie,L="middle";if(i==="top")M=this.bottom-p,C=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+p,C=this._getXAxisLabelAlignment();else if(i==="left"){const J=this._getYAxisLabelAlignment(h);C=J.textAlign,S=J.x}else if(i==="right"){const J=this._getYAxisLabelAlignment(h);C=J.textAlign,S=J.x}else if(n==="x"){if(i==="center")M=(e.top+e.bottom)/2+g;else if($e(i)){const J=Object.keys(i)[0],Q=i[J];M=this.chart.scales[J].getPixelForValue(Q)+g}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(e.left+e.right)/2-g;else if($e(i)){const J=Object.keys(i)[0],Q=i[J];S=this.chart.scales[J].getPixelForValue(Q)}C=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?L="top":l==="end"&&(L="bottom"));const H=this._getLabelSizes();for(v=0,_=a.length;v<_;++v){k=a[v],P=k.label;const J=s.setContext(this.getContext(v));U=this.getPixelForTick(v)+s.labelOffset,F=this._resolveTickFontOptions(v),V=F.lineHeight,se=lt(P)?P.length:1;const Q=se/2,X=J.color,G=J.textStrokeColor,te=J.textStrokeWidth;let le=C;o?(S=U,C==="inner"&&(v===_-1?le=this.options.reverse?"left":"right":v===0?le=this.options.reverse?"right":"left":le="center"),i==="top"?c==="near"||b!==0?ie=-se*V+V/2:c==="center"?ie=-H.highest.height/2-Q*V+V:ie=-H.highest.height+V/2:c==="near"||b!==0?ie=V/2:c==="center"?ie=H.highest.height/2-Q*V:ie=H.highest.height-se*V,f&&(ie*=-1),b!==0&&!J.showLabelBackdrop&&(S+=V/2*Math.sin(b))):(M=U,ie=(1-se)*V/2);let ae;if(J.showLabelBackdrop){const ce=Kt(J.backdropPadding),oe=H.heights[v],B=H.widths[v];let ue=ie-ce.top,he=0-ce.left;switch(L){case"middle":ue-=oe/2;break;case"bottom":ue-=oe;break}switch(C){case"center":he-=B/2;break;case"right":he-=B;break;case"inner":v===_-1?he-=B:v>0&&(he-=B/2);break}ae={left:he,top:ue,width:B+ce.width,height:oe+ce.height,color:J.backdropColor}}E.push({label:P,font:F,textOffset:ie,options:{rotation:b,color:X,strokeColor:G,strokeWidth:te,textAlign:le,textBaseline:L,translation:[S,M],backdrop:ae}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Sr(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,h;this.isHorizontal()?(c=ns(e,this.left,o)-o/2,u=ns(e,this.right,a)+a/2,f=h=l):(f=ns(e,this.top,o)-o/2,h=ns(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,f),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Ag(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Ps(r,c,0,u,l,a)}i&&Cg(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Nt(r.font),o=Kt(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||$e(n)?(l+=o.bottom,lt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:f,rotation:h}=kC(this,l,n,a);Ps(e,r.text,0,0,s,{color:r.color,maxWidth:f,rotation:h,textAlign:SC(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Pe(e.grid&&e.grid.z,-1),i=Pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ho.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Nt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class kc{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;AC(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,NC(e,o,r),this.override&&pt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in pt[i]&&(delete pt[i][r],this.override&&delete Rs[r])}}function NC(t,e,n){const r=gl(Object.create(null),[n?pt.get(n):{},pt.get(e),t.defaults]);pt.set(e,r),t.defaultRoutes&&TC(e,t.defaultRoutes),t.descriptors&&pt.describe(e,t.descriptors)}function TC(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");pt.route(s,i,l,a)})}function AC(t){return"id"in t&&"defaults"in t}class CC{constructor(){this.controllers=new kc($i,"datasets",!0),this.elements=new kc(sr,"elements"),this.plugins=new kc(Object,"plugins"),this.scales=new kc(Ho,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):We(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=vg(e);Je(r["before"+i],[],r),n[e](r),Je(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var mr=new CC;class BC{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Je(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){De(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Pe(r.options&&r.options.plugins,{}),s=jC(r);return i===!1&&!n?[]:PC(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function jC(t){const e={},n=[],r=Object.keys(mr.plugins.items);for(let s=0;s<r.length;s++)n.push(mr.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function RC(t,e){return!e&&t===!1?null:t===!0?{}:t}function PC(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=RC(r[l],i);c!==null&&s.push({plugin:a,options:OC(t.config,{plugin:a,local:n[l]},c,o)})}return s}function OC(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function F0(t,e){const n=pt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function MC(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function IC(t,e){return t===e?"_index_":"_value_"}function Fx(t){if(t==="x"||t==="y"||t==="r")return t}function FC(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function U0(t,...e){if(Fx(t))return t;for(const n of e){const r=n.axis||FC(n.position)||t.length>1&&Fx(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Ux(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function UC(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Ux(t,"x",n[0])||Ux(t,"y",n[0])}return{}}function LC(t,e){const n=Rs[t.type]||{scales:{}},r=e.scales||{},i=F0(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!$e(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=U0(o,a,UC(o,t),pt.scales[a.type]),c=IC(l,i),u=n.scales||{};s[o]=za(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||F0(a,e),u=(Rs[a]||{}).scales||{};Object.keys(u).forEach(f=>{const h=MC(f,l),g=o[h+"AxisID"]||h;s[g]=s[g]||Object.create(null),za(s[g],[{axis:h},r[g],u[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];za(a,[pt.scales[a.type],pt.scale])}),s}function k2(t){const e=t.options||(t.options={});e.plugins=Pe(e.plugins,{}),e.scales=LC(t,e)}function N2(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function zC(t){return t=t||{},t.data=N2(t.data),k2(t),t}const Lx=new Map,T2=new Set;function Nc(t,e){let n=Lx.get(t);return n||(n=e(),Lx.set(t,n),T2.add(n)),n}const aa=(t,e,n)=>{const r=Gi(e,n);r!==void 0&&t.add(r)};class DC{constructor(e){this._config=zC(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=N2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),k2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Nc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Nc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Nc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Nc(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(f=>aa(l,e,f))),u.forEach(f=>aa(l,i,f)),u.forEach(f=>aa(l,Rs[s]||{},f)),u.forEach(f=>aa(l,pt,f)),u.forEach(f=>aa(l,O0,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),T2.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Rs[n]||{},pt.datasets[n]||{},{type:n},pt,O0]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=zx(this._resolverCache,e,i);let l=o;if(VC(o,n)){s.$shared=!1,r=Ki(r)?r():r;const c=this.createResolver(e,r,a);l=Oo(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=zx(this._resolverCache,e,r);return $e(n)?Oo(s,n,void 0,i):s}}function zx(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:jg(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const $C=t=>$e(t)&&Object.getOwnPropertyNames(t).some(e=>Ki(t[e]));function VC(t,e){const{isScriptable:n,isIndexable:r}=c2(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Ki(a)||$C(a))||o&&lt(a))return!0}return!1}var HC="4.5.0";const WC=["top","bottom","left","right","chartArea"];function Dx(t,e){return t==="top"||t==="bottom"||WC.indexOf(t)===-1&&e==="x"}function $x(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Vx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Je(n&&n.onComplete,[t],e)}function qC(t){const e=t.chart,n=e.options.animation;Je(n&&n.onProgress,[t],e)}function A2(t){return Og()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const yu={},Hx=t=>{const e=A2(t);return Object.values(yu).filter(n=>n.canvas===e).pop()};function GC(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function KC(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var ui;let qd=(ui=class{static register(...e){mr.add(...e),Wx()}static unregister(...e){mr.remove(...e),Wx()}constructor(e,n){const r=this.config=new DC(n),i=A2(e),s=Hx(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||fC(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=VT(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new BC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=aA(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],yu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Rr.listen(this,"complete",Vx),Rr.listen(this,"progress",qC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return De(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return mr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ux(this.canvas,this.ctx),this}stop(){return Rr.stop(this),this}resize(e,n){Rr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,hx(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Je(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};We(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=U0(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),We(s,o=>{const a=o.options,l=a.id,c=U0(l,a),u=Pe(a.type,o.dtype);(a.position===void 0||Dx(a.position,c)!==Dx(o.dposition))&&(a.position=o.dposition),i[l]=!0;let f=null;if(l in r&&r[l].type===u)f=r[l];else{const h=mr.getScale(u);f=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,e)}),We(i,(o,a)=>{o||delete r[a]}),We(r,o=>{Fn.configure(this,o,o.options),Fn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort($x("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||F0(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=mr.getController(a),{datasetElementType:c,dataElementType:u}=pt.datasets[a];Object.assign(l,{dataElementType:mr.getElement(u),datasetElementType:c&&mr.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){We(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),h=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||We(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($x("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){We(this.scales,e=>{Fn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!tx(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;GC(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!tx(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Fn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],We(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ki(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rr.has(this)?this.attached&&!Rr.running(this)&&Rr.start(this):(this.draw(),Vx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=p5(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Ag(n,i),e.controller.draw(),i&&Cg(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Wr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=W5.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);ml(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Rr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ux(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete yu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};We(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){We(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},We(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!od(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=YT(e),c=KC(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Je(s.onHover,[e,a,this],this),l&&Je(s.onClick,[e,a,this],this));const u=!od(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},ye(ui,"defaults",pt),ye(ui,"instances",yu),ye(ui,"overrides",Rs),ye(ui,"registry",mr),ye(ui,"version",HC),ye(ui,"getChart",Hx),ui);function Wx(){return We(qd.instances,t=>t._plugins.invalidate())}function YC(t,e,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,f=Math.min(c/o,cn(r-n));if(t.beginPath(),t.arc(i,s,o-c/2,r+f/2,n-f/2),a>0){const h=Math.min(c/a,cn(r-n));t.arc(i,s,a+c/2,n-h/2,r+h/2,!0)}else{const h=Math.min(c/2,o*cn(r-n));if(u==="round")t.arc(i,s,h,n-He/2,r+He/2,!0);else if(u==="bevel"){const g=2*h*h,p=-g*Math.cos(n+He/2)+i,b=-g*Math.sin(n+He/2)+s,E=g*Math.cos(r+He/2)+i,v=g*Math.sin(r+He/2)+s;t.lineTo(p,b),t.lineTo(E,v)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function XC(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+yt,r-yt),t.closePath(),t.clip()}function ZC(t){return Bg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function QC(t,e,n,r){const i=ZC(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return qt(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:qt(i.innerStart,0,o),innerEnd:qt(i.innerEnd,0,o)}}function Ws(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function fd(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,f=Math.max(e.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let g=0;const p=i-l;if(r){const J=u>0?u-r:0,Q=f>0?f-r:0,X=(J+Q)/2,G=X!==0?p*X/(X+r):p;g=(p-G)/2}const b=Math.max(.001,p*f-n/He)/f,E=(p-b)/2,v=l+E+g,_=i-E-g,{outerStart:k,outerEnd:P,innerStart:S,innerEnd:M}=QC(e,h,f,_-v),C=f-k,U=f-P,F=v+k/C,V=_-P/U,se=h+S,ie=h+M,L=v+S/se,H=_-M/ie;if(t.beginPath(),s){const J=(F+V)/2;if(t.arc(o,a,f,F,J),t.arc(o,a,f,J,V),P>0){const te=Ws(U,V,o,a);t.arc(te.x,te.y,P,V,_+yt)}const Q=Ws(ie,_,o,a);if(t.lineTo(Q.x,Q.y),M>0){const te=Ws(ie,H,o,a);t.arc(te.x,te.y,M,_+yt,H+Math.PI)}const X=(_-M/h+(v+S/h))/2;if(t.arc(o,a,h,_-M/h,X,!0),t.arc(o,a,h,X,v+S/h,!0),S>0){const te=Ws(se,L,o,a);t.arc(te.x,te.y,S,L+Math.PI,v-yt)}const G=Ws(C,v,o,a);if(t.lineTo(G.x,G.y),k>0){const te=Ws(C,F,o,a);t.arc(te.x,te.y,k,v-yt,F)}}else{t.moveTo(o,a);const J=Math.cos(F)*f+o,Q=Math.sin(F)*f+a;t.lineTo(J,Q);const X=Math.cos(V)*f+o,G=Math.sin(V)*f+a;t.lineTo(X,G)}t.closePath()}function JC(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){fd(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%st||st))}return fd(t,e,n,r,l,i),t.fill(),l}function eB(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:f,borderDashOffset:h,borderRadius:g}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(f||[]),t.lineDashOffset=h,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let b=e.endAngle;if(s){fd(t,e,n,r,b,i);for(let E=0;E<s;++E)t.stroke();isNaN(a)||(b=o+(a%st||st))}p&&XC(t,e,b),l.selfJoin&&b-o>=He&&g===0&&u!=="miter"&&YC(t,e,b),s||(fd(t,e,n,r,b,i),t.stroke())}class va extends sr{constructor(n){super();ye(this,"circumference");ye(this,"endAngle");ye(this,"fullCircles");ye(this,"innerRadius");ye(this,"outerRadius");ye(this,"pixelMargin");ye(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=t2(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,p=Pe(h,c-l),b=xl(o,l,c)&&l!==c,E=p>=st||b,v=Ci(a,u+g,f+g);return E&&v}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,f=(s+o)/2,h=(a+l+u+c)/2;return{x:r+Math.cos(f)*h,y:i+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>st?Math.floor(i/st):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(He,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,JC(n,this,u,o,a),eB(n,this,u,o,a),n.restore()}}ye(va,"id","arc"),ye(va,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ye(va,"defaultRoutes",{backgroundColor:"backgroundColor"}),ye(va,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function C2(t,e,n=e){t.lineCap=Pe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Pe(n.borderDash,e.borderDash)),t.lineDashOffset=Pe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Pe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Pe(n.borderWidth,e.borderWidth),t.strokeStyle=Pe(n.borderColor,e.borderColor)}function tB(t,e,n){t.lineTo(n.x,n.y)}function nB(t){return t.stepped?vA:t.tension||t.cubicInterpolationMode==="monotone"?_A:tB}function B2(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function rB(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=B2(i,n,r),u=nB(s);let{move:f=!0,reverse:h}=r||{},g,p,b;for(g=0;g<=c;++g)p=i[(a+(h?c-g:g))%o],!p.skip&&(f?(t.moveTo(p.x,p.y),f=!1):u(t,b,p,h,s.stepped),b=p);return l&&(p=i[(a+(h?c:0))%o],u(t,b,p,h,s.stepped)),!!l}function iB(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=B2(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,f=0,h,g,p,b,E,v;const _=P=>(o+(c?a-P:P))%s,k=()=>{b!==E&&(t.lineTo(u,E),t.lineTo(u,b),t.lineTo(u,v))};for(l&&(g=i[_(0)],t.moveTo(g.x,g.y)),h=0;h<=a;++h){if(g=i[_(h)],g.skip)continue;const P=g.x,S=g.y,M=P|0;M===p?(S<b?b=S:S>E&&(E=S),u=(f*u+P)/++f):(k(),t.lineTo(P,S),p=M,f=0,b=E=S),v=S}k()}function L0(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?iB:rB}function sB(t){return t.stepped?t5:t.tension||t.cubicInterpolationMode==="monotone"?n5:ds}function oB(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),C2(t,e.options),t.stroke(i)}function aB(t,e,n,r){const{segments:i,options:s}=e,o=L0(e);for(const a of i)C2(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const lB=typeof Path2D=="function";function cB(t,e,n,r){lB&&!e.options.segment?oB(t,e,n,r):aB(t,e,n,r)}class _a extends sr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;GA(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=u5(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=a5(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=sB(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:f,end:h}=o[c],g=s[f],p=s[h];if(g===p){a.push(g);continue}const b=Math.abs((i-g[n])/(p[n]-g[n])),E=l(g,p,b,r.stepped);E[n]=e[n],a.push(E)}return a.length===1?a[0]:a}pathSegment(e,n,r){return L0(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=L0(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),cB(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ye(_a,"id","line"),ye(_a,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ye(_a,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ye(_a,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function qx(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class xu extends sr{constructor(n){super();ye(this,"parsed");ye(this,"skip");ye(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return qx(this,n,"x",r)}inYRange(n,r){return qx(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Wr(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,M0(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ye(xu,"id","point"),ye(xu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ye(xu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function j2(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,f;return t.horizontal?(f=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-f,u=r+f):(f=s/2,a=n-f,l=n+f,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function Bi(t,e,n,r){return t?0:qt(e,n,r)}function uB(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=l2(r);return{t:Bi(i.top,s.top,0,n),r:Bi(i.right,s.right,0,e),b:Bi(i.bottom,s.bottom,0,n),l:Bi(i.left,s.left,0,e)}}function dB(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=vs(i),o=Math.min(e,n),a=t.borderSkipped,l=r||$e(i);return{topLeft:Bi(!l||a.top||a.left,s.topLeft,0,o),topRight:Bi(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Bi(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Bi(!l||a.bottom||a.right,s.bottomRight,0,o)}}function fB(t){const e=j2(t),n=e.right-e.left,r=e.bottom-e.top,i=uB(t,n/2,r/2),s=dB(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function lh(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&j2(t,r);return a&&(i||Ci(e,a.left,a.right))&&(s||Ci(n,a.top,a.bottom))}function hB(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function pB(t,e){t.rect(e.x,e.y,e.w,e.h)}function ch(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class bu extends sr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=fB(this),a=hB(o.radius)?bl:pB;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,ch(o,n,s)),e.clip(),a(e,ch(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,ch(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return lh(this,e,n,r)}inXRange(e,n){return lh(this,e,null,n)}inYRange(e,n){return lh(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ye(bu,"id","bar"),ye(bu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ye(bu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Gx=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},gB=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Kx extends sr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Je(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Nt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Gx(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let f=e;s.textAlign="left",s.textBaseline="middle";let h=-1,g=-u;return this.legendItems.forEach((p,b)=>{const E=r+n/2+s.measureText(p.text).width;(b===0||c[c.length-1]+E+2*a>o)&&(f+=u,c[c.length-(b>0?0:1)]=0,g+=u,h++),l[b]={left:0,top:g,row:h,width:E,height:i},c[c.length-1]+=E+a}),f}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let f=a,h=0,g=0,p=0,b=0;return this.legendItems.forEach((E,v)=>{const{itemWidth:_,itemHeight:k}=mB(r,n,s,E,i);v>0&&g+k+2*a>u&&(f+=h+a,c.push({width:h,height:g}),p+=h+a,b++,h=g=0),l[v]={left:p,top:g,col:b,width:_,height:k},h=Math.max(h,_),g+=k+a}),f+=h,c.push({width:h,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=_o(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ht(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Ht(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Ht(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Ht(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ag(e,this),this._draw(),Cg(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=pt.color,l=_o(e.rtl,this.left,this.width),c=Nt(o.font),{padding:u}=o,f=c.size,h=f/2;let g;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:b,itemHeight:E}=Gx(o,f),v=function(M,C,U){if(isNaN(p)||p<=0||isNaN(b)||b<0)return;i.save();const F=Pe(U.lineWidth,1);if(i.fillStyle=Pe(U.fillStyle,a),i.lineCap=Pe(U.lineCap,"butt"),i.lineDashOffset=Pe(U.lineDashOffset,0),i.lineJoin=Pe(U.lineJoin,"miter"),i.lineWidth=F,i.strokeStyle=Pe(U.strokeStyle,a),i.setLineDash(Pe(U.lineDash,[])),o.usePointStyle){const V={radius:b*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:F},se=l.xPlus(M,p/2),ie=C+h;a2(i,V,se,ie,o.pointStyleWidth&&p)}else{const V=C+Math.max((f-b)/2,0),se=l.leftForLtr(M,p),ie=vs(U.borderRadius);i.beginPath(),Object.values(ie).some(L=>L!==0)?bl(i,{x:se,y:V,w:p,h:b,radius:ie}):i.rect(se,V,p,b),i.fill(),F!==0&&i.stroke()}i.restore()},_=function(M,C,U){Ps(i,U.text,M,C+E/2,c,{strikethrough:U.hidden,textAlign:l.textAlign(U.textAlign)})},k=this.isHorizontal(),P=this._computeTitleHeight();k?g={x:Ht(s,this.left+u,this.right-r[0]),y:this.top+u+P,line:0}:g={x:this.left+u,y:Ht(s,this.top+P+u,this.bottom-n[0].height),line:0},p2(this.ctx,e.textDirection);const S=E+u;this.legendItems.forEach((M,C)=>{i.strokeStyle=M.fontColor,i.fillStyle=M.fontColor;const U=i.measureText(M.text).width,F=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),V=p+h+U;let se=g.x,ie=g.y;l.setWidth(this.width),k?C>0&&se+V+u>this.right&&(ie=g.y+=S,g.line++,se=g.x=Ht(s,this.left+u,this.right-r[g.line])):C>0&&ie+S>this.bottom&&(se=g.x=se+n[g.line].width+u,g.line++,ie=g.y=Ht(s,this.top+P+u,this.bottom-n[g.line].height));const L=l.x(se);if(v(L,ie,M),se=lA(F,se+p+h,k?se+V:this.right,e.rtl),_(l.x(se),ie,M),k)g.x+=V+u;else if(typeof M.text!="string"){const H=c.lineHeight;g.y+=R2(M,H)+u}else g.y+=S}),g2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Nt(n.font),i=Kt(n.padding);if(!n.display)return;const s=_o(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,f=Ht(e.align,f,this.right-h);else{const p=this.columnSizes.reduce((b,E)=>Math.max(b,E.height),0);u=c+Ht(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const g=Ht(a,f,f+h);o.textAlign=s.textAlign(Sg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ps(o,n.text,g,u,r)}_computeTitleHeight(){const e=this.options.title,n=Nt(e.font),r=Kt(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Ci(e,this.left,this.right)&&Ci(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Ci(e,i.left,i.left+i.width)&&Ci(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!bB(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=gB(i,r);i&&!s&&Je(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Je(n.onHover,[e,r,this],this)}else r&&Je(n.onClick,[e,r,this],this)}}function mB(t,e,n,r,i){const s=yB(r,t,e,n),o=xB(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function yB(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function xB(t,e,n){let r=t;return typeof e.text!="string"&&(r=R2(e,n)),r}function R2(t,e){const n=t.text?t.text.length:0;return e*n}function bB(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var wB={id:"legend",_element:Kx,start(t,e,n){const r=t.legend=new Kx({ctx:t.ctx,options:n,chart:t});Fn.configure(t,r,n),Fn.addBox(t,r)},stop(t){Fn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Fn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Kt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class P2 extends sr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=lt(r.text)?r.text.length:1;this._padding=Kt(r.padding);const s=i*Nt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,f;return this.isHorizontal()?(u=Ht(a,r,s),f=n+e,c=s-r):(o.position==="left"?(u=r+e,f=Ht(a,i,n),l=He*-.5):(u=s-e,f=Ht(a,n,i),l=He*.5),c=i-n),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Nt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Ps(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Sg(n.align),textBaseline:"middle",translation:[o,a]})}}function vB(t,e){const n=new P2({ctx:t.ctx,options:e,chart:t});Fn.configure(t,n,e),Fn.addBox(t,n),t.titleBlock=n}var _B={id:"title",_element:P2,start(t,e,n){vB(t,n)},stop(t){const e=t.titleBlock;Fn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Fn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ea={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=P0(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function pr(t,e){return e&&(lt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Pr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function EB(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Yx(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Nt(e.bodyFont),c=Nt(e.titleFont),u=Nt(e.footerFont),f=s.length,h=i.length,g=r.length,p=Kt(e.padding);let b=p.height,E=0,v=r.reduce((P,S)=>P+S.before.length+S.lines.length+S.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,f&&(b+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),v){const P=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;b+=g*P+(v-g)*l.lineHeight+(v-1)*e.bodySpacing}h&&(b+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let _=0;const k=function(P){E=Math.max(E,n.measureText(P).width+_)};return n.save(),n.font=c.string,We(t.title,k),n.font=l.string,We(t.beforeBody.concat(t.afterBody),k),_=e.displayColors?o+2+e.boxPadding:0,We(r,P=>{We(P.before,k),We(P.lines,k),We(P.after,k)}),_=0,n.font=u.string,We(t.footer,k),n.restore(),E+=p.width,{width:E,height:b}}function SB(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function kB(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function NB(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),kB(c,t,e,n)&&(c="center"),c}function Xx(t,e,n){const r=n.yAlign||e.yAlign||SB(t,n);return{xAlign:n.xAlign||e.xAlign||NB(t,e,n,r),yAlign:r}}function TB(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function AB(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Zx(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:g}=vs(o);let p=TB(e,a);const b=AB(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+i:a==="right"&&(p+=Math.max(f,g)+i),{x:qt(p,0,r.width-e.width),y:qt(b,0,r.height-e.height)}}function Tc(t,e,n){const r=Kt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Qx(t){return pr([],Pr(t))}function CB(t,e,n){return es(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Jx(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const O2={beforeTitle:jr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:jr,beforeBody:jr,beforeLabel:jr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return De(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:jr,afterBody:jr,beforeFooter:jr,footer:jr,afterFooter:jr};function ln(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?O2[e].call(n,r):i}class z0 extends sr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new y2(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=CB(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=ln(r,"beforeTitle",this,e),s=ln(r,"title",this,e),o=ln(r,"afterTitle",this,e);let a=[];return a=pr(a,Pr(i)),a=pr(a,Pr(s)),a=pr(a,Pr(o)),a}getBeforeBody(e,n){return Qx(ln(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return We(e,s=>{const o={before:[],lines:[],after:[]},a=Jx(r,s);pr(o.before,Pr(ln(a,"beforeLabel",this,s))),pr(o.lines,ln(a,"label",this,s)),pr(o.after,Pr(ln(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return Qx(ln(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=ln(r,"beforeFooter",this,e),s=ln(r,"footer",this,e),o=ln(r,"afterFooter",this,e);let a=[];return a=pr(a,Pr(i)),a=pr(a,Pr(s)),a=pr(a,Pr(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(EB(this.chart,n[l]));return e.filter&&(a=a.filter((u,f,h)=>e.filter(u,f,h,r))),e.itemSort&&(a=a.sort((u,f)=>e.itemSort(u,f,r))),We(a,u=>{const f=Jx(e.callbacks,u);i.push(ln(f,"labelColor",this,u)),s.push(ln(f,"labelPointStyle",this,u)),o.push(ln(f,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Ea[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Yx(this,r),c=Object.assign({},a,l),u=Xx(this.chart,r,c),f=Zx(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=vs(a),{x:h,y:g}=e,{width:p,height:b}=n;let E,v,_,k,P,S;return s==="center"?(P=g+b/2,i==="left"?(E=h,v=E-o,k=P+o,S=P-o):(E=h+p,v=E+o,k=P-o,S=P+o),_=E):(i==="left"?v=h+Math.max(l,u)+o:i==="right"?v=h+p-Math.max(c,f)-o:v=this.caretX,s==="top"?(k=g,P=k-o,E=v-o,_=v+o):(k=g+b,P=k+o,E=v+o,_=v-o),S=k),{x1:E,x2:v,x3:_,y1:k,y2:P,y3:S}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=_o(r.rtl,this.x,this.width);for(e.x=Tc(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Nt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Nt(s.bodyFont),f=Tc(this,"left",s),h=i.x(f),g=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+g;if(s.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},E=i.leftForLtr(h,c)+c/2,v=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,M0(e,b,E,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,M0(e,b,E,v)}else{e.lineWidth=$e(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=i.leftForLtr(h,c),E=i.leftForLtr(i.xPlus(h,1),c-2),v=vs(o.borderRadius);Object.values(v).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,bl(e,{x:b,y:p,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),bl(e,{x:E,y:p+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,p,c,l),e.strokeRect(b,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(E,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,f=Nt(r.bodyFont);let h=f.lineHeight,g=0;const p=_o(r.rtl,this.x,this.width),b=function(U){n.fillText(U,p.x(e.x+g),e.y+h/2),e.y+=h+s},E=p.textAlign(o);let v,_,k,P,S,M,C;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=Tc(this,E,r),n.fillStyle=r.bodyColor,We(this.beforeBody,b),g=a&&E!=="right"?o==="center"?c/2+u:c+2+u:0,P=0,M=i.length;P<M;++P){for(v=i[P],_=this.labelTextColors[P],n.fillStyle=_,We(v.before,b),k=v.lines,a&&k.length&&(this._drawColorBox(n,e,P,p,r),h=Math.max(f.lineHeight,l)),S=0,C=k.length;S<C;++S)b(k[S]),h=f.lineHeight;We(v.after,b)}g=0,h=f.lineHeight,We(this.afterBody,b),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=_o(r.rtl,this.x,this.width);for(e.x=Tc(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Nt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:p}=vs(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+g,l+u),n.quadraticCurveTo(a,l+u,a,l+u-g),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Ea[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Yx(this,e),l=Object.assign({},o,this._size),c=Xx(n,e,l),u=Zx(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Kt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),p2(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),g2(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!od(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!od(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Ea[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}ye(z0,"positioners",Ea);var BB={id:"tooltip",_element:z0,positioners:Ea,afterInit(t,e,n){n&&(t.tooltip=new z0({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:O2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const jB=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function RB(t,e,n,r){const i=t.indexOf(e);if(i===-1)return jB(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const PB=(t,e)=>t===null?null:qt(Math.round(t),0,e);function eb(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class D0 extends Ho{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(De(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:RB(r,e,Pe(n,e),this._addedLabels),PB(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return eb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ye(D0,"id","category"),ye(D0,"defaults",{ticks:{callback:eb}});function OB(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:h}=t,g=s||1,p=u-1,{min:b,max:E}=e,v=!De(o),_=!De(a),k=!De(c),P=(E-b)/(f+1);let S=rx((E-b)/p/g)*g,M,C,U,F;if(S<1e-14&&!v&&!_)return[{value:b},{value:E}];F=Math.ceil(E/S)-Math.floor(b/S),F>p&&(S=rx(F*S/p/g)*g),De(l)||(M=Math.pow(10,l),S=Math.ceil(S*M)/M),i==="ticks"?(C=Math.floor(b/S)*S,U=Math.ceil(E/S)*S):(C=b,U=E),v&&_&&s&&eA((a-o)/s,S/1e3)?(F=Math.round(Math.min((a-o)/S,u)),S=(a-o)/F,C=o,U=a):k?(C=v?o:C,U=_?a:U,F=c-1,S=(U-C)/F):(F=(U-C)/S,Da(F,Math.round(F),S/1e3)?F=Math.round(F):F=Math.ceil(F));const V=Math.max(ix(S),ix(C));M=Math.pow(10,De(l)?V:l),C=Math.round(C*M)/M,U=Math.round(U*M)/M;let se=0;for(v&&(h&&C!==o?(n.push({value:o}),C<o&&se++,Da(Math.round((C+se*S)*M)/M,o,tb(o,P,t))&&se++):C<o&&se++);se<F;++se){const ie=Math.round((C+se*S)*M)/M;if(_&&ie>a)break;n.push({value:ie})}return _&&h&&U!==a?n.length&&Da(n[n.length-1].value,a,tb(a,P,t))?n[n.length-1].value=a:n.push({value:a}):(!_||U===a)&&n.push({value:U}),n}function tb(t,e,{horizontal:n,minRotation:r}){const i=Sr(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class $0 extends Ho{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return De(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Tr(i),c=Tr(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=OB(i,s);return e.bounds==="ticks"&&tA(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Ng(e,this.chart.options.locale,this.options.ticks.format)}}class V0 extends $0{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=bn(e)?e:0,this.max=bn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Sr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ye(V0,"id","linear"),ye(V0,"defaults",{ticks:{callback:Tg.formatters.numeric}});function H0(t){const e=t.ticks;if(e.display&&t.display){const n=Kt(e.backdropPadding);return Pe(e.font&&e.font.size,pt.font.size)+n.height}return 0}function MB(t,e,n){return n=lt(n)?n:[n],{w:wA(t,e.string,n),h:n.length*e.lineHeight}}function nb(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function IB(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?He/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),f=Nt(c.font),h=MB(t.ctx,f,t._pointLabels[l]);r[l]=h;const g=cn(t.getIndexAngle(l)+a),p=Math.round(_g(g)),b=nb(p,u.x,h.w,0,180),E=nb(p,u.y,h.h,90,270);FB(n,e,g,b,E)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=zB(t,r,i)}function FB(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function UB(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(_g(cn(l.angle+yt))),u=VB(l.y,a.h,c),f=DB(c),h=$B(l.x,a.w,f);return{visible:!0,x:l.x,y:u,textAlign:f,left:h,top:u,right:h+a.w,bottom:u+a.h}}function LB(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(Wr({x:n,y:r},e)||Wr({x:n,y:s},e)||Wr({x:i,y:r},e)||Wr({x:i,y:s},e))}function zB(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:H0(s)/2,additionalAngle:o?He/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const f=UB(t,u,l);r.push(f),a==="auto"&&(f.visible=LB(f,c),f.visible&&(c=f))}return r}function DB(t){return t===0||t===180?"center":t<180?"left":"right"}function $B(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function VB(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function HB(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!De(a)){const l=vs(e.borderRadius),c=Kt(e.backdropPadding);t.fillStyle=a;const u=r-c.left,f=i-c.top,h=s-r+c.width,g=o-i+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),bl(t,{x:u,y:f,w:h,h:g,radius:l}),t.fill()):t.fillRect(u,f,h,g)}}function WB(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));HB(n,o,s);const a=Nt(o.font),{x:l,y:c,textAlign:u}=s;Ps(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function M2(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,st);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function qB(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),M2(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function GB(t,e,n){return es(t,{label:n,index:e,type:"pointLabel"})}class Sa extends $0{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Kt(H0(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=bn(e)&&!isNaN(e)?e:0,this.max=bn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/H0(this.options))}generateTickLabels(e){$0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=Je(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?IB(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=st/(this._pointLabels.length||1),r=this.options.startAngle||0;return cn(e*n+Sr(r))}getDistanceFromCenterForValue(e){if(De(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(De(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return GB(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-yt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),M2(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&WB(this,o),i.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(f),g=i.setContext(h),p=s.setContext(h);qB(this,g,l,o,p)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:h}=u;!h||!f||(e.lineWidth=h,e.strokeStyle=f,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=Nt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const f=Kt(c.backdropPadding);e.fillRect(-o/2-f.left,-s-u.size/2-f.top,o+f.width,u.size+f.height)}Ps(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}ye(Sa,"id","radialLinear"),ye(Sa,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Tg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ye(Sa,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ye(Sa,"descriptors",{angleLines:{_fallback:"grid"}});const Gd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},hn=Object.keys(Gd);function rb(t,e){return t-e}function ib(t,e){if(De(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),bn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(yl(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function sb(t,e,n,r){const i=hn.length;for(let s=hn.indexOf(t);s<i-1;++s){const o=Gd[hn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return hn[s]}return hn[i-1]}function KB(t,e,n,r,i){for(let s=hn.length-1;s>=hn.indexOf(n);s--){const o=hn[s];if(Gd[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return hn[n?hn.indexOf(n):0]}function YB(t){for(let e=hn.indexOf(t)+1,n=hn.length;e<n;++e)if(Gd[hn[e]].common)return hn[e]}function ob(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Eg(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function XB(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function ab(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:XB(t,r,i,n)}class hd extends Ho{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new z5._date(e.adapters.date);i.init(n),za(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:ib(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=bn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=bn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=sA(i,s,o);return this._unit=n.unit||(r.autoSkip?sb(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):KB(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:YB(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),ab(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=qt(n,0,o),r=qt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||sb(s.minUnit,n,r,this._getLabelCapacity(n)),a=Pe(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=yl(l)||l===!0,u={};let f=n,h,g;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,g=0;h<r;h=+e.add(h,a,o),g++)ob(u,h,p);return(h===r||i.bounds==="ticks"||g===1)&&ob(u,h,p),Object.keys(u).sort(rb).map(b=>+b)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Je(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],f=c&&a[c],h=r[n],g=c&&f&&h&&h.major;return this._adapter.format(e,i||(g?f:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Sr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,ab(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(ib(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return r2(e.sort(rb))}}ye(hd,"id","time"),ye(hd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ac(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=ys(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=ys(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class lb extends hd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ac(n,this.min),this._tableRange=Ac(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Ac(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Ac(this._table,r*this._tableRange+this._minPos,!0)}}ye(lb,"id","timeseries"),ye(lb,"defaults",hd.defaults);const I2="label";function cb(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function ZB(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function F2(t,e){t.labels=e}function U2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I2;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function QB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I2;const n={labels:[],datasets:[]};return F2(n,t.labels),U2(n,t.datasets,e),n}function JB(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:f,...h}=t,g=$.useRef(null),p=$.useRef(null),b=()=>{g.current&&(p.current=new qd(g.current,{type:o,data:QB(a,s),options:l&&{...l},plugins:c}),cb(e,p.current))},E=()=>{cb(e,null),p.current&&(p.current.destroy(),p.current=null)};return $.useEffect(()=>{!i&&p.current&&l&&ZB(p.current,l)},[i,l]),$.useEffect(()=>{!i&&p.current&&F2(p.current.config.data,a.labels)},[i,a.labels]),$.useEffect(()=>{!i&&p.current&&a.datasets&&U2(p.current.config.data,a.datasets,s)},[i,a.datasets]),$.useEffect(()=>{p.current&&(i?(E(),setTimeout(b)):p.current.update(f))},[i,l,a.labels,a.datasets,f]),$.useEffect(()=>{p.current&&(E(),setTimeout(b))},[o]),$.useEffect(()=>(b(),()=>E()),[]),gd.createElement("canvas",{ref:g,role:"img",height:n,width:r,...h},u)}const ej=$.forwardRef(JB);function Fl(t,e){return qd.register(e),$.forwardRef((n,r)=>gd.createElement(ej,{...n,ref:r,type:t}))}const ub=Fl("line",pu),tj=Fl("bar",hu),nj=Fl("radar",gu),rj=Fl("doughnut",go),ij=Fl("pie",I0);qd.register(D0,V0,xu,_a,bu,va,Sa,_B,BB,wB);function Vi({type:t,data:e,options:n={}}){const r=document.documentElement.classList.contains("dark"),s={...{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:r?"#e5e7eb":"#374151"}}},scales:t!=="pie"&&t!=="doughnut"&&t!=="radar"?{x:{ticks:{color:r?"#e5e7eb":"#374151"},grid:{color:r?"#374151":"#e5e7eb"}},y:{ticks:{color:r?"#e5e7eb":"#374151"},grid:{color:r?"#374151":"#e5e7eb"}}}:void 0},...n},o=()=>{switch(t){case"line":return d.jsx(ub,{data:e,options:s});case"bar":return d.jsx(tj,{data:e,options:s});case"pie":return d.jsx(ij,{data:e,options:s});case"doughnut":return d.jsx(rj,{data:e,options:s});case"radar":return d.jsx(nj,{data:e,options:s});default:return d.jsx(ub,{data:e,options:s})}};return d.jsx("div",{className:"relative h-64",children:o()})}function sj({title:t,type:e,data:n,config:r={},onEdit:i,onDelete:s,isEditable:o=!0}){const[a,l]=$.useState(!1),c=()=>{switch(e){case"summary":return d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.value}),d.jsx("div",{className:"text-sm text-gray-600",children:n.label}),n.change&&d.jsxs("div",{className:`text-xs mt-1 ${n.change>0?"text-green-600":"text-red-600"}`,children:[n.change>0?"+":"",n.change,"% dari bulan lalu"]})]});case"progress":return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-sm font-medium",children:n.label}),d.jsxs("span",{className:"text-sm text-gray-600",children:[n.value,"%"]})]}),d.jsx(hl,{value:n.value,max:100,variant:n.value>=100?"success":n.value>=70?"warning":"primary"}),n.target&&d.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Target: ",n.target]})]});case"chart":return d.jsx("div",{className:"h-48",children:d.jsx(Vi,{type:r.chartType||"line",data:n,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:r.showLegend!==!1}},scales:{y:{beginAtZero:!0}}}})});case"list":return d.jsx("div",{className:"space-y-2",children:n.items.map((u,f)=>d.jsxs("div",{className:"flex justify-between items-center py-1",children:[d.jsx("span",{className:"text-sm",children:u.label}),d.jsx("span",{className:"text-sm font-medium",children:u.value})]},f))});case"metric":return d.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.metrics.map((u,f)=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-gray-900",children:u.value}),d.jsx("div",{className:"text-xs text-gray-600",children:u.label})]},f))});default:return d.jsx("div",{className:"text-gray-500",children:"Widget type tidak dikenal"})}};return d.jsxs(ke,{className:`relative ${a?"col-span-2 row-span-2":""}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t}),d.jsx("div",{className:"flex items-center space-x-2",children:o&&d.jsxs(d.Fragment,{children:[d.jsx(Be,{size:"sm",variant:"ghost",onClick:()=>l(!a),children:a?"⤓":"⤢"}),d.jsx(Be,{size:"sm",variant:"ghost",onClick:()=>i&&i(),children:"✏️"}),d.jsx(Be,{size:"sm",variant:"ghost",onClick:()=>s&&s(),children:"🗑️"})]})})]}),d.jsx("div",{className:a?"h-full":"",children:c()}),a&&e==="chart"&&d.jsx("div",{className:"mt-4 h-64",children:d.jsx(Vi,{type:r.chartType||"line",data:n,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0}},scales:{y:{beginAtZero:!0}}}})})]})}function oj(){const t=$p(),e=[{id:"add-transaction",title:"Add Transaction",description:"Tambah transaksi baru",icon:"💸",color:"bg-green-500",route:"/transactions"},{id:"budget",title:"Budget",description:"Kelola anggaran",icon:"💰",color:"bg-blue-500",route:"/budget"},{id:"goals",title:"Goals",description:"Set target keuangan",icon:"🎯",color:"bg-purple-500",route:"/goals"},{id:"analytics",title:"Analytics",description:"Lihat laporan",icon:"📊",color:"bg-orange-500",route:"/analytics"},{id:"ai-advisor",title:"AI Advisor",description:"Dapatkan saran",icon:"🤖",color:"bg-indigo-500",route:"/ai-advisor"},{id:"wallets",title:"Wallets",description:"Kelola wallet",icon:"👛",color:"bg-yellow-500",route:"/wallets"}],n=r=>{t(r)};return d.jsxs(ke,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Quick Actions"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Akses cepat ke fitur utama"})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map(r=>d.jsxs("button",{onClick:()=>n(r.route),className:"group relative p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200 hover:shadow-md",children:[d.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[d.jsx("div",{className:`w-12 h-12 rounded-full ${r.color} flex items-center justify-center text-white text-xl group-hover:scale-110 transition-transform duration-200`,children:r.icon}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:r.title}),d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:r.description})]})]}),d.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-blue-500/0 to-blue-500/0 group-hover:from-blue-500/5 group-hover:to-purple-500/5 transition-all duration-200 pointer-events-none"})]},r.id))}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx(Be,{size:"sm",variant:"outline",onClick:()=>t("/notifications"),children:"🔔 Notifications"}),d.jsx(Be,{size:"sm",variant:"outline",onClick:()=>t("/settings"),children:"⚙️ Settings"}),d.jsx(Be,{size:"sm",variant:"outline",onClick:()=>t("/help"),children:"❓ Help"})]})})]})}function aj(){const[t,e]=$.useState(null),[n,r]=$.useState(null),[i,s]=$.useState(!1);return $.useEffect(()=>{const o=Fr.getEnvironmentInfo();e(o),(async()=>{const l=await Fr.getBackendStatus();r(l)})()},[]),t?d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Environment Debug"}),d.jsxs("button",{onClick:()=>s(!i),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[i?"Hide":"Show"," Details"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-3",children:[d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Network"}),d.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.network})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-3",children:[d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Environment"}),d.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.isLocal?"Local":"IC"})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-3",children:[d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Backend Status"}),d.jsx("div",{className:`font-medium ${n!=null&&n.connected?"text-green-600":"text-red-600"}`,children:n!=null&&n.connected?"Connected":"Disconnected"})]})]}),d.jsx("div",{className:"mb-4",children:d.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n!=null&&n.authenticated?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:n!=null&&n.authenticated?"✓ Authenticated":"⚠ Not Authenticated"})}),i&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Network Configuration"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Network:"}),d.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:t.network})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Identity Provider:"}),d.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-mono text-xs",children:t.identityProvider})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Canister ID:"}),d.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-mono text-xs",children:t.canisterId})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Is Local:"}),d.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:t.isLocal?"Yes":"No"})]})]})]}),n&&d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Backend Status"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Connected:"}),d.jsx("span",{className:`ml-2 font-medium ${n.connected?"text-green-600":"text-red-600"}`,children:n.connected?"Yes":"No"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Authenticated:"}),d.jsx("span",{className:`ml-2 font-medium ${n.authenticated?"text-green-600":"text-yellow-600"}`,children:n.authenticated?"Yes":"No"})]}),n.error&&d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Error:"}),d.jsx("span",{className:"ml-2 text-red-600 dark:text-red-400",children:n.error})]}),n.environment&&d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Environment:"}),d.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:JSON.stringify(n.environment,null,2)})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Actions"}),d.jsxs("div",{className:"space-x-2",children:[d.jsx("button",{onClick:()=>console.log("Environment Info:",t),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Log to Console"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:"Reload Page"})]})]})]})]}):d.jsx("div",{children:"Loading environment configuration..."})}function lj(){const{currency:t,setCurrency:e}=$.useContext(wn),[n,r]=$.useState(!1),[i,s]=$.useState([]),[o,a]=$.useState({}),[l,c]=$.useState({}),[u,f]=$.useState([]),[h,g]=$.useState(!0),[p,b]=$.useState(""),[E,v]=$.useState(!1),_=async()=>{g(!0);try{const C=await Er.getTransactions();C.success&&s(C.data);const U=await Yr.getUserSummary();U.success&&a(U.data);const F=await Yr.getUserBalanceSummary();F.success&&c(F.data);const V=await A0.getNotifications(null,!1);V.success&&f(V.data)}catch(C){b("Failed to load dashboard data"),console.error("Error loading dashboard data:",C)}finally{g(!1)}};$.useEffect(()=>{_()},[]);const k=()=>{_()},P=[{id:1,title:"Total Balance",type:"summary",data:{value:l.balance_idr||0,label:"Balance",change:5.2,currency:"IDR"}},{id:2,title:"Monthly Income",type:"summary",data:{value:l.balance_usd||0,label:"Income",change:12.5,currency:"USD"}},{id:3,title:"Budget Progress",type:"progress",data:{current:75,target:100,label:"Monthly Budget"}},{id:4,title:"Recent Transactions",type:"list",data:{items:i.slice(0,5).map(C=>({title:C.description,subtitle:C.category,value:`${C.currency} ${C.amount}`,type:C.is_income?"income":"expense"}))}},{id:5,title:"Spending Trend",type:"chart",data:{labels:["Jan","Feb","Mar","Apr","May"],datasets:[{label:"Income",data:[12e3,19e3,15e3,25e3,22e3],borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)"},{label:"Expense",data:[8e3,12e3,1e4,18e3,15e3],borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)"}]},config:{type:"line"}},{id:6,title:"Category Distribution",type:"chart",data:{labels:["Food","Transport","Shopping","Entertainment","Other"],datasets:[{data:[30,25,20,15,10],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"]}]},config:{type:"doughnut"}}],S=C=>{console.log("Edit widget:",C)},M=C=>{console.log("Delete widget:",C)};return h?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):p?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:p}),d.jsx("button",{onClick:_,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("button",{onClick:()=>v(!E),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:[E?"Hide":"Show"," Debug"]}),d.jsx("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Transaction"})]})]}),E&&d.jsx(aj,{}),d.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Currency:"}),d.jsxs("select",{value:t,onChange:C=>e(C.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"IDR",children:"IDR"}),d.jsx("option",{value:"USD",children:"USD"}),d.jsx("option",{value:"BTC",children:"BTC"})]})]})}),d.jsx(oj,{}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(C=>d.jsx(sj,{title:C.title,type:C.type,data:C.data,config:C.config,onEdit:()=>S(C.id),onDelete:()=>M(C.id),isEditable:!0},C.id))}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activities"}),d.jsx("div",{className:"space-y-3",children:i.slice(0,10).map((C,U)=>d.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${C.is_income?"bg-green-500":"bg-red-500"}`}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:C.description}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[C.category," • ",new Date(C.timestamp/1e6).toLocaleDateString()]})]})]}),d.jsxs("div",{className:`text-sm font-medium ${C.is_income?"text-green-600":"text-red-600"}`,children:[C.is_income?"+":"-",C.currency," ",C.amount.toLocaleString()]})]},U))})]}),d.jsx(Y_,{isOpen:n,onClose:()=>r(!1),onTransactionAdded:k})]})}function dn({type:t="text",variant:e="default",size:n="md",error:r=!1,disabled:i=!1,className:s="",...o}){const a="rounded border transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",l={default:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500",error:"border-red-300 dark:border-red-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-red-500"},c={sm:"px-2 py-1 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},u=i;return d.jsx("input",{type:t,className:`${a} ${l[r?"error":e]} ${c[n]} ${u?"opacity-60 cursor-not-allowed":""} ${s}`,disabled:u,...o})}function L2({variant:t="default",size:e="md",error:n=!1,disabled:r=!1,className:i="",children:s,...o}){const a="rounded border transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",l={default:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500",error:"border-red-300 dark:border-red-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-red-500"},c={sm:"px-2 py-1 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},u=r;return d.jsx("select",{className:`${a} ${l[n?"error":t]} ${c[e]} ${u?"opacity-60 cursor-not-allowed":""} ${i}`,disabled:u,...o,children:s})}function Ar({children:t,variant:e="default",size:n="md",className:r="",...i}){const s="inline-flex items-center font-medium rounded-full",o={default:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",danger:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},a={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-sm"};return d.jsx("span",{className:`${s} ${o[e]} ${a[n]} ${r}`,...i,children:t})}function cj({headers:t=[],children:e,className:n="",...r}){return d.jsx("div",{className:`overflow-x-auto ${n}`,children:d.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow",...r,children:[t.length>0&&d.jsx("thead",{children:d.jsx("tr",{children:t.map((i,s)=>d.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-900 dark:text-white",children:i},s))})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e})]})})}function uj({children:t,className:e="",...n}){return d.jsx("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700 ${e}`,...n,children:t})}function is({children:t,className:e="",...n}){return d.jsx("td",{className:`px-4 py-2 ${e}`,...n,children:t})}function wu({items:t=[],separator:e="/",className:n="",...r}){return d.jsx("nav",{className:`flex ${n}`,...r,children:d.jsx("ol",{className:"flex items-center space-x-2",children:t.map((i,s)=>d.jsxs("li",{className:"flex items-center",children:[s>0&&d.jsx("span",{className:"mx-2 text-gray-400 dark:text-gray-500",children:e}),s===t.length-1?d.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:i.label}):d.jsx(Gp,{to:i.href,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:i.label})]},s))})})}function dj({currentPage:t=1,totalPages:e=1,totalItems:n=0,pageSize:r=10,onPageChange:i,onPageSizeChange:s,className:o="",...a}){const l=(t-1)*r+1,c=Math.min(t*r,n),u=()=>{const f=[];if(e<=5)for(let g=1;g<=e;g++)f.push(g);else if(t<=3){for(let g=1;g<=4;g++)f.push(g);f.push("..."),f.push(e)}else if(t>=e-2){f.push(1),f.push("...");for(let g=e-3;g<=e;g++)f.push(g)}else{f.push(1),f.push("...");for(let g=t-1;g<=t+1;g++)f.push(g);f.push("..."),f.push(e)}return f};return d.jsxs("div",{className:`flex items-center justify-between ${o}`,...a,children:[d.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",l," to ",c," of ",n," results"]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>i(t-1),disabled:t===1,children:"Previous"}),d.jsx("div",{className:"flex items-center space-x-1",children:u().map((f,h)=>d.jsx("div",{children:f==="..."?d.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}):d.jsx(Be,{variant:f===t?"primary":"secondary",size:"sm",onClick:()=>i(f),children:f})},h))}),d.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>i(t+1),disabled:t===e,children:"Next"})]})]})}function db({variant:t="text",lines:e=1,className:n="",...r}){const i="animate-pulse bg-gray-200 dark:bg-gray-700 rounded",s={text:"h-4",title:"h-6",card:"h-32",avatar:"w-10 h-10 rounded-full",button:"h-10 w-20"};return t==="text"&&e>1?d.jsx("div",{className:`space-y-2 ${n}`,...r,children:Array.from({length:e}).map((o,a)=>d.jsx("div",{className:`${i} ${s.text} ${a===e-1?"w-3/4":"w-full"}`},a))}):d.jsx("div",{className:`${i} ${s[t]} ${n}`,...r})}function fj({rows:t=5,columns:e=4,className:n="",...r}){return d.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow ${n}`,...r,children:[d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:d.jsx("div",{className:"flex space-x-4",children:Array.from({length:e}).map((i,s)=>d.jsx(db,{variant:"text",className:"flex-1"},s))})}),d.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Array.from({length:t}).map((i,s)=>d.jsx("div",{className:"p-4",children:d.jsx("div",{className:"flex space-x-4",children:Array.from({length:e}).map((o,a)=>d.jsx(db,{variant:"text",className:"flex-1"},a))})},s))})]})}function hj({trigger:t,items:e=[],className:n="",...r}){const[i,s]=$.useState(!1),o=$.useRef(null);return $.useEffect(()=>{const a=l=>{o.current&&!o.current.contains(l.target)&&s(!1)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]),d.jsxs("div",{className:`relative ${n}`,ref:o,...r,children:[d.jsx("div",{onClick:()=>s(!i),children:t}),i&&d.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:d.jsx("div",{className:"py-1",children:e.map((a,l)=>d.jsx("button",{onClick:()=>{var c;(c=a.onClick)==null||c.call(a),s(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:a.label},l))})})]})}function pj({children:t,variant:e="default",size:n="md",removable:r=!1,onRemove:i,className:s="",...o}){const a={default:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",primary:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",danger:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},l={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-sm"};return d.jsxs("span",{className:`inline-flex items-center rounded-full font-medium ${a[e]} ${l[n]} ${s}`,...o,children:[t,r&&d.jsx("button",{onClick:i,className:"ml-1.5 -mr-1 h-4 w-4 rounded-full inline-flex items-center justify-center text-current hover:bg-current hover:bg-opacity-20",children:d.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}function gj(){$.useContext(wn);const[t,e]=$.useState([]),[n,r]=$.useState("ALL"),[i,s]=$.useState(""),[o,a]=$.useState(!1),[l,c]=$.useState(1),[u,f]=$.useState(10),[h,g]=$.useState(!1),[p,b]=$.useState(""),E=async()=>{g(!0),b("");try{const ie=await Er.getTransactions();ie.success?e(ie.data):b(ie.error||"Failed to load transactions")}catch(ie){b("Failed to load transactions"),console.error("Error loading transactions:",ie)}finally{g(!1)}};$.useEffect(()=>{E()},[]);const v=()=>{E()},_=t.filter(ie=>(n==="ALL"||n==="Income"&&ie.is_income||n==="Expense"&&!ie.is_income)&&(i===""||ie.category===i)),k=_.length,P=Math.ceil(k/u),S=(l-1)*u,M=S+u,C=_.slice(S,M),U=["Date","Description","Category","Type","Amount","Currency","Action"],F=[{label:"Dashboard",href:"/dashboard"},{label:"Transactions",href:"/transactions"}],V=ie=>{console.log("Edit transaction:",ie)},se=ie=>{console.log("Delete transaction:",ie)};return h?d.jsxs("div",{className:"space-y-6",children:[d.jsx(wu,{items:F,className:"mb-4"}),d.jsx(fj,{rows:5,columns:7})]}):p?d.jsxs("div",{className:"space-y-6",children:[d.jsx(wu,{items:F,className:"mb-4"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:p}),d.jsx("button",{onClick:E,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx(wu,{items:F,className:"mb-4"}),d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:"Transactions"}),d.jsx(Be,{onClick:()=>a(!0),children:"+ Add Transaction"})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[d.jsxs(L2,{value:n,onChange:ie=>r(ie.target.value),children:[d.jsx("option",{value:"ALL",children:"All Types"}),d.jsx("option",{value:"Income",children:"Income"}),d.jsx("option",{value:"Expense",children:"Expense"})]}),d.jsx(dn,{placeholder:"Category",value:i,onChange:ie=>s(ie.target.value)}),d.jsx(Be,{variant:"secondary",size:"sm",children:"Export CSV"})]}),d.jsxs(ke,{children:[d.jsx(cj,{headers:U,children:C.map((ie,L)=>d.jsxs(uj,{children:[d.jsx(is,{children:new Date(ie.timestamp/1e6).toLocaleDateString()}),d.jsx(is,{children:ie.description}),d.jsx(is,{children:d.jsx(pj,{color:"blue",children:ie.category})}),d.jsx(is,{children:d.jsx(Ar,{variant:ie.is_income?"success":"danger",size:"sm",children:ie.is_income?"Income":"Expense"})}),d.jsxs(is,{className:"font-medium",children:[ie.currency," ",ie.amount.toLocaleString()]}),d.jsx(is,{children:ie.currency}),d.jsx(is,{children:d.jsx(hj,{trigger:d.jsx(Be,{variant:"ghost",size:"sm",children:"⋯"}),items:[{label:"Edit",onClick:()=>V(ie)},{label:"Delete",onClick:()=>se(ie)}]})})]},L))}),P>1&&d.jsx("div",{className:"mt-4",children:d.jsx(dj,{currentPage:l,totalPages:P,onPageChange:c})})]}),d.jsx(Y_,{isOpen:o,onClose:()=>a(!1),onTransactionAdded:v})]})}function mj(){var u,f;$.useContext(wn);const[t,e]=$.useState({balance_idr:0,balance_usd:0,balance_btc:0,btcToIdr:0,usdToIdr:0}),[n,r]=$.useState(!1),[i,s]=$.useState(""),o=async()=>{r(!0),s("");try{const h=await Yr.getUserBalanceSummary();h.success&&e(b=>({...b,...h.data}));const g=await B0.getBtcBalance();g.success&&e(b=>({...b,balance_btc:g.data}));const p=await C0.getAllRates();if(p.success){const b=p.data;e(E=>{var v,_;return{...E,btcToIdr:((v=b.BTC)==null?void 0:v.IDR)||0,usdToIdr:((_=b.USD)==null?void 0:_.IDR)||0}})}}catch(h){s("Failed to load portfolio data"),console.error("Error loading portfolio data:",h)}finally{r(!1)}};$.useEffect(()=>{o()},[]);const a=$.useMemo(()=>{const h=t.balance_idr||0,g=(t.balance_usd||0)*(t.usdToIdr||1),p=(t.balance_btc||0)*(t.btcToIdr||1),b=h+g+p;return[{label:"IDR",value:h,percent:b?h/b*100:0},{label:"USD",value:g,percent:b?g/b*100:0},{label:"BTC",value:p,percent:b?p/b*100:0}]},[t]),l={labels:a.map(h=>h.label),datasets:[{data:a.map(h=>h.value),backgroundColor:["#3B82F6","#10B981","#F59E0B"],borderWidth:2,borderColor:"#ffffff"}]},c={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Portfolio Value",data:[1e4,12e3,11e3,15e3,14e3,16e3],borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]};return n?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:i}),d.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Portfolio"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Portfolio Value"}),d.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["IDR ",(t.balance_idr+t.balance_usd*t.usdToIdr+t.balance_btc*t.btcToIdr).toLocaleString()]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"IDR Balance"}),d.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["IDR ",((u=t.balance_idr)==null?void 0:u.toLocaleString())||0]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"BTC Balance"}),d.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[((f=t.balance_btc)==null?void 0:f.toFixed(8))||0," BTC"]})]})})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-2",children:"Asset Allocation"}),d.jsx(Vi,{type:"pie",data:l})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-4",children:"Asset Allocation Progress"}),d.jsx("div",{className:"space-y-3",children:a.map((h,g)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[d.jsx("span",{children:h.label}),d.jsxs("span",{children:[h.percent.toFixed(1),"%"]})]}),d.jsx(hl,{value:h.percent,max:100,color:g===0?"blue":g===1?"green":"yellow",size:"sm"})]},g))})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-2",children:"Portfolio Value Over Time"}),d.jsx(Vi,{type:"line",data:c})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-2",children:"Risk Analysis"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"Your portfolio is well diversified."})]})]})}function yj(){var h;$.useContext(wn);const[t,e]=$.useState({walletAddress:"",btcBalance:0,btcTransactions:[]}),[n,r]=$.useState(!1),[i,s]=$.useState(""),[o,a]=$.useState(!1),l=async()=>{r(!0),s("");try{const g=await Yr.getWalletAddress("BTC");g.success&&e(E=>({...E,walletAddress:g.data||""}));const p=await B0.getBtcBalance();p.success&&e(E=>({...E,btcBalance:p.data||0}));const b=await B0.fetchBtcTransactions();b.success&&e(E=>({...E,btcTransactions:b.data||[]}))}catch(g){s("Failed to load wallet data"),console.error("Error loading wallet data:",g)}finally{r(!1)}};$.useEffect(()=>{l()},[]);const c=async()=>{a(!0);try{const g="bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh";(await Yr.setWalletAddress("BTC",g)).success&&(e(b=>({...b,walletAddress:g})),await l())}catch(g){alert("Failed to connect wallet"),console.error("Error connecting wallet:",g)}finally{a(!1)}},u=async()=>{try{(await Yr.setWalletAddress("BTC","")).success&&e(p=>({...p,walletAddress:"",btcBalance:0,btcTransactions:[]}))}catch(g){alert("Failed to disconnect wallet"),console.error("Error disconnecting wallet:",g)}},f=async()=>{try{await l()}catch(g){alert("Failed to refresh data"),console.error("Error refreshing data:",g)}};return n?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:i}),d.jsx("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Wallets"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsxs(ke,{className:"flex flex-col items-center",children:[d.jsx("div",{className:"font-semibold mb-2",children:"BTC (Bitcoin)"}),t.walletAddress?d.jsxs("div",{className:"text-center mb-2",children:[d.jsx(Ar,{color:"green",size:"sm",className:"mb-2",children:"Connected"}),d.jsx(Be,{variant:"danger",size:"sm",onClick:u,className:"mt-2",children:"Disconnect"})]}):d.jsx(Be,{variant:"secondary",onClick:c,loading:o,className:"mb-2",children:"Connect Wallet"}),d.jsxs("div",{className:"text-gray-500 text-sm mb-1",children:["Address: ",d.jsx("span",{className:"font-mono text-xs",children:t.walletAddress||"-"})]}),d.jsxs("div",{className:"text-gray-500 text-sm mb-2",children:["Balance: ",((h=t.btcBalance)==null?void 0:h.toFixed(8))||0," BTC"]}),d.jsx(Be,{variant:"secondary",size:"sm",onClick:f,disabled:!t.walletAddress,children:"Refresh"})]}),d.jsxs(ke,{className:"flex flex-col items-center",children:[d.jsx("div",{className:"font-semibold mb-2",children:"ETH (Ethereum)"}),d.jsx(Be,{variant:"secondary",disabled:!0,className:"mb-2",children:"Coming Soon"}),d.jsxs("div",{className:"text-gray-500 text-sm mb-1",children:["Address: ",d.jsx("span",{className:"font-mono text-xs",children:"-"})]}),d.jsx("div",{className:"text-gray-500 text-sm",children:"Balance: 0 ETH"})]}),d.jsxs(ke,{className:"flex flex-col items-center",children:[d.jsx("div",{className:"font-semibold mb-2",children:"SOL (Solana)"}),d.jsx(Be,{variant:"secondary",disabled:!0,className:"mb-2",children:"Coming Soon"}),d.jsxs("div",{className:"text-gray-500 text-sm mb-1",children:["Address: ",d.jsx("span",{className:"font-mono text-xs",children:"-"})]}),d.jsx("div",{className:"text-gray-500 text-sm",children:"Balance: 0 SOL"})]})]}),d.jsxs(ke,{className:"mt-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("div",{className:"font-semibold",children:"Recent Wallet Transactions"}),d.jsx(Be,{variant:"secondary",size:"sm",onClick:f,disabled:!t.walletAddress,children:"Refresh"})]}),t.btcTransactions&&t.btcTransactions.length>0?d.jsx("div",{className:"space-y-2",children:t.btcTransactions.map((g,p)=>{var b;return d.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-sm",children:g.description||"Transaction"}),d.jsx("div",{className:"text-xs text-gray-500",children:new Date(g.timestamp/1e6).toLocaleDateString()})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:`font-medium text-sm ${g.amount>0?"text-green-600":"text-red-600"}`,children:[g.amount>0?"+":"",((b=g.amount)==null?void 0:b.toFixed(8))||0," BTC"]}),d.jsx(Ar,{color:g.amount>0?"green":"red",size:"sm",children:g.amount>0?"Received":"Sent"})]})]},p)})}):d.jsx("div",{className:"text-center py-8 text-gray-500",children:t.walletAddress?"No transactions found":"Connect a wallet to view transactions"})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-4",children:"Wallet Management"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Add Custom BTC Address"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(dn,{placeholder:"Enter BTC address",className:"flex-1"}),d.jsx(Be,{variant:"primary",size:"sm",children:"Add"})]})]}),d.jsxs("div",{className:"text-sm text-gray-500",children:[d.jsx("p",{children:"• Supported wallets: UniSat, Xverse, OKX"}),d.jsx("p",{children:"• Transactions are automatically synced"}),d.jsx("p",{children:"• Real-time balance updates"})]})]})]})]})}function Kd({className:t=""}){const{currency:e,setCurrency:n}=$.useContext(wn),r=[{value:"idr",label:"IDR",symbol:"Rp"},{value:"usd",label:"USD",symbol:"$"},{value:"btc",label:"BTC",symbol:"₿"},{value:"eth",label:"ETH",symbol:"Ξ"},{value:"sol",label:"SOL",symbol:"◎"}];return d.jsx("select",{className:`rounded px-2 py-1 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 ${t}`,value:e,onChange:i=>n(i.target.value),children:r.map(i=>d.jsxs("option",{value:i.value,children:[i.symbol," ",i.label]},i.value))})}function xj({tabs:t=[],defaultActive:e=0,className:n="",...r}){var o;const[i,s]=$.useState(e);return d.jsxs("div",{className:n,...r,children:[d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:d.jsx("nav",{className:"-mb-px flex space-x-8",children:t.map((a,l)=>d.jsx("button",{onClick:()=>s(l),className:`py-2 px-1 border-b-2 font-medium text-sm ${i===l?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:a.label},l))})}),d.jsx("div",{className:"mt-4",children:(o=t[i])==null?void 0:o.content})]})}function bj(){const{currency:t,setCurrency:e}=$.useContext(wn),[n,r]=$.useState([]),[i,s]=$.useState(0),[o,a]=$.useState(0),[l,c]=$.useState(!1),[u,f]=$.useState(""),[h,g]=$.useState("ALL"),p=async()=>{c(!0),f("");try{const P=await Er.getTransactions();P.success&&r(P.data);const S=await Er.getTotalIncome();S.success&&s(S.data);const M=await Er.getTotalExpense();M.success&&a(M.data)}catch(P){f("Failed to load analytics data"),console.error("Error loading analytics data:",P)}finally{c(!1)}};$.useEffect(()=>{p()},[t]);const b=$.useMemo(()=>n.reduce((P,S)=>(S.is_income||(P[S.category]=(P[S.category]||0)+S.amount),P),{}),[n]),E={labels:["Income","Expense"],datasets:[{label:"Amount",data:[i||0,o||0],backgroundColor:["#10B981","#EF4444"],borderWidth:1}]},v={labels:Object.keys(b),datasets:[{data:Object.values(b),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"],borderWidth:2,borderColor:"#ffffff"}]},_={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Income",data:[12e3,15e3,13e3,18e3,16e3,2e4],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4},{label:"Expense",data:[8e3,12e3,1e4,15e3,14e3,16e3],borderColor:"#EF4444",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]},k=[{label:"Income vs Expense",content:d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-2",children:"Income vs Expense"}),d.jsxs("div",{className:"mb-2",children:[d.jsxs("span",{className:"text-green-600",children:["Income: ",t," ",(i==null?void 0:i.toLocaleString())||0]})," |",d.jsxs("span",{className:"text-red-600",children:[" Expense: ",t," ",(o==null?void 0:o.toLocaleString())||0]})]}),d.jsx(Vi,{type:"bar",data:E})]})},{label:"Category Breakdown",content:d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-2",children:"Category Breakdown"}),d.jsx(Vi,{type:"doughnut",data:v})]})},{label:"Monthly Trend",content:d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-2",children:"Monthly Trend"}),d.jsx(Vi,{type:"line",data:_})]})},{label:"AI Insights",content:d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-1",children:"AI Insights"}),d.jsxs("div",{className:"text-gray-500 text-sm",children:[d.jsx("p",{children:"• Your spending on Food & Dining increased by 15% this month"}),d.jsx("p",{children:"• Consider reducing entertainment expenses to meet your budget"}),d.jsx("p",{children:"• Your savings rate is above average for your income level"})]})]})}];return l?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):u?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:u}),d.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx(wu,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Analytics",href:"/analytics"}],className:"mb-4"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:"Analytics"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Kd,{}),d.jsxs(L2,{value:h,onChange:P=>g(P.target.value),children:[d.jsx("option",{value:"ALL",children:"All Chains"}),d.jsx("option",{value:"BTC",children:"Bitcoin"}),d.jsx("option",{value:"ETH",children:"Ethereum"}),d.jsx("option",{value:"SOL",children:"Solana"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Income"}),d.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[t," ",(i==null?void 0:i.toLocaleString())||0]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Expense"}),d.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[t," ",(o==null?void 0:o.toLocaleString())||0]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Net Savings"}),d.jsxs("p",{className:`text-3xl font-bold ${i-o>=0?"text-green-600":"text-red-600"}`,children:[t," ",(i-o).toLocaleString()||0]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Savings Rate"}),d.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[i>0?((i-o)/i*100).toFixed(1):0,"%"]})]})})]}),d.jsx(xj,{tabs:k})]})}function wj(){$.useContext(wn);const[t,e]=$.useState([]),[n,r]=$.useState(""),[i,s]=$.useState(!1),[o,a]=$.useState(""),[l,c]=$.useState(!1),u=async()=>{try{e([{id:1,role:"assistant",content:"Hello! I'm your AI financial advisor. I can help you with budgeting, investment advice, and financial planning. What would you like to know?",timestamp:new Date().toISOString()}])}catch(b){a("Failed to load chat history"),console.error("Error loading chat history:",b)}};$.useEffect(()=>{u()},[]);const f=async b=>{c(!0);try{const E={id:Date.now(),role:"user",content:b,timestamp:new Date().toISOString()};e(v=>[...v,E]),setTimeout(()=>{const v={id:Date.now()+1,role:"assistant",content:h(b),timestamp:new Date().toISOString()};e(_=>[..._,v]),c(!1)},2e3)}catch(E){a("Failed to get AI advice"),console.error("Error getting AI advice:",E),c(!1)}},h=b=>{const E=b.toLowerCase();return E.includes("budget")||E.includes("spending")?"Based on your spending patterns, I recommend setting aside 20% of your income for savings and limiting discretionary spending to 30%. Consider using the 50/30/20 rule: 50% for needs, 30% for wants, 20% for savings.":E.includes("invest")||E.includes("investment")?"For investment advice, I recommend starting with a diversified portfolio: 60% stocks, 30% bonds, 10% alternative investments. Consider low-cost index funds for long-term growth. Always do your own research and consider consulting a financial advisor.":E.includes("save")||E.includes("saving")?'Great question! Start by building an emergency fund of 3-6 months of expenses. Then focus on high-yield savings accounts and consider automated savings transfers. Set specific goals like "save $10,000 for emergency fund" to stay motivated.':E.includes("debt")||E.includes("loan")?"For debt management, prioritize high-interest debt first (credit cards). Consider the debt snowball or avalanche method. Focus on paying more than minimum payments and avoid taking on new debt while paying off existing balances.":"I'm here to help with your financial questions! You can ask me about budgeting, saving, investing, debt management, or any other financial topics. What specific area would you like to discuss?"},g=async b=>{b.preventDefault(),!(!n.trim()||i)&&(s(!0),await f(n),r(""),s(!1))},p=()=>{e([{id:Date.now(),role:"assistant",content:"Chat history cleared. How can I help you today?",timestamp:new Date().toISOString()}])};return o?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:o}),d.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:"AI Financial Advisor"}),d.jsx(Be,{variant:"secondary",onClick:p,children:"Clear Chat"})]}),d.jsxs(ke,{className:"h-96 flex flex-col",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map(b=>d.jsx("div",{className:`flex ${b.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${b.role==="user"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}`,children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[d.jsx("span",{className:"text-xs font-medium",children:b.role==="user"?"You":"AI Advisor"}),d.jsx(Ar,{color:b.role==="user"?"blue":"green",size:"sm",children:b.role==="user"?"User":"AI"})]}),d.jsx("p",{className:"text-sm",children:b.content}),d.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(b.timestamp).toLocaleTimeString()})]})},b.id)),l&&d.jsx("div",{className:"flex justify-start",children:d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white max-w-xs lg:max-w-md px-4 py-2 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[d.jsx("span",{className:"text-xs font-medium",children:"AI Advisor"}),d.jsx(Ar,{color:"green",size:"sm",children:"AI"})]}),d.jsxs("div",{className:"flex space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})]}),d.jsx("div",{className:"border-t p-4",children:d.jsxs("form",{className:"flex gap-2",onSubmit:g,children:[d.jsx(dn,{placeholder:"Ask me about budgeting, investing, saving, or debt management...",value:n,onChange:b=>r(b.target.value),disabled:i||l,className:"flex-1"}),d.jsx(Be,{type:"submit",loading:i,disabled:l,children:"Send"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:"💰"}),d.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Budgeting"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Get personalized budget advice"})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:"📈"}),d.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Investing"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Investment strategies and tips"})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:"💎"}),d.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Saving"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Smart saving strategies"})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:"💳"}),d.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Debt"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Debt management advice"})]})})]}),d.jsxs(ke,{children:[d.jsx("h3",{className:"font-semibold mb-4",children:"AI Capabilities"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium mb-2",children:"Financial Analysis"}),d.jsxs("ul",{className:"space-y-1 text-gray-600 dark:text-gray-400",children:[d.jsx("li",{children:"• Spending pattern analysis"}),d.jsx("li",{children:"• Budget optimization"}),d.jsx("li",{children:"• Investment recommendations"}),d.jsx("li",{children:"• Risk assessment"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium mb-2",children:"Personalized Advice"}),d.jsxs("ul",{className:"space-y-1 text-gray-600 dark:text-gray-400",children:[d.jsx("li",{children:"• Goal-based planning"}),d.jsx("li",{children:"• Debt management strategies"}),d.jsx("li",{children:"• Tax optimization tips"}),d.jsx("li",{children:"• Emergency fund guidance"})]})]})]})]})]})}function z2({isOpen:t,onClose:e,title:n,children:r,size:i="md"}){if($.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const s={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return d.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),d.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:d.jsxs("div",{className:`relative w-full ${s[i]} bg-white dark:bg-gray-800 rounded-lg shadow-xl`,children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"p-4",children:r})]})})]})}function vj(){const{currency:t,setCurrency:e}=$.useContext(wn),[n,r]=$.useState([]),[i,s]=$.useState(!1),[o,a]=$.useState(""),[l,c]=$.useState(!1),[u,f]=$.useState(null),[h,g]=$.useState({category:"",budget:"",period:""}),p=async()=>{s(!0),a("");try{const C=await Ky.getBudgets();C.success?r(C.data):a(C.error||"Failed to load budgets")}catch(C){a("Failed to load budgets"),console.error("Error loading budgets:",C)}finally{s(!1)}};$.useEffect(()=>{p()},[]);const b=n.reduce((C,U)=>C+U.budget,0),E=n.reduce((C,U)=>C+U.spent,0),v=b-E,_={labels:n.map(C=>C.category),datasets:[{label:"Budget",data:n.map(C=>C.budget),backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)",borderWidth:1},{label:"Spent",data:n.map(C=>C.spent),backgroundColor:"rgba(239, 68, 68, 0.5)",borderColor:"rgb(239, 68, 68)",borderWidth:1}]},k=()=>{f(null),g({category:"",budget:"",period:""}),c(!0)},P=C=>{f(C),g({category:C.category,budget:C.budget.toString(),period:C.period}),c(!0)},S=async()=>{if(!h.category||!h.budget||!h.period){alert("Please fill all fields");return}try{const C={category:h.category,budget:parseFloat(h.budget),currency:t,period:h.period},U=await Ky.addBudget(C.category,C.budget,C.currency,C.period);U.success?(c(!1),p()):alert(U.error||"Failed to save budget")}catch(C){alert("Failed to save budget"),console.error("Error saving budget:",C)}},M=async C=>{if(confirm("Are you sure you want to delete this budget?"))try{console.log("Delete budget:",C),p()}catch(U){alert("Failed to delete budget"),console.error("Error deleting budget:",U)}};return i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:o}),d.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Budget Planning"}),d.jsx(Be,{onClick:k,variant:"primary",children:"+ Add Budget"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Budget"}),d.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[t," ",b.toLocaleString()]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Spent"}),d.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[t," ",E.toLocaleString()]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Remaining"}),d.jsxs("p",{className:`text-3xl font-bold ${v>=0?"text-green-600":"text-red-600"}`,children:[t," ",v.toLocaleString()]})]})})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(Kd,{})}),d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Budget vs Spent"}),d.jsx(Vi,{type:"bar",data:_,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Budget Overview"}}}})]}),d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Budget Categories"}),d.jsx("div",{className:"space-y-4",children:n.map(C=>{const U=C.spent/C.budget*100,F=U>100;return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:C.category}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Period: ",C.period]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[C.currency," ",C.spent.toLocaleString()," / ",C.budget.toLocaleString()]}),d.jsxs("p",{className:`text-sm font-medium ${F?"text-red-600":"text-green-600"}`,children:[U.toFixed(1),"%"]})]})]}),d.jsx(hl,{value:Math.min(U,100),max:100,color:F?"red":U>80?"yellow":"green"}),d.jsxs("div",{className:"flex justify-end mt-2 space-x-2",children:[d.jsx(Be,{size:"sm",variant:"secondary",onClick:()=>P(C),children:"Edit"}),d.jsx(Be,{size:"sm",variant:"danger",onClick:()=>M(C.id),children:"Delete"})]})]},C.id)})})]}),d.jsx(z2,{isOpen:l,onClose:()=>c(!1),children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:u?"Edit Budget":"Add Budget"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),d.jsx(dn,{value:h.category,onChange:C=>g({...h,category:C.target.value}),placeholder:"e.g., Food & Dining"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Budget Amount"}),d.jsx(dn,{type:"number",value:h.budget,onChange:C=>g({...h,budget:C.target.value}),placeholder:"Enter budget amount"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Period"}),d.jsx(dn,{type:"month",value:h.period,onChange:C=>g({...h,period:C.target.value})})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[d.jsx(Be,{variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),d.jsxs(Be,{variant:"primary",onClick:S,children:[u?"Update":"Add"," Budget"]})]})]})})]})}function _j({items:t=[],className:e="",...n}){return d.jsx("div",{className:`flow-root ${e}`,...n,children:d.jsx("ul",{className:"-mb-8",children:t.map((r,i)=>d.jsx("li",{children:d.jsxs("div",{className:"relative pb-8",children:[i!==t.length-1&&d.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-700","aria-hidden":"true"}),d.jsxs("div",{className:"relative flex space-x-3",children:[d.jsx("div",{children:d.jsx("span",{className:`h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white dark:ring-gray-800 ${r.variant==="success"?"bg-green-500":r.variant==="warning"?"bg-yellow-500":r.variant==="danger"?"bg-red-500":"bg-blue-500"}`,children:r.icon||d.jsx("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})}),d.jsxs("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[d.jsx("div",{children:d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.content})}),d.jsx("div",{className:"text-right text-sm whitespace-nowrap text-gray-500 dark:text-gray-400",children:d.jsx("time",{dateTime:r.dateTime,children:r.date})})]})]})]})},i))})})}function Ej(){const{currency:t,setCurrency:e}=$.useContext(wn),[n,r]=$.useState([]),[i,s]=$.useState(!1),[o,a]=$.useState(""),[l,c]=$.useState(!1),[u,f]=$.useState(null),[h,g]=$.useState({title:"",description:"",targetAmount:"",currentAmount:"",deadline:"",category:"",priority:"medium"}),p=async()=>{s(!0),a("");try{const F=await Yy.getGoals();F.success?r(F.data):a(F.error||"Failed to load goals")}catch(F){a("Failed to load goals"),console.error("Error loading goals:",F)}finally{s(!1)}};$.useEffect(()=>{p()},[]);const b=F=>{switch(F){case"high":return"red";case"medium":return"yellow";case"low":return"green";default:return"gray"}},E=n.reduce((F,V)=>F+V.targetAmount,0),v=n.reduce((F,V)=>F+V.currentAmount,0),_=v/E*100,k=n.filter(F=>F.status==="active"),P=n.filter(F=>F.status==="completed"),S=()=>{f(null),g({title:"",description:"",targetAmount:"",currentAmount:"",deadline:"",category:"",priority:"medium"}),c(!0)},M=F=>{f(F),g({title:F.title,description:F.description,targetAmount:F.targetAmount.toString(),currentAmount:F.currentAmount.toString(),deadline:F.deadline,category:F.category,priority:F.priority}),c(!0)},C=async()=>{if(!h.title||!h.targetAmount||!h.currentAmount||!h.deadline){alert("Please fill all required fields");return}try{const F={title:h.title,description:h.description,targetAmount:parseFloat(h.targetAmount),currentAmount:parseFloat(h.currentAmount),currency:t,deadline:h.deadline,category:h.category,priority:h.priority},V=await Yy.addGoal(F.title,F.description,F.targetAmount,F.currentAmount,F.currency,F.deadline,F.category,F.priority);V.success?(c(!1),p()):alert(V.error||"Failed to save goal")}catch(F){alert("Failed to save goal"),console.error("Error saving goal:",F)}},U=async F=>{if(confirm("Are you sure you want to delete this goal?"))try{console.log("Delete goal:",F),p()}catch(V){alert("Failed to delete goal"),console.error("Error deleting goal:",V)}};return i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:o}),d.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Financial Goals"}),d.jsx(Be,{onClick:S,variant:"primary",children:"+ Add Goal"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Target"}),d.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[t," ",E.toLocaleString()]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Saved"}),d.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[t," ",v.toLocaleString()]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Active Goals"}),d.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:k.length})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Completed Goals"}),d.jsx("p",{className:"text-3xl font-bold text-green-600",children:P.length})]})})]}),d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Overall Progress"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),d.jsxs("span",{className:"font-medium",children:[_.toFixed(1),"%"]})]}),d.jsx(hl,{value:_,max:100,color:_>=100?"green":_>50?"yellow":"blue"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(Kd,{})}),d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Active Goals"}),d.jsx("div",{className:"space-y-4",children:k.map(F=>{const V=F.currentAmount/F.targetAmount*100,se=Math.ceil((new Date(F.deadline)-new Date)/(1e3*60*60*24));return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:F.title}),d.jsx(Ar,{color:b(F.priority),size:"sm",children:F.priority})]}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:F.description}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[d.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Category: ",F.category]}),d.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Deadline: ",new Date(F.deadline).toLocaleDateString()]}),se>0&&d.jsxs("span",{className:"text-yellow-600",children:[se," days left"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[F.currency," ",F.currentAmount.toLocaleString()," / ",F.targetAmount.toLocaleString()]}),d.jsxs("p",{className:"text-sm font-medium text-green-600",children:[V.toFixed(1),"%"]})]})]}),d.jsx(hl,{value:V,max:100,color:V>=100?"green":V>50?"yellow":"blue"}),d.jsxs("div",{className:"flex justify-end mt-2 space-x-2",children:[d.jsx(Be,{size:"sm",variant:"secondary",onClick:()=>M(F),children:"Edit"}),d.jsx(Be,{size:"sm",variant:"danger",onClick:()=>U(F.id),children:"Delete"})]})]},F.id)})})]}),P.length>0&&d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Completed Goals"}),d.jsx("div",{className:"space-y-4",children:P.map(F=>d.jsx("div",{className:"border rounded-lg p-4 bg-green-50 dark:bg-green-900/20",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:F.title}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:F.description}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Completed: ",new Date(F.deadline).toLocaleDateString()]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[F.currency," ",F.targetAmount.toLocaleString()]}),d.jsx(Ar,{color:"green",size:"sm",children:"Completed"})]})]})},F.id))})]}),d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activities"}),d.jsx(_j,{items:[{content:'Goal "Dana Darurat" updated',date:"2 hours ago",variant:"success"},{content:'New goal "DP Rumah" created',date:"1 day ago",variant:"primary"},{content:'Goal "Liburan Keluarga" progress updated',date:"2 days ago",variant:"warning"}]})]}),d.jsx(z2,{isOpen:l,onClose:()=>c(!1),children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:u?"Edit Goal":"Add Goal"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title *"}),d.jsx(dn,{value:h.title,onChange:F=>g({...h,title:F.target.value}),placeholder:"e.g., Emergency Fund"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),d.jsx(dn,{value:h.description,onChange:F=>g({...h,description:F.target.value}),placeholder:"Describe your goal"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Amount *"}),d.jsx(dn,{type:"number",value:h.targetAmount,onChange:F=>g({...h,targetAmount:F.target.value}),placeholder:"Enter target amount"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Amount *"}),d.jsx(dn,{type:"number",value:h.currentAmount,onChange:F=>g({...h,currentAmount:F.target.value}),placeholder:"Enter current amount"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Deadline *"}),d.jsx(dn,{type:"date",value:h.deadline,onChange:F=>g({...h,deadline:F.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),d.jsx(dn,{value:h.category,onChange:F=>g({...h,category:F.target.value}),placeholder:"e.g., Emergency Fund"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Priority"}),d.jsxs("select",{value:h.priority,onChange:F=>g({...h,priority:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"low",children:"Low"}),d.jsx("option",{value:"medium",children:"Medium"}),d.jsx("option",{value:"high",children:"High"})]})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[d.jsx(Be,{variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),d.jsxs(Be,{variant:"primary",onClick:C,children:[u?"Update":"Add"," Goal"]})]})]})})]})}function Sj(){const[t,e]=$.useState([]),[n,r]=$.useState(!1),[i,s]=$.useState(""),[o,a]=$.useState("all"),[l,c]=$.useState(!0),u=async()=>{r(!0),s("");try{const S=await A0.getNotifications(null,l);S.success?e(S.data):s(S.error||"Failed to load notifications")}catch(S){s("Failed to load notifications"),console.error("Error loading notifications:",S)}finally{r(!1)}};$.useEffect(()=>{u()},[l]);const f=S=>{switch(S){case"success":return"green";case"warning":return"yellow";case"danger":return"red";case"info":return"blue";default:return"gray"}},h=S=>{switch(S){case"budget":return"💰";case"goal":return"🎯";case"transaction":return"💸";case"market":return"📈";case"payment":return"💳";case"ai":return"🤖";default:return"📢"}},g=S=>{const M=new Date(S),U=new Date-M,F=Math.floor(U/6e4),V=Math.floor(U/36e5),se=Math.floor(U/864e5);return F<1?"Baru saja":F<60?`${F} menit yang lalu`:V<24?`${V} jam yang lalu`:se<7?`${se} hari yang lalu`:M.toLocaleDateString()},p=t.filter(S=>o==="all"?!0:S.category===o),b=t.filter(S=>!S.isRead).length,E=t.filter(S=>S.isRead).length,v=async S=>{try{const M=await A0.markAsRead(S);M.success?u():alert(M.error||"Failed to mark as read")}catch(M){alert("Failed to mark as read"),console.error("Error marking as read:",M)}},_=async()=>{try{console.log("Mark all as read"),u()}catch(S){alert("Failed to mark all as read"),console.error("Error marking all as read:",S)}},k=async S=>{if(confirm("Are you sure you want to delete this notification?"))try{console.log("Delete notification:",S),u()}catch(M){alert("Failed to delete notification"),console.error("Error deleting notification:",M)}},P=async()=>{if(confirm("Are you sure you want to delete all notifications?"))try{console.log("Delete all notifications"),u()}catch(S){alert("Failed to delete all notifications"),console.error("Error deleting all notifications:",S)}};return n?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:i}),d.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Notifications"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Be,{variant:"secondary",onClick:_,children:"Mark All as Read"}),d.jsx(Be,{variant:"danger",onClick:P,children:"Delete All"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Notifications"}),d.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Unread"}),d.jsx("p",{className:"text-3xl font-bold text-red-600",children:b})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Read"}),d.jsx("p",{className:"text-3xl font-bold text-green-600",children:E})]})})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filter:"}),d.jsxs("select",{value:o,onChange:S=>a(S.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"budget",children:"Budget"}),d.jsx("option",{value:"goal",children:"Goal"}),d.jsx("option",{value:"transaction",children:"Transaction"}),d.jsx("option",{value:"market",children:"Market"}),d.jsx("option",{value:"payment",children:"Payment"}),d.jsx("option",{value:"ai",children:"AI"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",id:"showRead",checked:l,onChange:S=>c(S.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"showRead",className:"text-sm text-gray-700 dark:text-gray-300",children:"Show read notifications"})]})]}),d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Notifications"}),p.length===0?d.jsx("div",{className:"text-center py-8",children:d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No notifications found"})}):d.jsx("div",{className:"space-y-4",children:p.map(S=>d.jsx("div",{className:`border rounded-lg p-4 ${S.isRead?"bg-gray-50 dark:bg-gray-800":"bg-white dark:bg-gray-700 border-blue-200"}`,children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx("span",{className:"text-lg",children:h(S.category)}),d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:S.title}),d.jsx(Ar,{color:f(S.type),size:"sm",children:S.type}),!S.isRead&&d.jsx(Ar,{color:"blue",size:"sm",children:"New"})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:S.message}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:g(S.timestamp)}),d.jsx("span",{className:"text-gray-500 dark:text-gray-400 capitalize",children:S.category})]})]}),d.jsxs("div",{className:"flex space-x-2 ml-4",children:[!S.isRead&&d.jsx(Be,{size:"sm",variant:"secondary",onClick:()=>v(S.id),children:"Mark Read"}),d.jsx(Be,{size:"sm",variant:"danger",onClick:()=>k(S.id),children:"Delete"})]})]})},S.id))})]})]})}function kj({src:t,alt:e,initials:n,icon:r,size:i="md",className:s="",...o}){const a={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"},l="inline-flex items-center justify-center rounded-full bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium";return t?d.jsx("img",{src:t,alt:e,className:`rounded-full object-cover ${a[i]} ${s}`,...o}):r?d.jsx("div",{className:`${l} ${a[i]} ${s}`,...o,children:r}):d.jsx("div",{className:`${l} ${a[i]} ${s}`,...o,children:n||"U"})}function uh({checked:t=!1,onChange:e,label:n,disabled:r=!1,className:i="",...s}){return d.jsxs("label",{className:`inline-flex items-center cursor-pointer ${r?"opacity-50 cursor-not-allowed":""} ${i}`,...s,children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"checkbox",className:"sr-only",checked:t,onChange:e,disabled:r}),d.jsx("div",{className:`w-11 h-6 bg-gray-200 dark:bg-gray-700 rounded-full transition-colors ${t?"bg-blue-600":""}`,children:d.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transform transition-transform ${t?"translate-x-5":"translate-x-0"}`})})]}),n&&d.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-white",children:n})]})}function Nj(){var b;$.useContext(wn);const[t,e]=$.useState({name:"",email:"",avatar:""}),[n,r]=$.useState({theme:"light",emailNotifications:!0,pushNotifications:!0,autoSync:!0}),[i,s]=$.useState(!1),[o,a]=$.useState(""),[l,c]=$.useState(!1),u=async()=>{s(!0),a("");try{const E=await Yr.getUserSummary();E.success&&e(v=>{var _,k;return{...v,name:((_=E.data)==null?void 0:_.name)||"",email:((k=E.data)==null?void 0:k.email)||""}})}catch(E){a("Failed to load profile and settings"),console.error("Error loading profile and settings:",E)}finally{s(!1)}};$.useEffect(()=>{u()},[]);const f=async()=>{c(!0);try{console.log("Saving profile:",t),alert("Profile updated successfully!")}catch(E){alert("Failed to update profile"),console.error("Error updating profile:",E)}finally{c(!1)}},h=async()=>{c(!0);try{console.log("Saving settings:",n),alert("Settings updated successfully!")}catch(E){alert("Failed to update settings"),console.error("Error updating settings:",E)}finally{c(!1)}},g=async()=>{try{await Fr.logout()}catch(E){alert("Failed to logout"),console.error("Error logging out:",E)}},p=()=>{r(E=>({...E,theme:E.theme==="light"?"dark":"light"}))};return i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:o}),d.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Settings & Profile"}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Profile"}),d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx(kj,{initials:((b=t==null?void 0:t.name)==null?void 0:b.charAt(0))||"U",size:"lg"}),d.jsxs("div",{className:"flex-1",children:[d.jsx(dn,{placeholder:"Display Name",value:t.name,onChange:E=>e(v=>({...v,name:E.target.value})),className:"mb-2 w-full"}),d.jsx(dn,{type:"email",placeholder:"Email",value:t.email,onChange:E=>e(v=>({...v,email:E.target.value})),className:"w-full"})]})]}),d.jsx(Be,{onClick:f,loading:l,children:"Save Profile"})]}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Preferences"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Default Currency"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Choose your preferred currency"})]}),d.jsx(Kd,{})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Theme"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Light or dark mode"})]}),d.jsx(Be,{variant:"secondary",size:"sm",onClick:p,children:n.theme==="dark"?"Dark":"Light"})]})]}),d.jsx(Be,{onClick:h,loading:l,className:"mt-4",children:"Save Preferences"})]}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Notifications"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Notifications"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Receive updates via email"})]}),d.jsx(uh,{checked:n.emailNotifications,onChange:E=>r(v=>({...v,emailNotifications:E}))})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Push Notifications"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Receive real-time alerts"})]}),d.jsx(uh,{checked:n.pushNotifications,onChange:E=>r(v=>({...v,pushNotifications:E}))})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Auto Sync"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Automatically sync data"})]}),d.jsx(uh,{checked:n.autoSync,onChange:E=>r(v=>({...v,autoSync:E}))})]})]}),d.jsx(Be,{onClick:h,loading:l,className:"mt-4",children:"Save Notifications"})]}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Security"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Two-Factor Authentication"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Add an extra layer of security"})]}),d.jsx(Ar,{color:"yellow",size:"sm",children:"Not Enabled"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Session Management"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Manage active sessions"})]}),d.jsx(Be,{variant:"secondary",size:"sm",children:"Manage"})]})]})]}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Data Management"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Export Data"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Download your financial data"})]}),d.jsx(Be,{variant:"secondary",size:"sm",children:"Export"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Delete Account"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Permanently delete your account"})]}),d.jsx(Be,{variant:"danger",size:"sm",children:"Delete"})]})]})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-4",children:"Account Actions"}),d.jsx("div",{className:"space-y-2",children:d.jsx(Be,{variant:"danger",onClick:g,className:"w-full",children:"Logout"})})]})]})}function fb({items:t=[],allowMultiple:e=!1,className:n="",...r}){const[i,s]=$.useState(new Set),o=a=>{if(e){const l=new Set(i);l.has(a)?l.delete(a):l.add(a),s(l)}else{const l=new Set;i.has(a)||l.add(a),s(l)}};return d.jsx("div",{className:`space-y-2 ${n}`,...r,children:t.map((a,l)=>d.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg",children:[d.jsxs("button",{onClick:()=>o(l),className:"w-full px-4 py-3 text-left flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[d.jsx("span",{className:"font-medium",children:a.title}),d.jsx("svg",{className:`w-5 h-5 transform transition-transform ${i.has(l)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.has(l)&&d.jsx("div",{className:"px-4 pb-3 border-t border-gray-200 dark:border-gray-700",children:d.jsx("div",{className:"pt-3",children:a.content})})]},l))})}function Tj(){const t=[{title:"How to connect my wallet?",content:'Go to the Wallets page and click "Connect" on your desired wallet (BTC, ETH, SOL). Then approve the connection in your wallet extension/app.'},{title:"How to add a transaction?",content:'Click the "+ Add Transaction" button on the Dashboard or Transactions page. Fill in the details and click Save.'},{title:"How to export my data?",content:'Go to the Transactions page and click "Export CSV" to download your transaction data.'}],e=[{title:"Getting Started",content:`1. Sign in with Internet Identity
2. Connect your wallets
3. Add your first transaction
4. Explore the dashboard and analytics.`},{title:"Wallet Connection",content:`1. Go to the Wallets page
2. Click "Connect" on your desired wallet (BTC, ETH, SOL)
3. Approve connection in your wallet extension/app
4. Your wallet address and balance will be displayed.`},{title:"Portfolio Management",content:"View your asset allocation, track portfolio performance, and get insights from the Portfolio and Analytics pages."}];return d.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Help & About"}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Frequently Asked Questions"}),d.jsx(fb,{items:t})]}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Tutorials"}),d.jsx(fb,{items:e,allowMultiple:!0})]}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-2",children:"Version Info"}),d.jsx("div",{children:"FinTrack v2.0.0"})]}),d.jsx(ke,{children:d.jsx("a",{href:"https://github.com/demigohu/FinTrack",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"GitHub Repository"})})]})}function Aj(){const{isLoggedIn:t}=$.useContext(wn),n=ri().pathname==="/login";return d.jsx(hT,{children:d.jsxs("div",{className:"min-h-screen flex bg-gray-50 dark:bg-gray-900",children:[!n&&d.jsx(gT,{}),d.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[d.jsx("main",{className:"flex-1 p-2 sm:p-6",children:d.jsxs(M1,{children:[d.jsx(Jt,{path:"/login",element:t?d.jsx(An,{to:"/dashboard"}):d.jsx(wT,{})}),d.jsx(Jt,{path:"/dashboard",element:t?d.jsx(lj,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/transactions",element:t?d.jsx(gj,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/portfolio",element:t?d.jsx(mj,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/wallets",element:t?d.jsx(yj,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/analytics",element:t?d.jsx(bj,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/ai-advisor",element:t?d.jsx(wj,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/budget",element:t?d.jsx(vj,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/goals",element:t?d.jsx(Ej,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/notifications",element:t?d.jsx(Sj,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/settings",element:t?d.jsx(Nj,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/help",element:d.jsx(Tj,{})}),d.jsx(Jt,{path:"*",element:d.jsx(An,{to:t?"/dashboard":"/login"})})]})}),!n&&d.jsx(yT,{})]})]})})}dh.createRoot(document.getElementById("root")).render(d.jsx(gd.StrictMode,{children:d.jsx(D3,{children:d.jsx(fT,{children:d.jsx(M1,{children:d.jsx(Jt,{path:"/*",element:d.jsx(Aj,{})})})})})}));
