var rE=Object.defineProperty;var iE=(t,e,n)=>e in t?rE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ye=(t,e,n)=>iE(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gb={exports:{}},md={},mb={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=Symbol.for("react.element"),sE=Symbol.for("react.portal"),oE=Symbol.for("react.fragment"),aE=Symbol.for("react.strict_mode"),lE=Symbol.for("react.profiler"),cE=Symbol.for("react.provider"),uE=Symbol.for("react.context"),dE=Symbol.for("react.forward_ref"),fE=Symbol.for("react.suspense"),hE=Symbol.for("react.memo"),pE=Symbol.for("react.lazy"),Ug=Symbol.iterator;function gE(t){return t===null||typeof t!="object"?null:(t=Ug&&t[Ug]||t["@@iterator"],typeof t=="function"?t:null)}var yb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xb=Object.assign,bb={};function Fo(t,e,n){this.props=t,this.context=e,this.refs=bb,this.updater=n||yb}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wb(){}wb.prototype=Fo.prototype;function q0(t,e,n){this.props=t,this.context=e,this.refs=bb,this.updater=n||yb}var G0=q0.prototype=new wb;G0.constructor=q0;xb(G0,Fo.prototype);G0.isPureReactComponent=!0;var Lg=Array.isArray,vb=Object.prototype.hasOwnProperty,K0={current:null},_b={key:!0,ref:!0,__self:!0,__source:!0};function Eb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vb.call(e,r)&&!_b.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_l,type:t,key:s,ref:o,props:i,_owner:K0.current}}function mE(t,e){return{$$typeof:_l,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Y0(t){return typeof t=="object"&&t!==null&&t.$$typeof===_l}function yE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zg=/\/+/g;function ef(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yE(""+t.key):e.toString(36)}function jc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _l:case sE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ef(o,0):r,Lg(i)?(n="",t!=null&&(n=t.replace(zg,"$&/")+"/"),jc(i,e,n,"",function(c){return c})):i!=null&&(Y0(i)&&(i=mE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Lg(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ef(s,a);o+=jc(s,e,n,l,i)}else if(l=gE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ef(s,a++),o+=jc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zl(t,e,n){if(t==null)return t;var r=[],i=0;return jc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function xE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Bc={transition:null},bE={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Bc,ReactCurrentOwner:K0};function Sb(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:zl,forEach:function(t,e,n){zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zl(t,function(){e++}),e},toArray:function(t){return zl(t,function(e){return e})||[]},only:function(t){if(!Y0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Fo;Me.Fragment=oE;Me.Profiler=lE;Me.PureComponent=q0;Me.StrictMode=aE;Me.Suspense=fE;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bE;Me.act=Sb;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=K0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vb.call(e,l)&&!_b.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_l,type:t.type,key:i,ref:s,props:r,_owner:o}};Me.createContext=function(t){return t={$$typeof:uE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cE,_context:t},t.Consumer=t};Me.createElement=Eb;Me.createFactory=function(t){var e=Eb.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:dE,render:t}};Me.isValidElement=Y0;Me.lazy=function(t){return{$$typeof:pE,_payload:{_status:-1,_result:t},_init:xE}};Me.memo=function(t,e){return{$$typeof:hE,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=Bc.transition;Bc.transition={};try{t()}finally{Bc.transition=e}};Me.unstable_act=Sb;Me.useCallback=function(t,e){return sn.current.useCallback(t,e)};Me.useContext=function(t){return sn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return sn.current.useEffect(t,e)};Me.useId=function(){return sn.current.useId()};Me.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return sn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};Me.useRef=function(t){return sn.current.useRef(t)};Me.useState=function(t){return sn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return sn.current.useTransition()};Me.version="18.3.1";mb.exports=Me;var D=mb.exports;const yd=pb(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE=D,vE=Symbol.for("react.element"),_E=Symbol.for("react.fragment"),EE=Object.prototype.hasOwnProperty,SE=wE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kE={key:!0,ref:!0,__self:!0,__source:!0};function kb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)EE.call(e,r)&&!kE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vE,type:t,key:s,ref:o,props:i,_owner:SE.current}}md.Fragment=_E;md.jsx=kb;md.jsxs=kb;gb.exports=md;var d=gb.exports,hh={},Nb={exports:{}},Nn={},Tb={exports:{}},Ab={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,K){var ce=G.length;G.push(K);e:for(;0<ce;){var se=ce-1>>>1,ue=G[se];if(0<i(ue,K))G[se]=K,G[ce]=ue,ce=se;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var K=G[0],ce=G.pop();if(ce!==K){G[0]=ce;e:for(var se=0,ue=G.length,oe=ue>>>1;se<oe;){var j=2*(se+1)-1,le=G[j],he=j+1,me=G[he];if(0>i(le,ce))he<ue&&0>i(me,le)?(G[se]=me,G[he]=ce,se=he):(G[se]=le,G[j]=ce,se=j);else if(he<ue&&0>i(me,ce))G[se]=me,G[he]=ce,se=he;else break e}}return K}function i(G,K){var ce=G.sortIndex-K.sortIndex;return ce!==0?ce:G.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,g=!1,p=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=G)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function R(G){if(v=!1,S(G),!p)if(n(l)!==null)p=!0,ee(k);else{var K=n(c);K!==null&&Z(R,K.startTime-G)}}function k(G,K){p=!1,v&&(v=!1,b(U),U=-1),g=!0;var ce=h;try{for(S(K),f=n(l);f!==null&&(!(f.expirationTime>K)||G&&!ie());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var ue=se(f.expirationTime<=K);K=t.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(l)&&r(l),S(K)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var j=n(c);j!==null&&Z(R,j.startTime-K),oe=!1}return oe}finally{f=null,h=ce,g=!1}}var M=!1,C=null,U=-1,I=5,V=-1;function ie(){return!(t.unstable_now()-V<I)}function ae(){if(C!==null){var G=t.unstable_now();V=G;var K=!0;try{K=C(!0,G)}finally{K?L():(M=!1,C=null)}}else M=!1}var L;if(typeof _=="function")L=function(){_(ae)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,J=H.port2;H.port1.onmessage=ae,L=function(){J.postMessage(null)}}else L=function(){E(ae,0)};function ee(G){C=G,M||(M=!0,L())}function Z(G,K){U=E(function(){G(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,ee(k))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var ce=h;h=K;try{return G()}finally{h=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ce=h;h=G;try{return K()}finally{h=ce}},t.unstable_scheduleCallback=function(G,K,ce){var se=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?se+ce:se):ce=se,G){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ce+ue,G={id:u++,callback:K,priorityLevel:G,startTime:ce,expirationTime:ue,sortIndex:-1},ce>se?(G.sortIndex=ce,e(c,G),n(l)===null&&G===n(c)&&(v?(b(U),U=-1):v=!0,Z(R,ce-se))):(G.sortIndex=ue,e(l,G),p||g||(p=!0,ee(k))),G},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(G){var K=h;return function(){var ce=h;h=K;try{return G.apply(this,arguments)}finally{h=ce}}}})(Ab);Tb.exports=Ab;var NE=Tb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE=D,kn=NE;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cb=new Set,Wa={};function Os(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(Wa[t]=e,t=0;t<e.length;t++)Cb.add(e[t])}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=Object.prototype.hasOwnProperty,AE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$g={},Dg={};function CE(t){return ph.call(Dg,t)?!0:ph.call($g,t)?!1:AE.test(t)?Dg[t]=!0:($g[t]=!0,!1)}function jE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BE(t,e,n,r){if(e===null||typeof e>"u"||jE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var X0=/[\-:]([a-z])/g;function Z0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(X0,Z0);Lt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(X0,Z0);Lt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(X0,Z0);Lt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Q0(t,e,n,r){var i=Lt.hasOwnProperty(e)?Lt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BE(e,n,i,r)&&(n=null),r||i===null?CE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ri=TE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$l=Symbol.for("react.element"),Js=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),J0=Symbol.for("react.strict_mode"),gh=Symbol.for("react.profiler"),jb=Symbol.for("react.provider"),Bb=Symbol.for("react.context"),ep=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),yh=Symbol.for("react.suspense_list"),tp=Symbol.for("react.memo"),pi=Symbol.for("react.lazy"),Rb=Symbol.for("react.offscreen"),Vg=Symbol.iterator;function qo(t){return t===null||typeof t!="object"?null:(t=Vg&&t[Vg]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,tf;function la(t){if(tf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tf=e&&e[1]||""}return`
`+tf+t}var nf=!1;function rf(t,e){if(!t||nf)return"";nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{nf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?la(t):""}function RE(t){switch(t.tag){case 5:return la(t.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 2:case 15:return t=rf(t.type,!1),t;case 11:return t=rf(t.type.render,!1),t;case 1:return t=rf(t.type,!0),t;default:return""}}function xh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eo:return"Fragment";case Js:return"Portal";case gh:return"Profiler";case J0:return"StrictMode";case mh:return"Suspense";case yh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bb:return(t.displayName||"Context")+".Consumer";case jb:return(t._context.displayName||"Context")+".Provider";case ep:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tp:return e=t.displayName||null,e!==null?e:xh(t.type)||"Memo";case pi:e=t._payload,t=t._init;try{return xh(t(e))}catch{}}return null}function PE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xh(e);case 8:return e===J0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OE(t){var e=Pb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dl(t){t._valueTracker||(t._valueTracker=OE(t))}function Ob(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Pb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Eu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bh(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mb(t,e){e=e.checked,e!=null&&Q0(t,"checked",e,!1)}function wh(t,e){Mb(t,e);var n=Wi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vh(t,e.type,n):e.hasOwnProperty("defaultValue")&&vh(t,e.type,Wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vh(t,e,n){(e!=="number"||Eu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ca=Array.isArray;function mo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _h(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pe(92));if(ca(n)){if(1<n.length)throw Error(pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wi(n)}}function Fb(t,e){var n=Wi(e.value),r=Wi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ib(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ib(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vl,Ub=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vl=Vl||document.createElement("div"),Vl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ME=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(t){ME.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ka[e]=ka[t]})});function Lb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ka.hasOwnProperty(t)&&ka[t]?(""+e).trim():e+"px"}function zb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Lb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var FE=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sh(t,e){if(e){if(FE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function kh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=null;function np(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Th=null,yo=null,xo=null;function Kg(t){if(t=kl(t)){if(typeof Th!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=_d(e),Th(t.stateNode,t.type,e))}}function $b(t){yo?xo?xo.push(t):xo=[t]:yo=t}function Db(){if(yo){var t=yo,e=xo;if(xo=yo=null,Kg(t),e)for(t=0;t<e.length;t++)Kg(e[t])}}function Vb(t,e){return t(e)}function Hb(){}var sf=!1;function Wb(t,e,n){if(sf)return t(e,n);sf=!0;try{return Vb(t,e,n)}finally{sf=!1,(yo!==null||xo!==null)&&(Hb(),Db())}}function Ga(t,e){var n=t.stateNode;if(n===null)return null;var r=_d(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,e,typeof n));return n}var Ah=!1;if(Zr)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){Ah=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{Ah=!1}function IE(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Na=!1,Su=null,ku=!1,Ch=null,UE={onError:function(t){Na=!0,Su=t}};function LE(t,e,n,r,i,s,o,a,l){Na=!1,Su=null,IE.apply(UE,arguments)}function zE(t,e,n,r,i,s,o,a,l){if(LE.apply(this,arguments),Na){if(Na){var c=Su;Na=!1,Su=null}else throw Error(pe(198));ku||(ku=!0,Ch=c)}}function Ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yg(t){if(Ms(t)!==t)throw Error(pe(188))}function $E(t){var e=t.alternate;if(!e){if(e=Ms(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Yg(i),t;if(s===r)return Yg(i),e;s=s.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:e}function Gb(t){return t=$E(t),t!==null?Kb(t):null}function Kb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kb(t);if(e!==null)return e;t=t.sibling}return null}var Yb=kn.unstable_scheduleCallback,Xg=kn.unstable_cancelCallback,DE=kn.unstable_shouldYield,VE=kn.unstable_requestPaint,mt=kn.unstable_now,HE=kn.unstable_getCurrentPriorityLevel,rp=kn.unstable_ImmediatePriority,Xb=kn.unstable_UserBlockingPriority,Nu=kn.unstable_NormalPriority,WE=kn.unstable_LowPriority,Zb=kn.unstable_IdlePriority,xd=null,kr=null;function qE(t){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(xd,t,void 0,(t.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:YE,GE=Math.log,KE=Math.LN2;function YE(t){return t>>>=0,t===0?32:31-(GE(t)/KE|0)|0}var Hl=64,Wl=4194304;function ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ua(a):(s&=o,s!==0&&(r=ua(s)))}else o=n&~i,o!==0?r=ua(o):s!==0&&(r=ua(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-er(e),i=1<<n,r|=t[n],e&=~i;return r}function XE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-er(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=XE(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function jh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qb(){var t=Hl;return Hl<<=1,!(Hl&4194240)&&(Hl=64),t}function of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function El(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-er(e),t[e]=n}function QE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-er(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ip(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-er(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function Jb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ew,sp,tw,nw,rw,Bh=!1,ql=[],Ri=null,Pi=null,Oi=null,Ka=new Map,Ya=new Map,vi=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zg(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(e.pointerId)}}function Ko(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=kl(e),e!==null&&sp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eS(t,e,n,r,i){switch(e){case"focusin":return Ri=Ko(Ri,t,e,n,r,i),!0;case"dragenter":return Pi=Ko(Pi,t,e,n,r,i),!0;case"mouseover":return Oi=Ko(Oi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ka.set(s,Ko(Ka.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ya.set(s,Ko(Ya.get(s)||null,t,e,n,r,i)),!0}return!1}function iw(t){var e=ps(t.target);if(e!==null){var n=Ms(e);if(n!==null){if(e=n.tag,e===13){if(e=qb(n),e!==null){t.blockedOn=e,rw(t.priority,function(){tw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nh=r,n.target.dispatchEvent(r),Nh=null}else return e=kl(n),e!==null&&sp(e),t.blockedOn=n,!1;e.shift()}return!0}function Qg(t,e,n){Rc(t)&&n.delete(e)}function tS(){Bh=!1,Ri!==null&&Rc(Ri)&&(Ri=null),Pi!==null&&Rc(Pi)&&(Pi=null),Oi!==null&&Rc(Oi)&&(Oi=null),Ka.forEach(Qg),Ya.forEach(Qg)}function Yo(t,e){t.blockedOn===e&&(t.blockedOn=null,Bh||(Bh=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,tS)))}function Xa(t){function e(i){return Yo(i,t)}if(0<ql.length){Yo(ql[0],t);for(var n=1;n<ql.length;n++){var r=ql[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ri!==null&&Yo(Ri,t),Pi!==null&&Yo(Pi,t),Oi!==null&&Yo(Oi,t),Ka.forEach(e),Ya.forEach(e),n=0;n<vi.length;n++)r=vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vi.length&&(n=vi[0],n.blockedOn===null);)iw(n),n.blockedOn===null&&vi.shift()}var bo=ri.ReactCurrentBatchConfig,Au=!0;function nS(t,e,n,r){var i=Ke,s=bo.transition;bo.transition=null;try{Ke=1,op(t,e,n,r)}finally{Ke=i,bo.transition=s}}function rS(t,e,n,r){var i=Ke,s=bo.transition;bo.transition=null;try{Ke=4,op(t,e,n,r)}finally{Ke=i,bo.transition=s}}function op(t,e,n,r){if(Au){var i=Rh(t,e,n,r);if(i===null)mf(t,e,r,Cu,n),Zg(t,r);else if(eS(i,t,e,n,r))r.stopPropagation();else if(Zg(t,r),e&4&&-1<JE.indexOf(t)){for(;i!==null;){var s=kl(i);if(s!==null&&ew(s),s=Rh(t,e,n,r),s===null&&mf(t,e,r,Cu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mf(t,e,r,null,n)}}var Cu=null;function Rh(t,e,n,r){if(Cu=null,t=np(r),t=ps(t),t!==null)if(e=Ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cu=t,null}function sw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HE()){case rp:return 1;case Xb:return 4;case Nu:case WE:return 16;case Zb:return 536870912;default:return 16}default:return 16}}var Ni=null,ap=null,Pc=null;function ow(){if(Pc)return Pc;var t,e=ap,n=e.length,r,i="value"in Ni?Ni.value:Ni.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Pc=i.slice(t,1<r?1-r:void 0)}function Oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gl(){return!0}function Jg(){return!1}function Tn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gl:Jg,this.isPropagationStopped=Jg,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),e}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lp=Tn(Io),Sl=ut({},Io,{view:0,detail:0}),iS=Tn(Sl),af,lf,Xo,bd=ut({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xo&&(Xo&&t.type==="mousemove"?(af=t.screenX-Xo.screenX,lf=t.screenY-Xo.screenY):lf=af=0,Xo=t),af)},movementY:function(t){return"movementY"in t?t.movementY:lf}}),em=Tn(bd),sS=ut({},bd,{dataTransfer:0}),oS=Tn(sS),aS=ut({},Sl,{relatedTarget:0}),cf=Tn(aS),lS=ut({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),cS=Tn(lS),uS=ut({},Io,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dS=Tn(uS),fS=ut({},Io,{data:0}),tm=Tn(fS),hS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gS[t])?!!e[t]:!1}function cp(){return mS}var yS=ut({},Sl,{key:function(t){if(t.key){var e=hS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cp,charCode:function(t){return t.type==="keypress"?Oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xS=Tn(yS),bS=ut({},bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=Tn(bS),wS=ut({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cp}),vS=Tn(wS),_S=ut({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),ES=Tn(_S),SS=ut({},bd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kS=Tn(SS),NS=[9,13,27,32],up=Zr&&"CompositionEvent"in window,Ta=null;Zr&&"documentMode"in document&&(Ta=document.documentMode);var TS=Zr&&"TextEvent"in window&&!Ta,aw=Zr&&(!up||Ta&&8<Ta&&11>=Ta),rm=" ",im=!1;function lw(t,e){switch(t){case"keyup":return NS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var to=!1;function AS(t,e){switch(t){case"compositionend":return cw(e);case"keypress":return e.which!==32?null:(im=!0,rm);case"textInput":return t=e.data,t===rm&&im?null:t;default:return null}}function CS(t,e){if(to)return t==="compositionend"||!up&&lw(t,e)?(t=ow(),Pc=ap=Ni=null,to=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aw&&e.locale!=="ko"?null:e.data;default:return null}}var jS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jS[t.type]:e==="textarea"}function uw(t,e,n,r){$b(r),e=ju(e,"onChange"),0<e.length&&(n=new lp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Aa=null,Za=null;function BS(t){vw(t,0)}function wd(t){var e=io(t);if(Ob(e))return t}function RS(t,e){if(t==="change")return e}var dw=!1;if(Zr){var uf;if(Zr){var df="oninput"in document;if(!df){var om=document.createElement("div");om.setAttribute("oninput","return;"),df=typeof om.oninput=="function"}uf=df}else uf=!1;dw=uf&&(!document.documentMode||9<document.documentMode)}function am(){Aa&&(Aa.detachEvent("onpropertychange",fw),Za=Aa=null)}function fw(t){if(t.propertyName==="value"&&wd(Za)){var e=[];uw(e,Za,t,np(t)),Wb(BS,e)}}function PS(t,e,n){t==="focusin"?(am(),Aa=e,Za=n,Aa.attachEvent("onpropertychange",fw)):t==="focusout"&&am()}function OS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wd(Za)}function MS(t,e){if(t==="click")return wd(e)}function FS(t,e){if(t==="input"||t==="change")return wd(e)}function IS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:IS;function Qa(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ph.call(e,i)||!rr(t[i],e[i]))return!1}return!0}function lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cm(t,e){var n=lm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lm(n)}}function hw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pw(){for(var t=window,e=Eu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Eu(t.document)}return e}function dp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function US(t){var e=pw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hw(n.ownerDocument.documentElement,n)){if(r!==null&&dp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cm(n,s);var o=cm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LS=Zr&&"documentMode"in document&&11>=document.documentMode,no=null,Ph=null,Ca=null,Oh=!1;function um(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oh||no==null||no!==Eu(r)||(r=no,"selectionStart"in r&&dp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ca&&Qa(Ca,r)||(Ca=r,r=ju(Ph,"onSelect"),0<r.length&&(e=new lp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=no)))}function Kl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ro={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},ff={},gw={};Zr&&(gw=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function vd(t){if(ff[t])return ff[t];if(!ro[t])return t;var e=ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gw)return ff[t]=e[n];return t}var mw=vd("animationend"),yw=vd("animationiteration"),xw=vd("animationstart"),bw=vd("transitionend"),ww=new Map,dm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(t,e){ww.set(t,e),Os(e,[t])}for(var hf=0;hf<dm.length;hf++){var pf=dm[hf],zS=pf.toLowerCase(),$S=pf[0].toUpperCase()+pf.slice(1);Xi(zS,"on"+$S)}Xi(mw,"onAnimationEnd");Xi(yw,"onAnimationIteration");Xi(xw,"onAnimationStart");Xi("dblclick","onDoubleClick");Xi("focusin","onFocus");Xi("focusout","onBlur");Xi(bw,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function fm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zE(r,e,void 0,t),t.currentTarget=null}function vw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;fm(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;fm(i,a,c),s=l}}}if(ku)throw t=Ch,ku=!1,Ch=null,t}function tt(t,e){var n=e[Lh];n===void 0&&(n=e[Lh]=new Set);var r=t+"__bubble";n.has(r)||(_w(e,t,2,!1),n.add(r))}function gf(t,e,n){var r=0;e&&(r|=4),_w(n,t,r,e)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Ja(t){if(!t[Yl]){t[Yl]=!0,Cb.forEach(function(n){n!=="selectionchange"&&(DS.has(n)||gf(n,!1,t),gf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yl]||(e[Yl]=!0,gf("selectionchange",!1,e))}}function _w(t,e,n,r){switch(sw(e)){case 1:var i=nS;break;case 4:i=rS;break;default:i=op}n=i.bind(null,e,n,t),i=void 0,!Ah||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ps(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Wb(function(){var c=s,u=np(n),f=[];e:{var h=ww.get(t);if(h!==void 0){var g=lp,p=t;switch(t){case"keypress":if(Oc(n)===0)break e;case"keydown":case"keyup":g=xS;break;case"focusin":p="focus",g=cf;break;case"focusout":p="blur",g=cf;break;case"beforeblur":case"afterblur":g=cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=oS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vS;break;case mw:case yw:case xw:g=cS;break;case bw:g=ES;break;case"scroll":g=iS;break;case"wheel":g=kS;break;case"copy":case"cut":case"paste":g=dS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=nm}var v=(e&4)!==0,E=!v&&t==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var _=c,S;_!==null;){S=_;var R=S.stateNode;if(S.tag===5&&R!==null&&(S=R,b!==null&&(R=Ga(_,b),R!=null&&v.push(el(_,R,S)))),E)break;_=_.return}0<v.length&&(h=new g(h,p,null,n,u),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Nh&&(p=n.relatedTarget||n.fromElement)&&(ps(p)||p[Qr]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=c,p=p?ps(p):null,p!==null&&(E=Ms(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(v=em,R="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=nm,R="onPointerLeave",b="onPointerEnter",_="pointer"),E=g==null?h:io(g),S=p==null?h:io(p),h=new v(R,_+"leave",g,n,u),h.target=E,h.relatedTarget=S,R=null,ps(u)===c&&(v=new v(b,_+"enter",p,n,u),v.target=S,v.relatedTarget=E,R=v),E=R,g&&p)t:{for(v=g,b=p,_=0,S=v;S;S=Is(S))_++;for(S=0,R=b;R;R=Is(R))S++;for(;0<_-S;)v=Is(v),_--;for(;0<S-_;)b=Is(b),S--;for(;_--;){if(v===b||b!==null&&v===b.alternate)break t;v=Is(v),b=Is(b)}v=null}else v=null;g!==null&&hm(f,h,g,v,!1),p!==null&&E!==null&&hm(f,E,p,v,!0)}}e:{if(h=c?io(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var k=RS;else if(sm(h))if(dw)k=FS;else{k=OS;var M=PS}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=MS);if(k&&(k=k(t,c))){uw(f,k,n,u);break e}M&&M(t,h,c),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&vh(h,"number",h.value)}switch(M=c?io(c):window,t){case"focusin":(sm(M)||M.contentEditable==="true")&&(no=M,Ph=c,Ca=null);break;case"focusout":Ca=Ph=no=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,um(f,n,u);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":um(f,n,u)}var C;if(up)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else to?lw(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(aw&&n.locale!=="ko"&&(to||U!=="onCompositionStart"?U==="onCompositionEnd"&&to&&(C=ow()):(Ni=u,ap="value"in Ni?Ni.value:Ni.textContent,to=!0)),M=ju(c,U),0<M.length&&(U=new tm(U,t,null,n,u),f.push({event:U,listeners:M}),C?U.data=C:(C=cw(n),C!==null&&(U.data=C)))),(C=TS?AS(t,n):CS(t,n))&&(c=ju(c,"onBeforeInput"),0<c.length&&(u=new tm("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=C))}vw(f,e)})}function el(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ju(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ga(t,n),s!=null&&r.unshift(el(t,s,i)),s=Ga(t,e),s!=null&&r.push(el(t,s,i))),t=t.return}return r}function Is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ga(n,s),l!=null&&o.unshift(el(n,l,a))):i||(l=Ga(n,s),l!=null&&o.push(el(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function pm(t){return(typeof t=="string"?t:""+t).replace(VS,`
`).replace(HS,"")}function Xl(t,e,n){if(e=pm(e),pm(t)!==e&&n)throw Error(pe(425))}function Bu(){}var Mh=null,Fh=null;function Ih(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(t){return gm.resolve(null).then(t).catch(GS)}:Uh;function GS(t){setTimeout(function(){throw t})}function yf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xa(e)}function Mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),wr="__reactFiber$"+Uo,tl="__reactProps$"+Uo,Qr="__reactContainer$"+Uo,Lh="__reactEvents$"+Uo,KS="__reactListeners$"+Uo,YS="__reactHandles$"+Uo;function ps(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mm(t);t!==null;){if(n=t[wr])return n;t=mm(t)}return e}t=n,n=t.parentNode}return null}function kl(t){return t=t[wr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function _d(t){return t[tl]||null}var zh=[],so=-1;function Zi(t){return{current:t}}function nt(t){0>so||(t.current=zh[so],zh[so]=null,so--)}function et(t,e){so++,zh[so]=t.current,t.current=e}var qi={},Gt=Zi(qi),mn=Zi(!1),Es=qi;function ko(t,e){var n=t.type.contextTypes;if(!n)return qi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function Ru(){nt(mn),nt(Gt)}function ym(t,e,n){if(Gt.current!==qi)throw Error(pe(168));et(Gt,e),et(mn,n)}function Ew(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pe(108,PE(t)||"Unknown",i));return ut({},n,r)}function Pu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qi,Es=Gt.current,et(Gt,t),et(mn,mn.current),!0}function xm(t,e,n){var r=t.stateNode;if(!r)throw Error(pe(169));n?(t=Ew(t,e,Es),r.__reactInternalMemoizedMergedChildContext=t,nt(mn),nt(Gt),et(Gt,t)):nt(mn),et(mn,n)}var Ir=null,Ed=!1,xf=!1;function Sw(t){Ir===null?Ir=[t]:Ir.push(t)}function XS(t){Ed=!0,Sw(t)}function Qi(){if(!xf&&Ir!==null){xf=!0;var t=0,e=Ke;try{var n=Ir;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ir=null,Ed=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(t+1)),Yb(rp,Qi),i}finally{Ke=e,xf=!1}}return null}var oo=[],ao=0,Ou=null,Mu=0,Pn=[],On=0,Ss=null,Dr=1,Vr="";function ss(t,e){oo[ao++]=Mu,oo[ao++]=Ou,Ou=t,Mu=e}function kw(t,e,n){Pn[On++]=Dr,Pn[On++]=Vr,Pn[On++]=Ss,Ss=t;var r=Dr;t=Vr;var i=32-er(r)-1;r&=~(1<<i),n+=1;var s=32-er(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dr=1<<32-er(e)+i|n<<i|r,Vr=s+t}else Dr=1<<s|n<<i|r,Vr=t}function fp(t){t.return!==null&&(ss(t,1),kw(t,1,0))}function hp(t){for(;t===Ou;)Ou=oo[--ao],oo[ao]=null,Mu=oo[--ao],oo[ao]=null;for(;t===Ss;)Ss=Pn[--On],Pn[On]=null,Vr=Pn[--On],Pn[On]=null,Dr=Pn[--On],Pn[On]=null}var Sn=null,En=null,rt=!1,Zn=null;function Nw(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,En=Mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:Dr,overflow:Vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,En=null,!0):!1;default:return!1}}function $h(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dh(t){if(rt){var e=En;if(e){var n=e;if(!bm(t,e)){if($h(t))throw Error(pe(418));e=Mi(n.nextSibling);var r=Sn;e&&bm(t,e)?Nw(r,n):(t.flags=t.flags&-4097|2,rt=!1,Sn=t)}}else{if($h(t))throw Error(pe(418));t.flags=t.flags&-4097|2,rt=!1,Sn=t}}}function wm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function Zl(t){if(t!==Sn)return!1;if(!rt)return wm(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ih(t.type,t.memoizedProps)),e&&(e=En)){if($h(t))throw Tw(),Error(pe(418));for(;e;)Nw(t,e),e=Mi(e.nextSibling)}if(wm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=Sn?Mi(t.stateNode.nextSibling):null;return!0}function Tw(){for(var t=En;t;)t=Mi(t.nextSibling)}function No(){En=Sn=null,rt=!1}function pp(t){Zn===null?Zn=[t]:Zn.push(t)}var ZS=ri.ReactCurrentBatchConfig;function Zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function Ql(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vm(t){var e=t._init;return e(t._payload)}function Aw(t){function e(b,_){if(t){var S=b.deletions;S===null?(b.deletions=[_],b.flags|=16):S.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function r(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=Li(b,_),b.index=0,b.sibling=null,b}function s(b,_,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<_?(b.flags|=2,_):S):(b.flags|=2,_)):(b.flags|=1048576,_)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,_,S,R){return _===null||_.tag!==6?(_=kf(S,b.mode,R),_.return=b,_):(_=i(_,S),_.return=b,_)}function l(b,_,S,R){var k=S.type;return k===eo?u(b,_,S.props.children,R,S.key):_!==null&&(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===pi&&vm(k)===_.type)?(R=i(_,S.props),R.ref=Zo(b,_,S),R.return=b,R):(R=$c(S.type,S.key,S.props,null,b.mode,R),R.ref=Zo(b,_,S),R.return=b,R)}function c(b,_,S,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Nf(S,b.mode,R),_.return=b,_):(_=i(_,S.children||[]),_.return=b,_)}function u(b,_,S,R,k){return _===null||_.tag!==7?(_=bs(S,b.mode,R,k),_.return=b,_):(_=i(_,S),_.return=b,_)}function f(b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=kf(""+_,b.mode,S),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $l:return S=$c(_.type,_.key,_.props,null,b.mode,S),S.ref=Zo(b,null,_),S.return=b,S;case Js:return _=Nf(_,b.mode,S),_.return=b,_;case pi:var R=_._init;return f(b,R(_._payload),S)}if(ca(_)||qo(_))return _=bs(_,b.mode,S,null),_.return=b,_;Ql(b,_)}return null}function h(b,_,S,R){var k=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:a(b,_,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $l:return S.key===k?l(b,_,S,R):null;case Js:return S.key===k?c(b,_,S,R):null;case pi:return k=S._init,h(b,_,k(S._payload),R)}if(ca(S)||qo(S))return k!==null?null:u(b,_,S,R,null);Ql(b,S)}return null}function g(b,_,S,R,k){if(typeof R=="string"&&R!==""||typeof R=="number")return b=b.get(S)||null,a(_,b,""+R,k);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case $l:return b=b.get(R.key===null?S:R.key)||null,l(_,b,R,k);case Js:return b=b.get(R.key===null?S:R.key)||null,c(_,b,R,k);case pi:var M=R._init;return g(b,_,S,M(R._payload),k)}if(ca(R)||qo(R))return b=b.get(S)||null,u(_,b,R,k,null);Ql(_,R)}return null}function p(b,_,S,R){for(var k=null,M=null,C=_,U=_=0,I=null;C!==null&&U<S.length;U++){C.index>U?(I=C,C=null):I=C.sibling;var V=h(b,C,S[U],R);if(V===null){C===null&&(C=I);break}t&&C&&V.alternate===null&&e(b,C),_=s(V,_,U),M===null?k=V:M.sibling=V,M=V,C=I}if(U===S.length)return n(b,C),rt&&ss(b,U),k;if(C===null){for(;U<S.length;U++)C=f(b,S[U],R),C!==null&&(_=s(C,_,U),M===null?k=C:M.sibling=C,M=C);return rt&&ss(b,U),k}for(C=r(b,C);U<S.length;U++)I=g(C,b,U,S[U],R),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?U:I.key),_=s(I,_,U),M===null?k=I:M.sibling=I,M=I);return t&&C.forEach(function(ie){return e(b,ie)}),rt&&ss(b,U),k}function v(b,_,S,R){var k=qo(S);if(typeof k!="function")throw Error(pe(150));if(S=k.call(S),S==null)throw Error(pe(151));for(var M=k=null,C=_,U=_=0,I=null,V=S.next();C!==null&&!V.done;U++,V=S.next()){C.index>U?(I=C,C=null):I=C.sibling;var ie=h(b,C,V.value,R);if(ie===null){C===null&&(C=I);break}t&&C&&ie.alternate===null&&e(b,C),_=s(ie,_,U),M===null?k=ie:M.sibling=ie,M=ie,C=I}if(V.done)return n(b,C),rt&&ss(b,U),k;if(C===null){for(;!V.done;U++,V=S.next())V=f(b,V.value,R),V!==null&&(_=s(V,_,U),M===null?k=V:M.sibling=V,M=V);return rt&&ss(b,U),k}for(C=r(b,C);!V.done;U++,V=S.next())V=g(C,b,U,V.value,R),V!==null&&(t&&V.alternate!==null&&C.delete(V.key===null?U:V.key),_=s(V,_,U),M===null?k=V:M.sibling=V,M=V);return t&&C.forEach(function(ae){return e(b,ae)}),rt&&ss(b,U),k}function E(b,_,S,R){if(typeof S=="object"&&S!==null&&S.type===eo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case $l:e:{for(var k=S.key,M=_;M!==null;){if(M.key===k){if(k=S.type,k===eo){if(M.tag===7){n(b,M.sibling),_=i(M,S.props.children),_.return=b,b=_;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===pi&&vm(k)===M.type){n(b,M.sibling),_=i(M,S.props),_.ref=Zo(b,M,S),_.return=b,b=_;break e}n(b,M);break}else e(b,M);M=M.sibling}S.type===eo?(_=bs(S.props.children,b.mode,R,S.key),_.return=b,b=_):(R=$c(S.type,S.key,S.props,null,b.mode,R),R.ref=Zo(b,_,S),R.return=b,b=R)}return o(b);case Js:e:{for(M=S.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(b,_.sibling),_=i(_,S.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else e(b,_);_=_.sibling}_=Nf(S,b.mode,R),_.return=b,b=_}return o(b);case pi:return M=S._init,E(b,_,M(S._payload),R)}if(ca(S))return p(b,_,S,R);if(qo(S))return v(b,_,S,R);Ql(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(b,_.sibling),_=i(_,S),_.return=b,b=_):(n(b,_),_=kf(S,b.mode,R),_.return=b,b=_),o(b)):n(b,_)}return E}var To=Aw(!0),Cw=Aw(!1),Fu=Zi(null),Iu=null,lo=null,gp=null;function mp(){gp=lo=Iu=null}function yp(t){var e=Fu.current;nt(Fu),t._currentValue=e}function Vh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e){Iu=t,gp=lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function Ln(t){var e=t._currentValue;if(gp!==t)if(t={context:t,memoizedValue:e,next:null},lo===null){if(Iu===null)throw Error(pe(308));lo=t,Iu.dependencies={lanes:0,firstContext:t}}else lo=lo.next=t;return e}var gs=null;function xp(t){gs===null?gs=[t]:gs.push(t)}function jw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jr(t,r)}function Jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gi=!1;function bp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jr(t,n)}return i=r.interleaved,i===null?(e.next=e,xp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jr(t,n)}function Mc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ip(t,n)}}function _m(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uu(t,e,n,r){var i=t.updateQueue;gi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(h=e,g=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(g,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(g,f,h):p,h==null)break e;f=ut({},f,h);break e;case 2:gi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=f):u=u.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ns|=o,t.lanes=o,t.memoizedState=f}}function Em(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var Nl={},Nr=Zi(Nl),nl=Zi(Nl),rl=Zi(Nl);function ms(t){if(t===Nl)throw Error(pe(174));return t}function wp(t,e){switch(et(rl,e),et(nl,t),et(Nr,Nl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Eh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Eh(e,t)}nt(Nr),et(Nr,e)}function Ao(){nt(Nr),nt(nl),nt(rl)}function Rw(t){ms(rl.current);var e=ms(Nr.current),n=Eh(e,t.type);e!==n&&(et(nl,t),et(Nr,n))}function vp(t){nl.current===t&&(nt(Nr),nt(nl))}var at=Zi(0);function Lu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bf=[];function _p(){for(var t=0;t<bf.length;t++)bf[t]._workInProgressVersionPrimary=null;bf.length=0}var Fc=ri.ReactCurrentDispatcher,wf=ri.ReactCurrentBatchConfig,ks=0,ct=null,_t=null,Rt=null,zu=!1,ja=!1,il=0,QS=0;function zt(){throw Error(pe(321))}function Ep(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rr(t[n],e[n]))return!1;return!0}function Sp(t,e,n,r,i,s){if(ks=s,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fc.current=t===null||t.memoizedState===null?nk:rk,t=n(r,i),ja){s=0;do{if(ja=!1,il=0,25<=s)throw Error(pe(301));s+=1,Rt=_t=null,e.updateQueue=null,Fc.current=ik,t=n(r,i)}while(ja)}if(Fc.current=$u,e=_t!==null&&_t.next!==null,ks=0,Rt=_t=ct=null,zu=!1,e)throw Error(pe(300));return t}function kp(){var t=il!==0;return il=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ct.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function zn(){if(_t===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Rt===null?ct.memoizedState:Rt.next;if(e!==null)Rt=e,_t=t;else{if(t===null)throw Error(pe(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Rt===null?ct.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function sl(t,e){return typeof e=="function"?e(t):e}function vf(t){var e=zn(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=_t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ks&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ct.lanes|=u,Ns|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,rr(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ct.lanes|=s,Ns|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _f(t){var e=zn(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);rr(s,e.memoizedState)||(pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Pw(){}function Ow(t,e){var n=ct,r=zn(),i=e(),s=!rr(r.memoizedState,i);if(s&&(r.memoizedState=i,pn=!0),r=r.queue,Np(Iw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,ol(9,Fw.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(pe(349));ks&30||Mw(n,e,i)}return i}function Mw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fw(t,e,n,r){e.value=n,e.getSnapshot=r,Uw(e)&&Lw(t)}function Iw(t,e,n){return n(function(){Uw(e)&&Lw(t)})}function Uw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rr(t,n)}catch{return!0}}function Lw(t){var e=Jr(t,1);e!==null&&tr(e,t,1,-1)}function Sm(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:t},e.queue=t,t=t.dispatch=tk.bind(null,ct,t),[e.memoizedState,t]}function ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zw(){return zn().memoizedState}function Ic(t,e,n,r){var i=mr();ct.flags|=t,i.memoizedState=ol(1|e,n,void 0,r===void 0?null:r)}function Sd(t,e,n,r){var i=zn();r=r===void 0?null:r;var s=void 0;if(_t!==null){var o=_t.memoizedState;if(s=o.destroy,r!==null&&Ep(r,o.deps)){i.memoizedState=ol(e,n,s,r);return}}ct.flags|=t,i.memoizedState=ol(1|e,n,s,r)}function km(t,e){return Ic(8390656,8,t,e)}function Np(t,e){return Sd(2048,8,t,e)}function $w(t,e){return Sd(4,2,t,e)}function Dw(t,e){return Sd(4,4,t,e)}function Vw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hw(t,e,n){return n=n!=null?n.concat([t]):null,Sd(4,4,Vw.bind(null,e,t),n)}function Tp(){}function Ww(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ep(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qw(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ep(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Gw(t,e,n){return ks&21?(rr(n,e)||(n=Qb(),ct.lanes|=n,Ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function JS(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=wf.transition;wf.transition={};try{t(!1),e()}finally{Ke=n,wf.transition=r}}function Kw(){return zn().memoizedState}function ek(t,e,n){var r=Ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yw(t))Xw(e,n);else if(n=jw(t,e,n,r),n!==null){var i=rn();tr(n,t,r,i),Zw(n,e,r)}}function tk(t,e,n){var r=Ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yw(t))Xw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,rr(a,o)){var l=e.interleaved;l===null?(i.next=i,xp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=jw(t,e,i,r),n!==null&&(i=rn(),tr(n,t,r,i),Zw(n,e,r))}}function Yw(t){var e=t.alternate;return t===ct||e!==null&&e===ct}function Xw(t,e){ja=zu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ip(t,n)}}var $u={readContext:Ln,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},nk={readContext:Ln,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:Ln,useEffect:km,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4194308,4,Vw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ic(4,2,t,e)},useMemo:function(t,e){var n=mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ek.bind(null,ct,t),[r.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:Sm,useDebugValue:Tp,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=Sm(!1),e=t[0];return t=JS.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ct,i=mr();if(rt){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=e(),Ot===null)throw Error(pe(349));ks&30||Mw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,km(Iw.bind(null,r,s,t),[t]),r.flags|=2048,ol(9,Fw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=mr(),e=Ot.identifierPrefix;if(rt){var n=Vr,r=Dr;n=(r&~(1<<32-er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=il++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rk={readContext:Ln,useCallback:Ww,useContext:Ln,useEffect:Np,useImperativeHandle:Hw,useInsertionEffect:$w,useLayoutEffect:Dw,useMemo:qw,useReducer:vf,useRef:zw,useState:function(){return vf(sl)},useDebugValue:Tp,useDeferredValue:function(t){var e=zn();return Gw(e,_t.memoizedState,t)},useTransition:function(){var t=vf(sl)[0],e=zn().memoizedState;return[t,e]},useMutableSource:Pw,useSyncExternalStore:Ow,useId:Kw,unstable_isNewReconciler:!1},ik={readContext:Ln,useCallback:Ww,useContext:Ln,useEffect:Np,useImperativeHandle:Hw,useInsertionEffect:$w,useLayoutEffect:Dw,useMemo:qw,useReducer:_f,useRef:zw,useState:function(){return _f(sl)},useDebugValue:Tp,useDeferredValue:function(t){var e=zn();return _t===null?e.memoizedState=t:Gw(e,_t.memoizedState,t)},useTransition:function(){var t=_f(sl)[0],e=zn().memoizedState;return[t,e]},useMutableSource:Pw,useSyncExternalStore:Ow,useId:Kw,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kd={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Ui(t),s=Gr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fi(t,s,i),e!==null&&(tr(e,t,i,r),Mc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Ui(t),s=Gr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fi(t,s,i),e!==null&&(tr(e,t,i,r),Mc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=Ui(t),i=Gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fi(t,i,r),e!==null&&(tr(e,t,r,n),Mc(e,t,r))}};function Nm(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Qa(n,r)||!Qa(i,s):!0}function Qw(t,e,n){var r=!1,i=qi,s=e.contextType;return typeof s=="object"&&s!==null?s=Ln(s):(i=yn(e)?Es:Gt.current,r=e.contextTypes,s=(r=r!=null)?ko(t,i):qi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Tm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kd.enqueueReplaceState(e,e.state,null)}function Wh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ln(s):(s=yn(e)?Es:Gt.current,i.context=ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kd.enqueueReplaceState(i,i.state,null),Uu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Co(t,e){try{var n="",r=e;do n+=RE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ef(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sk=typeof WeakMap=="function"?WeakMap:Map;function Jw(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vu||(Vu=!0,n0=r),qh(t,e)},n}function e1(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qh(t,e),typeof r!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Am(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bk.bind(null,t,e,n),e.then(t,t))}function Cm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var ok=ri.ReactCurrentOwner,pn=!1;function tn(t,e,n,r){e.child=t===null?Cw(e,null,n,r):To(e,t.child,n,r)}function Bm(t,e,n,r,i){n=n.render;var s=e.ref;return wo(e,i),r=Sp(t,e,n,r,s,i),n=kp(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ei(t,e,i)):(rt&&n&&fp(e),e.flags|=1,tn(t,e,r,i),e.child)}function Rm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Mp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,t1(t,e,s,r,i)):(t=$c(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qa,n(o,r)&&t.ref===e.ref)return ei(t,e,i)}return e.flags|=1,t=Li(s,r),t.ref=e.ref,t.return=e,e.child=t}function t1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Qa(s,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,ei(t,e,i)}return Gh(t,e,n,r,i)}function n1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(uo,vn),vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(uo,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(uo,vn),vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,et(uo,vn),vn|=r;return tn(t,e,i,n),e.child}function r1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gh(t,e,n,r,i){var s=yn(n)?Es:Gt.current;return s=ko(e,s),wo(e,i),n=Sp(t,e,n,r,s,i),r=kp(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ei(t,e,i)):(rt&&r&&fp(e),e.flags|=1,tn(t,e,n,i),e.child)}function Pm(t,e,n,r,i){if(yn(n)){var s=!0;Pu(e)}else s=!1;if(wo(e,i),e.stateNode===null)Uc(t,e),Qw(e,n,r),Wh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ln(c):(c=yn(n)?Es:Gt.current,c=ko(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Tm(e,o,r,c),gi=!1;var h=e.memoizedState;o.state=h,Uu(e,r,o,i),l=e.memoizedState,a!==r||h!==l||mn.current||gi?(typeof u=="function"&&(Hh(e,n,u,r),l=e.memoizedState),(a=gi||Nm(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Bw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gn(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ln(l):(l=yn(n)?Es:Gt.current,l=ko(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Tm(e,o,r,l),gi=!1,h=e.memoizedState,o.state=h,Uu(e,r,o,i);var p=e.memoizedState;a!==f||h!==p||mn.current||gi?(typeof g=="function"&&(Hh(e,n,g,r),p=e.memoizedState),(c=gi||Nm(e,n,c,r,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Kh(t,e,n,r,s,i)}function Kh(t,e,n,r,i,s){r1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xm(e,n,!1),ei(t,e,s);r=e.stateNode,ok.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=To(e,t.child,null,s),e.child=To(e,null,a,s)):tn(t,e,a,s),e.memoizedState=r.state,i&&xm(e,n,!0),e.child}function i1(t){var e=t.stateNode;e.pendingContext?ym(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ym(t,e.context,!1),wp(t,e.containerInfo)}function Om(t,e,n,r,i){return No(),pp(i),e.flags|=256,tn(t,e,n,r),e.child}var Yh={dehydrated:null,treeContext:null,retryLane:0};function Xh(t){return{baseLanes:t,cachePool:null,transitions:null}}function s1(t,e,n){var r=e.pendingProps,i=at.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(at,i&1),t===null)return Dh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ad(o,r,0,null),t=bs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xh(n),e.memoizedState=Yh,t):Ap(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ak(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Li(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Li(a,s):(s=bs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Yh,r}return s=t.child,t=s.sibling,r=Li(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ap(t,e){return e=Ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jl(t,e,n,r){return r!==null&&pp(r),To(e,t.child,null,n),t=Ap(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ak(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ef(Error(pe(422))),Jl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ad({mode:"visible",children:r.children},i,0,null),s=bs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&To(e,t.child,null,o),e.child.memoizedState=Xh(o),e.memoizedState=Yh,s);if(!(e.mode&1))return Jl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(pe(419)),r=Ef(s,r,void 0),Jl(t,e,o,r)}if(a=(o&t.childLanes)!==0,pn||a){if(r=Ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Jr(t,i),tr(r,t,i,-1))}return Op(),r=Ef(Error(pe(421))),Jl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,En=Mi(i.nextSibling),Sn=e,rt=!0,Zn=null,t!==null&&(Pn[On++]=Dr,Pn[On++]=Vr,Pn[On++]=Ss,Dr=t.id,Vr=t.overflow,Ss=e),e=Ap(e,r.children),e.flags|=4096,e)}function Mm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vh(t.return,e,n)}function Sf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function o1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tn(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mm(t,n,e);else if(t.tag===19)Mm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(at,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sf(e,!0,n,null,s);break;case"together":Sf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,n=Li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lk(t,e,n){switch(e.tag){case 3:i1(e),No();break;case 5:Rw(e);break;case 1:yn(e.type)&&Pu(e);break;case 4:wp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(Fu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?s1(t,e,n):(et(at,at.current&1),t=ei(t,e,n),t!==null?t.sibling:null);et(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return o1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,n1(t,e,n)}return ei(t,e,n)}var a1,Zh,l1,c1;a1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zh=function(){};l1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ms(Nr.current);var s=null;switch(n){case"input":i=bh(t,i),r=bh(t,r),s=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),s=[];break;case"textarea":i=_h(t,i),r=_h(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bu)}Sh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};c1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qo(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ck(t,e,n){var r=e.pendingProps;switch(hp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return yn(e.type)&&Ru(),$t(e),null;case 3:return r=e.stateNode,Ao(),nt(mn),nt(Gt),_p(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zn!==null&&(s0(Zn),Zn=null))),Zh(t,e),$t(e),null;case 5:vp(e);var i=ms(rl.current);if(n=e.type,t!==null&&e.stateNode!=null)l1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return $t(e),null}if(t=ms(Nr.current),Zl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[wr]=e,r[tl]=s,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(i=0;i<da.length;i++)tt(da[i],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":Hg(r,s),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tt("invalid",r);break;case"textarea":qg(r,s),tt("invalid",r)}Sh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xl(r.textContent,a,t),i=["children",""+a]):Wa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tt("scroll",r)}switch(n){case"input":Dl(r),Wg(r,s,!0);break;case"textarea":Dl(r),Gg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ib(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wr]=e,t[tl]=r,a1(t,e,!1,!1),e.stateNode=t;e:{switch(o=kh(n,r),n){case"dialog":tt("cancel",t),tt("close",t),i=r;break;case"iframe":case"object":case"embed":tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<da.length;i++)tt(da[i],t);i=r;break;case"source":tt("error",t),i=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),i=r;break;case"details":tt("toggle",t),i=r;break;case"input":Hg(t,r),i=bh(t,r),tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),tt("invalid",t);break;case"textarea":qg(t,r),i=_h(t,r),tt("invalid",t);break;default:i=r}Sh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ub(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qa(t,l):typeof l=="number"&&qa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tt("scroll",t):l!=null&&Q0(t,s,l,o))}switch(n){case"input":Dl(t),Wg(t,r,!1);break;case"textarea":Dl(t),Gg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?mo(t,!!r.multiple,s,!1):r.defaultValue!=null&&mo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)c1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(n=ms(rl.current),ms(Nr.current),Zl(e)){if(r=e.stateNode,n=e.memoizedProps,r[wr]=e,(s=r.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:Xl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=e,e.stateNode=r}return $t(e),null;case 13:if(nt(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&En!==null&&e.mode&1&&!(e.flags&128))Tw(),No(),e.flags|=98560,s=!1;else if(s=Zl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[wr]=e}else No(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),s=!1}else Zn!==null&&(s0(Zn),Zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?St===0&&(St=3):Op())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return Ao(),Zh(t,e),t===null&&Ja(e.stateNode.containerInfo),$t(e),null;case 10:return yp(e.type._context),$t(e),null;case 17:return yn(e.type)&&Ru(),$t(e),null;case 19:if(nt(at),s=e.memoizedState,s===null)return $t(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qo(s,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lu(t),o!==null){for(e.flags|=128,Qo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(at,at.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>jo&&(e.flags|=128,r=!0,Qo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rt)return $t(e),null}else 2*mt()-s.renderingStartTime>jo&&n!==1073741824&&(e.flags|=128,r=!0,Qo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,n=at.current,et(at,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Pp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function uk(t,e){switch(hp(e),e.tag){case 1:return yn(e.type)&&Ru(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ao(),nt(mn),nt(Gt),_p(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vp(e),null;case 13:if(nt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));No()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(at),null;case 4:return Ao(),null;case 10:return yp(e.type._context),null;case 22:case 23:return Pp(),null;case 24:return null;default:return null}}var ec=!1,Wt=!1,dk=typeof WeakSet=="function"?WeakSet:Set,we=null;function co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function Qh(t,e,n){try{n()}catch(r){dt(t,e,r)}}var Fm=!1;function fk(t,e){if(Mh=Au,t=pw(),dp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fh={focusedElem:t,selectionRange:n},Au=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,E=p.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:Gn(e.type,v),E);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(R){dt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return p=Fm,Fm=!1,p}function Ba(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qh(e,n,s)}i=i.next}while(i!==r)}}function Nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function u1(t){var e=t.alternate;e!==null&&(t.alternate=null,u1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[tl],delete e[Lh],delete e[KS],delete e[YS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d1(t){return t.tag===5||t.tag===3||t.tag===4}function Im(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function e0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bu));else if(r!==4&&(t=t.child,t!==null))for(e0(t,e,n),t=t.sibling;t!==null;)e0(t,e,n),t=t.sibling}function t0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(t0(t,e,n),t=t.sibling;t!==null;)t0(t,e,n),t=t.sibling}var Mt=null,Yn=!1;function si(t,e,n){for(n=n.child;n!==null;)f1(t,e,n),n=n.sibling}function f1(t,e,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(xd,n)}catch{}switch(n.tag){case 5:Wt||co(n,e);case 6:var r=Mt,i=Yn;Mt=null,si(t,e,n),Mt=r,Yn=i,Mt!==null&&(Yn?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(Yn?(t=Mt,n=n.stateNode,t.nodeType===8?yf(t.parentNode,n):t.nodeType===1&&yf(t,n),Xa(t)):yf(Mt,n.stateNode));break;case 4:r=Mt,i=Yn,Mt=n.stateNode.containerInfo,Yn=!0,si(t,e,n),Mt=r,Yn=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qh(n,e,o),i=i.next}while(i!==r)}si(t,e,n);break;case 1:if(!Wt&&(co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}si(t,e,n);break;case 21:si(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,si(t,e,n),Wt=r):si(t,e,n);break;default:si(t,e,n)}}function Um(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dk),e.forEach(function(r){var i=vk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mt=a.stateNode,Yn=!1;break e;case 3:Mt=a.stateNode.containerInfo,Yn=!0;break e;case 4:Mt=a.stateNode.containerInfo,Yn=!0;break e}a=a.return}if(Mt===null)throw Error(pe(160));f1(s,o,i),Mt=null,Yn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){dt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)h1(e,t),e=e.sibling}function h1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),lr(t),r&4){try{Ba(3,t,t.return),Nd(3,t)}catch(v){dt(t,t.return,v)}try{Ba(5,t,t.return)}catch(v){dt(t,t.return,v)}}break;case 1:Dn(e,t),lr(t),r&512&&n!==null&&co(n,n.return);break;case 5:if(Dn(e,t),lr(t),r&512&&n!==null&&co(n,n.return),t.flags&32){var i=t.stateNode;try{qa(i,"")}catch(v){dt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Mb(i,s),kh(a,o);var c=kh(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?zb(i,f):u==="dangerouslySetInnerHTML"?Ub(i,f):u==="children"?qa(i,f):Q0(i,u,f,c)}switch(a){case"input":wh(i,s);break;case"textarea":Fb(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?mo(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?mo(i,!!s.multiple,s.defaultValue,!0):mo(i,!!s.multiple,s.multiple?[]:"",!1))}i[tl]=s}catch(v){dt(t,t.return,v)}}break;case 6:if(Dn(e,t),lr(t),r&4){if(t.stateNode===null)throw Error(pe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){dt(t,t.return,v)}}break;case 3:if(Dn(e,t),lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xa(e.containerInfo)}catch(v){dt(t,t.return,v)}break;case 4:Dn(e,t),lr(t);break;case 13:Dn(e,t),lr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bp=mt())),r&4&&Um(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(c=Wt)||u,Dn(e,t),Wt=c):Dn(e,t),lr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(we=t,u=t.child;u!==null;){for(f=we=u;we!==null;){switch(h=we,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ba(4,h,h.return);break;case 1:co(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){dt(r,n,v)}}break;case 5:co(h,h.return);break;case 22:if(h.memoizedState!==null){zm(f);continue}}g!==null?(g.return=h,we=g):zm(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Lb("display",o))}catch(v){dt(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){dt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dn(e,t),lr(t),r&4&&Um(t);break;case 21:break;default:Dn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(d1(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qa(i,""),r.flags&=-33);var s=Im(t);t0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Im(t);e0(t,a,o);break;default:throw Error(pe(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hk(t,e,n){we=t,p1(t)}function p1(t,e,n){for(var r=(t.mode&1)!==0;we!==null;){var i=we,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ec;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=ec;var c=Wt;if(ec=o,(Wt=l)&&!c)for(we=i;we!==null;)o=we,l=o.child,o.tag===22&&o.memoizedState!==null?$m(i):l!==null?(l.return=o,we=l):$m(i);for(;s!==null;)we=s,p1(s),s=s.sibling;we=i,ec=a,Wt=c}Lm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,we=s):Lm(t)}}function Lm(t){for(;we!==null;){var e=we;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Em(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Em(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Xa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Wt||e.flags&512&&Jh(e)}catch(h){dt(e,e.return,h)}}if(e===t){we=null;break}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}}function zm(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var n=e.sibling;if(n!==null){n.return=e.return,we=n;break}we=e.return}}function $m(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nd(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dt(e,i,l)}}var s=e.return;try{Jh(e)}catch(l){dt(e,s,l)}break;case 5:var o=e.return;try{Jh(e)}catch(l){dt(e,o,l)}}}catch(l){dt(e,e.return,l)}if(e===t){we=null;break}var a=e.sibling;if(a!==null){a.return=e.return,we=a;break}we=e.return}}var pk=Math.ceil,Du=ri.ReactCurrentDispatcher,Cp=ri.ReactCurrentOwner,Un=ri.ReactCurrentBatchConfig,$e=0,Ot=null,vt=null,It=0,vn=0,uo=Zi(0),St=0,al=null,Ns=0,Td=0,jp=0,Ra=null,un=null,Bp=0,jo=1/0,Mr=null,Vu=!1,n0=null,Ii=null,tc=!1,Ti=null,Hu=0,Pa=0,r0=null,Lc=-1,zc=0;function rn(){return $e&6?mt():Lc!==-1?Lc:Lc=mt()}function Ui(t){return t.mode&1?$e&2&&It!==0?It&-It:ZS.transition!==null?(zc===0&&(zc=Qb()),zc):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:sw(t.type)),t):1}function tr(t,e,n,r){if(50<Pa)throw Pa=0,r0=null,Error(pe(185));El(t,n,r),(!($e&2)||t!==Ot)&&(t===Ot&&(!($e&2)&&(Td|=n),St===4&&_i(t,It)),xn(t,r),n===1&&$e===0&&!(e.mode&1)&&(jo=mt()+500,Ed&&Qi()))}function xn(t,e){var n=t.callbackNode;ZE(t,e);var r=Tu(t,t===Ot?It:0);if(r===0)n!==null&&Xg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xg(n),e===1)t.tag===0?XS(Dm.bind(null,t)):Sw(Dm.bind(null,t)),qS(function(){!($e&6)&&Qi()}),n=null;else{switch(Jb(r)){case 1:n=rp;break;case 4:n=Xb;break;case 16:n=Nu;break;case 536870912:n=Zb;break;default:n=Nu}n=_1(n,g1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function g1(t,e){if(Lc=-1,zc=0,$e&6)throw Error(pe(327));var n=t.callbackNode;if(vo()&&t.callbackNode!==n)return null;var r=Tu(t,t===Ot?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wu(t,r);else{e=r;var i=$e;$e|=2;var s=y1();(Ot!==t||It!==e)&&(Mr=null,jo=mt()+500,xs(t,e));do try{yk();break}catch(a){m1(t,a)}while(!0);mp(),Du.current=s,$e=i,vt!==null?e=0:(Ot=null,It=0,e=St)}if(e!==0){if(e===2&&(i=jh(t),i!==0&&(r=i,e=i0(t,i))),e===1)throw n=al,xs(t,0),_i(t,r),xn(t,mt()),n;if(e===6)_i(t,r);else{if(i=t.current.alternate,!(r&30)&&!gk(i)&&(e=Wu(t,r),e===2&&(s=jh(t),s!==0&&(r=s,e=i0(t,s))),e===1))throw n=al,xs(t,0),_i(t,r),xn(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:os(t,un,Mr);break;case 3:if(_i(t,r),(r&130023424)===r&&(e=Bp+500-mt(),10<e)){if(Tu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Uh(os.bind(null,t,un,Mr),e);break}os(t,un,Mr);break;case 4:if(_i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-er(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pk(r/1960))-r,10<r){t.timeoutHandle=Uh(os.bind(null,t,un,Mr),r);break}os(t,un,Mr);break;case 5:os(t,un,Mr);break;default:throw Error(pe(329))}}}return xn(t,mt()),t.callbackNode===n?g1.bind(null,t):null}function i0(t,e){var n=Ra;return t.current.memoizedState.isDehydrated&&(xs(t,e).flags|=256),t=Wu(t,e),t!==2&&(e=un,un=n,e!==null&&s0(e)),t}function s0(t){un===null?un=t:un.push.apply(un,t)}function gk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!rr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _i(t,e){for(e&=~jp,e&=~Td,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-er(e),r=1<<n;t[n]=-1,e&=~r}}function Dm(t){if($e&6)throw Error(pe(327));vo();var e=Tu(t,0);if(!(e&1))return xn(t,mt()),null;var n=Wu(t,e);if(t.tag!==0&&n===2){var r=jh(t);r!==0&&(e=r,n=i0(t,r))}if(n===1)throw n=al,xs(t,0),_i(t,e),xn(t,mt()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,un,Mr),xn(t,mt()),null}function Rp(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(jo=mt()+500,Ed&&Qi())}}function Ts(t){Ti!==null&&Ti.tag===0&&!($e&6)&&vo();var e=$e;$e|=1;var n=Un.transition,r=Ke;try{if(Un.transition=null,Ke=1,t)return t()}finally{Ke=r,Un.transition=n,$e=e,!($e&6)&&Qi()}}function Pp(){vn=uo.current,nt(uo)}function xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WS(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(hp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ru();break;case 3:Ao(),nt(mn),nt(Gt),_p();break;case 5:vp(r);break;case 4:Ao();break;case 13:nt(at);break;case 19:nt(at);break;case 10:yp(r.type._context);break;case 22:case 23:Pp()}n=n.return}if(Ot=t,vt=t=Li(t.current,null),It=vn=e,St=0,al=null,jp=Td=Ns=0,un=Ra=null,gs!==null){for(e=0;e<gs.length;e++)if(n=gs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}gs=null}return t}function m1(t,e){do{var n=vt;try{if(mp(),Fc.current=$u,zu){for(var r=ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zu=!1}if(ks=0,Rt=_t=ct=null,ja=!1,il=0,Cp.current=null,n===null||n.return===null){St=1,al=e,vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Cm(o);if(g!==null){g.flags&=-257,jm(g,o,a,s,e),g.mode&1&&Am(s,c,e),e=g,l=c;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){Am(s,c,e),Op();break e}l=Error(pe(426))}}else if(rt&&a.mode&1){var E=Cm(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),jm(E,o,a,s,e),pp(Co(l,a));break e}}s=l=Co(l,a),St!==4&&(St=2),Ra===null?Ra=[s]:Ra.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=Jw(s,l,e);_m(s,b);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ii===null||!Ii.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=e1(s,a,e);_m(s,R);break e}}s=s.return}while(s!==null)}b1(n)}catch(k){e=k,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function y1(){var t=Du.current;return Du.current=$u,t===null?$u:t}function Op(){(St===0||St===3||St===2)&&(St=4),Ot===null||!(Ns&268435455)&&!(Td&268435455)||_i(Ot,It)}function Wu(t,e){var n=$e;$e|=2;var r=y1();(Ot!==t||It!==e)&&(Mr=null,xs(t,e));do try{mk();break}catch(i){m1(t,i)}while(!0);if(mp(),$e=n,Du.current=r,vt!==null)throw Error(pe(261));return Ot=null,It=0,St}function mk(){for(;vt!==null;)x1(vt)}function yk(){for(;vt!==null&&!DE();)x1(vt)}function x1(t){var e=v1(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?b1(t):vt=e,Cp.current=null}function b1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uk(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,vt=null;return}}else if(n=ck(n,e,vn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);St===0&&(St=5)}function os(t,e,n){var r=Ke,i=Un.transition;try{Un.transition=null,Ke=1,xk(t,e,n,r)}finally{Un.transition=i,Ke=r}return null}function xk(t,e,n,r){do vo();while(Ti!==null);if($e&6)throw Error(pe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(QE(t,s),t===Ot&&(vt=Ot=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tc||(tc=!0,_1(Nu,function(){return vo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Un.transition,Un.transition=null;var o=Ke;Ke=1;var a=$e;$e|=4,Cp.current=null,fk(t,n),h1(n,t),US(Fh),Au=!!Mh,Fh=Mh=null,t.current=n,hk(n),VE(),$e=a,Ke=o,Un.transition=s}else t.current=n;if(tc&&(tc=!1,Ti=t,Hu=i),s=t.pendingLanes,s===0&&(Ii=null),qE(n.stateNode),xn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vu)throw Vu=!1,t=n0,n0=null,t;return Hu&1&&t.tag!==0&&vo(),s=t.pendingLanes,s&1?t===r0?Pa++:(Pa=0,r0=t):Pa=0,Qi(),null}function vo(){if(Ti!==null){var t=Jb(Hu),e=Un.transition,n=Ke;try{if(Un.transition=null,Ke=16>t?16:t,Ti===null)var r=!1;else{if(t=Ti,Ti=null,Hu=0,$e&6)throw Error(pe(331));var i=$e;for($e|=4,we=t.current;we!==null;){var s=we,o=s.child;if(we.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(we=c;we!==null;){var u=we;switch(u.tag){case 0:case 11:case 15:Ba(8,u,s)}var f=u.child;if(f!==null)f.return=u,we=f;else for(;we!==null;){u=we;var h=u.sibling,g=u.return;if(u1(u),u===c){we=null;break}if(h!==null){h.return=g,we=h;break}we=g}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}we=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,we=o;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ba(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,we=b;break e}we=s.return}}var _=t.current;for(we=_;we!==null;){o=we;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,we=S;else e:for(o=_;we!==null;){if(a=we,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nd(9,a)}}catch(k){dt(a,a.return,k)}if(a===o){we=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,we=R;break e}we=a.return}}if($e=i,Qi(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(xd,t)}catch{}r=!0}return r}finally{Ke=n,Un.transition=e}}return!1}function Vm(t,e,n){e=Co(n,e),e=Jw(t,e,1),t=Fi(t,e,1),e=rn(),t!==null&&(El(t,1,e),xn(t,e))}function dt(t,e,n){if(t.tag===3)Vm(t,t,n);else for(;e!==null;){if(e.tag===3){Vm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ii===null||!Ii.has(r))){t=Co(n,t),t=e1(e,t,1),e=Fi(e,t,1),t=rn(),e!==null&&(El(e,1,t),xn(e,t));break}}e=e.return}}function bk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(It&n)===n&&(St===4||St===3&&(It&130023424)===It&&500>mt()-Bp?xs(t,0):jp|=n),xn(t,e)}function w1(t,e){e===0&&(t.mode&1?(e=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):e=1);var n=rn();t=Jr(t,e),t!==null&&(El(t,e,n),xn(t,n))}function wk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),w1(t,n)}function vk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),w1(t,n)}var v1;v1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,lk(t,e,n);pn=!!(t.flags&131072)}else pn=!1,rt&&e.flags&1048576&&kw(e,Mu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uc(t,e),t=e.pendingProps;var i=ko(e,Gt.current);wo(e,n),i=Sp(null,e,r,t,i,n);var s=kp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(s=!0,Pu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bp(e),i.updater=kd,e.stateNode=i,i._reactInternals=e,Wh(e,r,t,n),e=Kh(null,e,r,!0,s,n)):(e.tag=0,rt&&s&&fp(e),tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ek(r),t=Gn(r,t),i){case 0:e=Gh(null,e,r,t,n);break e;case 1:e=Pm(null,e,r,t,n);break e;case 11:e=Bm(null,e,r,t,n);break e;case 14:e=Rm(null,e,r,Gn(r.type,t),n);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Gh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Pm(t,e,r,i,n);case 3:e:{if(i1(e),t===null)throw Error(pe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Bw(t,e),Uu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Co(Error(pe(423)),e),e=Om(t,e,r,n,i);break e}else if(r!==i){i=Co(Error(pe(424)),e),e=Om(t,e,r,n,i);break e}else for(En=Mi(e.stateNode.containerInfo.firstChild),Sn=e,rt=!0,Zn=null,n=Cw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(No(),r===i){e=ei(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return Rw(e),t===null&&Dh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ih(r,i)?o=null:s!==null&&Ih(r,s)&&(e.flags|=32),r1(t,e),tn(t,e,o,n),e.child;case 6:return t===null&&Dh(e),null;case 13:return s1(t,e,n);case 4:return wp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Bm(t,e,r,i,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,et(Fu,r._currentValue),r._currentValue=o,s!==null)if(rr(s.value,o)){if(s.children===i.children&&!mn.current){e=ei(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Gr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Vh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(pe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wo(e,n),i=Ln(i),r=r(i),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,i=Gn(r,e.pendingProps),i=Gn(r.type,i),Rm(t,e,r,i,n);case 15:return t1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Uc(t,e),e.tag=1,yn(r)?(t=!0,Pu(e)):t=!1,wo(e,n),Qw(e,r,i),Wh(e,r,i,n),Kh(null,e,r,!0,t,n);case 19:return o1(t,e,n);case 22:return n1(t,e,n)}throw Error(pe(156,e.tag))};function _1(t,e){return Yb(t,e)}function _k(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new _k(t,e,n,r)}function Mp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ek(t){if(typeof t=="function")return Mp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ep)return 11;if(t===tp)return 14}return 2}function Li(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $c(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Mp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case eo:return bs(n.children,i,s,e);case J0:o=8,i|=8;break;case gh:return t=Fn(12,n,e,i|2),t.elementType=gh,t.lanes=s,t;case mh:return t=Fn(13,n,e,i),t.elementType=mh,t.lanes=s,t;case yh:return t=Fn(19,n,e,i),t.elementType=yh,t.lanes=s,t;case Rb:return Ad(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jb:o=10;break e;case Bb:o=9;break e;case ep:o=11;break e;case tp:o=14;break e;case pi:o=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=Fn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function bs(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function Ad(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=Rb,t.lanes=n,t.stateNode={isHidden:!1},t}function kf(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function Nf(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=of(0),this.expirationTimes=of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fp(t,e,n,r,i,s,o,a,l){return t=new Sk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bp(s),t}function kk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function E1(t){if(!t)return qi;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(yn(n))return Ew(t,n,e)}return e}function S1(t,e,n,r,i,s,o,a,l){return t=Fp(n,r,!0,t,i,s,o,a,l),t.context=E1(null),n=t.current,r=rn(),i=Ui(n),s=Gr(r,i),s.callback=e??null,Fi(n,s,i),t.current.lanes=i,El(t,i,r),xn(t,r),t}function Cd(t,e,n,r){var i=e.current,s=rn(),o=Ui(i);return n=E1(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fi(i,e,o),t!==null&&(tr(t,i,o,s),Mc(t,i,o)),o}function qu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ip(t,e){Hm(t,e),(t=t.alternate)&&Hm(t,e)}var k1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Up(t){this._internalRoot=t}jd.prototype.render=Up.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));Cd(t,e,null,null)};jd.prototype.unmount=Up.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ts(function(){Cd(null,t,null,null)}),e[Qr]=null}};function jd(t){this._internalRoot=t}jd.prototype.unstable_scheduleHydration=function(t){if(t){var e=nw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vi.length&&e!==0&&e<vi[n].priority;n++);vi.splice(n,0,t),n===0&&iw(t)}};function Lp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wm(){}function Nk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=qu(o);s.call(c)}}var o=S1(e,r,t,0,null,!1,!1,"",Wm);return t._reactRootContainer=o,t[Qr]=o.current,Ja(t.nodeType===8?t.parentNode:t),Ts(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=qu(l);a.call(c)}}var l=Fp(t,0,!1,null,null,!1,!1,"",Wm);return t._reactRootContainer=l,t[Qr]=l.current,Ja(t.nodeType===8?t.parentNode:t),Ts(function(){Cd(e,l,n,r)}),l}function Rd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=qu(o);a.call(l)}}Cd(e,o,t,i)}else o=Nk(n,e,t,i,r);return qu(o)}ew=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ua(e.pendingLanes);n!==0&&(ip(e,n|1),xn(e,mt()),!($e&6)&&(jo=mt()+500,Qi()))}break;case 13:Ts(function(){var r=Jr(t,1);if(r!==null){var i=rn();tr(r,t,1,i)}}),Ip(t,1)}};sp=function(t){if(t.tag===13){var e=Jr(t,134217728);if(e!==null){var n=rn();tr(e,t,134217728,n)}Ip(t,134217728)}};tw=function(t){if(t.tag===13){var e=Ui(t),n=Jr(t,e);if(n!==null){var r=rn();tr(n,t,e,r)}Ip(t,e)}};nw=function(){return Ke};rw=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};Th=function(t,e,n){switch(e){case"input":if(wh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_d(r);if(!i)throw Error(pe(90));Ob(r),wh(r,i)}}}break;case"textarea":Fb(t,n);break;case"select":e=n.value,e!=null&&mo(t,!!n.multiple,e,!1)}};Vb=Rp;Hb=Ts;var Tk={usingClientEntryPoint:!1,Events:[kl,io,_d,$b,Db,Rp]},Jo={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ak={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gb(t),t===null?null:t.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{xd=nc.inject(Ak),kr=nc}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tk;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lp(e))throw Error(pe(200));return kk(t,e,null,n)};Nn.createRoot=function(t,e){if(!Lp(t))throw Error(pe(299));var n=!1,r="",i=k1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fp(t,1,!1,null,null,n,!1,r,i),t[Qr]=e.current,Ja(t.nodeType===8?t.parentNode:t),new Up(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=Gb(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Ts(t)};Nn.hydrate=function(t,e,n){if(!Bd(e))throw Error(pe(200));return Rd(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!Lp(t))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=k1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=S1(e,null,t,1,n??null,i,!1,s,o),t[Qr]=e.current,Ja(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jd(e)};Nn.render=function(t,e,n){if(!Bd(e))throw Error(pe(200));return Rd(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!Bd(t))throw Error(pe(40));return t._reactRootContainer?(Ts(function(){Rd(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};Nn.unstable_batchedUpdates=Rp;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bd(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return Rd(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function N1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N1)}catch(t){console.error(t)}}N1(),Nb.exports=Nn;var Ck=Nb.exports,qm=Ck;hh.createRoot=qm.createRoot,hh.hydrateRoot=qm.hydrateRoot;/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gm="popstate";function jk(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return o0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ll(i)}return Rk(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ir(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bk(){return Math.random().toString(36).substring(2,10)}function Km(t,e){return{usr:t.state,key:t.key,idx:e}}function o0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lo(e):e,state:n,key:e&&e.key||r||Bk()}}function ll({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Rk(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function f(){a="POP";let E=u(),b=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:b})}function h(E,b){a="PUSH";let _=o0(v.location,E,b);c=u()+1;let S=Km(_,c),R=v.createHref(_);try{o.pushState(S,"",R)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(R)}s&&l&&l({action:a,location:v.location,delta:1})}function g(E,b){a="REPLACE";let _=o0(v.location,E,b);c=u();let S=Km(_,c),R=v.createHref(_);o.replaceState(S,"",R),s&&l&&l({action:a,location:v.location,delta:0})}function p(E){return Pk(E)}let v={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Gm,f),l=E,()=>{i.removeEventListener(Gm,f),l=null}},createHref(E){return e(i,E)},createURL:p,encodeLocation(E){let b=p(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:g,go(E){return o.go(E)}};return v}function Pk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ll(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function T1(t,e,n="/"){return Ok(t,e,n,!1)}function Ok(t,e,n,r){let i=typeof e=="string"?Lo(e):e,s=ti(i.pathname||"/",n);if(s==null)return null;let o=A1(t);Mk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=qk(s);a=Hk(o[l],c,r)}return a}function A1(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Kr([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ot(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),A1(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Dk(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of C1(s.path))i(s,o,l)}),e}function C1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=C1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Mk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Vk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Fk=/^:[\w-]+$/,Ik=3,Uk=2,Lk=1,zk=10,$k=-2,Ym=t=>t==="*";function Dk(t,e){let n=t.split("/"),r=n.length;return n.some(Ym)&&(r+=$k),e&&(r+=Uk),n.filter(i=>!Ym(i)).reduce((i,s)=>i+(Fk.test(s)?Ik:s===""?Lk:zk),r)}function Vk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Hk(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=Gu({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Gu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Kr([s,f.pathname]),pathnameBase:Xk(Kr([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Kr([s,f.pathnameBase]))}return o}function Gu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Wk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=a[h];return f&&!g?c[u]=void 0:c[u]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Wk(t,e=!1,n=!0){ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ir(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Gk(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lo(t):t;return{pathname:n?n.startsWith("/")?n:Kk(n,e):e,search:Zk(r),hash:Qk(i)}}function Kk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zp(t){let e=Yk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $p(t,e,n,r=!1){let i;typeof t=="string"?i=Lo(t):(i={...t},ot(!i.pathname||!i.pathname.includes("?"),Tf("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),Tf("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),Tf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=Gk(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Kr=t=>t.join("/").replace(/\/\/+/g,"/"),Xk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Zk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Jk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var j1=["POST","PUT","PATCH","DELETE"];new Set(j1);var eN=["GET",...j1];new Set(eN);var zo=D.createContext(null);zo.displayName="DataRouter";var Pd=D.createContext(null);Pd.displayName="DataRouterState";D.createContext(!1);var B1=D.createContext({isTransitioning:!1});B1.displayName="ViewTransition";var tN=D.createContext(new Map);tN.displayName="Fetchers";var nN=D.createContext(null);nN.displayName="Await";var ar=D.createContext(null);ar.displayName="Navigation";var Tl=D.createContext(null);Tl.displayName="Location";var Cr=D.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var Dp=D.createContext(null);Dp.displayName="RouteError";function rN(t,{relative:e}={}){ot($o(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(ar),{hash:i,pathname:s,search:o}=Al(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Kr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function $o(){return D.useContext(Tl)!=null}function ii(){return ot($o(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Tl).location}var R1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P1(t){D.useContext(ar).static||D.useLayoutEffect(t)}function Vp(){let{isDataRoute:t}=D.useContext(Cr);return t?mN():iN()}function iN(){ot($o(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(zo),{basename:e,navigator:n}=D.useContext(ar),{matches:r}=D.useContext(Cr),{pathname:i}=ii(),s=JSON.stringify(zp(r)),o=D.useRef(!1);return P1(()=>{o.current=!0}),D.useCallback((l,c={})=>{if(ir(o.current,R1),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=$p(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Kr([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}D.createContext(null);function Al(t,{relative:e}={}){let{matches:n}=D.useContext(Cr),{pathname:r}=ii(),i=JSON.stringify(zp(n));return D.useMemo(()=>$p(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function sN(t,e){return O1(t,e)}function O1(t,e,n,r){var b;ot($o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=D.useContext(ar),{matches:s}=D.useContext(Cr),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",u=o&&o.route;{let _=u&&u.path||"";M1(l,!u||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let f=ii(),h;if(e){let _=typeof e=="string"?Lo(e):e;ot(c==="/"||((b=_.pathname)==null?void 0:b.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${_.pathname}" was given in the \`location\` prop.`),h=_}else h=f;let g=h.pathname||"/",p=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=T1(t,{pathname:p});ir(u||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),ir(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=uN(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Kr([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Kr([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&E?D.createElement(Tl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},E):E}function oN(){let t=gN(),e=Jk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,o)}var aN=D.createElement(oN,null),lN=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?D.createElement(Cr.Provider,{value:this.props.routeContext},D.createElement(Dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cN({routeContext:t,match:e,children:n}){let r=D.useContext(zo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Cr.Provider,{value:t},n)}function uN(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);ot(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:f}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let f,h=!1,g=null,p=null;n&&(f=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||aN,o&&(a<0&&u===0?(M1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):a===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,u+1)),E=()=>{let b;return f?b=g:h?b=p:c.route.Component?b=D.createElement(c.route.Component,null):c.route.element?b=c.route.element:b=l,D.createElement(cN,{match:c,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:b})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?D.createElement(lN,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:E(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):E()},null)}function Hp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dN(t){let e=D.useContext(zo);return ot(e,Hp(t)),e}function fN(t){let e=D.useContext(Pd);return ot(e,Hp(t)),e}function hN(t){let e=D.useContext(Cr);return ot(e,Hp(t)),e}function Wp(t){let e=hN(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pN(){return Wp("useRouteId")}function gN(){var r;let t=D.useContext(Dp),e=fN("useRouteError"),n=Wp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function mN(){let{router:t}=dN("useNavigate"),e=Wp("useNavigate"),n=D.useRef(!1);return P1(()=>{n.current=!0}),D.useCallback(async(i,s={})=>{ir(n.current,R1),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Xm={};function M1(t,e,n){!e&&!Xm[t]&&(Xm[t]=!0,ir(!1,n))}D.memo(yN);function yN({routes:t,future:e,state:n}){return O1(t,void 0,n,e)}function An({to:t,replace:e,state:n,relative:r}){ot($o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=D.useContext(ar);ir(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=D.useContext(Cr),{pathname:o}=ii(),a=Vp(),l=$p(t,zp(s),o,r==="path"),c=JSON.stringify(l);return D.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function Jt(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){ot(!$o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Lo(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,g=D.useMemo(()=>{let p=ti(l,o);return p==null?null:{location:{pathname:p,search:c,hash:u,state:f,key:h},navigationType:r}},[o,l,c,u,f,h,r]);return ir(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:D.createElement(ar.Provider,{value:a},D.createElement(Tl.Provider,{children:e,value:g}))}function F1({children:t,location:e}){return sN(a0(t),e)}function a0(t,e=[]){let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let s=[...e,i];if(r.type===D.Fragment){n.push.apply(n,a0(r.props.children,s));return}ot(r.type===Jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=a0(r.props.children,s)),n.push(o)}),n}var Dc="get",Vc="application/x-www-form-urlencoded";function Od(t){return t!=null&&typeof t.tagName=="string"}function bN(t){return Od(t)&&t.tagName.toLowerCase()==="button"}function wN(t){return Od(t)&&t.tagName.toLowerCase()==="form"}function vN(t){return Od(t)&&t.tagName.toLowerCase()==="input"}function _N(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EN(t,e){return t.button===0&&(!e||e==="_self")&&!_N(t)}var rc=null;function SN(){if(rc===null)try{new FormData(document.createElement("form"),0),rc=!1}catch{rc=!0}return rc}var kN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Af(t){return t!=null&&!kN.has(t)?(ir(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):t}function NN(t,e){let n,r,i,s,o;if(wN(t)){let a=t.getAttribute("action");r=a?ti(a,e):null,n=t.getAttribute("method")||Dc,i=Af(t.getAttribute("enctype"))||Vc,s=new FormData(t)}else if(bN(t)||vN(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?ti(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Dc,i=Af(t.getAttribute("formenctype"))||Af(a.getAttribute("enctype"))||Vc,s=new FormData(a,t),!SN()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,f)}}else{if(Od(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dc,r=null,i=Vc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ti(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function AN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jN(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await AN(s,n);return o.links?o.links():[]}return[]}));return ON(r.flat(1).filter(CN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Zm(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function BN(t,e,{includeHydrateFallback:n}={}){return RN(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function RN(t){return[...new Set(t)]}function PN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ON(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(PN(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function I1(){let t=D.useContext(zo);return qp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MN(){let t=D.useContext(Pd);return qp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Gp=D.createContext(void 0);Gp.displayName="FrameworkContext";function U1(){let t=D.useContext(Gp);return qp(t,"You must render this element inside a <HydratedRouter> element"),t}function FN(t,e){let n=D.useContext(Gp),[r,i]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=D.useRef(null);D.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=b=>{b.forEach(_=>{o(_.isIntersecting)})},E=new IntersectionObserver(v,{threshold:.5});return h.current&&E.observe(h.current),()=>{E.disconnect()}}},[t]),D.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let g=()=>{i(!0)},p=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:ea(a,g),onBlur:ea(l,p),onMouseEnter:ea(c,g),onMouseLeave:ea(u,p),onTouchStart:ea(f,g)}]:[!1,h,{}]}function ea(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IN({page:t,...e}){let{router:n}=I1(),r=D.useMemo(()=>T1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?D.createElement(LN,{page:t,matches:r,...e}):null}function UN(t){let{manifest:e,routeModules:n}=U1(),[r,i]=D.useState([]);return D.useEffect(()=>{let s=!1;return jN(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function LN({page:t,matches:e,...n}){let r=ii(),{manifest:i,routeModules:s}=U1(),{basename:o}=I1(),{loaderData:a,matches:l}=MN(),c=D.useMemo(()=>Zm(t,e,l,i,r,"data"),[t,e,l,i,r]),u=D.useMemo(()=>Zm(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=D.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,v=!1;if(e.forEach(b=>{var S;let _=i.routes[b.route.id];!_||!_.hasLoader||(!c.some(R=>R.route.id===b.route.id)&&b.route.id in a&&((S=s[b.route.id])!=null&&S.shouldRevalidate)||_.hasClientLoader?v=!0:p.add(b.route.id))}),p.size===0)return[];let E=TN(t,o,"data");return v&&p.size>0&&E.searchParams.set("_routes",e.filter(b=>p.has(b.route.id)).map(b=>b.route.id).join(",")),[E.pathname+E.search]},[o,a,r,i,c,e,t,s]),h=D.useMemo(()=>BN(u,i),[u,i]),g=UN(u);return D.createElement(D.Fragment,null,f.map(p=>D.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),h.map(p=>D.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),g.map(({key:p,link:v})=>D.createElement("link",{key:p,...v})))}function zN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var L1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L1&&(window.__reactRouterVersion="7.7.0")}catch{}function $N({basename:t,children:e,window:n}){let r=D.useRef();r.current==null&&(r.current=jk({window:n,v5Compat:!0}));let i=r.current,[s,o]=D.useState({action:i.action,location:i.location}),a=D.useCallback(l=>{D.startTransition(()=>o(l))},[o]);return D.useLayoutEffect(()=>i.listen(a),[i,a]),D.createElement(xN,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kp=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},g){let{basename:p}=D.useContext(ar),v=typeof c=="string"&&z1.test(c),E,b=!1;if(typeof c=="string"&&v&&(E=c,L1))try{let I=new URL(window.location.href),V=c.startsWith("//")?new URL(I.protocol+c):new URL(c),ie=ti(V.pathname,p);V.origin===I.origin&&ie!=null?c=ie+V.search+V.hash:b=!0}catch{ir(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=rN(c,{relative:i}),[S,R,k]=FN(r,h),M=HN(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function C(I){e&&e(I),I.defaultPrevented||M(I)}let U=D.createElement("a",{...h,...k,href:E||_,onClick:b||s?e:C,ref:zN(g,R),target:l,"data-discover":!v&&n==="render"?"true":void 0});return S&&!v?D.createElement(D.Fragment,null,U,D.createElement(IN,{page:_})):U});Kp.displayName="Link";var Yp=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let f=Al(o,{relative:c.relative}),h=ii(),g=D.useContext(Pd),{navigator:p,basename:v}=D.useContext(ar),E=g!=null&&YN(f)&&a===!0,b=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,_=h.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(_=_.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&v&&(S=ti(S,v)||S);const R=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=_===b||!i&&_.startsWith(b)&&_.charAt(R)==="/",M=S!=null&&(S===b||!i&&S.startsWith(b)&&S.charAt(b.length)==="/"),C={isActive:k,isPending:M,isTransitioning:E},U=k?e:void 0,I;typeof r=="function"?I=r(C):I=[r,k?"active":null,M?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(C):s;return D.createElement(Kp,{...c,"aria-current":U,className:I,ref:u,style:V,to:o,viewTransition:a},typeof l=="function"?l(C):l)});Yp.displayName="NavLink";var DN=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Dc,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},g)=>{let p=GN(),v=KN(a,{relative:c}),E=o.toLowerCase()==="get"?"get":"post",b=typeof a=="string"&&z1.test(a),_=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let R=S.nativeEvent.submitter,k=(R==null?void 0:R.getAttribute("formmethod"))||o;p(R||S.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:f})};return D.createElement("form",{ref:g,method:E,action:v,onSubmit:r?l:_,...h,"data-discover":!b&&t==="render"?"true":void 0})});DN.displayName="Form";function VN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(t){let e=D.useContext(zo);return ot(e,VN(t)),e}function HN(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Vp(),l=ii(),c=Al(t,{relative:s});return D.useCallback(u=>{if(EN(u,e)){u.preventDefault();let f=n!==void 0?n:ll(l)===ll(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var WN=0,qN=()=>`__${String(++WN)}__`;function GN(){let{router:t}=$1("useSubmit"),{basename:e}=D.useContext(ar),n=pN();return D.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=NN(r,e);if(i.navigate===!1){let u=i.fetcherKey||qN();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function KN(t,{relative:e}={}){let{basename:n}=D.useContext(ar),r=D.useContext(Cr);ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Al(t||".",{relative:e})},o=ii();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Kr([n,s.pathname])),ll(s)}function YN(t,e={}){let n=D.useContext(B1);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$1("useViewTransitionState"),i=Al(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ti(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ti(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Gu(i.pathname,o)!=null||Gu(i.pathname,s)!=null}var D1={},Cl={};Cl.byteLength=QN;Cl.toByteArray=e3;Cl.fromByteArray=r3;var vr=[],jn=[],XN=typeof Uint8Array<"u"?Uint8Array:Array,Cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Us=0,ZN=Cf.length;Us<ZN;++Us)vr[Us]=Cf[Us],jn[Cf.charCodeAt(Us)]=Us;jn[45]=62;jn[95]=63;function V1(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function QN(t){var e=V1(t),n=e[0],r=e[1];return(n+r)*3/4-r}function JN(t,e,n){return(e+n)*3/4-n}function e3(t){var e,n=V1(t),r=n[0],i=n[1],s=new XN(JN(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=jn[t.charCodeAt(l)]<<18|jn[t.charCodeAt(l+1)]<<12|jn[t.charCodeAt(l+2)]<<6|jn[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=jn[t.charCodeAt(l)]<<2|jn[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=jn[t.charCodeAt(l)]<<10|jn[t.charCodeAt(l+1)]<<4|jn[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function t3(t){return vr[t>>18&63]+vr[t>>12&63]+vr[t>>6&63]+vr[t&63]}function n3(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(t3(r));return i.join("")}function r3(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(n3(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(vr[e>>2]+vr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(vr[e>>10]+vr[e>>4&63]+vr[e<<2&63]+"=")),i.join("")}var jl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */jl.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,f=n?i-1:0,h=n?-1:1,g=t[e+f];for(f+=h,s=g&(1<<-u)-1,g>>=-u,u+=a;u>0;s=s*256+t[e+f],f+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+f],f+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(g?-1:1)*o*Math.pow(2,s-r)};jl.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,f=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:s-1,p=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=h/l:e+=h*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+g]=a&255,g+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+g]=o&255,g+=p,o/=256,c-=8);t[n+g-p]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Cl,n=jl,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const T=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(T,x),T.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const x=new Uint8Array(T);return Object.setPrototypeOf(x,a.prototype),x}function a(T,x,w){if(typeof T=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(T)}return l(T,x,w)}a.poolSize=8192;function l(T,x,w){if(typeof T=="string")return h(T,x);if(ArrayBuffer.isView(T))return p(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(te(T,ArrayBuffer)||T&&te(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(te(T,SharedArrayBuffer)||T&&te(T.buffer,SharedArrayBuffer)))return v(T,x,w);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const F=T.valueOf&&T.valueOf();if(F!=null&&F!==T)return a.from(F,x,w);const Y=E(T);if(Y)return Y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),x,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,x,w){return l(T,x,w)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function u(T,x,w){return c(T),T<=0?o(T):x!==void 0?typeof w=="string"?o(T).fill(x,w):o(T).fill(x):o(T)}a.alloc=function(T,x,w){return u(T,x,w)};function f(T){return c(T),o(T<0?0:b(T)|0)}a.allocUnsafe=function(T){return f(T)},a.allocUnsafeSlow=function(T){return f(T)};function h(T,x){if((typeof x!="string"||x==="")&&(x="utf8"),!a.isEncoding(x))throw new TypeError("Unknown encoding: "+x);const w=S(T,x)|0;let F=o(w);const Y=F.write(T,x);return Y!==w&&(F=F.slice(0,Y)),F}function g(T){const x=T.length<0?0:b(T.length)|0,w=o(x);for(let F=0;F<x;F+=1)w[F]=T[F]&255;return w}function p(T){if(te(T,Uint8Array)){const x=new Uint8Array(T);return v(x.buffer,x.byteOffset,x.byteLength)}return g(T)}function v(T,x,w){if(x<0||T.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<x+(w||0))throw new RangeError('"length" is outside of buffer bounds');let F;return x===void 0&&w===void 0?F=new Uint8Array(T):w===void 0?F=new Uint8Array(T,x):F=new Uint8Array(T,x,w),Object.setPrototypeOf(F,a.prototype),F}function E(T){if(a.isBuffer(T)){const x=b(T.length)|0,w=o(x);return w.length===0||T.copy(w,0,0,x),w}if(T.length!==void 0)return typeof T.length!="number"||fe(T.length)?o(0):g(T);if(T.type==="Buffer"&&Array.isArray(T.data))return g(T.data)}function b(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function _(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==a.prototype},a.compare=function(x,w){if(te(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),te(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(x)||!a.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===w)return 0;let F=x.length,Y=w.length;for(let re=0,ne=Math.min(F,Y);re<ne;++re)if(x[re]!==w[re]){F=x[re],Y=w[re];break}return F<Y?-1:Y<F?1:0},a.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(x,w){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return a.alloc(0);let F;if(w===void 0)for(w=0,F=0;F<x.length;++F)w+=x[F].length;const Y=a.allocUnsafe(w);let re=0;for(F=0;F<x.length;++F){let ne=x[F];if(te(ne,Uint8Array))re+ne.length>Y.length?(a.isBuffer(ne)||(ne=a.from(ne)),ne.copy(Y,re)):Uint8Array.prototype.set.call(Y,ne,re);else if(a.isBuffer(ne))ne.copy(Y,re);else throw new TypeError('"list" argument must be an Array of Buffers');re+=ne.length}return Y};function S(T,x){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||te(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const w=T.length,F=arguments.length>2&&arguments[2]===!0;if(!F&&w===0)return 0;let Y=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return m(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return P(T).length;default:if(Y)return F?-1:m(T).length;x=(""+x).toLowerCase(),Y=!0}}a.byteLength=S;function R(T,x,w){let F=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,x>>>=0,w<=x))return"";for(T||(T="utf8");;)switch(T){case"hex":return K(this,x,w);case"utf8":case"utf-8":return H(this,x,w);case"ascii":return Z(this,x,w);case"latin1":case"binary":return G(this,x,w);case"base64":return L(this,x,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,x,w);default:if(F)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),F=!0}}a.prototype._isBuffer=!0;function k(T,x,w){const F=T[x];T[x]=T[w],T[w]=F}a.prototype.swap16=function(){const x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<x;w+=2)k(this,w,w+1);return this},a.prototype.swap32=function(){const x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<x;w+=4)k(this,w,w+3),k(this,w+1,w+2);return this},a.prototype.swap64=function(){const x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<x;w+=8)k(this,w,w+7),k(this,w+1,w+6),k(this,w+2,w+5),k(this,w+3,w+4);return this},a.prototype.toString=function(){const x=this.length;return x===0?"":arguments.length===0?H(this,0,x):R.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(x){if(!a.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:a.compare(this,x)===0},a.prototype.inspect=function(){let x="";const w=t.INSPECT_MAX_BYTES;return x=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(x+=" ... "),"<Buffer "+x+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(x,w,F,Y,re){if(te(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(w===void 0&&(w=0),F===void 0&&(F=x?x.length:0),Y===void 0&&(Y=0),re===void 0&&(re=this.length),w<0||F>x.length||Y<0||re>this.length)throw new RangeError("out of range index");if(Y>=re&&w>=F)return 0;if(Y>=re)return-1;if(w>=F)return 1;if(w>>>=0,F>>>=0,Y>>>=0,re>>>=0,this===x)return 0;let ne=re-Y,Te=F-w;const Oe=Math.min(ne,Te),je=this.slice(Y,re),Ne=x.slice(w,F);for(let He=0;He<Oe;++He)if(je[He]!==Ne[He]){ne=je[He],Te=Ne[He];break}return ne<Te?-1:Te<ne?1:0};function M(T,x,w,F,Y){if(T.length===0)return-1;if(typeof w=="string"?(F=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,fe(w)&&(w=Y?0:T.length-1),w<0&&(w=T.length+w),w>=T.length){if(Y)return-1;w=T.length-1}else if(w<0)if(Y)w=0;else return-1;if(typeof x=="string"&&(x=a.from(x,F)),a.isBuffer(x))return x.length===0?-1:C(T,x,w,F,Y);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?Y?Uint8Array.prototype.indexOf.call(T,x,w):Uint8Array.prototype.lastIndexOf.call(T,x,w):C(T,[x],w,F,Y);throw new TypeError("val must be string, number or Buffer")}function C(T,x,w,F,Y){let re=1,ne=T.length,Te=x.length;if(F!==void 0&&(F=String(F).toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(T.length<2||x.length<2)return-1;re=2,ne/=2,Te/=2,w/=2}function Oe(Ne,He){return re===1?Ne[He]:Ne.readUInt16BE(He*re)}let je;if(Y){let Ne=-1;for(je=w;je<ne;je++)if(Oe(T,je)===Oe(x,Ne===-1?0:je-Ne)){if(Ne===-1&&(Ne=je),je-Ne+1===Te)return Ne*re}else Ne!==-1&&(je-=je-Ne),Ne=-1}else for(w+Te>ne&&(w=ne-Te),je=w;je>=0;je--){let Ne=!0;for(let He=0;He<Te;He++)if(Oe(T,je+He)!==Oe(x,He)){Ne=!1;break}if(Ne)return je}return-1}a.prototype.includes=function(x,w,F){return this.indexOf(x,w,F)!==-1},a.prototype.indexOf=function(x,w,F){return M(this,x,w,F,!0)},a.prototype.lastIndexOf=function(x,w,F){return M(this,x,w,F,!1)};function U(T,x,w,F){w=Number(w)||0;const Y=T.length-w;F?(F=Number(F),F>Y&&(F=Y)):F=Y;const re=x.length;F>re/2&&(F=re/2);let ne;for(ne=0;ne<F;++ne){const Te=parseInt(x.substr(ne*2,2),16);if(fe(Te))return ne;T[w+ne]=Te}return ne}function I(T,x,w,F){return $(m(x,T.length-w),T,w,F)}function V(T,x,w,F){return $(y(x),T,w,F)}function ie(T,x,w,F){return $(P(x),T,w,F)}function ae(T,x,w,F){return $(A(x,T.length-w),T,w,F)}a.prototype.write=function(x,w,F,Y){if(w===void 0)Y="utf8",F=this.length,w=0;else if(F===void 0&&typeof w=="string")Y=w,F=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(F)?(F=F>>>0,Y===void 0&&(Y="utf8")):(Y=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const re=this.length-w;if((F===void 0||F>re)&&(F=re),x.length>0&&(F<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");let ne=!1;for(;;)switch(Y){case"hex":return U(this,x,w,F);case"utf8":case"utf-8":return I(this,x,w,F);case"ascii":case"latin1":case"binary":return V(this,x,w,F);case"base64":return ie(this,x,w,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,x,w,F);default:if(ne)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),ne=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(T,x,w){return x===0&&w===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(x,w))}function H(T,x,w){w=Math.min(T.length,w);const F=[];let Y=x;for(;Y<w;){const re=T[Y];let ne=null,Te=re>239?4:re>223?3:re>191?2:1;if(Y+Te<=w){let Oe,je,Ne,He;switch(Te){case 1:re<128&&(ne=re);break;case 2:Oe=T[Y+1],(Oe&192)===128&&(He=(re&31)<<6|Oe&63,He>127&&(ne=He));break;case 3:Oe=T[Y+1],je=T[Y+2],(Oe&192)===128&&(je&192)===128&&(He=(re&15)<<12|(Oe&63)<<6|je&63,He>2047&&(He<55296||He>57343)&&(ne=He));break;case 4:Oe=T[Y+1],je=T[Y+2],Ne=T[Y+3],(Oe&192)===128&&(je&192)===128&&(Ne&192)===128&&(He=(re&15)<<18|(Oe&63)<<12|(je&63)<<6|Ne&63,He>65535&&He<1114112&&(ne=He))}}ne===null?(ne=65533,Te=1):ne>65535&&(ne-=65536,F.push(ne>>>10&1023|55296),ne=56320|ne&1023),F.push(ne),Y+=Te}return ee(F)}const J=4096;function ee(T){const x=T.length;if(x<=J)return String.fromCharCode.apply(String,T);let w="",F=0;for(;F<x;)w+=String.fromCharCode.apply(String,T.slice(F,F+=J));return w}function Z(T,x,w){let F="";w=Math.min(T.length,w);for(let Y=x;Y<w;++Y)F+=String.fromCharCode(T[Y]&127);return F}function G(T,x,w){let F="";w=Math.min(T.length,w);for(let Y=x;Y<w;++Y)F+=String.fromCharCode(T[Y]);return F}function K(T,x,w){const F=T.length;(!x||x<0)&&(x=0),(!w||w<0||w>F)&&(w=F);let Y="";for(let re=x;re<w;++re)Y+=be[T[re]];return Y}function ce(T,x,w){const F=T.slice(x,w);let Y="";for(let re=0;re<F.length-1;re+=2)Y+=String.fromCharCode(F[re]+F[re+1]*256);return Y}a.prototype.slice=function(x,w){const F=this.length;x=~~x,w=w===void 0?F:~~w,x<0?(x+=F,x<0&&(x=0)):x>F&&(x=F),w<0?(w+=F,w<0&&(w=0)):w>F&&(w=F),w<x&&(w=x);const Y=this.subarray(x,w);return Object.setPrototypeOf(Y,a.prototype),Y};function se(T,x,w){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+x>w)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(x,w,F){x=x>>>0,w=w>>>0,F||se(x,w,this.length);let Y=this[x],re=1,ne=0;for(;++ne<w&&(re*=256);)Y+=this[x+ne]*re;return Y},a.prototype.readUintBE=a.prototype.readUIntBE=function(x,w,F){x=x>>>0,w=w>>>0,F||se(x,w,this.length);let Y=this[x+--w],re=1;for(;w>0&&(re*=256);)Y+=this[x+--w]*re;return Y},a.prototype.readUint8=a.prototype.readUInt8=function(x,w){return x=x>>>0,w||se(x,1,this.length),this[x]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(x,w){return x=x>>>0,w||se(x,2,this.length),this[x]|this[x+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(x,w){return x=x>>>0,w||se(x,2,this.length),this[x]<<8|this[x+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(x,w){return x=x>>>0,w||se(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(x,w){return x=x>>>0,w||se(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},a.prototype.readBigUInt64LE=_e(function(x){x=x>>>0,X(x,"offset");const w=this[x],F=this[x+7];(w===void 0||F===void 0)&&q(x,this.length-8);const Y=w+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24,re=this[++x]+this[++x]*2**8+this[++x]*2**16+F*2**24;return BigInt(Y)+(BigInt(re)<<BigInt(32))}),a.prototype.readBigUInt64BE=_e(function(x){x=x>>>0,X(x,"offset");const w=this[x],F=this[x+7];(w===void 0||F===void 0)&&q(x,this.length-8);const Y=w*2**24+this[++x]*2**16+this[++x]*2**8+this[++x],re=this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+F;return(BigInt(Y)<<BigInt(32))+BigInt(re)}),a.prototype.readIntLE=function(x,w,F){x=x>>>0,w=w>>>0,F||se(x,w,this.length);let Y=this[x],re=1,ne=0;for(;++ne<w&&(re*=256);)Y+=this[x+ne]*re;return re*=128,Y>=re&&(Y-=Math.pow(2,8*w)),Y},a.prototype.readIntBE=function(x,w,F){x=x>>>0,w=w>>>0,F||se(x,w,this.length);let Y=w,re=1,ne=this[x+--Y];for(;Y>0&&(re*=256);)ne+=this[x+--Y]*re;return re*=128,ne>=re&&(ne-=Math.pow(2,8*w)),ne},a.prototype.readInt8=function(x,w){return x=x>>>0,w||se(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},a.prototype.readInt16LE=function(x,w){x=x>>>0,w||se(x,2,this.length);const F=this[x]|this[x+1]<<8;return F&32768?F|4294901760:F},a.prototype.readInt16BE=function(x,w){x=x>>>0,w||se(x,2,this.length);const F=this[x+1]|this[x]<<8;return F&32768?F|4294901760:F},a.prototype.readInt32LE=function(x,w){return x=x>>>0,w||se(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},a.prototype.readInt32BE=function(x,w){return x=x>>>0,w||se(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},a.prototype.readBigInt64LE=_e(function(x){x=x>>>0,X(x,"offset");const w=this[x],F=this[x+7];(w===void 0||F===void 0)&&q(x,this.length-8);const Y=this[x+4]+this[x+5]*2**8+this[x+6]*2**16+(F<<24);return(BigInt(Y)<<BigInt(32))+BigInt(w+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24)}),a.prototype.readBigInt64BE=_e(function(x){x=x>>>0,X(x,"offset");const w=this[x],F=this[x+7];(w===void 0||F===void 0)&&q(x,this.length-8);const Y=(w<<24)+this[++x]*2**16+this[++x]*2**8+this[++x];return(BigInt(Y)<<BigInt(32))+BigInt(this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+F)}),a.prototype.readFloatLE=function(x,w){return x=x>>>0,w||se(x,4,this.length),n.read(this,x,!0,23,4)},a.prototype.readFloatBE=function(x,w){return x=x>>>0,w||se(x,4,this.length),n.read(this,x,!1,23,4)},a.prototype.readDoubleLE=function(x,w){return x=x>>>0,w||se(x,8,this.length),n.read(this,x,!0,52,8)},a.prototype.readDoubleBE=function(x,w){return x=x>>>0,w||se(x,8,this.length),n.read(this,x,!1,52,8)};function ue(T,x,w,F,Y,re){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>Y||x<re)throw new RangeError('"value" argument is out of bounds');if(w+F>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(x,w,F,Y){if(x=+x,w=w>>>0,F=F>>>0,!Y){const Te=Math.pow(2,8*F)-1;ue(this,x,w,F,Te,0)}let re=1,ne=0;for(this[w]=x&255;++ne<F&&(re*=256);)this[w+ne]=x/re&255;return w+F},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(x,w,F,Y){if(x=+x,w=w>>>0,F=F>>>0,!Y){const Te=Math.pow(2,8*F)-1;ue(this,x,w,F,Te,0)}let re=F-1,ne=1;for(this[w+re]=x&255;--re>=0&&(ne*=256);)this[w+re]=x/ne&255;return w+F},a.prototype.writeUint8=a.prototype.writeUInt8=function(x,w,F){return x=+x,w=w>>>0,F||ue(this,x,w,1,255,0),this[w]=x&255,w+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(x,w,F){return x=+x,w=w>>>0,F||ue(this,x,w,2,65535,0),this[w]=x&255,this[w+1]=x>>>8,w+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(x,w,F){return x=+x,w=w>>>0,F||ue(this,x,w,2,65535,0),this[w]=x>>>8,this[w+1]=x&255,w+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(x,w,F){return x=+x,w=w>>>0,F||ue(this,x,w,4,4294967295,0),this[w+3]=x>>>24,this[w+2]=x>>>16,this[w+1]=x>>>8,this[w]=x&255,w+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(x,w,F){return x=+x,w=w>>>0,F||ue(this,x,w,4,4294967295,0),this[w]=x>>>24,this[w+1]=x>>>16,this[w+2]=x>>>8,this[w+3]=x&255,w+4};function oe(T,x,w,F,Y){z(x,F,Y,T,w,7);let re=Number(x&BigInt(4294967295));T[w++]=re,re=re>>8,T[w++]=re,re=re>>8,T[w++]=re,re=re>>8,T[w++]=re;let ne=Number(x>>BigInt(32)&BigInt(4294967295));return T[w++]=ne,ne=ne>>8,T[w++]=ne,ne=ne>>8,T[w++]=ne,ne=ne>>8,T[w++]=ne,w}function j(T,x,w,F,Y){z(x,F,Y,T,w,7);let re=Number(x&BigInt(4294967295));T[w+7]=re,re=re>>8,T[w+6]=re,re=re>>8,T[w+5]=re,re=re>>8,T[w+4]=re;let ne=Number(x>>BigInt(32)&BigInt(4294967295));return T[w+3]=ne,ne=ne>>8,T[w+2]=ne,ne=ne>>8,T[w+1]=ne,ne=ne>>8,T[w]=ne,w+8}a.prototype.writeBigUInt64LE=_e(function(x,w=0){return oe(this,x,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=_e(function(x,w=0){return j(this,x,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(x,w,F,Y){if(x=+x,w=w>>>0,!Y){const Oe=Math.pow(2,8*F-1);ue(this,x,w,F,Oe-1,-Oe)}let re=0,ne=1,Te=0;for(this[w]=x&255;++re<F&&(ne*=256);)x<0&&Te===0&&this[w+re-1]!==0&&(Te=1),this[w+re]=(x/ne>>0)-Te&255;return w+F},a.prototype.writeIntBE=function(x,w,F,Y){if(x=+x,w=w>>>0,!Y){const Oe=Math.pow(2,8*F-1);ue(this,x,w,F,Oe-1,-Oe)}let re=F-1,ne=1,Te=0;for(this[w+re]=x&255;--re>=0&&(ne*=256);)x<0&&Te===0&&this[w+re+1]!==0&&(Te=1),this[w+re]=(x/ne>>0)-Te&255;return w+F},a.prototype.writeInt8=function(x,w,F){return x=+x,w=w>>>0,F||ue(this,x,w,1,127,-128),x<0&&(x=255+x+1),this[w]=x&255,w+1},a.prototype.writeInt16LE=function(x,w,F){return x=+x,w=w>>>0,F||ue(this,x,w,2,32767,-32768),this[w]=x&255,this[w+1]=x>>>8,w+2},a.prototype.writeInt16BE=function(x,w,F){return x=+x,w=w>>>0,F||ue(this,x,w,2,32767,-32768),this[w]=x>>>8,this[w+1]=x&255,w+2},a.prototype.writeInt32LE=function(x,w,F){return x=+x,w=w>>>0,F||ue(this,x,w,4,2147483647,-2147483648),this[w]=x&255,this[w+1]=x>>>8,this[w+2]=x>>>16,this[w+3]=x>>>24,w+4},a.prototype.writeInt32BE=function(x,w,F){return x=+x,w=w>>>0,F||ue(this,x,w,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[w]=x>>>24,this[w+1]=x>>>16,this[w+2]=x>>>8,this[w+3]=x&255,w+4},a.prototype.writeBigInt64LE=_e(function(x,w=0){return oe(this,x,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=_e(function(x,w=0){return j(this,x,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function le(T,x,w,F,Y,re){if(w+F>T.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function he(T,x,w,F,Y){return x=+x,w=w>>>0,Y||le(T,x,w,4),n.write(T,x,w,F,23,4),w+4}a.prototype.writeFloatLE=function(x,w,F){return he(this,x,w,!0,F)},a.prototype.writeFloatBE=function(x,w,F){return he(this,x,w,!1,F)};function me(T,x,w,F,Y){return x=+x,w=w>>>0,Y||le(T,x,w,8),n.write(T,x,w,F,52,8),w+8}a.prototype.writeDoubleLE=function(x,w,F){return me(this,x,w,!0,F)},a.prototype.writeDoubleBE=function(x,w,F){return me(this,x,w,!1,F)},a.prototype.copy=function(x,w,F,Y){if(!a.isBuffer(x))throw new TypeError("argument should be a Buffer");if(F||(F=0),!Y&&Y!==0&&(Y=this.length),w>=x.length&&(w=x.length),w||(w=0),Y>0&&Y<F&&(Y=F),Y===F||x.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),x.length-w<Y-F&&(Y=x.length-w+F);const re=Y-F;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,F,Y):Uint8Array.prototype.set.call(x,this.subarray(F,Y),w),re},a.prototype.fill=function(x,w,F,Y){if(typeof x=="string"){if(typeof w=="string"?(Y=w,w=0,F=this.length):typeof F=="string"&&(Y=F,F=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!a.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(x.length===1){const ne=x.charCodeAt(0);(Y==="utf8"&&ne<128||Y==="latin1")&&(x=ne)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(w<0||this.length<w||this.length<F)throw new RangeError("Out of range index");if(F<=w)return this;w=w>>>0,F=F===void 0?this.length:F>>>0,x||(x=0);let re;if(typeof x=="number")for(re=w;re<F;++re)this[re]=x;else{const ne=a.isBuffer(x)?x:a.from(x,Y),Te=ne.length;if(Te===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(re=0;re<F-w;++re)this[re+w]=ne[re%Te]}return this};const de={};function ge(T,x,w){de[T]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(T,x){return`The "${T}" argument must be of type number. Received type ${typeof x}`},TypeError),ge("ERR_OUT_OF_RANGE",function(T,x,w){let F=`The value of "${T}" is out of range.`,Y=w;return Number.isInteger(w)&&Math.abs(w)>2**32?Y=B(String(w)):typeof w=="bigint"&&(Y=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(Y=B(Y)),Y+="n"),F+=` It must be ${x}. Received ${Y}`,F},RangeError);function B(T){let x="",w=T.length;const F=T[0]==="-"?1:0;for(;w>=F+4;w-=3)x=`_${T.slice(w-3,w)}${x}`;return`${T.slice(0,w)}${x}`}function O(T,x,w){X(x,"offset"),(T[x]===void 0||T[x+w]===void 0)&&q(x,T.length-(w+1))}function z(T,x,w,F,Y,re){if(T>w||T<x){const ne=typeof x=="bigint"?"n":"";let Te;throw x===0||x===BigInt(0)?Te=`>= 0${ne} and < 2${ne} ** ${(re+1)*8}${ne}`:Te=`>= -(2${ne} ** ${(re+1)*8-1}${ne}) and < 2 ** ${(re+1)*8-1}${ne}`,new de.ERR_OUT_OF_RANGE("value",Te,T)}O(F,Y,re)}function X(T,x){if(typeof T!="number")throw new de.ERR_INVALID_ARG_TYPE(x,"number",T)}function q(T,x,w){throw Math.floor(T)!==T?(X(T,w),new de.ERR_OUT_OF_RANGE("offset","an integer",T)):x<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${x}`,T)}const Q=/[^+/0-9A-Za-z-_]/g;function N(T){if(T=T.split("=")[0],T=T.trim().replace(Q,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function m(T,x){x=x||1/0;let w;const F=T.length;let Y=null;const re=[];for(let ne=0;ne<F;++ne){if(w=T.charCodeAt(ne),w>55295&&w<57344){if(!Y){if(w>56319){(x-=3)>-1&&re.push(239,191,189);continue}else if(ne+1===F){(x-=3)>-1&&re.push(239,191,189);continue}Y=w;continue}if(w<56320){(x-=3)>-1&&re.push(239,191,189),Y=w;continue}w=(Y-55296<<10|w-56320)+65536}else Y&&(x-=3)>-1&&re.push(239,191,189);if(Y=null,w<128){if((x-=1)<0)break;re.push(w)}else if(w<2048){if((x-=2)<0)break;re.push(w>>6|192,w&63|128)}else if(w<65536){if((x-=3)<0)break;re.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((x-=4)<0)break;re.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return re}function y(T){const x=[];for(let w=0;w<T.length;++w)x.push(T.charCodeAt(w)&255);return x}function A(T,x){let w,F,Y;const re=[];for(let ne=0;ne<T.length&&!((x-=2)<0);++ne)w=T.charCodeAt(ne),F=w>>8,Y=w%256,re.push(Y),re.push(F);return re}function P(T){return e.toByteArray(N(T))}function $(T,x,w,F){let Y;for(Y=0;Y<F&&!(Y+w>=x.length||Y>=T.length);++Y)x[Y+w]=T[Y];return Y}function te(T,x){return T instanceof x||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===x.name}function fe(T){return T!==T}const be=function(){const T="0123456789abcdef",x=new Array(256);for(let w=0;w<16;++w){const F=w*16;for(let Y=0;Y<16;++Y)x[F+Y]=T[w]+T[Y]}return x}();function _e(T){return typeof BigInt>"u"?Ae:T}function Ae(){throw new Error("BigInt not supported")}})(D1);var l0;(function(t){t[t.SysFatal=1]="SysFatal",t[t.SysTransient=2]="SysTransient",t[t.DestinationInvalid=3]="DestinationInvalid",t[t.CanisterReject=4]="CanisterReject",t[t.CanisterError=5]="CanisterError"})(l0||(l0={}));const i3="modulepreload",s3=function(t,e){return new URL(t,e).href},Qm={},o3=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=s3(c,r),c in Qm)return;Qm[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!r)for(let p=o.length-1;p>=0;p--){const v=o[p];if(v.href===c&&(!u||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":i3,u||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),u)return new Promise((p,v)=>{g.addEventListener("load",p),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Ku="abcdefghijklmnopqrstuvwxyz234567",Bo=Object.create(null);for(let t=0;t<Ku.length;t++)Bo[Ku[t]]=t;Bo[0]=Bo.o;Bo[1]=Bo.i;function a3(t){let e=0,n=0,r="";function i(s){return e<0?n|=s>>-e:n=s<<e&248,e>3?(e-=8,1):(e<4&&(r+=Ku[n>>3],e+=5),0)}for(let s=0;s<t.length;)s+=i(t[s]);return r+(e<0?Ku[n>>3]:"")}function l3(t){let e=0,n=0;const r=new Uint8Array(t.length*4/3|0);let i=0;function s(o){let a=Bo[o.toLowerCase()];if(a===void 0)throw new Error(`Invalid character: ${JSON.stringify(o)}`);a<<=3,n|=a>>>e,e+=5,e>=8&&(r[i++]=n,e-=8,e>0?n=a<<5-e&255:n=0)}for(const o of t)s(o);return r.slice(0,i)}const c3=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function u3(t){const e=new Uint8Array(t);let n=-1;for(let r=0;r<e.length;r++){const s=(e[r]^n)&255;n=c3[s]^n>>>8}return(n^-1)>>>0}function d3(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function H1(t,...e){if(!d3(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Jm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function f3(t,e){H1(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ls=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function cr(t,e){return t<<32-e|t>>>e}function h3(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function W1(t){return typeof t=="string"&&(t=h3(t)),H1(t),t}class p3{clone(){return this._cloneInto()}}function Xp(t){const e=r=>t().update(W1(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function q1(t=32){if(Ls&&typeof Ls.getRandomValues=="function")return Ls.getRandomValues(new Uint8Array(t));if(Ls&&typeof Ls.randomBytes=="function")return Ls.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function g3(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function m3(t,e,n){return t&e^~t&n}function y3(t,e,n){return t&e^t&n^e&n}class G1 extends p3{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=jf(this.buffer)}update(e){Jm(this);const{view:n,buffer:r,blockLen:i}=this;e=W1(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=jf(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jm(this),f3(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;g3(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=jf(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const x3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),oi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ai=new Uint32Array(64);class K1 extends G1{constructor(){super(64,32,8,!1),this.A=oi[0]|0,this.B=oi[1]|0,this.C=oi[2]|0,this.D=oi[3]|0,this.E=oi[4]|0,this.F=oi[5]|0,this.G=oi[6]|0,this.H=oi[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)ai[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=ai[f-15],g=ai[f-2],p=cr(h,7)^cr(h,18)^h>>>3,v=cr(g,17)^cr(g,19)^g>>>10;ai[f]=v+ai[f-7]+p+ai[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const h=cr(a,6)^cr(a,11)^cr(a,25),g=u+h+m3(a,l,c)+x3[f]+ai[f]|0,v=(cr(r,2)^cr(r,13)^cr(r,22))+y3(r,i,s)|0;u=c,c=l,l=a,a=o+g|0,o=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){ai.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class b3 extends K1{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Zp=Xp(()=>new K1),w3=Xp(()=>new b3);function v3(t){return w3.create().update(new Uint8Array(t)).digest()}const ic="__principal__",_3=2,ey=4,E3="aaaaa-aa",S3=t=>{var e;return new Uint8Array(((e=t.match(/.{1,2}/g))!==null&&e!==void 0?e:[]).map(n=>parseInt(n,16)))},k3=t=>t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"");let Re=class Hc{constructor(e){this._arr=e,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([ey]))}static managementCanister(){return this.fromHex(E3)}static selfAuthenticating(e){const n=v3(e);return new this(new Uint8Array([...n,_3]))}static from(e){if(typeof e=="string")return Hc.fromText(e);if(Object.getPrototypeOf(e)===Uint8Array.prototype)return new Hc(e);if(typeof e=="object"&&e!==null&&e._isPrincipal===!0)return new Hc(e._arr);throw new Error(`Impossible to convert ${JSON.stringify(e)} to Principal.`)}static fromHex(e){return new this(S3(e))}static fromText(e){let n=e;if(e.includes(ic)){const o=JSON.parse(e);ic in o&&(n=o[ic])}const r=n.toLowerCase().replace(/-/g,"");let i=l3(r);i=i.slice(4,i.length);const s=new this(i);if(s.toText()!==n)throw new Error(`Principal "${s.toText()}" does not have a valid checksum (original value "${n}" may not be a valid Principal ID).`);return s}static fromUint8Array(e){return new this(e)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===ey}toUint8Array(){return this._arr}toHex(){return k3(this._arr).toUpperCase()}toText(){const e=new ArrayBuffer(4);new DataView(e).setUint32(0,u3(this._arr));const r=new Uint8Array(e),i=Uint8Array.from(this._arr),s=new Uint8Array([...r,...i]),a=a3(s).match(/.{1,5}/g);if(!a)throw new Error;return a.join("-")}toString(){return this.toText()}toJSON(){return{[ic]:this.toText()}}compareTo(e){for(let n=0;n<Math.min(this._arr.length,e._arr.length);n++){if(this._arr[n]<e._arr[n])return"lt";if(this._arr[n]>e._arr[n])return"gt"}return this._arr.length<e._arr.length?"lt":this._arr.length>e._arr.length?"gt":"eq"}ltEq(e){const n=this.compareTo(e);return n=="lt"||n=="eq"}gtEq(e){const n=this.compareTo(e);return n=="gt"||n=="eq"}};function nr(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.byteLength,0));let n=0;for(const r of t)e.set(new Uint8Array(r),n),n+=r.byteLength;return e.buffer}function Ut(t){return[...new Uint8Array(t)].map(e=>e.toString(16).padStart(2,"0")).join("")}const N3=new RegExp(/^[0-9a-fA-F]+$/);function Yr(t){if(!N3.test(t))throw new Error("Invalid hexadecimal string.");const e=[...t].reduce((n,r,i)=>(n[i/2|0]=(n[i/2|0]||"")+r,n),[]).map(n=>Number.parseInt(n,16));return new Uint8Array(e).buffer}function Y1(t,e){if(t.byteLength!==e.byteLength)return t.byteLength-e.byteLength;const n=new Uint8Array(t),r=new Uint8Array(e);for(let i=0;i<n.length;i++)if(n[i]!==r[i])return n[i]-r[i];return 0}function Md(t,e){return Y1(t,e)===0}function Oa(t){return new DataView(t.buffer,t.byteOffset,t.byteLength).buffer}function Qp(t){return t instanceof Uint8Array?Oa(t):t instanceof ArrayBuffer?t:Array.isArray(t)?Oa(new Uint8Array(t)):"buffer"in t?Qp(t.buffer):Oa(new Uint8Array(t))}class kt extends Error{constructor(e){super(e),this.message=e,this.name="AgentError",this.__proto__=kt.prototype,Object.setPrototypeOf(this,kt.prototype)}}function Ge(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.byteLength,0));let n=0;for(const r of t)e.set(new Uint8Array(r),n),n+=r.byteLength;return e}class Do{constructor(e,n=(e==null?void 0:e.byteLength)||0){this._buffer=Yu(e||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,n)}get buffer(){return Yu(this._view.slice())}get byteLength(){return this._view.byteLength}read(e){const n=this._view.subarray(0,e);return this._view=this._view.subarray(e),n.slice().buffer}readUint8(){const e=this._view[0];return this._view=this._view.subarray(1),e}write(e){const n=new Uint8Array(e),r=this._view.byteLength;this._view.byteOffset+this._view.byteLength+n.byteLength>=this._buffer.byteLength?this.alloc(n.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+n.byteLength),this._view.set(n,r)}get end(){return this._view.byteLength===0}alloc(e){const n=new ArrayBuffer((this._buffer.byteLength+e)*1.2|0),r=new Uint8Array(n,0,this._view.byteLength+e);r.set(this._view),this._buffer=n,this._view=r}}function Bf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength).buffer}function Yu(t){return t instanceof Uint8Array?Bf(t):t instanceof ArrayBuffer?t:Array.isArray(t)?Bf(new Uint8Array(t)):"buffer"in t?Yu(t.buffer):Bf(new Uint8Array(t))}function T3(t){const n=new TextEncoder().encode(t);let r=0;for(const i of n)r=(r*223+i)%2**32;return r}function _r(t){if(/^_\d+_$/.test(t)||/^_0x[0-9a-fA-F]+_$/.test(t)){const e=+t.slice(1,-1);if(Number.isSafeInteger(e)&&e>=0&&e<2**32)return e}return T3(t)}function X1(){throw new Error("unexpected end of buffer")}function As(t,e){return t.byteLength<e&&X1(),t.read(e)}function Cs(t){const e=t.readUint8();return e===void 0&&X1(),e}function ht(t){if(typeof t=="number"&&(t=BigInt(t)),t<BigInt(0))throw new Error("Cannot leb encode negative values.");const e=(t===BigInt(0)?0:Math.ceil(Math.log2(Number(t))))+1,n=new Do(new ArrayBuffer(e),0);for(;;){const r=Number(t&BigInt(127));if(t/=BigInt(128),t===BigInt(0)){n.write(new Uint8Array([r]));break}else n.write(new Uint8Array([r|128]))}return n.buffer}function jt(t){let e=BigInt(1),n=BigInt(0),r;do r=Cs(t),n+=BigInt(r&127).valueOf()*e,e*=BigInt(128);while(r>=128);return n}function Tt(t){typeof t=="number"&&(t=BigInt(t));const e=t<BigInt(0);e&&(t=-t-BigInt(1));const n=(t===BigInt(0)?0:Math.ceil(Math.log2(Number(t))))+1,r=new Do(new ArrayBuffer(n),0);for(;;){const s=i(t);if(t/=BigInt(128),e&&t===BigInt(0)&&s&64||!e&&t===BigInt(0)&&!(s&64)){r.write(new Uint8Array([s]));break}else r.write(new Uint8Array([s|128]))}function i(s){const o=s%BigInt(128);return Number(e?BigInt(128)-o-BigInt(1):o)}return r.buffer}function fi(t){const e=new Uint8Array(t.buffer);let n=0;for(;n<e.byteLength;n++)if(e[n]<128){if(!(e[n]&64))return jt(t);break}const r=new Uint8Array(As(t,n+1));let i=BigInt(0);for(let s=r.byteLength-1;s>=0;s--)i=i*BigInt(128)+BigInt(128-(r[s]&127)-1);return-i-BigInt(1)}function A3(t,e){if(BigInt(t)<BigInt(0))throw new Error("Cannot write negative values.");return Z1(t,e)}function Z1(t,e){t=BigInt(t);const n=new Do(new ArrayBuffer(Math.min(1,e)),0);let r=0,i=BigInt(256),s=BigInt(0),o=Number(t%i);for(n.write(new Uint8Array([o]));++r<e;)t<0&&s===BigInt(0)&&o!==0&&(s=BigInt(1)),o=Number((t/i-s)%BigInt(256)),n.write(new Uint8Array([o])),i*=BigInt(256);return n.buffer}function Q1(t,e){let n=BigInt(Cs(t)),r=BigInt(1),i=0;for(;++i<e;){r*=BigInt(256);const s=BigInt(Cs(t));n=n+r*s}return n}function C3(t,e){let n=Q1(t,e);const r=BigInt(2)**(BigInt(8)*BigInt(e-1)+BigInt(7));return n>=r&&(n-=r*BigInt(2)),n}function c0(t){const e=BigInt(t);if(t<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<e}const Wc="DIDL",ty=400;function cl(t,e,n){return t.map((r,i)=>n(r,e[i]))}class j3{constructor(){this._typs=[],this._idx=new Map}has(e){return this._idx.has(e.name)}add(e,n){const r=this._typs.length;this._idx.set(e.name,r),this._typs.push(n)}merge(e,n){const r=this._idx.get(e.name),i=this._idx.get(n);if(r===void 0)throw new Error("Missing type index for "+e);if(i===void 0)throw new Error("Missing type index for "+n);this._typs[r]=this._typs[i],this._typs.splice(i,1),this._idx.delete(n)}encode(){const e=ht(this._typs.length),n=Ge(...this._typs);return Ge(e,n)}indexOf(e){if(!this._idx.has(e))throw new Error("Missing type index for "+e);return Tt(this._idx.get(e)||0)}}class B3{visitType(e,n){throw new Error("Not implemented")}visitPrimitive(e,n){return this.visitType(e,n)}visitEmpty(e,n){return this.visitPrimitive(e,n)}visitBool(e,n){return this.visitPrimitive(e,n)}visitNull(e,n){return this.visitPrimitive(e,n)}visitReserved(e,n){return this.visitPrimitive(e,n)}visitText(e,n){return this.visitPrimitive(e,n)}visitNumber(e,n){return this.visitPrimitive(e,n)}visitInt(e,n){return this.visitNumber(e,n)}visitNat(e,n){return this.visitNumber(e,n)}visitFloat(e,n){return this.visitPrimitive(e,n)}visitFixedInt(e,n){return this.visitNumber(e,n)}visitFixedNat(e,n){return this.visitNumber(e,n)}visitPrincipal(e,n){return this.visitPrimitive(e,n)}visitConstruct(e,n){return this.visitType(e,n)}visitVec(e,n,r){return this.visitConstruct(e,r)}visitOpt(e,n,r){return this.visitConstruct(e,r)}visitRecord(e,n,r){return this.visitConstruct(e,r)}visitTuple(e,n,r){const i=n.map((s,o)=>[`_${o}_`,s]);return this.visitRecord(e,i,r)}visitVariant(e,n,r){return this.visitConstruct(e,r)}visitRec(e,n,r){return this.visitConstruct(n,r)}visitFunc(e,n){return this.visitConstruct(e,n)}visitService(e,n){return this.visitConstruct(e,n)}}class Fd{display(){return this.name}valueToString(e){return xt(e)}buildTypeTable(e){e.has(this)||this._buildTypeTableImpl(e)}}class $n extends Fd{checkType(e){if(this.name!==e.name)throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`);return e}_buildTypeTableImpl(e){}}class Ji extends Fd{checkType(e){if(e instanceof es){const n=e.getType();if(typeof n>"u")throw new Error("type mismatch with uninitialized type");return n}throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`)}encodeType(e){return e.indexOf(this.name)}}class J1 extends $n{accept(e,n){return e.visitEmpty(this,n)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return Tt(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class ev extends Fd{checkType(e){throw new Error("Method not implemented for unknown.")}accept(e,n){throw e.visitType(this,n)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(e,n){let r=n.decodeValue(e,n);Object(r)!==r&&(r=Object(r));let i;return n instanceof es?i=()=>n.getType():i=()=>n,Object.defineProperty(r,"type",{value:i,writable:!0,enumerable:!1,configurable:!0}),r}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class tv extends $n{accept(e,n){return e.visitBool(this,n)}covariant(e){if(typeof e=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return new Uint8Array([e?1:0])}encodeType(){return Tt(-2)}decodeValue(e,n){switch(this.checkType(n),Cs(e)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class nv extends $n{accept(e,n){return e.visitNull(this,n)}covariant(e){if(e===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Tt(-1)}decodeValue(e,n){return this.checkType(n),null}get name(){return"null"}}class Xu extends $n{accept(e,n){return e.visitReserved(this,n)}covariant(e){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Tt(-16)}decodeValue(e,n){return n.name!==this.name&&n.decodeValue(e,n),null}get name(){return"reserved"}}class rv extends $n{accept(e,n){return e.visitText(this,n)}covariant(e){if(typeof e=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=new TextEncoder().encode(e),r=ht(n.byteLength);return Ge(r,n)}encodeType(){return Tt(-15)}decodeValue(e,n){this.checkType(n);const r=jt(e),i=As(e,Number(r));return new TextDecoder("utf8",{fatal:!0}).decode(i)}get name(){return"text"}valueToString(e){return'"'+e+'"'}}class iv extends $n{accept(e,n){return e.visitInt(this,n)}covariant(e){if(typeof e=="bigint"||Number.isInteger(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return Tt(e)}encodeType(){return Tt(-4)}decodeValue(e,n){return this.checkType(n),fi(e)}get name(){return"int"}valueToString(e){return e.toString()}}class sv extends $n{accept(e,n){return e.visitNat(this,n)}covariant(e){if(typeof e=="bigint"&&e>=BigInt(0)||Number.isInteger(e)&&e>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return ht(e)}encodeType(){return Tt(-3)}decodeValue(e,n){return this.checkType(n),jt(e)}get name(){return"nat"}valueToString(e){return e.toString()}}class Jp extends $n{constructor(e){if(super(),this._bits=e,e!==32&&e!==64)throw new Error("not a valid float type")}accept(e,n){return e.visitFloat(this,n)}covariant(e){if(typeof e=="number"||e instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=new ArrayBuffer(this._bits/8),r=new DataView(n);return this._bits===32?r.setFloat32(0,e,!0):r.setFloat64(0,e,!0),n}encodeType(){const e=this._bits===32?-13:-14;return Tt(e)}decodeValue(e,n){this.checkType(n);const r=As(e,this._bits/8),i=new DataView(r);return this._bits===32?i.getFloat32(0,!0):i.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(e){return e.toString()}}class js extends $n{constructor(e){super(),this._bits=e}accept(e,n){return e.visitFixedInt(this,n)}covariant(e){const n=c0(this._bits-1)*BigInt(-1),r=c0(this._bits-1)-BigInt(1);let i=!1;if(typeof e=="bigint")i=e>=n&&e<=r;else if(Number.isInteger(e)){const s=BigInt(e);i=s>=n&&s<=r}else i=!1;if(i)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return Z1(e,this._bits/8)}encodeType(){const e=Math.log2(this._bits)-3;return Tt(-9-e)}decodeValue(e,n){this.checkType(n);const r=C3(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`int${this._bits}`}valueToString(e){return e.toString()}}class zi extends $n{constructor(e){super(),this._bits=e}accept(e,n){return e.visitFixedNat(this,n)}covariant(e){const n=c0(this._bits);let r=!1;if(typeof e=="bigint"&&e>=BigInt(0)?r=e<n:Number.isInteger(e)&&e>=0?r=BigInt(e)<n:r=!1,r)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return A3(e,this._bits/8)}encodeType(){const e=Math.log2(this._bits)-3;return Tt(-5-e)}decodeValue(e,n){this.checkType(n);const r=Q1(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(e){return e.toString()}}class Id extends Ji{constructor(e){super(),this._type=e,this._blobOptimization=!1,e instanceof zi&&e._bits===8&&(this._blobOptimization=!0)}accept(e,n){return e.visitVec(this,this._type,n)}covariant(e){const n=this._type instanceof zi?this._type._bits:this._type instanceof js?this._type._bits:0;if(ArrayBuffer.isView(e)&&n==e.BYTES_PER_ELEMENT*8||Array.isArray(e)&&e.every((r,i)=>{try{return this._type.covariant(r)}catch(s){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${s.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=ht(e.length);if(this._blobOptimization)return Ge(n,new Uint8Array(e));if(ArrayBuffer.isView(e))return Ge(n,new Uint8Array(e.buffer));const r=new Do(new ArrayBuffer(n.byteLength+e.length),0);r.write(n);for(const i of e){const s=this._type.encodeValue(i);r.write(new Uint8Array(s))}return r.buffer}_buildTypeTableImpl(e){this._type.buildTypeTable(e);const n=Tt(-19),r=this._type.encodeType(e);e.add(this,Ge(n,r))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Id))throw new Error("Not a vector type");const i=Number(jt(e));if(this._type instanceof zi){if(this._type._bits==8)return new Uint8Array(e.read(i));if(this._type._bits==16)return new Uint16Array(e.read(i*2));if(this._type._bits==32)return new Uint32Array(e.read(i*4));if(this._type._bits==64)return new BigUint64Array(e.read(i*8))}if(this._type instanceof js){if(this._type._bits==8)return new Int8Array(e.read(i));if(this._type._bits==16)return new Int16Array(e.read(i*2));if(this._type._bits==32)return new Int32Array(e.read(i*4));if(this._type._bits==64)return new BigInt64Array(e.read(i*8))}const s=[];for(let o=0;o<i;o++)s.push(this._type.decodeValue(e,r._type));return s}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(e){return"vec {"+e.map(r=>this._type.valueToString(r)).join("; ")+"}"}}class Ro extends Ji{constructor(e){super(),this._type=e}accept(e,n){return e.visitOpt(this,this._type,n)}covariant(e){try{if(Array.isArray(e)&&(e.length===0||e.length===1&&this._type.covariant(e[0])))return!0}catch(n){throw new Error(`Invalid ${this.display()} argument: ${xt(e)} 

-> ${n.message}`)}throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return e.length===0?new Uint8Array([0]):Ge(new Uint8Array([1]),this._type.encodeValue(e[0]))}_buildTypeTableImpl(e){this._type.buildTypeTable(e);const n=Tt(-18),r=this._type.encodeType(e);e.add(this,Ge(n,r))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Ro))throw new Error("Not an option type");switch(Cs(e)){case 0:return[];case 1:return[this._type.decodeValue(e,r._type)];default:throw new Error("Not an option value")}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(e){return e.length===0?"null":`opt ${this._type.valueToString(e[0])}`}}class Bl extends Ji{constructor(e={}){super(),this._fields=Object.entries(e).sort((n,r)=>_r(n[0])-_r(r[0]))}accept(e,n){return e.visitRecord(this,this._fields,n)}tryAsTuple(){const e=[];for(let n=0;n<this._fields.length;n++){const[r,i]=this._fields[n];if(r!==`_${n}_`)return null;e.push(i)}return e}covariant(e){if(typeof e=="object"&&this._fields.every(([n,r])=>{if(!e.hasOwnProperty(n))throw new Error(`Record is missing key "${n}".`);try{return r.covariant(e[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

field ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=this._fields.map(([i])=>e[i]),r=cl(this._fields,n,([,i],s)=>i.encodeValue(s));return Ge(...r)}_buildTypeTableImpl(e){this._fields.forEach(([s,o])=>o.buildTypeTable(e));const n=Tt(-20),r=ht(this._fields.length),i=this._fields.map(([s,o])=>Ge(ht(_r(s)),o.encodeType(e)));e.add(this,Ge(n,r,Ge(...i)))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Bl))throw new Error("Not a record type");const i={};let s=0,o=0;for(;o<r._fields.length;){const[a,l]=r._fields[o];if(s>=this._fields.length){l.decodeValue(e,l),o++;continue}const[c,u]=this._fields[s],f=_r(this._fields[s][0]),h=_r(a);if(f===h)i[c]=u.decodeValue(e,l),s++,o++;else if(h>f)if(u instanceof Ro||u instanceof Xu)i[c]=[],s++;else throw new Error("Cannot find required field "+c);else l.decodeValue(e,l),o++}for(const[a,l]of this._fields.slice(s))if(l instanceof Ro||l instanceof Xu)i[a]=[];else throw new Error("Cannot find required field "+a);return i}get name(){return`record {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`record {${this._fields.map(([n,r])=>n+":"+r.display()).join("; ")}}`}valueToString(e){const n=this._fields.map(([i])=>e[i]);return`record {${cl(this._fields,n,([i,s],o)=>i+"="+s.valueToString(o)).join("; ")}}`}}class Ud extends Bl{constructor(e){const n={};e.forEach((r,i)=>n["_"+i+"_"]=r),super(n),this._components=e}accept(e,n){return e.visitTuple(this,this._components,n)}covariant(e){if(Array.isArray(e)&&e.length>=this._fields.length&&this._components.every((n,r)=>{try{return n.covariant(e[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=cl(this._components,e,(r,i)=>r.encodeValue(i));return Ge(...n)}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Ud))throw new Error("not a tuple type");if(r._components.length<this._components.length)throw new Error("tuple mismatch");const i=[];for(const[s,o]of r._components.entries())s>=this._components.length?o.decodeValue(e,o):i.push(this._components[s].decodeValue(e,o));return i}display(){return`record {${this._components.map(n=>n.display()).join("; ")}}`}valueToString(e){return`record {${cl(this._components,e,(r,i)=>r.valueToString(i)).join("; ")}}`}}class Ld extends Ji{constructor(e={}){super(),this._fields=Object.entries(e).sort((n,r)=>_r(n[0])-_r(r[0]))}accept(e,n){return e.visitVariant(this,this._fields,n)}covariant(e){if(typeof e=="object"&&Object.entries(e).length===1&&this._fields.every(([n,r])=>{try{return!e.hasOwnProperty(n)||r.covariant(e[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

variant ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){for(let n=0;n<this._fields.length;n++){const[r,i]=this._fields[n];if(e.hasOwnProperty(r)){const s=ht(n),o=i.encodeValue(e[r]);return Ge(s,o)}}throw Error("Variant has no data: "+e)}_buildTypeTableImpl(e){this._fields.forEach(([,s])=>{s.buildTypeTable(e)});const n=Tt(-21),r=ht(this._fields.length),i=this._fields.map(([s,o])=>Ge(ht(_r(s)),o.encodeType(e)));e.add(this,Ge(n,r,...i))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Ld))throw new Error("Not a variant type");const i=Number(jt(e));if(i>=r._fields.length)throw Error("Invalid variant index: "+i);const[s,o]=r._fields[i];for(const[a,l]of this._fields)if(_r(s)===_r(a)){const c=l.decodeValue(e,o);return{[a]:c}}throw new Error("Cannot find field hash "+s)}get name(){return`variant {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`variant {${this._fields.map(([n,r])=>n+(r.name==="null"?"":`:${r.display()}`)).join("; ")}}`}valueToString(e){for(const[n,r]of this._fields)if(e.hasOwnProperty(n)){const i=r.valueToString(e[n]);return i==="null"?`variant {${n}}`:`variant {${n}=${i}}`}throw new Error("Variant has no data: "+e)}}class es extends Ji{constructor(){super(...arguments),this._id=es._counter++,this._type=void 0}accept(e,n){if(!this._type)throw Error("Recursive type uninitialized.");return e.visitRec(this,this._type,n)}fill(e){this._type=e}getType(){return this._type}covariant(e){if(this._type&&this._type.covariant(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(e)}_buildTypeTableImpl(e){if(!this._type)throw Error("Recursive type uninitialized.");e.add(this,new Uint8Array([])),this._type.buildTypeTable(e),e.merge(this,this._type.name)}decodeValue(e,n){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(e,n)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(e)}}es._counter=0;function eg(t){if(Cs(t)!==1)throw new Error("Cannot decode principal");const n=Number(jt(t));return Re.fromUint8Array(new Uint8Array(As(t,n)))}class ov extends $n{accept(e,n){return e.visitPrincipal(this,n)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=e.toUint8Array(),r=ht(n.byteLength);return Ge(new Uint8Array([1]),r,n)}encodeType(){return Tt(-24)}decodeValue(e,n){return this.checkType(n),eg(e)}get name(){return"principal"}valueToString(e){return`${this.name} "${e.toText()}"`}}class tg extends Ji{constructor(e,n,r=[]){super(),this.argTypes=e,this.retTypes=n,this.annotations=r}static argsToString(e,n){if(e.length!==n.length)throw new Error("arity mismatch");return"("+e.map((r,i)=>r.valueToString(n[i])).join(", ")+")"}accept(e,n){return e.visitFunc(this,n)}covariant(e){if(Array.isArray(e)&&e.length===2&&e[0]&&e[0]._isPrincipal&&typeof e[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue([e,n]){const r=e.toUint8Array(),i=ht(r.byteLength),s=Ge(new Uint8Array([1]),i,r),o=new TextEncoder().encode(n),a=ht(o.byteLength);return Ge(new Uint8Array([1]),s,a,o)}_buildTypeTableImpl(e){this.argTypes.forEach(c=>c.buildTypeTable(e)),this.retTypes.forEach(c=>c.buildTypeTable(e));const n=Tt(-22),r=ht(this.argTypes.length),i=Ge(...this.argTypes.map(c=>c.encodeType(e))),s=ht(this.retTypes.length),o=Ge(...this.retTypes.map(c=>c.encodeType(e))),a=ht(this.annotations.length),l=Ge(...this.annotations.map(c=>this.encodeAnnotation(c)));e.add(this,Ge(n,r,i,s,o,a,l))}decodeValue(e){if(Cs(e)!==1)throw new Error("Cannot decode function reference");const r=eg(e),i=Number(jt(e)),s=As(e,i),a=new TextDecoder("utf8",{fatal:!0}).decode(s);return[r,a]}get name(){const e=this.argTypes.map(i=>i.name).join(", "),n=this.retTypes.map(i=>i.name).join(", "),r=" "+this.annotations.join(" ");return`(${e}) -> (${n})${r}`}valueToString([e,n]){return`func "${e.toText()}".${n}`}display(){const e=this.argTypes.map(i=>i.display()).join(", "),n=this.retTypes.map(i=>i.display()).join(", "),r=" "+this.annotations.join(" ");return`(${e})  (${n})${r}`}encodeAnnotation(e){if(e==="query")return new Uint8Array([1]);if(e==="oneway")return new Uint8Array([2]);if(e==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class av extends Ji{constructor(e){super(),this._fields=Object.entries(e).sort((n,r)=>n[0]<r[0]?-1:n[0]>r[0]?1:0)}accept(e,n){return e.visitService(this,n)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=e.toUint8Array(),r=ht(n.length);return Ge(new Uint8Array([1]),r,n)}_buildTypeTableImpl(e){this._fields.forEach(([s,o])=>o.buildTypeTable(e));const n=Tt(-23),r=ht(this._fields.length),i=this._fields.map(([s,o])=>{const a=new TextEncoder().encode(s),l=ht(a.length);return Ge(l,a,o.encodeType(e))});e.add(this,Ge(n,r,...i))}decodeValue(e){return eg(e)}get name(){return`service {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}valueToString(e){return`service "${e.toText()}"`}}function xt(t){const e=JSON.stringify(t,(n,r)=>typeof r=="bigint"?`BigInt(${r})`:r);return e&&e.length>ty?e.substring(0,ty-3)+"...":e}function u0(t,e){if(e.length<t.length)throw Error("Wrong number of message arguments");const n=new j3;t.forEach(l=>l.buildTypeTable(n));const r=new TextEncoder().encode(Wc),i=n.encode(),s=ht(e.length),o=Ge(...t.map(l=>l.encodeType(n))),a=Ge(...cl(t,e,(l,c)=>{try{l.covariant(c)}catch(u){throw new Error(u.message+`

`)}return l.encodeValue(c)}));return Ge(r,i,s,o,a)}function lv(t,e){const n=new Do(e);if(e.byteLength<Wc.length)throw new Error("Message length smaller than magic number");const r=As(n,Wc.length),i=new TextDecoder().decode(r);if(i!==Wc)throw new Error("Wrong magic number: "+JSON.stringify(i));function s(g){const p=[],v=Number(jt(g));for(let _=0;_<v;_++){const S=Number(fi(g));switch(S){case-18:case-19:{const R=Number(fi(g));p.push([S,R]);break}case-20:case-21:{const R=[];let k=Number(jt(g)),M;for(;k--;){const C=Number(jt(g));if(C>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof M=="number"&&M>=C)throw new Error("field id collision or not sorted");M=C;const U=Number(fi(g));R.push([C,U])}p.push([S,R]);break}case-22:{const R=[];let k=Number(jt(g));for(;k--;)R.push(Number(fi(g)));const M=[];let C=Number(jt(g));for(;C--;)M.push(Number(fi(g)));const U=[];let I=Number(jt(g));for(;I--;)switch(Number(jt(g))){case 1:{U.push("query");break}case 2:{U.push("oneway");break}case 3:{U.push("composite_query");break}default:throw new Error("unknown annotation")}p.push([S,[R,M,U]]);break}case-23:{let R=Number(jt(g));const k=[];for(;R--;){const M=Number(jt(g)),C=new TextDecoder().decode(As(g,M)),U=fi(g);k.push([C,U])}p.push([S,k]);break}default:throw new Error("Illegal op_code: "+S)}}const E=[],b=Number(jt(g));for(let _=0;_<b;_++)E.push(Number(fi(g)));return[p,E]}const[o,a]=s(n);if(a.length<t.length)throw new Error("Wrong number of return values");const l=o.map(g=>Rv());function c(g){if(g<-24)throw new Error("future value not supported");if(g<0)switch(g){case-1:return fv;case-2:return dv;case-3:return gv;case-4:return pv;case-5:return _v;case-6:return Ev;case-7:return Sv;case-8:return kv;case-9:return xv;case-10:return bv;case-11:return wv;case-12:return vv;case-13:return mv;case-14:return yv;case-15:return hv;case-16:return uv;case-17:return cv;case-24:return Nv;default:throw new Error("Illegal op_code: "+g)}if(g>=o.length)throw new Error("type index out of range");return l[g]}function u(g){switch(g[0]){case-19:{const p=c(g[1]);return Av(p)}case-18:{const p=c(g[1]);return Cv(p)}case-20:{const p={};for(const[b,_]of g[1]){const S=`_${b}_`;p[S]=c(_)}const v=jv(p),E=v.tryAsTuple();return Array.isArray(E)?Tv(...E):v}case-21:{const p={};for(const[v,E]of g[1]){const b=`_${v}_`;p[b]=c(E)}return Bv(p)}case-22:{const[p,v,E]=g[1];return Pv(p.map(b=>c(b)),v.map(b=>c(b)),E)}case-23:{const p={},v=g[1];for(const[E,b]of v){let _=c(b);if(_ instanceof es&&(_=_.getType()),!(_ instanceof tg))throw new Error("Illegal service definition: services can only contain functions");p[E]=_}return Ov(p)}default:throw new Error("Illegal op_code: "+g[0])}}o.forEach((g,p)=>{if(g[0]===-22){const v=u(g);l[p].fill(v)}}),o.forEach((g,p)=>{if(g[0]!==-22){const v=u(g);l[p].fill(v)}});const f=a.map(g=>c(g)),h=t.map((g,p)=>g.decodeValue(n,f[p]));for(let g=t.length;g<f.length;g++)f[g].decodeValue(n,f[g]);if(n.byteLength>0)throw new Error("decode: Left-over bytes");return h}const cv=new J1,uv=new Xu,R3=new ev,dv=new tv,fv=new nv,hv=new rv,pv=new iv,gv=new sv,mv=new Jp(32),yv=new Jp(64),xv=new js(8),bv=new js(16),wv=new js(32),vv=new js(64),_v=new zi(8),Ev=new zi(16),Sv=new zi(32),kv=new zi(64),Nv=new ov;function Tv(...t){return new Ud(t)}function Av(t){return new Id(t)}function Cv(t){return new Ro(t)}function jv(t){return new Bl(t)}function Bv(t){return new Ld(t)}function Rv(){return new es}function Pv(t,e,n=[]){return new tg(t,e,n)}function Ov(t){return new av(t)}const P3=Object.freeze(Object.defineProperty({__proto__:null,Bool:dv,BoolClass:tv,ConstructType:Ji,Empty:cv,EmptyClass:J1,FixedIntClass:js,FixedNatClass:zi,Float32:mv,Float64:yv,FloatClass:Jp,Func:Pv,FuncClass:tg,Int:pv,Int16:bv,Int32:wv,Int64:vv,Int8:xv,IntClass:iv,Nat:gv,Nat16:Ev,Nat32:Sv,Nat64:kv,Nat8:_v,NatClass:sv,Null:fv,NullClass:nv,Opt:Cv,OptClass:Ro,PrimitiveType:$n,Principal:Nv,PrincipalClass:ov,Rec:Rv,RecClass:es,Record:jv,RecordClass:Bl,Reserved:uv,ReservedClass:Xu,Service:Ov,ServiceClass:av,Text:hv,TextClass:rv,Tuple:Tv,TupleClass:Ud,Type:Fd,Unknown:R3,UnknownClass:ev,Variant:Bv,VariantClass:Ld,Vec:Av,VecClass:Id,Visitor:B3,decode:lv,encode:u0},Symbol.toStringTag,{value:"Module"}));var Mv={},Rl={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=Cl,n=jl,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var N=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(N,m),N.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(N){if(N>i)throw new RangeError('The value "'+N+'" is invalid for option "size"');var m=new Uint8Array(N);return Object.setPrototypeOf(m,a.prototype),m}function a(N,m,y){if(typeof N=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(N)}return l(N,m,y)}a.poolSize=8192;function l(N,m,y){if(typeof N=="string")return h(N,m);if(ArrayBuffer.isView(N))return p(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(X(N,ArrayBuffer)||N&&X(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(X(N,SharedArrayBuffer)||N&&X(N.buffer,SharedArrayBuffer)))return v(N,m,y);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var A=N.valueOf&&N.valueOf();if(A!=null&&A!==N)return a.from(A,m,y);var P=E(N);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return a.from(N[Symbol.toPrimitive]("string"),m,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}a.from=function(N,m,y){return l(N,m,y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function u(N,m,y){return c(N),N<=0?o(N):m!==void 0?typeof y=="string"?o(N).fill(m,y):o(N).fill(m):o(N)}a.alloc=function(N,m,y){return u(N,m,y)};function f(N){return c(N),o(N<0?0:b(N)|0)}a.allocUnsafe=function(N){return f(N)},a.allocUnsafeSlow=function(N){return f(N)};function h(N,m){if((typeof m!="string"||m==="")&&(m="utf8"),!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);var y=S(N,m)|0,A=o(y),P=A.write(N,m);return P!==y&&(A=A.slice(0,P)),A}function g(N){for(var m=N.length<0?0:b(N.length)|0,y=o(m),A=0;A<m;A+=1)y[A]=N[A]&255;return y}function p(N){if(X(N,Uint8Array)){var m=new Uint8Array(N);return v(m.buffer,m.byteOffset,m.byteLength)}return g(N)}function v(N,m,y){if(m<0||N.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<m+(y||0))throw new RangeError('"length" is outside of buffer bounds');var A;return m===void 0&&y===void 0?A=new Uint8Array(N):y===void 0?A=new Uint8Array(N,m):A=new Uint8Array(N,m,y),Object.setPrototypeOf(A,a.prototype),A}function E(N){if(a.isBuffer(N)){var m=b(N.length)|0,y=o(m);return y.length===0||N.copy(y,0,0,m),y}if(N.length!==void 0)return typeof N.length!="number"||q(N.length)?o(0):g(N);if(N.type==="Buffer"&&Array.isArray(N.data))return g(N.data)}function b(N){if(N>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return N|0}function _(N){return+N!=N&&(N=0),a.alloc(+N)}a.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==a.prototype},a.compare=function(m,y){if(X(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),X(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),!a.isBuffer(m)||!a.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===y)return 0;for(var A=m.length,P=y.length,$=0,te=Math.min(A,P);$<te;++$)if(m[$]!==y[$]){A=m[$],P=y[$];break}return A<P?-1:P<A?1:0},a.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(m,y){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return a.alloc(0);var A;if(y===void 0)for(y=0,A=0;A<m.length;++A)y+=m[A].length;var P=a.allocUnsafe(y),$=0;for(A=0;A<m.length;++A){var te=m[A];if(X(te,Uint8Array))$+te.length>P.length?a.from(te).copy(P,$):Uint8Array.prototype.set.call(P,te,$);else if(a.isBuffer(te))te.copy(P,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=te.length}return P};function S(N,m){if(a.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||X(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var y=N.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&y===0)return 0;for(var P=!1;;)switch(m){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return de(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return O(N).length;default:if(P)return A?-1:de(N).length;m=(""+m).toLowerCase(),P=!0}}a.byteLength=S;function R(N,m,y){var A=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,m>>>=0,y<=m))return"";for(N||(N="utf8");;)switch(N){case"hex":return K(this,m,y);case"utf8":case"utf-8":return H(this,m,y);case"ascii":return Z(this,m,y);case"latin1":case"binary":return G(this,m,y);case"base64":return L(this,m,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,m,y);default:if(A)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),A=!0}}a.prototype._isBuffer=!0;function k(N,m,y){var A=N[m];N[m]=N[y],N[y]=A}a.prototype.swap16=function(){var m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var y=0;y<m;y+=2)k(this,y,y+1);return this},a.prototype.swap32=function(){var m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<m;y+=4)k(this,y,y+3),k(this,y+1,y+2);return this},a.prototype.swap64=function(){var m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<m;y+=8)k(this,y,y+7),k(this,y+1,y+6),k(this,y+2,y+5),k(this,y+3,y+4);return this},a.prototype.toString=function(){var m=this.length;return m===0?"":arguments.length===0?H(this,0,m):R.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(m){if(!a.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:a.compare(this,m)===0},a.prototype.inspect=function(){var m="",y=t.INSPECT_MAX_BYTES;return m=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(m+=" ... "),"<Buffer "+m+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(m,y,A,P,$){if(X(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(y===void 0&&(y=0),A===void 0&&(A=m?m.length:0),P===void 0&&(P=0),$===void 0&&($=this.length),y<0||A>m.length||P<0||$>this.length)throw new RangeError("out of range index");if(P>=$&&y>=A)return 0;if(P>=$)return-1;if(y>=A)return 1;if(y>>>=0,A>>>=0,P>>>=0,$>>>=0,this===m)return 0;for(var te=$-P,fe=A-y,be=Math.min(te,fe),_e=this.slice(P,$),Ae=m.slice(y,A),T=0;T<be;++T)if(_e[T]!==Ae[T]){te=_e[T],fe=Ae[T];break}return te<fe?-1:fe<te?1:0};function M(N,m,y,A,P){if(N.length===0)return-1;if(typeof y=="string"?(A=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,q(y)&&(y=P?0:N.length-1),y<0&&(y=N.length+y),y>=N.length){if(P)return-1;y=N.length-1}else if(y<0)if(P)y=0;else return-1;if(typeof m=="string"&&(m=a.from(m,A)),a.isBuffer(m))return m.length===0?-1:C(N,m,y,A,P);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(N,m,y):Uint8Array.prototype.lastIndexOf.call(N,m,y):C(N,[m],y,A,P);throw new TypeError("val must be string, number or Buffer")}function C(N,m,y,A,P){var $=1,te=N.length,fe=m.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(N.length<2||m.length<2)return-1;$=2,te/=2,fe/=2,y/=2}function be(w,F){return $===1?w[F]:w.readUInt16BE(F*$)}var _e;if(P){var Ae=-1;for(_e=y;_e<te;_e++)if(be(N,_e)===be(m,Ae===-1?0:_e-Ae)){if(Ae===-1&&(Ae=_e),_e-Ae+1===fe)return Ae*$}else Ae!==-1&&(_e-=_e-Ae),Ae=-1}else for(y+fe>te&&(y=te-fe),_e=y;_e>=0;_e--){for(var T=!0,x=0;x<fe;x++)if(be(N,_e+x)!==be(m,x)){T=!1;break}if(T)return _e}return-1}a.prototype.includes=function(m,y,A){return this.indexOf(m,y,A)!==-1},a.prototype.indexOf=function(m,y,A){return M(this,m,y,A,!0)},a.prototype.lastIndexOf=function(m,y,A){return M(this,m,y,A,!1)};function U(N,m,y,A){y=Number(y)||0;var P=N.length-y;A?(A=Number(A),A>P&&(A=P)):A=P;var $=m.length;A>$/2&&(A=$/2);for(var te=0;te<A;++te){var fe=parseInt(m.substr(te*2,2),16);if(q(fe))return te;N[y+te]=fe}return te}function I(N,m,y,A){return z(de(m,N.length-y),N,y,A)}function V(N,m,y,A){return z(ge(m),N,y,A)}function ie(N,m,y,A){return z(O(m),N,y,A)}function ae(N,m,y,A){return z(B(m,N.length-y),N,y,A)}a.prototype.write=function(m,y,A,P){if(y===void 0)P="utf8",A=this.length,y=0;else if(A===void 0&&typeof y=="string")P=y,A=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(A)?(A=A>>>0,P===void 0&&(P="utf8")):(P=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var $=this.length-y;if((A===void 0||A>$)&&(A=$),m.length>0&&(A<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");for(var te=!1;;)switch(P){case"hex":return U(this,m,y,A);case"utf8":case"utf-8":return I(this,m,y,A);case"ascii":case"latin1":case"binary":return V(this,m,y,A);case"base64":return ie(this,m,y,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,m,y,A);default:if(te)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(N,m,y){return m===0&&y===N.length?e.fromByteArray(N):e.fromByteArray(N.slice(m,y))}function H(N,m,y){y=Math.min(N.length,y);for(var A=[],P=m;P<y;){var $=N[P],te=null,fe=$>239?4:$>223?3:$>191?2:1;if(P+fe<=y){var be,_e,Ae,T;switch(fe){case 1:$<128&&(te=$);break;case 2:be=N[P+1],(be&192)===128&&(T=($&31)<<6|be&63,T>127&&(te=T));break;case 3:be=N[P+1],_e=N[P+2],(be&192)===128&&(_e&192)===128&&(T=($&15)<<12|(be&63)<<6|_e&63,T>2047&&(T<55296||T>57343)&&(te=T));break;case 4:be=N[P+1],_e=N[P+2],Ae=N[P+3],(be&192)===128&&(_e&192)===128&&(Ae&192)===128&&(T=($&15)<<18|(be&63)<<12|(_e&63)<<6|Ae&63,T>65535&&T<1114112&&(te=T))}}te===null?(te=65533,fe=1):te>65535&&(te-=65536,A.push(te>>>10&1023|55296),te=56320|te&1023),A.push(te),P+=fe}return ee(A)}var J=4096;function ee(N){var m=N.length;if(m<=J)return String.fromCharCode.apply(String,N);for(var y="",A=0;A<m;)y+=String.fromCharCode.apply(String,N.slice(A,A+=J));return y}function Z(N,m,y){var A="";y=Math.min(N.length,y);for(var P=m;P<y;++P)A+=String.fromCharCode(N[P]&127);return A}function G(N,m,y){var A="";y=Math.min(N.length,y);for(var P=m;P<y;++P)A+=String.fromCharCode(N[P]);return A}function K(N,m,y){var A=N.length;(!m||m<0)&&(m=0),(!y||y<0||y>A)&&(y=A);for(var P="",$=m;$<y;++$)P+=Q[N[$]];return P}function ce(N,m,y){for(var A=N.slice(m,y),P="",$=0;$<A.length-1;$+=2)P+=String.fromCharCode(A[$]+A[$+1]*256);return P}a.prototype.slice=function(m,y){var A=this.length;m=~~m,y=y===void 0?A:~~y,m<0?(m+=A,m<0&&(m=0)):m>A&&(m=A),y<0?(y+=A,y<0&&(y=0)):y>A&&(y=A),y<m&&(y=m);var P=this.subarray(m,y);return Object.setPrototypeOf(P,a.prototype),P};function se(N,m,y){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+m>y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(m,y,A){m=m>>>0,y=y>>>0,A||se(m,y,this.length);for(var P=this[m],$=1,te=0;++te<y&&($*=256);)P+=this[m+te]*$;return P},a.prototype.readUintBE=a.prototype.readUIntBE=function(m,y,A){m=m>>>0,y=y>>>0,A||se(m,y,this.length);for(var P=this[m+--y],$=1;y>0&&($*=256);)P+=this[m+--y]*$;return P},a.prototype.readUint8=a.prototype.readUInt8=function(m,y){return m=m>>>0,y||se(m,1,this.length),this[m]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(m,y){return m=m>>>0,y||se(m,2,this.length),this[m]|this[m+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(m,y){return m=m>>>0,y||se(m,2,this.length),this[m]<<8|this[m+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(m,y){return m=m>>>0,y||se(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(m,y){return m=m>>>0,y||se(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},a.prototype.readIntLE=function(m,y,A){m=m>>>0,y=y>>>0,A||se(m,y,this.length);for(var P=this[m],$=1,te=0;++te<y&&($*=256);)P+=this[m+te]*$;return $*=128,P>=$&&(P-=Math.pow(2,8*y)),P},a.prototype.readIntBE=function(m,y,A){m=m>>>0,y=y>>>0,A||se(m,y,this.length);for(var P=y,$=1,te=this[m+--P];P>0&&($*=256);)te+=this[m+--P]*$;return $*=128,te>=$&&(te-=Math.pow(2,8*y)),te},a.prototype.readInt8=function(m,y){return m=m>>>0,y||se(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},a.prototype.readInt16LE=function(m,y){m=m>>>0,y||se(m,2,this.length);var A=this[m]|this[m+1]<<8;return A&32768?A|4294901760:A},a.prototype.readInt16BE=function(m,y){m=m>>>0,y||se(m,2,this.length);var A=this[m+1]|this[m]<<8;return A&32768?A|4294901760:A},a.prototype.readInt32LE=function(m,y){return m=m>>>0,y||se(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},a.prototype.readInt32BE=function(m,y){return m=m>>>0,y||se(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},a.prototype.readFloatLE=function(m,y){return m=m>>>0,y||se(m,4,this.length),n.read(this,m,!0,23,4)},a.prototype.readFloatBE=function(m,y){return m=m>>>0,y||se(m,4,this.length),n.read(this,m,!1,23,4)},a.prototype.readDoubleLE=function(m,y){return m=m>>>0,y||se(m,8,this.length),n.read(this,m,!0,52,8)},a.prototype.readDoubleBE=function(m,y){return m=m>>>0,y||se(m,8,this.length),n.read(this,m,!1,52,8)};function ue(N,m,y,A,P,$){if(!a.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>P||m<$)throw new RangeError('"value" argument is out of bounds');if(y+A>N.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(m,y,A,P){if(m=+m,y=y>>>0,A=A>>>0,!P){var $=Math.pow(2,8*A)-1;ue(this,m,y,A,$,0)}var te=1,fe=0;for(this[y]=m&255;++fe<A&&(te*=256);)this[y+fe]=m/te&255;return y+A},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(m,y,A,P){if(m=+m,y=y>>>0,A=A>>>0,!P){var $=Math.pow(2,8*A)-1;ue(this,m,y,A,$,0)}var te=A-1,fe=1;for(this[y+te]=m&255;--te>=0&&(fe*=256);)this[y+te]=m/fe&255;return y+A},a.prototype.writeUint8=a.prototype.writeUInt8=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,1,255,0),this[y]=m&255,y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,2,65535,0),this[y]=m&255,this[y+1]=m>>>8,y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,2,65535,0),this[y]=m>>>8,this[y+1]=m&255,y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,4,4294967295,0),this[y+3]=m>>>24,this[y+2]=m>>>16,this[y+1]=m>>>8,this[y]=m&255,y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,4,4294967295,0),this[y]=m>>>24,this[y+1]=m>>>16,this[y+2]=m>>>8,this[y+3]=m&255,y+4},a.prototype.writeIntLE=function(m,y,A,P){if(m=+m,y=y>>>0,!P){var $=Math.pow(2,8*A-1);ue(this,m,y,A,$-1,-$)}var te=0,fe=1,be=0;for(this[y]=m&255;++te<A&&(fe*=256);)m<0&&be===0&&this[y+te-1]!==0&&(be=1),this[y+te]=(m/fe>>0)-be&255;return y+A},a.prototype.writeIntBE=function(m,y,A,P){if(m=+m,y=y>>>0,!P){var $=Math.pow(2,8*A-1);ue(this,m,y,A,$-1,-$)}var te=A-1,fe=1,be=0;for(this[y+te]=m&255;--te>=0&&(fe*=256);)m<0&&be===0&&this[y+te+1]!==0&&(be=1),this[y+te]=(m/fe>>0)-be&255;return y+A},a.prototype.writeInt8=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,1,127,-128),m<0&&(m=255+m+1),this[y]=m&255,y+1},a.prototype.writeInt16LE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,2,32767,-32768),this[y]=m&255,this[y+1]=m>>>8,y+2},a.prototype.writeInt16BE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,2,32767,-32768),this[y]=m>>>8,this[y+1]=m&255,y+2},a.prototype.writeInt32LE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,4,2147483647,-2147483648),this[y]=m&255,this[y+1]=m>>>8,this[y+2]=m>>>16,this[y+3]=m>>>24,y+4},a.prototype.writeInt32BE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[y]=m>>>24,this[y+1]=m>>>16,this[y+2]=m>>>8,this[y+3]=m&255,y+4};function oe(N,m,y,A,P,$){if(y+A>N.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function j(N,m,y,A,P){return m=+m,y=y>>>0,P||oe(N,m,y,4),n.write(N,m,y,A,23,4),y+4}a.prototype.writeFloatLE=function(m,y,A){return j(this,m,y,!0,A)},a.prototype.writeFloatBE=function(m,y,A){return j(this,m,y,!1,A)};function le(N,m,y,A,P){return m=+m,y=y>>>0,P||oe(N,m,y,8),n.write(N,m,y,A,52,8),y+8}a.prototype.writeDoubleLE=function(m,y,A){return le(this,m,y,!0,A)},a.prototype.writeDoubleBE=function(m,y,A){return le(this,m,y,!1,A)},a.prototype.copy=function(m,y,A,P){if(!a.isBuffer(m))throw new TypeError("argument should be a Buffer");if(A||(A=0),!P&&P!==0&&(P=this.length),y>=m.length&&(y=m.length),y||(y=0),P>0&&P<A&&(P=A),P===A||m.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),m.length-y<P-A&&(P=m.length-y+A);var $=P-A;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,A,P):Uint8Array.prototype.set.call(m,this.subarray(A,P),y),$},a.prototype.fill=function(m,y,A,P){if(typeof m=="string"){if(typeof y=="string"?(P=y,y=0,A=this.length):typeof A=="string"&&(P=A,A=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!a.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(m.length===1){var $=m.charCodeAt(0);(P==="utf8"&&$<128||P==="latin1")&&(m=$)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(y<0||this.length<y||this.length<A)throw new RangeError("Out of range index");if(A<=y)return this;y=y>>>0,A=A===void 0?this.length:A>>>0,m||(m=0);var te;if(typeof m=="number")for(te=y;te<A;++te)this[te]=m;else{var fe=a.isBuffer(m)?m:a.from(m,P),be=fe.length;if(be===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(te=0;te<A-y;++te)this[te+y]=fe[te%be]}return this};var he=/[^+/0-9A-Za-z-_]/g;function me(N){if(N=N.split("=")[0],N=N.trim().replace(he,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function de(N,m){m=m||1/0;for(var y,A=N.length,P=null,$=[],te=0;te<A;++te){if(y=N.charCodeAt(te),y>55295&&y<57344){if(!P){if(y>56319){(m-=3)>-1&&$.push(239,191,189);continue}else if(te+1===A){(m-=3)>-1&&$.push(239,191,189);continue}P=y;continue}if(y<56320){(m-=3)>-1&&$.push(239,191,189),P=y;continue}y=(P-55296<<10|y-56320)+65536}else P&&(m-=3)>-1&&$.push(239,191,189);if(P=null,y<128){if((m-=1)<0)break;$.push(y)}else if(y<2048){if((m-=2)<0)break;$.push(y>>6|192,y&63|128)}else if(y<65536){if((m-=3)<0)break;$.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((m-=4)<0)break;$.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return $}function ge(N){for(var m=[],y=0;y<N.length;++y)m.push(N.charCodeAt(y)&255);return m}function B(N,m){for(var y,A,P,$=[],te=0;te<N.length&&!((m-=2)<0);++te)y=N.charCodeAt(te),A=y>>8,P=y%256,$.push(P),$.push(A);return $}function O(N){return e.toByteArray(me(N))}function z(N,m,y,A){for(var P=0;P<A&&!(P+y>=m.length||P>=N.length);++P)m[P+y]=N[P];return P}function X(N,m){return N instanceof m||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===m.name}function q(N){return N!==N}var Q=function(){for(var N="0123456789abcdef",m=new Array(256),y=0;y<16;++y)for(var A=y*16,P=0;P<16;++P)m[A+P]=N[y]+N[P];return m}()})(Rl);var Fv={exports:{}};(function(t){(function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,u=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,g=1e9;function p(M){var C,U,I,V=j.prototype={constructor:j,toString:null,valueOf:null},ie=new j(1),ae=20,L=4,H=-7,J=21,ee=-1e7,Z=1e7,G=!1,K=1,ce=0,se={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},ue="0123456789abcdefghijklmnopqrstuvwxyz",oe=!0;function j(B,O){var z,X,q,Q,N,m,y,A,P=this;if(!(P instanceof j))return new j(B,O);if(O==null){if(B&&B._isBigNumber===!0){P.s=B.s,!B.c||B.e>Z?P.c=P.e=null:B.e<ee?P.c=[P.e=0]:(P.e=B.e,P.c=B.c.slice());return}if((m=typeof B=="number")&&B*0==0){if(P.s=1/B<0?(B=-B,-1):1,B===~~B){for(Q=0,N=B;N>=10;N/=10,Q++);Q>Z?P.c=P.e=null:(P.e=Q,P.c=[B]);return}A=String(B)}else{if(!r.test(A=String(B)))return I(P,A,m);P.s=A.charCodeAt(0)==45?(A=A.slice(1),-1):1}(Q=A.indexOf("."))>-1&&(A=A.replace(".","")),(N=A.search(/e/i))>0?(Q<0&&(Q=N),Q+=+A.slice(N+1),A=A.substring(0,N)):Q<0&&(Q=A.length)}else{if(_(O,2,ue.length,"Base"),O==10&&oe)return P=new j(B),de(P,ae+P.e+1,L);if(A=String(B),m=typeof B=="number"){if(B*0!=0)return I(P,A,m,O);if(P.s=1/B<0?(A=A.slice(1),-1):1,j.DEBUG&&A.replace(/^0\.0*|\./,"").length>15)throw Error(a+B)}else P.s=A.charCodeAt(0)===45?(A=A.slice(1),-1):1;for(z=ue.slice(0,O),Q=N=0,y=A.length;N<y;N++)if(z.indexOf(X=A.charAt(N))<0){if(X=="."){if(N>Q){Q=y;continue}}else if(!q&&(A==A.toUpperCase()&&(A=A.toLowerCase())||A==A.toLowerCase()&&(A=A.toUpperCase()))){q=!0,N=-1,Q=0;continue}return I(P,String(B),m,O)}m=!1,A=U(A,O,10,P.s),(Q=A.indexOf("."))>-1?A=A.replace(".",""):Q=A.length}for(N=0;A.charCodeAt(N)===48;N++);for(y=A.length;A.charCodeAt(--y)===48;);if(A=A.slice(N,++y)){if(y-=N,m&&j.DEBUG&&y>15&&(B>u||B!==s(B)))throw Error(a+P.s*B);if((Q=Q-N-1)>Z)P.c=P.e=null;else if(Q<ee)P.c=[P.e=0];else{if(P.e=Q,P.c=[],N=(Q+1)%c,Q<0&&(N+=c),N<y){for(N&&P.c.push(+A.slice(0,N)),y-=c;N<y;)P.c.push(+A.slice(N,N+=c));N=c-(A=A.slice(N)).length}else N-=y;for(;N--;A+="0");P.c.push(+A)}}else P.c=[P.e=0]}j.clone=p,j.ROUND_UP=0,j.ROUND_DOWN=1,j.ROUND_CEIL=2,j.ROUND_FLOOR=3,j.ROUND_HALF_UP=4,j.ROUND_HALF_DOWN=5,j.ROUND_HALF_EVEN=6,j.ROUND_HALF_CEIL=7,j.ROUND_HALF_FLOOR=8,j.EUCLID=9,j.config=j.set=function(B){var O,z;if(B!=null)if(typeof B=="object"){if(B.hasOwnProperty(O="DECIMAL_PLACES")&&(z=B[O],_(z,0,g,O),ae=z),B.hasOwnProperty(O="ROUNDING_MODE")&&(z=B[O],_(z,0,8,O),L=z),B.hasOwnProperty(O="EXPONENTIAL_AT")&&(z=B[O],z&&z.pop?(_(z[0],-1e9,0,O),_(z[1],0,g,O),H=z[0],J=z[1]):(_(z,-1e9,g,O),H=-(J=z<0?-z:z))),B.hasOwnProperty(O="RANGE"))if(z=B[O],z&&z.pop)_(z[0],-1e9,-1,O),_(z[1],1,g,O),ee=z[0],Z=z[1];else if(_(z,-1e9,g,O),z)ee=-(Z=z<0?-z:z);else throw Error(o+O+" cannot be zero: "+z);if(B.hasOwnProperty(O="CRYPTO"))if(z=B[O],z===!!z)if(z)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))G=z;else throw G=!z,Error(o+"crypto unavailable");else G=z;else throw Error(o+O+" not true or false: "+z);if(B.hasOwnProperty(O="MODULO_MODE")&&(z=B[O],_(z,0,9,O),K=z),B.hasOwnProperty(O="POW_PRECISION")&&(z=B[O],_(z,0,g,O),ce=z),B.hasOwnProperty(O="FORMAT"))if(z=B[O],typeof z=="object")se=z;else throw Error(o+O+" not an object: "+z);if(B.hasOwnProperty(O="ALPHABET"))if(z=B[O],typeof z=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(z))oe=z.slice(0,10)=="0123456789",ue=z;else throw Error(o+O+" invalid: "+z)}else throw Error(o+"Object expected: "+B);return{DECIMAL_PLACES:ae,ROUNDING_MODE:L,EXPONENTIAL_AT:[H,J],RANGE:[ee,Z],CRYPTO:G,MODULO_MODE:K,POW_PRECISION:ce,FORMAT:se,ALPHABET:ue}},j.isBigNumber=function(B){if(!B||B._isBigNumber!==!0)return!1;if(!j.DEBUG)return!0;var O,z,X=B.c,q=B.e,Q=B.s;e:if({}.toString.call(X)=="[object Array]"){if((Q===1||Q===-1)&&q>=-1e9&&q<=g&&q===s(q)){if(X[0]===0){if(q===0&&X.length===1)return!0;break e}if(O=(q+1)%c,O<1&&(O+=c),String(X[0]).length==O){for(O=0;O<X.length;O++)if(z=X[O],z<0||z>=l||z!==s(z))break e;if(z!==0)return!0}}}else if(X===null&&q===null&&(Q===null||Q===1||Q===-1))return!0;throw Error(o+"Invalid BigNumber: "+B)},j.maximum=j.max=function(){return he(arguments,-1)},j.minimum=j.min=function(){return he(arguments,1)},j.random=function(){var B=9007199254740992,O=Math.random()*B&2097151?function(){return s(Math.random()*B)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(z){var X,q,Q,N,m,y=0,A=[],P=new j(ie);if(z==null?z=ae:_(z,0,g),N=i(z/c),G)if(crypto.getRandomValues){for(X=crypto.getRandomValues(new Uint32Array(N*=2));y<N;)m=X[y]*131072+(X[y+1]>>>11),m>=9e15?(q=crypto.getRandomValues(new Uint32Array(2)),X[y]=q[0],X[y+1]=q[1]):(A.push(m%1e14),y+=2);y=N/2}else if(crypto.randomBytes){for(X=crypto.randomBytes(N*=7);y<N;)m=(X[y]&31)*281474976710656+X[y+1]*1099511627776+X[y+2]*4294967296+X[y+3]*16777216+(X[y+4]<<16)+(X[y+5]<<8)+X[y+6],m>=9e15?crypto.randomBytes(7).copy(X,y):(A.push(m%1e14),y+=7);y=N/7}else throw G=!1,Error(o+"crypto unavailable");if(!G)for(;y<N;)m=O(),m<9e15&&(A[y++]=m%1e14);for(N=A[--y],z%=c,N&&z&&(m=f[c-z],A[y]=s(N/m)*m);A[y]===0;A.pop(),y--);if(y<0)A=[Q=0];else{for(Q=-1;A[0]===0;A.splice(0,1),Q-=c);for(y=1,m=A[0];m>=10;m/=10,y++);y<c&&(Q-=c-y)}return P.e=Q,P.c=A,P}}(),j.sum=function(){for(var B=1,O=arguments,z=new j(O[0]);B<O.length;)z=z.plus(O[B++]);return z},U=function(){var B="0123456789";function O(z,X,q,Q){for(var N,m=[0],y,A=0,P=z.length;A<P;){for(y=m.length;y--;m[y]*=X);for(m[0]+=Q.indexOf(z.charAt(A++)),N=0;N<m.length;N++)m[N]>q-1&&(m[N+1]==null&&(m[N+1]=0),m[N+1]+=m[N]/q|0,m[N]%=q)}return m.reverse()}return function(z,X,q,Q,N){var m,y,A,P,$,te,fe,be,_e=z.indexOf("."),Ae=ae,T=L;for(_e>=0&&(P=ce,ce=0,z=z.replace(".",""),be=new j(X),te=be.pow(z.length-_e),ce=P,be.c=O(k(E(te.c),te.e,"0"),10,q,B),be.e=be.c.length),fe=O(z,X,q,N?(m=ue,B):(m=B,ue)),A=P=fe.length;fe[--P]==0;fe.pop());if(!fe[0])return m.charAt(0);if(_e<0?--A:(te.c=fe,te.e=A,te.s=Q,te=C(te,be,Ae,T,q),fe=te.c,$=te.r,A=te.e),y=A+Ae+1,_e=fe[y],P=q/2,$=$||y<0||fe[y+1]!=null,$=T<4?(_e!=null||$)&&(T==0||T==(te.s<0?3:2)):_e>P||_e==P&&(T==4||$||T==6&&fe[y-1]&1||T==(te.s<0?8:7)),y<1||!fe[0])z=$?k(m.charAt(1),-Ae,m.charAt(0)):m.charAt(0);else{if(fe.length=y,$)for(--q;++fe[--y]>q;)fe[y]=0,y||(++A,fe=[1].concat(fe));for(P=fe.length;!fe[--P];);for(_e=0,z="";_e<=P;z+=m.charAt(fe[_e++]));z=k(z,A,m.charAt(0))}return z}}(),C=function(){function B(X,q,Q){var N,m,y,A,P=0,$=X.length,te=q%h,fe=q/h|0;for(X=X.slice();$--;)y=X[$]%h,A=X[$]/h|0,N=fe*y+A*te,m=te*y+N%h*h+P,P=(m/Q|0)+(N/h|0)+fe*A,X[$]=m%Q;return P&&(X=[P].concat(X)),X}function O(X,q,Q,N){var m,y;if(Q!=N)y=Q>N?1:-1;else for(m=y=0;m<Q;m++)if(X[m]!=q[m]){y=X[m]>q[m]?1:-1;break}return y}function z(X,q,Q,N){for(var m=0;Q--;)X[Q]-=m,m=X[Q]<q[Q]?1:0,X[Q]=m*N+X[Q]-q[Q];for(;!X[0]&&X.length>1;X.splice(0,1));}return function(X,q,Q,N,m){var y,A,P,$,te,fe,be,_e,Ae,T,x,w,F,Y,re,ne,Te,Oe=X.s==q.s?1:-1,je=X.c,Ne=q.c;if(!je||!je[0]||!Ne||!Ne[0])return new j(!X.s||!q.s||(je?Ne&&je[0]==Ne[0]:!Ne)?NaN:je&&je[0]==0||!Ne?Oe*0:Oe/0);for(_e=new j(Oe),Ae=_e.c=[],A=X.e-q.e,Oe=Q+A+1,m||(m=l,A=v(X.e/c)-v(q.e/c),Oe=Oe/c|0),P=0;Ne[P]==(je[P]||0);P++);if(Ne[P]>(je[P]||0)&&A--,Oe<0)Ae.push(1),$=!0;else{for(Y=je.length,ne=Ne.length,P=0,Oe+=2,te=s(m/(Ne[0]+1)),te>1&&(Ne=B(Ne,te,m),je=B(je,te,m),ne=Ne.length,Y=je.length),F=ne,T=je.slice(0,ne),x=T.length;x<ne;T[x++]=0);Te=Ne.slice(),Te=[0].concat(Te),re=Ne[0],Ne[1]>=m/2&&re++;do{if(te=0,y=O(Ne,T,ne,x),y<0){if(w=T[0],ne!=x&&(w=w*m+(T[1]||0)),te=s(w/re),te>1)for(te>=m&&(te=m-1),fe=B(Ne,te,m),be=fe.length,x=T.length;O(fe,T,be,x)==1;)te--,z(fe,ne<be?Te:Ne,be,m),be=fe.length,y=1;else te==0&&(y=te=1),fe=Ne.slice(),be=fe.length;if(be<x&&(fe=[0].concat(fe)),z(T,fe,x,m),x=T.length,y==-1)for(;O(Ne,T,ne,x)<1;)te++,z(T,ne<x?Te:Ne,x,m),x=T.length}else y===0&&(te++,T=[0]);Ae[P++]=te,T[0]?T[x++]=je[F]||0:(T=[je[F]],x=1)}while((F++<Y||T[0]!=null)&&Oe--);$=T[0]!=null,Ae[0]||Ae.splice(0,1)}if(m==l){for(P=1,Oe=Ae[0];Oe>=10;Oe/=10,P++);de(_e,Q+(_e.e=P+A*c-1)+1,N,$)}else _e.e=A,_e.r=+$;return _e}}();function le(B,O,z,X){var q,Q,N,m,y;if(z==null?z=L:_(z,0,8),!B.c)return B.toString();if(q=B.c[0],N=B.e,O==null)y=E(B.c),y=X==1||X==2&&(N<=H||N>=J)?R(y,N):k(y,N,"0");else if(B=de(new j(B),O,z),Q=B.e,y=E(B.c),m=y.length,X==1||X==2&&(O<=Q||Q<=H)){for(;m<O;y+="0",m++);y=R(y,Q)}else if(O-=N,y=k(y,Q,"0"),Q+1>m){if(--O>0)for(y+=".";O--;y+="0");}else if(O+=Q-m,O>0)for(Q+1==m&&(y+=".");O--;y+="0");return B.s<0&&q?"-"+y:y}function he(B,O){for(var z,X,q=1,Q=new j(B[0]);q<B.length;q++)X=new j(B[q]),(!X.s||(z=b(Q,X))===O||z===0&&Q.s===O)&&(Q=X);return Q}function me(B,O,z){for(var X=1,q=O.length;!O[--q];O.pop());for(q=O[0];q>=10;q/=10,X++);return(z=X+z*c-1)>Z?B.c=B.e=null:z<ee?B.c=[B.e=0]:(B.e=z,B.c=O),B}I=function(){var B=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,z=/^\.([^.]+)$/,X=/^-?(Infinity|NaN)$/,q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Q,N,m,y){var A,P=m?N:N.replace(q,"");if(X.test(P))Q.s=isNaN(P)?null:P<0?-1:1;else{if(!m&&(P=P.replace(B,function($,te,fe){return A=(fe=fe.toLowerCase())=="x"?16:fe=="b"?2:8,!y||y==A?te:$}),y&&(A=y,P=P.replace(O,"$1").replace(z,"0.$1")),N!=P))return new j(P,A);if(j.DEBUG)throw Error(o+"Not a"+(y?" base "+y:"")+" number: "+N);Q.s=null}Q.c=Q.e=null}}();function de(B,O,z,X){var q,Q,N,m,y,A,P,$=B.c,te=f;if($){e:{for(q=1,m=$[0];m>=10;m/=10,q++);if(Q=O-q,Q<0)Q+=c,N=O,y=$[A=0],P=s(y/te[q-N-1]%10);else if(A=i((Q+1)/c),A>=$.length)if(X){for(;$.length<=A;$.push(0));y=P=0,q=1,Q%=c,N=Q-c+1}else break e;else{for(y=m=$[A],q=1;m>=10;m/=10,q++);Q%=c,N=Q-c+q,P=N<0?0:s(y/te[q-N-1]%10)}if(X=X||O<0||$[A+1]!=null||(N<0?y:y%te[q-N-1]),X=z<4?(P||X)&&(z==0||z==(B.s<0?3:2)):P>5||P==5&&(z==4||X||z==6&&(Q>0?N>0?y/te[q-N]:0:$[A-1])%10&1||z==(B.s<0?8:7)),O<1||!$[0])return $.length=0,X?(O-=B.e+1,$[0]=te[(c-O%c)%c],B.e=-O||0):$[0]=B.e=0,B;if(Q==0?($.length=A,m=1,A--):($.length=A+1,m=te[c-Q],$[A]=N>0?s(y/te[q-N]%te[N])*m:0),X)for(;;)if(A==0){for(Q=1,N=$[0];N>=10;N/=10,Q++);for(N=$[0]+=m,m=1;N>=10;N/=10,m++);Q!=m&&(B.e++,$[0]==l&&($[0]=1));break}else{if($[A]+=m,$[A]!=l)break;$[A--]=0,m=1}for(Q=$.length;$[--Q]===0;$.pop());}B.e>Z?B.c=B.e=null:B.e<ee&&(B.c=[B.e=0])}return B}function ge(B){var O,z=B.e;return z===null?B.toString():(O=E(B.c),O=z<=H||z>=J?R(O,z):k(O,z,"0"),B.s<0?"-"+O:O)}return V.absoluteValue=V.abs=function(){var B=new j(this);return B.s<0&&(B.s=1),B},V.comparedTo=function(B,O){return b(this,new j(B,O))},V.decimalPlaces=V.dp=function(B,O){var z,X,q,Q=this;if(B!=null)return _(B,0,g),O==null?O=L:_(O,0,8),de(new j(Q),B+Q.e+1,O);if(!(z=Q.c))return null;if(X=((q=z.length-1)-v(this.e/c))*c,q=z[q])for(;q%10==0;q/=10,X--);return X<0&&(X=0),X},V.dividedBy=V.div=function(B,O){return C(this,new j(B,O),ae,L)},V.dividedToIntegerBy=V.idiv=function(B,O){return C(this,new j(B,O),0,1)},V.exponentiatedBy=V.pow=function(B,O){var z,X,q,Q,N,m,y,A,P,$=this;if(B=new j(B),B.c&&!B.isInteger())throw Error(o+"Exponent not an integer: "+ge(B));if(O!=null&&(O=new j(O)),m=B.e>14,!$.c||!$.c[0]||$.c[0]==1&&!$.e&&$.c.length==1||!B.c||!B.c[0])return P=new j(Math.pow(+ge($),m?B.s*(2-S(B)):+ge(B))),O?P.mod(O):P;if(y=B.s<0,O){if(O.c?!O.c[0]:!O.s)return new j(NaN);X=!y&&$.isInteger()&&O.isInteger(),X&&($=$.mod(O))}else{if(B.e>9&&($.e>0||$.e<-1||($.e==0?$.c[0]>1||m&&$.c[1]>=24e7:$.c[0]<8e13||m&&$.c[0]<=9999975e7)))return Q=$.s<0&&S(B)?-0:0,$.e>-1&&(Q=1/Q),new j(y?1/Q:Q);ce&&(Q=i(ce/c+2))}for(m?(z=new j(.5),y&&(B.s=1),A=S(B)):(q=Math.abs(+ge(B)),A=q%2),P=new j(ie);;){if(A){if(P=P.times($),!P.c)break;Q?P.c.length>Q&&(P.c.length=Q):X&&(P=P.mod(O))}if(q){if(q=s(q/2),q===0)break;A=q%2}else if(B=B.times(z),de(B,B.e+1,1),B.e>14)A=S(B);else{if(q=+ge(B),q===0)break;A=q%2}$=$.times($),Q?$.c&&$.c.length>Q&&($.c.length=Q):X&&($=$.mod(O))}return X?P:(y&&(P=ie.div(P)),O?P.mod(O):Q?de(P,ce,L,N):P)},V.integerValue=function(B){var O=new j(this);return B==null?B=L:_(B,0,8),de(O,O.e+1,B)},V.isEqualTo=V.eq=function(B,O){return b(this,new j(B,O))===0},V.isFinite=function(){return!!this.c},V.isGreaterThan=V.gt=function(B,O){return b(this,new j(B,O))>0},V.isGreaterThanOrEqualTo=V.gte=function(B,O){return(O=b(this,new j(B,O)))===1||O===0},V.isInteger=function(){return!!this.c&&v(this.e/c)>this.c.length-2},V.isLessThan=V.lt=function(B,O){return b(this,new j(B,O))<0},V.isLessThanOrEqualTo=V.lte=function(B,O){return(O=b(this,new j(B,O)))===-1||O===0},V.isNaN=function(){return!this.s},V.isNegative=function(){return this.s<0},V.isPositive=function(){return this.s>0},V.isZero=function(){return!!this.c&&this.c[0]==0},V.minus=function(B,O){var z,X,q,Q,N=this,m=N.s;if(B=new j(B,O),O=B.s,!m||!O)return new j(NaN);if(m!=O)return B.s=-O,N.plus(B);var y=N.e/c,A=B.e/c,P=N.c,$=B.c;if(!y||!A){if(!P||!$)return P?(B.s=-O,B):new j($?N:NaN);if(!P[0]||!$[0])return $[0]?(B.s=-O,B):new j(P[0]?N:L==3?-0:0)}if(y=v(y),A=v(A),P=P.slice(),m=y-A){for((Q=m<0)?(m=-m,q=P):(A=y,q=$),q.reverse(),O=m;O--;q.push(0));q.reverse()}else for(X=(Q=(m=P.length)<(O=$.length))?m:O,m=O=0;O<X;O++)if(P[O]!=$[O]){Q=P[O]<$[O];break}if(Q&&(q=P,P=$,$=q,B.s=-B.s),O=(X=$.length)-(z=P.length),O>0)for(;O--;P[z++]=0);for(O=l-1;X>m;){if(P[--X]<$[X]){for(z=X;z&&!P[--z];P[z]=O);--P[z],P[X]+=l}P[X]-=$[X]}for(;P[0]==0;P.splice(0,1),--A);return P[0]?me(B,P,A):(B.s=L==3?-1:1,B.c=[B.e=0],B)},V.modulo=V.mod=function(B,O){var z,X,q=this;return B=new j(B,O),!q.c||!B.s||B.c&&!B.c[0]?new j(NaN):!B.c||q.c&&!q.c[0]?new j(q):(K==9?(X=B.s,B.s=1,z=C(q,B,0,3),B.s=X,z.s*=X):z=C(q,B,0,K),B=q.minus(z.times(B)),!B.c[0]&&K==1&&(B.s=q.s),B)},V.multipliedBy=V.times=function(B,O){var z,X,q,Q,N,m,y,A,P,$,te,fe,be,_e,Ae,T=this,x=T.c,w=(B=new j(B,O)).c;if(!x||!w||!x[0]||!w[0])return!T.s||!B.s||x&&!x[0]&&!w||w&&!w[0]&&!x?B.c=B.e=B.s=null:(B.s*=T.s,!x||!w?B.c=B.e=null:(B.c=[0],B.e=0)),B;for(X=v(T.e/c)+v(B.e/c),B.s*=T.s,y=x.length,$=w.length,y<$&&(be=x,x=w,w=be,q=y,y=$,$=q),q=y+$,be=[];q--;be.push(0));for(_e=l,Ae=h,q=$;--q>=0;){for(z=0,te=w[q]%Ae,fe=w[q]/Ae|0,N=y,Q=q+N;Q>q;)A=x[--N]%Ae,P=x[N]/Ae|0,m=fe*A+P*te,A=te*A+m%Ae*Ae+be[Q]+z,z=(A/_e|0)+(m/Ae|0)+fe*P,be[Q--]=A%_e;be[Q]=z}return z?++X:be.splice(0,1),me(B,be,X)},V.negated=function(){var B=new j(this);return B.s=-B.s||null,B},V.plus=function(B,O){var z,X=this,q=X.s;if(B=new j(B,O),O=B.s,!q||!O)return new j(NaN);if(q!=O)return B.s=-O,X.minus(B);var Q=X.e/c,N=B.e/c,m=X.c,y=B.c;if(!Q||!N){if(!m||!y)return new j(q/0);if(!m[0]||!y[0])return y[0]?B:new j(m[0]?X:q*0)}if(Q=v(Q),N=v(N),m=m.slice(),q=Q-N){for(q>0?(N=Q,z=y):(q=-q,z=m),z.reverse();q--;z.push(0));z.reverse()}for(q=m.length,O=y.length,q-O<0&&(z=y,y=m,m=z,O=q),q=0;O;)q=(m[--O]=m[O]+y[O]+q)/l|0,m[O]=l===m[O]?0:m[O]%l;return q&&(m=[q].concat(m),++N),me(B,m,N)},V.precision=V.sd=function(B,O){var z,X,q,Q=this;if(B!=null&&B!==!!B)return _(B,1,g),O==null?O=L:_(O,0,8),de(new j(Q),B,O);if(!(z=Q.c))return null;if(q=z.length-1,X=q*c+1,q=z[q]){for(;q%10==0;q/=10,X--);for(q=z[0];q>=10;q/=10,X++);}return B&&Q.e+1>X&&(X=Q.e+1),X},V.shiftedBy=function(B){return _(B,-9007199254740991,u),this.times("1e"+B)},V.squareRoot=V.sqrt=function(){var B,O,z,X,q,Q=this,N=Q.c,m=Q.s,y=Q.e,A=ae+4,P=new j("0.5");if(m!==1||!N||!N[0])return new j(!m||m<0&&(!N||N[0])?NaN:N?Q:1/0);if(m=Math.sqrt(+ge(Q)),m==0||m==1/0?(O=E(N),(O.length+y)%2==0&&(O+="0"),m=Math.sqrt(+O),y=v((y+1)/2)-(y<0||y%2),m==1/0?O="5e"+y:(O=m.toExponential(),O=O.slice(0,O.indexOf("e")+1)+y),z=new j(O)):z=new j(m+""),z.c[0]){for(y=z.e,m=y+A,m<3&&(m=0);;)if(q=z,z=P.times(q.plus(C(Q,q,A,1))),E(q.c).slice(0,m)===(O=E(z.c)).slice(0,m))if(z.e<y&&--m,O=O.slice(m-3,m+1),O=="9999"||!X&&O=="4999"){if(!X&&(de(q,q.e+ae+2,0),q.times(q).eq(Q))){z=q;break}A+=4,m+=4,X=1}else{(!+O||!+O.slice(1)&&O.charAt(0)=="5")&&(de(z,z.e+ae+2,1),B=!z.times(z).eq(Q));break}}return de(z,z.e+ae+1,L,B)},V.toExponential=function(B,O){return B!=null&&(_(B,0,g),B++),le(this,B,O,1)},V.toFixed=function(B,O){return B!=null&&(_(B,0,g),B=B+this.e+1),le(this,B,O)},V.toFormat=function(B,O,z){var X,q=this;if(z==null)B!=null&&O&&typeof O=="object"?(z=O,O=null):B&&typeof B=="object"?(z=B,B=O=null):z=se;else if(typeof z!="object")throw Error(o+"Argument not an object: "+z);if(X=q.toFixed(B,O),q.c){var Q,N=X.split("."),m=+z.groupSize,y=+z.secondaryGroupSize,A=z.groupSeparator||"",P=N[0],$=N[1],te=q.s<0,fe=te?P.slice(1):P,be=fe.length;if(y&&(Q=m,m=y,y=Q,be-=Q),m>0&&be>0){for(Q=be%m||m,P=fe.substr(0,Q);Q<be;Q+=m)P+=A+fe.substr(Q,m);y>0&&(P+=A+fe.slice(Q)),te&&(P="-"+P)}X=$?P+(z.decimalSeparator||"")+((y=+z.fractionGroupSize)?$.replace(new RegExp("\\d{"+y+"}\\B","g"),"$&"+(z.fractionGroupSeparator||"")):$):P}return(z.prefix||"")+X+(z.suffix||"")},V.toFraction=function(B){var O,z,X,q,Q,N,m,y,A,P,$,te,fe=this,be=fe.c;if(B!=null&&(m=new j(B),!m.isInteger()&&(m.c||m.s!==1)||m.lt(ie)))throw Error(o+"Argument "+(m.isInteger()?"out of range: ":"not an integer: ")+ge(m));if(!be)return new j(fe);for(O=new j(ie),A=z=new j(ie),X=y=new j(ie),te=E(be),Q=O.e=te.length-fe.e-1,O.c[0]=f[(N=Q%c)<0?c+N:N],B=!B||m.comparedTo(O)>0?Q>0?O:A:m,N=Z,Z=1/0,m=new j(te),y.c[0]=0;P=C(m,O,0,1),q=z.plus(P.times(X)),q.comparedTo(B)!=1;)z=X,X=q,A=y.plus(P.times(q=A)),y=q,O=m.minus(P.times(q=O)),m=q;return q=C(B.minus(z),X,0,1),y=y.plus(q.times(A)),z=z.plus(q.times(X)),y.s=A.s=fe.s,Q=Q*2,$=C(A,X,Q,L).minus(fe).abs().comparedTo(C(y,z,Q,L).minus(fe).abs())<1?[A,X]:[y,z],Z=N,$},V.toNumber=function(){return+ge(this)},V.toPrecision=function(B,O){return B!=null&&_(B,1,g),le(this,B,O,2)},V.toString=function(B){var O,z=this,X=z.s,q=z.e;return q===null?X?(O="Infinity",X<0&&(O="-"+O)):O="NaN":(B==null?O=q<=H||q>=J?R(E(z.c),q):k(E(z.c),q,"0"):B===10&&oe?(z=de(new j(z),ae+q+1,L),O=k(E(z.c),z.e,"0")):(_(B,2,ue.length,"Base"),O=U(k(E(z.c),q,"0"),10,B,X,!0)),X<0&&z.c[0]&&(O="-"+O)),O},V.valueOf=V.toJSON=function(){return ge(this)},V._isBigNumber=!0,M!=null&&j.set(M),j}function v(M){var C=M|0;return M>0||M===C?C:C-1}function E(M){for(var C,U,I=1,V=M.length,ie=M[0]+"";I<V;){for(C=M[I++]+"",U=c-C.length;U--;C="0"+C);ie+=C}for(V=ie.length;ie.charCodeAt(--V)===48;);return ie.slice(0,V+1||1)}function b(M,C){var U,I,V=M.c,ie=C.c,ae=M.s,L=C.s,H=M.e,J=C.e;if(!ae||!L)return null;if(U=V&&!V[0],I=ie&&!ie[0],U||I)return U?I?0:-L:ae;if(ae!=L)return ae;if(U=ae<0,I=H==J,!V||!ie)return I?0:!V^U?1:-1;if(!I)return H>J^U?1:-1;for(L=(H=V.length)<(J=ie.length)?H:J,ae=0;ae<L;ae++)if(V[ae]!=ie[ae])return V[ae]>ie[ae]^U?1:-1;return H==J?0:H>J^U?1:-1}function _(M,C,U,I){if(M<C||M>U||M!==s(M))throw Error(o+(I||"Argument")+(typeof M=="number"?M<C||M>U?" out of range: ":" not an integer: ":" not a primitive number: ")+String(M))}function S(M){var C=M.c.length-1;return v(M.e/c)==C&&M.c[C]%2!=0}function R(M,C){return(M.length>1?M.charAt(0)+"."+M.slice(1):M)+(C<0?"e":"e+")+C}function k(M,C,U){var I,V;if(C<0){for(V=U+".";++C;V+=U);M=V+M}else if(I=M.length,++C>I){for(V=U,C-=I;--C;V+=U);M+=V}else C<I&&(M=M.slice(0,C)+"."+M.slice(C));return M}n=p(),n.default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(Eo)})(Fv);var zd=Fv.exports,O3=function(e,n,r){var i=new e.Uint8Array(r),s=n.pushInt,o=n.pushInt32,a=n.pushInt32Neg,l=n.pushInt64,c=n.pushInt64Neg,u=n.pushFloat,f=n.pushFloatSingle,h=n.pushFloatDouble,g=n.pushTrue,p=n.pushFalse,v=n.pushUndefined,E=n.pushNull,b=n.pushInfinity,_=n.pushInfinityNeg,S=n.pushNaN,R=n.pushNaNNeg,k=n.pushArrayStart,M=n.pushArrayStartFixed,C=n.pushArrayStartFixed32,U=n.pushArrayStartFixed64,I=n.pushObjectStart,V=n.pushObjectStartFixed,ie=n.pushObjectStartFixed32,ae=n.pushObjectStartFixed64,L=n.pushByteString,H=n.pushByteStringStart,J=n.pushUtf8String,ee=n.pushUtf8StringStart,Z=n.pushSimpleUnassigned,G=n.pushTagStart,K=n.pushTagStart4,ce=n.pushTagStart8,se=n.pushTagUnassigned,ue=n.pushBreak,oe=e.Math.pow,j=0,le=0,he=0;function me(W){for(W=W|0,j=0,le=W;(j|0)<(le|0)&&(he=nE[i[j]&255](i[j]|0)|0,!((he|0)>0)););return he|0}function de(W){return W=W|0,((j|0)+(W|0)|0)<(le|0)?0:1}function ge(W){return W=W|0,i[W|0]<<8|i[W+1|0]|0}function B(W){return W=W|0,i[W|0]<<24|i[W+1|0]<<16|i[W+2|0]<<8|i[W+3|0]|0}function O(W){return W=W|0,s(W|0),j=j+1|0,0}function z(W){return W=W|0,de(1)|0?1:(s(i[j+1|0]|0),j=j+2|0,0)}function X(W){return W=W|0,de(2)|0?1:(s(ge(j+1|0)|0),j=j+3|0,0)}function q(W){return W=W|0,de(4)|0?1:(o(ge(j+1|0)|0,ge(j+3|0)|0),j=j+5|0,0)}function Q(W){return W=W|0,de(8)|0?1:(l(ge(j+1|0)|0,ge(j+3|0)|0,ge(j+5|0)|0,ge(j+7|0)|0),j=j+9|0,0)}function N(W){return W=W|0,s(-1-(W-32|0)|0),j=j+1|0,0}function m(W){return W=W|0,de(1)|0?1:(s(-1-(i[j+1|0]|0)|0),j=j+2|0,0)}function y(W){W=W|0;var Ue=0;return de(2)|0?1:(Ue=ge(j+1|0)|0,s(-1-(Ue|0)|0),j=j+3|0,0)}function A(W){return W=W|0,de(4)|0?1:(a(ge(j+1|0)|0,ge(j+3|0)|0),j=j+5|0,0)}function P(W){return W=W|0,de(8)|0?1:(c(ge(j+1|0)|0,ge(j+3|0)|0,ge(j+5|0)|0,ge(j+7|0)|0),j=j+9|0,0)}function $(W){W=W|0;var Ue=0,Le=0,Fe=0;return Fe=W-64|0,de(Fe|0)|0?1:(Ue=j+1|0,Le=(j+1|0)+(Fe|0)|0,L(Ue|0,Le|0),j=Le|0,0)}function te(W){W=W|0;var Ue=0,Le=0,Fe=0;return de(1)|0||(Fe=i[j+1|0]|0,Ue=j+2|0,Le=(j+2|0)+(Fe|0)|0,de(Fe+1|0)|0)?1:(L(Ue|0,Le|0),j=Le|0,0)}function fe(W){W=W|0;var Ue=0,Le=0,Fe=0;return de(2)|0||(Fe=ge(j+1|0)|0,Ue=j+3|0,Le=(j+3|0)+(Fe|0)|0,de(Fe+2|0)|0)?1:(L(Ue|0,Le|0),j=Le|0,0)}function be(W){W=W|0;var Ue=0,Le=0,Fe=0;return de(4)|0||(Fe=B(j+1|0)|0,Ue=j+5|0,Le=(j+5|0)+(Fe|0)|0,de(Fe+4|0)|0)?1:(L(Ue|0,Le|0),j=Le|0,0)}function _e(W){return W=W|0,1}function Ae(W){return W=W|0,H(),j=j+1|0,0}function T(W){W=W|0;var Ue=0,Le=0,Fe=0;return Fe=W-96|0,de(Fe|0)|0?1:(Ue=j+1|0,Le=(j+1|0)+(Fe|0)|0,J(Ue|0,Le|0),j=Le|0,0)}function x(W){W=W|0;var Ue=0,Le=0,Fe=0;return de(1)|0||(Fe=i[j+1|0]|0,Ue=j+2|0,Le=(j+2|0)+(Fe|0)|0,de(Fe+1|0)|0)?1:(J(Ue|0,Le|0),j=Le|0,0)}function w(W){W=W|0;var Ue=0,Le=0,Fe=0;return de(2)|0||(Fe=ge(j+1|0)|0,Ue=j+3|0,Le=(j+3|0)+(Fe|0)|0,de(Fe+2|0)|0)?1:(J(Ue|0,Le|0),j=Le|0,0)}function F(W){W=W|0;var Ue=0,Le=0,Fe=0;return de(4)|0||(Fe=B(j+1|0)|0,Ue=j+5|0,Le=(j+5|0)+(Fe|0)|0,de(Fe+4|0)|0)?1:(J(Ue|0,Le|0),j=Le|0,0)}function Y(W){return W=W|0,1}function re(W){return W=W|0,ee(),j=j+1|0,0}function ne(W){return W=W|0,M(W-128|0),j=j+1|0,0}function Te(W){return W=W|0,de(1)|0?1:(M(i[j+1|0]|0),j=j+2|0,0)}function Oe(W){return W=W|0,de(2)|0?1:(M(ge(j+1|0)|0),j=j+3|0,0)}function je(W){return W=W|0,de(4)|0?1:(C(ge(j+1|0)|0,ge(j+3|0)|0),j=j+5|0,0)}function Ne(W){return W=W|0,de(8)|0?1:(U(ge(j+1|0)|0,ge(j+3|0)|0,ge(j+5|0)|0,ge(j+7|0)|0),j=j+9|0,0)}function He(W){return W=W|0,k(),j=j+1|0,0}function Qe(W){W=W|0;var Ue=0;return Ue=W-160|0,de(Ue|0)|0?1:(V(Ue|0),j=j+1|0,0)}function Zd(W){return W=W|0,de(1)|0?1:(V(i[j+1|0]|0),j=j+2|0,0)}function Qd(W){return W=W|0,de(2)|0?1:(V(ge(j+1|0)|0),j=j+3|0,0)}function Jd(W){return W=W|0,de(4)|0?1:(ie(ge(j+1|0)|0,ge(j+3|0)|0),j=j+5|0,0)}function $2(W){return W=W|0,de(8)|0?1:(ae(ge(j+1|0)|0,ge(j+3|0)|0,ge(j+5|0)|0,ge(j+7|0)|0),j=j+9|0,0)}function D2(W){return W=W|0,I(),j=j+1|0,0}function Fs(W){return W=W|0,G(W-192|0|0),j=j+1|0,0}function CB(W){return W=W|0,G(W|0),j=j+1|0,0}function jB(W){return W=W|0,G(W|0),j=j+1|0,0}function BB(W){return W=W|0,G(W|0),j=j+1|0,0}function RB(W){return W=W|0,G(W|0),j=j+1|0,0}function Ct(W){return W=W|0,G(W-192|0|0),j=j+1|0,0}function PB(W){return W=W|0,G(W|0),j=j+1|0,0}function OB(W){return W=W|0,G(W|0),j=j+1|0,0}function MB(W){return W=W|0,G(W|0),j=j+1|0,0}function V2(W){return W=W|0,de(1)|0?1:(G(i[j+1|0]|0),j=j+2|0,0)}function H2(W){return W=W|0,de(2)|0?1:(G(ge(j+1|0)|0),j=j+3|0,0)}function W2(W){return W=W|0,de(4)|0?1:(K(ge(j+1|0)|0,ge(j+3|0)|0),j=j+5|0,0)}function q2(W){return W=W|0,de(8)|0?1:(ce(ge(j+1|0)|0,ge(j+3|0)|0,ge(j+5|0)|0,ge(j+7|0)|0),j=j+9|0,0)}function bt(W){return W=W|0,Z((W|0)-224|0),j=j+1|0,0}function G2(W){return W=W|0,p(),j=j+1|0,0}function K2(W){return W=W|0,g(),j=j+1|0,0}function Y2(W){return W=W|0,E(),j=j+1|0,0}function X2(W){return W=W|0,v(),j=j+1|0,0}function Z2(W){return W=W|0,de(1)|0?1:(Z(i[j+1|0]|0),j=j+2|0,0)}function Q2(W){W=W|0;var Ue=0,Le=0,Fe=1,Ll=0,Wo=0,FB=0;return de(2)|0?1:(Ue=i[j+1|0]|0,Le=i[j+2|0]|0,(Ue|0)&128&&(Fe=-1),Ll=+(((Ue|0)&124)>>2),Wo=+(((Ue|0)&3)<<8|Le),+Ll==0?u(+(+Fe*5960464477539063e-23*+Wo)):+Ll==31?+Fe==1?+Wo>0?S():b():+Wo>0?R():_():u(+(+Fe*oe(2,+(+Ll-25))*+(1024+Wo))),j=j+3|0,0)}function J2(W){return W=W|0,de(4)|0?1:(f(i[j+1|0]|0,i[j+2|0]|0,i[j+3|0]|0,i[j+4|0]|0),j=j+5|0,0)}function eE(W){return W=W|0,de(8)|0?1:(h(i[j+1|0]|0,i[j+2|0]|0,i[j+3|0]|0,i[j+4|0]|0,i[j+5|0]|0,i[j+6|0]|0,i[j+7|0]|0,i[j+8|0]|0),j=j+9|0,0)}function Xe(W){return W=W|0,1}function tE(W){return W=W|0,ue(),j=j+1|0,0}var nE=[O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,z,X,q,Q,Xe,Xe,Xe,Xe,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,m,y,A,P,Xe,Xe,Xe,Xe,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,te,fe,be,_e,Xe,Xe,Xe,Ae,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,x,w,F,Y,Xe,Xe,Xe,re,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,Te,Oe,je,Ne,Xe,Xe,Xe,He,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Zd,Qd,Jd,$2,Xe,Xe,Xe,D2,Fs,Fs,Fs,Fs,Fs,Fs,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,Ct,V2,H2,W2,q2,Xe,Xe,Xe,Xe,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,G2,K2,Y2,X2,Z2,Q2,J2,eE,Xe,Xe,Xe,tE];return{parse:me}},$d={},Yt={};const ng=zd.BigNumber;Yt.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Yt.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Yt.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Yt.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Yt.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Yt.SHIFT32=Math.pow(2,32);Yt.SHIFT16=Math.pow(2,16);Yt.MAX_SAFE_HIGH=2097151;Yt.NEG_ONE=new ng(-1);Yt.TEN=new ng(10);Yt.TWO=new ng(2);Yt.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(t){const{Buffer:e}=Rl,n=zd.BigNumber,r=Yt,i=r.SHIFT32,s=r.SHIFT16,o=2097151;t.parseHalf=function(c){var u,f,h;return h=c[0]&128?-1:1,u=(c[0]&124)>>2,f=(c[0]&3)<<8|c[1],u?u===31?h*(f?NaN:1/0):h*Math.pow(2,u-25)*(1024+f):h*5960464477539063e-23*f};function a(l){return l<16?"0"+l.toString(16):l.toString(16)}t.arrayBufferToBignumber=function(l){const c=l.byteLength;let u="";for(let f=0;f<c;f++)u+=a(l[f]);return new n(u,16)},t.buildMap=l=>{const c=new Map,u=Object.keys(l),f=u.length;for(let h=0;h<f;h++)c.set(u[h],l[u[h]]);return c},t.buildInt32=(l,c)=>l*s+c,t.buildInt64=(l,c,u,f)=>{const h=t.buildInt32(l,c),g=t.buildInt32(u,f);return h>o?new n(h).times(i).plus(g):h*i+g},t.writeHalf=function(c,u){const f=e.allocUnsafe(4);f.writeFloatBE(u,0);const h=f.readUInt32BE(0);if(h&8191)return!1;var g=h>>16&32768;const p=h>>23&255,v=h&8388607;if(p>=113&&p<=142)g+=(p-112<<10)+(v>>13);else if(p>=103&&p<113){if(v&(1<<126-p)-1)return!1;g+=v+8388608>>126-p}else return!1;return c.writeUInt16BE(g,0),!0},t.keySorter=function(l,c){var u=l[0].byteLength,f=c[0].byteLength;return u>f?1:f>u?-1:l[0].compare(c[0])},t.isNegativeZero=l=>l===0&&1/l<0,t.nextPowerOf2=l=>{let c=0;if(l&&!(l&l-1))return l;for(;l!==0;)l>>=1,c+=1;return 1<<c}})($d);const rg=Yt,M3=rg.MT,sc=rg.SIMPLE,Rf=rg.SYMS;let F3=class d0{constructor(e){if(typeof e!="number")throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(e|0)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,M3.SIMPLE_FLOAT)}static isSimple(e){return e instanceof d0}static decode(e,n){switch(n==null&&(n=!0),e){case sc.FALSE:return!1;case sc.TRUE:return!0;case sc.NULL:return n?null:Rf.NULL;case sc.UNDEFINED:return n?void 0:Rf.UNDEFINED;case-1:if(!n)throw new Error("Invalid BREAK");return Rf.BREAK;default:return new d0(e)}}};var Iv=F3;let I3=class f0{constructor(e,n,r){if(this.tag=e,this.value=n,this.err=r,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var n,r;if(r=e!=null?e[this.tag]:void 0,typeof r!="function"&&(r=f0["_tag"+this.tag],typeof r!="function"))return this;try{return r.call(f0,this.value)}catch(i){return n=i,this.err=n,this}}};var Uv=I3;const Lv=self.location?self.location.protocol+"//"+self.location.host:"",h0=self.URL;let U3=class{constructor(e="",n=Lv){this.super=new h0(e,n),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function L3(t){if(typeof t=="string")return new h0(t).toString();if(!(t instanceof h0)){const e=t.username&&t.password?`${t.username}:${t.password}@`:"",n=t.auth?t.auth+"@":"",r=t.port?":"+t.port:"",i=t.protocol?t.protocol+"//":"",s=t.host||"",o=t.hostname||"",a=t.search||(t.query?"?"+t.query:""),l=t.hash||"",c=t.pathname||"",u=t.path||c+a;return`${i}${e||n}${s||o+r}${u}${l}`}}var zv={URLWithLegacySupport:U3,URLSearchParams:self.URLSearchParams,defaultBase:Lv,format:L3};const{URLWithLegacySupport:ny,format:z3}=zv;var $3=(t,e={},n={},r)=>{let i=e.protocol?e.protocol.replace(":",""):"http";i=(n[i]||r||i)+":";let s;try{s=new ny(t)}catch{s={}}const o=Object.assign({},e,{protocol:i||s.protocol,host:e.host||s.host});return new ny(t,z3(o)).toString()};const{URLWithLegacySupport:D3,format:V3,URLSearchParams:H3,defaultBase:W3}=zv,q3=$3;var $v={URL:D3,URLSearchParams:H3,format:V3,relative:q3,defaultBase:W3};const{Buffer:zs}=Rl,ry=jl,G3=zd.BigNumber,K3=O3,Xt=$d,Ye=Yt,Y3=Iv,X3=Uv,{URL:Z3}=$v;let p0=class g0{constructor(e){e=e||{},!e.size||e.size<65536?e.size=65536:e.size=Xt.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=zs.from(this._heap),this._reset(),this._knownTags=Object.assign({0:n=>new Date(n),1:n=>new Date(n*1e3),2:n=>Xt.arrayBufferToBignumber(n),3:n=>Ye.NEG_ONE.minus(Xt.arrayBufferToBignumber(n)),4:n=>Ye.TEN.pow(n[0]).times(n[1]),5:n=>Ye.TWO.pow(n[0]).times(n[1]),32:n=>new Z3(n),35:n=>new RegExp(n)},e.tags),this.parser=K3(Eo,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case Ye.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case Ye.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case Ye.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case Ye.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case Ye.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case Ye.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length));break}this._currentParent&&this._currentParent.type===Ye.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,e.length===0&&this._closeParent())}_push(e,n){const r=this._currentParent;switch(r.values++,r.type){case Ye.PARENT.ARRAY:case Ye.PARENT.BYTE_STRING:case Ye.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=e:this._ref.push(e),this._dec();break;case Ye.PARENT.OBJECT:r.tmpKey!=null?(this._ref[r.tmpKey]=e,r.tmpKey=null,this._dec()):(r.tmpKey=e,typeof r.tmpKey!="string"&&(r.type=Ye.PARENT.MAP,r.ref=Xt.buildMap(r.ref)));break;case Ye.PARENT.MAP:r.tmpKey!=null?(this._ref.set(r.tmpKey,e),r.tmpKey=null,this._dec()):r.tmpKey=e;break;case Ye.PARENT.TAG:this._ref.push(e),n||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,n,r){this._parents[this._depth]={type:n,length:r,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Ye.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,n){const r=this._knownTags[e];return r?r(n):new X3(e,n)}createMap(e,n){return e}createObject(e,n){return e}createArray(e,n){return e}createByteString(e,n){return zs.concat(e)}createByteStringFromHeap(e,n){return e===n?zs.alloc(0):zs.from(this._heap.slice(e,n))}createInt(e){return e}createInt32(e,n){return Xt.buildInt32(e,n)}createInt64(e,n,r,i){return Xt.buildInt64(e,n,r,i)}createFloat(e){return e}createFloatSingle(e,n,r,i){return ry.read([e,n,r,i],0,!1,23,4)}createFloatDouble(e,n,r,i,s,o,a,l){return ry.read([e,n,r,i,s,o,a,l],0,!1,52,8)}createInt32Neg(e,n){return-1-Xt.buildInt32(e,n)}createInt64Neg(e,n,r,i){const s=Xt.buildInt32(e,n),o=Xt.buildInt32(r,i);return s>Ye.MAX_SAFE_HIGH?Ye.NEG_ONE.minus(new G3(s).times(Ye.SHIFT32).plus(o)):-1-(s*Ye.SHIFT32+o)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,n){return e.join("")}createUtf8StringFromHeap(e,n){return e===n?"":this._buffer.toString("utf8",e,n)}createSimpleUnassigned(e){return new Y3(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,n){this._push(this.createInt32(e,n))}pushInt64(e,n,r,i){this._push(this.createInt64(e,n,r,i))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,n,r,i){this._push(this.createFloatSingle(e,n,r,i))}pushFloatDouble(e,n,r,i,s,o,a,l){this._push(this.createFloatDouble(e,n,r,i,s,o,a,l))}pushInt32Neg(e,n){this._push(this.createInt32Neg(e,n))}pushInt64Neg(e,n,r,i){this._push(this.createInt64Neg(e,n,r,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Ye.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,n){const r=Xt.buildInt32(e,n);this._createArrayStartFixed(r)}pushArrayStartFixed64(e,n,r,i){const s=Xt.buildInt64(e,n,r,i);this._createArrayStartFixed(s)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,n){const r=Xt.buildInt32(e,n);this._createObjectStartFixed(r)}pushObjectStartFixed64(e,n,r,i){const s=Xt.buildInt64(e,n,r,i);this._createObjectStartFixed(s)}pushByteStringStart(){this._parents[this._depth]={type:Ye.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,n){this._push(this.createByteStringFromHeap(e,n))}pushUtf8StringStart(){this._parents[this._depth]={type:Ye.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,n){this._push(this.createUtf8StringFromHeap(e,n))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:Ye.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,n){this.pushTagStart(Xt.buildInt32(e,n))}pushTagStart8(e,n,r,i){this.pushTagStart(Xt.buildInt64(e,n,r,i))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){if(e===0){this._push(this.createObject({}));return}this._createParent({},Ye.PARENT.OBJECT,e)}_createArrayStartFixed(e){if(e===0){this._push(this.createArray([]));return}this._createParent(new Array(e),Ye.PARENT.ARRAY,e)}_decode(e){if(e.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(e);const n=this.parser.parse(e.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(n>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,n){return typeof e=="string"&&(e=zs.from(e,n||"hex")),new g0({size:e.length}).decodeFirst(e)}static decodeAll(e,n){return typeof e=="string"&&(e=zs.from(e,n||"hex")),new g0({size:e.length}).decodeAll(e)}};p0.decodeFirst=p0.decode;var Dv=p0;const{Buffer:Pf}=Rl,Q3=Dv,J3=$d;class ig extends Q3{createTag(e,n){return`${e}(${n})`}createInt(e){return super.createInt(e).toString()}createInt32(e,n){return super.createInt32(e,n).toString()}createInt64(e,n,r,i){return super.createInt64(e,n,r,i).toString()}createInt32Neg(e,n){return super.createInt32Neg(e,n).toString()}createInt64Neg(e,n,r,i){return super.createInt64Neg(e,n,r,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const n=super.createFloat(e);return J3.isNegativeZero(e)?"-0_1":`${n}_1`}createFloatSingle(e,n,r,i){return`${super.createFloatSingle(e,n,r,i)}_2`}createFloatDouble(e,n,r,i,s,o,a,l){return`${super.createFloatDouble(e,n,r,i,s,o,a,l)}_3`}createByteString(e,n){const r=e.join(", ");return n===-1?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(e,n){return`h'${Pf.from(super.createByteStringFromHeap(e,n)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,n){const r=super.createArray(e,n);return n===-1?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(e,n){const r=super.createMap(e),i=Array.from(r.keys()).reduce(iy(r),"");return n===-1?`{_ ${i}}`:`{${i}}`}createObject(e,n){const r=super.createObject(e),i=Object.keys(r).reduce(iy(r),"");return n===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(e,n){const r=e.join(", ");return n===-1?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(e,n){return`"${Pf.from(super.createUtf8StringFromHeap(e,n)).toString("utf8")}"`}static diagnose(e,n){return typeof e=="string"&&(e=Pf.from(e,n||"hex")),new ig().decodeFirst(e)}}var e4=ig;function iy(t){return(e,n)=>e?`${e}, ${n}: ${t[n]}`:`${n}: ${t[n]}`}const{Buffer:xr}=Rl,{URL:t4}=$v,m0=zd.BigNumber,Of=$d,At=Yt,Vn=At.MT,oc=At.NUMBYTES,sy=At.SHIFT32,oy=At.SYMS,$s=At.TAG,n4=At.MT.SIMPLE_FLOAT<<5|At.NUMBYTES.TWO,r4=At.MT.SIMPLE_FLOAT<<5|At.NUMBYTES.FOUR,i4=At.MT.SIMPLE_FLOAT<<5|At.NUMBYTES.EIGHT,s4=At.MT.SIMPLE_FLOAT<<5|At.SIMPLE.TRUE,o4=At.MT.SIMPLE_FLOAT<<5|At.SIMPLE.FALSE,a4=At.MT.SIMPLE_FLOAT<<5|At.SIMPLE.UNDEFINED,ay=At.MT.SIMPLE_FLOAT<<5|At.SIMPLE.NULL,l4=new m0("0x20000000000000"),c4=xr.from("f97e00","hex"),u4=xr.from("f9fc00","hex"),d4=xr.from("f97c00","hex");function f4(t){return{}.toString.call(t).slice(8,-1)}class Zu{constructor(e){e=e||{},this.streaming=typeof e.stream=="function",this.onData=e.stream,this.semanticTypes=[[t4,this._pushUrl],[m0,this._pushBigNumber]];const n=e.genTypes||[],r=n.length;for(let i=0;i<r;i++)this.addSemanticType(n[i][0],n[i][1]);this._reset()}addSemanticType(e,n){const r=this.semanticTypes.length;for(let i=0;i<r;i++)if(this.semanticTypes[i][0]===e){const o=this.semanticTypes[i][1];return this.semanticTypes[i][1]=n,o}return this.semanticTypes.push([e,n]),null}push(e){return e&&(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(e,n,r){return this.result[this.offset]=e,this.resultMethod[this.offset]=n,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(c4)}_pushInfinity(e){const n=e<0?u4:d4;return this.push(n)}_pushFloat(e){const n=xr.allocUnsafe(2);if(Of.writeHalf(n,e)&&Of.parseHalf(n)===e)return this._pushUInt8(n4)&&this.push(n);const r=xr.allocUnsafe(4);return r.writeFloatBE(e,0),r.readFloatBE(0)===e?this._pushUInt8(r4)&&this.push(r):this._pushUInt8(i4)&&this._pushDoubleBE(e)}_pushInt(e,n,r){const i=n<<5;return e<24?this._pushUInt8(i|e):e<=255?this._pushUInt8(i|oc.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(i|oc.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(i|oc.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|oc.EIGHT)&&this._pushUInt32BE(Math.floor(e/sy))&&this._pushUInt32BE(e%sy):n===Vn.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,Vn.NEG_INT,e):this._pushInt(e,Vn.POS_INT)}_pushNumber(e){switch(!1){case e===e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!==0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const n=xr.byteLength(e,"utf8");return this._pushInt(n,Vn.UTF8_STRING)&&this.pushWrite(e,5,n)}_pushBoolean(e){return this._pushUInt8(e?s4:o4)}_pushUndefined(e){return this._pushUInt8(a4)}_pushArray(e,n){const r=n.length;if(!e._pushInt(r,Vn.ARRAY))return!1;for(let i=0;i<r;i++)if(!e.pushAny(n[i]))return!1;return!0}_pushTag(e){return this._pushInt(e,Vn.TAG)}_pushDate(e,n){return e._pushTag($s.DATE_EPOCH)&&e.pushAny(Math.round(n/1e3))}_pushBuffer(e,n){return e._pushInt(n.length,Vn.BYTE_STRING)&&e.push(n)}_pushNoFilter(e,n){return e._pushBuffer(e,n.slice())}_pushRegexp(e,n){return e._pushTag($s.REGEXP)&&e.pushAny(n.source)}_pushSet(e,n){if(!e._pushInt(n.size,Vn.ARRAY))return!1;for(const r of n)if(!e.pushAny(r))return!1;return!0}_pushUrl(e,n){return e._pushTag($s.URI)&&e.pushAny(n.format())}_pushBigint(e){let n=$s.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),n=$s.NEG_BIGINT);let r=e.toString(16);r.length%2&&(r="0"+r);const i=xr.from(r,"hex");return this._pushTag(n)&&this._pushBuffer(this,i)}_pushBigNumber(e,n){if(n.isNaN())return e._pushNaN();if(!n.isFinite())return e._pushInfinity(n.isNegative()?-1/0:1/0);if(n.isInteger())return e._pushBigint(n);if(!(e._pushTag($s.DECIMAL_FRAC)&&e._pushInt(2,Vn.ARRAY)))return!1;const r=n.decimalPlaces(),i=n.multipliedBy(new m0(10).pow(r));return e._pushIntNum(-r)?i.abs().isLessThan(l4)?e._pushIntNum(i.toNumber()):e._pushBigint(i):!1}_pushMap(e,n){return e._pushInt(n.size,Vn.MAP)?this._pushRawMap(n.size,Array.from(n)):!1}_pushObject(e){if(!e)return this._pushUInt8(ay);for(var n=this.semanticTypes.length,r=0;r<n;r++)if(e instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(e,this,e);var i=e.encodeCBOR;if(typeof i=="function")return i.call(e,this);var s=Object.keys(e),o=s.length;return this._pushInt(o,Vn.MAP)?this._pushRawMap(o,s.map(a=>[a,e[a]])):!1}_pushRawMap(e,n){n=n.map(function(i){return i[0]=Zu.encode(i[0]),i}).sort(Of.keySorter);for(var r=0;r<e;r++)if(!this.push(n[r][0])||!this.pushAny(n[r][1]))return!1;return!0}write(e){return this.pushAny(e)}pushAny(e){var n=f4(e);switch(n){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,xr.isBuffer(e)?e:xr.from(e));case"Null":return this._pushUInt8(ay);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case oy.NULL:return this._pushObject(null);case oy.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(this.offset===0)return null;for(var e=this.result,n=this.resultLength,r=this.resultMethod,i=this.offset,s=0,o=0;o<i;o++)s+=n[o];var a=xr.allocUnsafe(s),l=0,c=0;for(o=0;o<i;o++){switch(c=n[o],r[o]){case 0:e[o].copy(a,l);break;case 1:a.writeUInt8(e[o],l,!0);break;case 2:a.writeUInt16BE(e[o],l,!0);break;case 3:a.writeUInt32BE(e[o],l,!0);break;case 4:a.writeDoubleBE(e[o],l,!0);break;case 5:a.write(e[o],l,c,"utf8");break;default:throw new Error("unkown method")}l+=c}var u=a;return this._reset(),u}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const n=new Zu;if(!n.pushAny(e))throw new Error("Failed to encode input");return n.finalize()}}var h4=Zu;(function(t){t.Diagnose=e4,t.Decoder=Dv,t.Encoder=h4,t.Simple=Iv,t.Tagged=Uv,t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.decode=t.Decoder.decode,t.leveldb={decode:t.Decoder.decodeAll,encode:t.Encoder.encode,buffer:!0,name:"cbor"}})(Mv);const Vv=pb(Mv);function Qn(t){return Oa(Zp.create().update(new Uint8Array(t)).digest())}function qc(t){if(t instanceof Vv.Tagged)return qc(t.value);if(typeof t=="string")return Hv(t);if(typeof t=="number")return Qn(ht(t));if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))return Qn(t);if(Array.isArray(t)){const e=t.map(qc);return Qn(nr(...e))}else{if(t&&typeof t=="object"&&t._isPrincipal)return Qn(t.toUint8Array());if(typeof t=="object"&&t!==null&&typeof t.toHash=="function")return qc(t.toHash());if(typeof t=="object")return Qu(t);if(typeof t=="bigint")return Qn(ht(t))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${t}`),{value:t})}const Hv=t=>{const e=new TextEncoder().encode(t);return Qn(e)};function ul(t){return Qu(t)}function Qu(t){const r=Object.entries(t).filter(([,o])=>o!==void 0).map(([o,a])=>{const l=Hv(o),c=qc(a);return[l,c]}).sort(([o],[a])=>Y1(o,a)),i=nr(...r.map(o=>nr(...o)));return Qn(i)}var p4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const g4=new TextEncoder().encode(`
ic-request`);class sg{getPrincipal(){return this._principal||(this._principal=Re.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(e){const{body:n}=e,r=p4(e,["body"]),i=ul(n);return Object.assign(Object.assign({},r),{body:{content:n,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(nr(g4,i))}})}}class y0{getPrincipal(){return Re.anonymous()}async transformRequest(e){return Object.assign(Object.assign({},e),{body:{content:e.body}})}}var fn={},Vo={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});const m4=9007199254740992;function ni(t,...e){const n=new Uint8Array(t.byteLength+e.reduce((i,s)=>i+s.byteLength,0));n.set(new Uint8Array(t),0);let r=t.byteLength;for(const i of e)n.set(new Uint8Array(i),r),r+=i.byteLength;return n.buffer}function sr(t,e,n){n=n.replace(/[^0-9a-fA-F]/g,"");const r=2**(e-24);n=n.slice(-r*2).padStart(r*2,"0");const i=[(t<<5)+e].concat(n.match(/../g).map(s=>parseInt(s,16)));return new Uint8Array(i).buffer}function Dd(t,e){if(e<24)return new Uint8Array([(t<<5)+e]).buffer;{const n=e<=255?24:e<=65535?25:e<=4294967295?26:27;return sr(t,n,e.toString(16))}}function Wv(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|r&63):r<55296||r>=57344?e.push(224|r>>12,128|r>>6&63,128|r&63):(n++,r=(r&1023)<<10|t.charCodeAt(n)&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63))}return ni(new Uint8Array(Dd(3,t.length)),new Uint8Array(e))}function y4(t,e){if(t==14277111)return ni(new Uint8Array([217,217,247]),e);if(t<24)return ni(new Uint8Array([192+t]),e);{const n=t<=255?24:t<=65535?25:t<=4294967295?26:27,r=2**(n-24),i=t.toString(16).slice(-r*2).padStart(r*2,"0"),s=[192+n].concat(i.match(/../g).map(o=>parseInt(o,16)));return new Uint8Array(s).buffer}}Ze.tagged=y4;function Pl(t){return new Uint8Array(t).buffer}Ze.raw=Pl;function og(t){if(isNaN(t))throw new RangeError("Invalid number.");t=Math.min(Math.max(0,t),23);const e=[0+t];return new Uint8Array(e).buffer}Ze.uSmall=og;function qv(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),255),t=t.toString(16),sr(0,24,t)}Ze.u8=qv;function Gv(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),65535),t=t.toString(16),sr(0,25,t)}Ze.u16=Gv;function Kv(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),4294967295),t=t.toString(16),sr(0,26,t)}Ze.u32=Kv;function ag(t,e){if(typeof t=="string"&&e==16){if(t.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return sr(0,27,t)}if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),m4),t=t.toString(16),sr(0,27,t)}Ze.u64=ag;function Yv(t){if(isNaN(t))throw new RangeError("Invalid number.");if(t===0)return og(0);t=Math.min(Math.max(0,-t),24)-1;const e=[32+t];return new Uint8Array(e).buffer}Ze.iSmall=Yv;function Xv(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),255),t=t.toString(16),sr(1,24,t)}Ze.i8=Xv;function Zv(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),65535),t=t.toString(16),sr(1,25,t)}Ze.i16=Zv;function Qv(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),4294967295),t=t.toString(16),sr(1,26,t)}Ze.i32=Qv;function Jv(t,e){if(typeof t=="string"&&e==16){if(t.startsWith("-")?t=t.slice(1):t="0",t.match(/[^0-9a-fA-F]/)||t.length>16)throw new RangeError("Invalid number.");let n=!1,r=t.split("").reduceRight((i,s)=>{if(n)return s+i;let o=parseInt(s,16)-1;return o>=0?(n=!0,o.toString(16)+i):"f"+i},"");return n?sr(1,27,r):ag(0)}if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),9007199254740992),t=t.toString(16),sr(1,27,t)}Ze.i64=Jv;function x4(t){return t>=0?t<24?og(t):t<=255?qv(t):t<=65535?Gv(t):t<=4294967295?Kv(t):ag(t):t>=-24?Yv(t):t>=-255?Xv(t):t>=-65535?Zv(t):t>=-4294967295?Qv(t):Jv(t)}Ze.number=x4;function b4(t){return ni(Dd(2,t.byteLength),t)}Ze.bytes=b4;function w4(t){return Wv(t)}Ze.string=w4;function v4(t){return ni(Dd(4,t.length),...t)}Ze.array=v4;function _4(t,e=!1){t instanceof Map||(t=new Map(Object.entries(t)));let n=Array.from(t.entries());return e&&(n=n.sort(([r],[i])=>r.localeCompare(i))),ni(Dd(5,t.size),...n.map(([r,i])=>ni(Wv(r),i)))}Ze.map=_4;function E4(t){const e=new Float32Array([t]);return ni(new Uint8Array([250]),new Uint8Array(e.buffer))}Ze.singleFloat=E4;function S4(t){const e=new Float64Array([t]);return ni(new Uint8Array([251]),new Uint8Array(e.buffer))}Ze.doubleFloat=S4;function k4(t){return t?e_():t_()}Ze.bool=k4;function e_(){return Pl(new Uint8Array([245]))}Ze.true_=e_;function t_(){return Pl(new Uint8Array([244]))}Ze.false_=t_;function N4(){return Pl(new Uint8Array([246]))}Ze.null_=N4;function T4(){return Pl(new Uint8Array([247]))}Ze.undefined_=T4;var A4=Eo&&Eo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(Vo,"__esModule",{value:!0});const Wn=A4(Ze),C4=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class n_{constructor(e,n=!1){this._serializer=e,this._stable=n,this.name="jsonDefault",this.priority=-100}match(e){return["undefined","boolean","number","string","object"].indexOf(typeof e)!=-1}encode(e){switch(typeof e){case"undefined":return Wn.undefined_();case"boolean":return Wn.bool(e);case"number":return Math.floor(e)===e?Wn.number(e):Wn.doubleFloat(e);case"string":return Wn.string(e);case"object":if(e===null)return Wn.null_();if(Array.isArray(e))return Wn.array(e.map(n=>this._serializer.serializeValue(n)));if(C4.find(n=>e instanceof n))return Wn.bytes(e.buffer);if(Object.getOwnPropertyNames(e).indexOf("toJSON")!==-1)return this.encode(e.toJSON());if(e instanceof Map){const n=new Map;for(const[r,i]of e.entries())n.set(r,this._serializer.serializeValue(i));return Wn.map(n,this._stable)}else{const n=new Map;for(const[r,i]of Object.entries(e))n.set(r,this._serializer.serializeValue(i));return Wn.map(n,this._stable)}default:throw new Error("Invalid value.")}}}Vo.JsonDefaultCborEncoder=n_;class r_{constructor(){this.name="cborEncoder",this.priority=-90}match(e){return typeof e=="object"&&typeof e.toCBOR=="function"}encode(e){return e.toCBOR()}}Vo.ToCborEncoder=r_;class i_{constructor(){this._encoders=new Set}static withDefaultEncoders(e=!1){const n=new this;return n.addEncoder(new n_(n,e)),n.addEncoder(new r_),n}removeEncoder(e){for(const n of this._encoders.values())n.name==e&&this._encoders.delete(n)}addEncoder(e){this._encoders.add(e)}getEncoderFor(e){let n=null;for(const r of this._encoders)(!n||r.priority>n.priority)&&r.match(e)&&(n=r);if(n===null)throw new Error("Could not find an encoder for value.");return n}serializeValue(e){return this.getEncoderFor(e).encode(e)}serialize(e){return this.serializeValue(e)}}Vo.CborSerializer=i_;class j4 extends i_{serialize(e){return Wn.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(e))]))}}Vo.SelfDescribeCborSerializer=j4;(function(t){function e(i){for(var s in i)t.hasOwnProperty(s)||(t[s]=i[s])}var n=Eo&&Eo.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var o in i)Object.hasOwnProperty.call(i,o)&&(s[o]=i[o]);return s.default=i,s};Object.defineProperty(t,"__esModule",{value:!0}),e(Vo);const r=n(Ze);t.value=r})(fn);class B4{get name(){return"Principal"}get priority(){return 0}match(e){return e&&e._isPrincipal===!0}encode(e){return fn.value.bytes(e.toUint8Array())}}class R4{get name(){return"Buffer"}get priority(){return 1}match(e){return e instanceof ArrayBuffer||ArrayBuffer.isView(e)}encode(e){return fn.value.bytes(new Uint8Array(e))}}class P4{get name(){return"BigInt"}get priority(){return 1}match(e){return typeof e=="bigint"}encode(e){return e>BigInt(0)?fn.value.tagged(2,fn.value.bytes(Yr(e.toString(16)))):fn.value.tagged(3,fn.value.bytes(Yr((BigInt("-1")*e).toString(16))))}}const Vd=fn.SelfDescribeCborSerializer.withDefaultEncoders(!0);Vd.addEncoder(new B4);Vd.addEncoder(new R4);Vd.addEncoder(new P4);var x0;(function(t){t[t.Uint64LittleEndian=71]="Uint64LittleEndian",t[t.Semantic=55799]="Semantic"})(x0||(x0={}));function Mf(t){return Vd.serialize(t)}function ly(t){const e=t.byteLength;let n=BigInt(0);for(let r=0;r<e;r++)n=n*BigInt(256)+BigInt(t[r]);return n}class O4 extends Vv.Decoder{createByteString(e){return nr(...e)}createByteStringFromHeap(e,n){return e===n?new ArrayBuffer(0):new Uint8Array(this._heap.slice(e,n))}}function Hr(t){const e=new Uint8Array(t),n=new O4({size:e.byteLength,tags:{2:r=>ly(r),3:r=>-ly(r),[x0.Semantic]:r=>r}});try{return n.decodeFirst(e)}catch(r){throw new Error(`Failed to decode CBOR: ${r}, input: ${Ut(e)}`)}}const ac=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const t=new Uint32Array(1);return window.crypto.getRandomValues(t),t[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var b0;(function(t){t.Call="call"})(b0||(b0={}));function w0(){const t=new ArrayBuffer(16),e=new DataView(t),n=ac(),r=ac(),i=ac(),s=ac();return e.setUint32(0,n),e.setUint32(4,r),e.setUint32(8,i),e.setUint32(12,s),t}const cy=BigInt(1e6),M4=60*1e3;class qs{constructor(e){if(e<90*1e3){const a=BigInt(Date.now()+e)*cy/BigInt(1e9);this._value=a*BigInt(1e9);return}const s=BigInt(Math.floor(Date.now()+e-M4))*cy/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=s}toCBOR(){return fn.value.u64(this._value.toString(16),16)}toHash(){return ht(this._value)}}function uy(t=w0){return async e=>{const n=e.request.headers;e.request.headers=n,e.endpoint==="call"&&(e.body.nonce=t())}}function fa(t){const e=[];return t.forEach((n,r)=>{e.push([r,n])}),e}class Ff extends kt{constructor(e,n){super(e),this.response=n,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lg=BigInt(0),cg=BigInt(1),F4=BigInt(2);function Hd(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Gi(t){if(!Hd(t))throw new Error("Uint8Array expected")}function Ma(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const I4=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Bs(t){Gi(t);let e="";for(let n=0;n<t.length;n++)e+=I4[t[n]];return e}function s_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?lg:BigInt("0x"+t)}const jr={_0:48,_9:57,A:65,F:70,a:97,f:102};function dy(t){if(t>=jr._0&&t<=jr._9)return t-jr._0;if(t>=jr.A&&t<=jr.F)return t-(jr.A-10);if(t>=jr.a&&t<=jr.f)return t-(jr.a-10)}function o_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=dy(t.charCodeAt(s)),a=dy(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function Xn(t){return s_(Bs(t))}function Fa(t){return Gi(t),s_(Bs(Uint8Array.from(t).reverse()))}function Ft(t,e){return o_(t.toString(16).padStart(e*2,"0"))}function Ju(t,e){return Ft(t,e).reverse()}function nn(t,e,n){let r;if(typeof e=="string")try{r=o_(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Hd(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function wt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Gi(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function ug(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const If=t=>typeof t=="bigint"&&lg<=t;function a_(t,e,n){return If(t)&&If(e)&&If(n)&&e<=t&&t<n}function Ei(t,e,n,r){if(!a_(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Ia(t){let e;for(e=0;t>lg;t>>=cg,e+=1);return e}function U4(t,e){return t>>BigInt(e)&cg}const Gc=t=>(F4<<BigInt(t-1))-cg,L4={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Hd(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ol(t,e,n={}){const r=(i,s,o)=>{const a=L4[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const fy=()=>{throw new Error("not implemented")};function dl(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pt=BigInt(0),it=BigInt(1),Si=BigInt(2),z4=BigInt(3),v0=BigInt(4),hy=BigInt(5),py=BigInt(8);function ft(t,e){const n=t%e;return n>=Pt?n:e+n}function $4(t,e,n){if(e<Pt)throw new Error("invalid exponent, negatives unsupported");if(n<=Pt)throw new Error("invalid modulus");if(n===it)return Pt;let r=it;for(;e>Pt;)e&it&&(r=r*t%n),t=t*t%n,e>>=it;return r}function ur(t,e,n){let r=t;for(;e-- >Pt;)r*=r,r%=n;return r}function gy(t,e){if(t===Pt)throw new Error("invert: expected non-zero number");if(e<=Pt)throw new Error("invert: expected positive modulus, got "+e);let n=ft(t,e),r=e,i=Pt,s=it;for(;n!==Pt;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==it)throw new Error("invert: does not exist");return ft(i,e)}function D4(t){const e=(t-it)/Si;let n,r,i;for(n=t-it,r=0;n%Si===Pt;n/=Si,r++);for(i=Si;i<t&&$4(i,e,t)!==t-it;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+it)/v0;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+it)/Si;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),f=a.pow(l,s),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let g=1;for(let v=a.sqr(h);g<c&&!a.eql(v,a.ONE);g++)v=a.sqr(v);const p=a.pow(u,it<<BigInt(c-g-1));u=a.sqr(p),f=a.mul(f,p),h=a.mul(h,u),c=g}return f}}function V4(t){if(t%v0===z4){const e=(t+it)/v0;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%py===hy){const e=(t-hy)/py;return function(r,i){const s=r.mul(i,Si),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,Si),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return D4(t)}const H4=(t,e)=>(ft(t,e)&it)===it,W4=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function l_(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=W4.reduce((r,i)=>(r[i]="function",r),e);return Ol(t,n)}function Kc(t,e,n){if(n<Pt)throw new Error("invalid exponent, negatives unsupported");if(n===Pt)return t.ONE;if(n===it)return e;let r=t.ONE,i=e;for(;n>Pt;)n&it&&(r=t.mul(r,i)),i=t.sqr(i),n>>=it;return r}function Yc(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function q4(t){const e=(t-it)/Si;return(n,r)=>n.pow(r,e)}function c_(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ml(t,e,n=!1,r={}){if(t<=Pt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=c_(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Gc(i),ZERO:Pt,ONE:it,create:l=>ft(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Pt<=l&&l<t},is0:l=>l===Pt,isOdd:l=>(l&it)===it,neg:l=>ft(-l,t),eql:(l,c)=>l===c,sqr:l=>ft(l*l,t),add:(l,c)=>ft(l+c,t),sub:(l,c)=>ft(l-c,t),mul:(l,c)=>ft(l*c,t),pow:(l,c)=>Kc(a,l,c),div:(l,c)=>ft(l*gy(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>gy(l,t),sqrt:r.sqrt||(l=>(o||(o=V4(t)),o(a,l))),invertBatch:l=>Yc(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?Ju(l,s):Ft(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?Fa(l):Xn(l)}});return Object.freeze(a)}function u_(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function d_(t){const e=u_(t);return e+Math.ceil(e/2)}function G4(t,e,n=!1){const r=t.length,i=u_(e),s=d_(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Fa(t):Xn(t),a=ft(o,e-it)+it;return n?Ju(a,i):Ft(a,i)}const K4=Xn;function mi(t,e){if(fl(t),fl(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=t&255,t>>>=8;return new Uint8Array(n)}function Y4(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function fl(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function X4(t,e,n,r){Gi(t),Gi(e),fl(n),e.length>255&&(e=r(wt(ug("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:s}=r,o=Math.ceil(n/i);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=wt(e,mi(e.length,1)),l=mi(0,s),c=mi(n,2),u=new Array(o),f=r(wt(l,t,c,mi(0,1),a));u[0]=r(wt(f,mi(1,1),a));for(let g=1;g<=o;g++){const p=[Y4(f,u[g-1]),mi(g+1,1),a];u[g]=r(wt(...p))}return wt(...u).slice(0,n)}function Z4(t,e,n,r,i){if(Gi(t),Gi(e),fl(n),e.length>255){const s=Math.ceil(2*r/8);e=i.create({dkLen:s}).update(ug("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(mi(n,2)).update(e).update(mi(e.length,1)).digest()}function my(t,e,n){Ol(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:s,hash:o,expand:a,DST:l}=n;Gi(t),fl(e);const c=typeof l=="string"?ug(l):l,u=r.toString(2).length,f=Math.ceil((u+i)/8),h=e*s*f;let g;if(a==="xmd")g=X4(t,c,h,o);else if(a==="xof")g=Z4(t,c,h,i,o);else if(a==="_internal_pass")g=t;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(e);for(let v=0;v<e;v++){const E=new Array(s);for(let b=0;b<s;b++){const _=f*(b+v*s),S=g.subarray(_,_+f);E[b]=ft(K4(S),r)}p[v]=E}return p}function f_(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[s,o,a,l]=n.map(c=>c.reduce((u,f)=>t.add(t.mul(u,r),f)));return r=t.div(s,o),i=t.mul(i,t.div(a,l)),{x:r,y:i}}}function yy(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const s=my(r,2,{...n,DST:n.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),l=o.add(a).clearCofactor();return l.assertValidity(),l},encodeToCurve(r,i){const s=my(r,1,{...n,DST:n.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const s of r)if(typeof s!="bigint")throw new Error("mapToCurve: expected array of bigints");const i=t.fromAffine(e(r)).clearCofactor();return i.assertValidity(),i}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xy=BigInt(0),lc=BigInt(1);function Uf(t,e){const n=e.negate();return t?n:e}function h_(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Lf(t,e){h_(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Q4(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function J4(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const zf=new WeakMap,p_=new WeakMap;function $f(t){return p_.get(t)||1}function g_(t,e){return{constTimeNegate:Uf,hasPrecomputes(n){return $f(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>xy;)r&lc&&(i=i.add(s)),s=s.double(),r>>=lc;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Lf(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Lf(n,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**n-1),u=2**n,f=BigInt(n);for(let h=0;h<s;h++){const g=h*o;let p=Number(i&c);i>>=f,p>o&&(p-=u,i+=lc);const v=g,E=g+Math.abs(p)-1,b=h%2!==0,_=p<0;p===0?l=l.add(Uf(b,r[v])):a=a.add(Uf(_,r[E]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=Lf(n,e),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let f=0;f<o;f++){const h=f*a;if(i===xy)break;let g=Number(i&l);if(i>>=u,g>a&&(g-=c,i+=lc),g===0)continue;let p=r[h+Math.abs(g)-1];g<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(n,r,i){let s=zf.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&zf.set(r,i(s))),s},wNAFCached(n,r,i){const s=$f(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=$f(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){h_(r,e),p_.set(n,r),zf.delete(n)}}}function m_(t,e,n,r){if(Q4(n,t),J4(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Ia(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let f=c;f>=0;f-=o){l.fill(i);for(let g=0;g<r.length;g++){const p=r[g],v=Number(p>>BigInt(f)&BigInt(a));l[v]=l[v].add(n[g])}let h=i;for(let g=l.length-1,p=i;g>0;g--)p=p.add(l[g]),h=h.add(p);if(u=u.add(h),f!==0)for(let g=0;g<o;g++)u=u.double()}return u}function y_(t){return l_(t.Fp),Ol(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...c_(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function e8(t){const e=y_(t);Ol(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const fs=BigInt(0),gt=BigInt(1),li=BigInt(2),ed=BigInt(3),by=BigInt(4);function wy(t){const e=e8(t),{Fp:n}=e,r=Ml(e.n,e.nBitLength),i=e.toBytes||((v,E,b)=>{const _=E.toAffine();return wt(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=e.fromBytes||(v=>{const E=v.subarray(1),b=n.fromBytes(E.subarray(0,n.BYTES)),_=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:b,y:_}});function o(v){const{a:E,b}=e,_=n.sqr(v),S=n.mul(_,v);return n.add(n.add(S,n.mul(v,E)),b)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(v){return a_(v,gt,e.n)}function l(v){const{allowedPrivateKeyLengths:E,nByteLength:b,wrapPrivateKey:_,n:S}=e;if(E&&typeof v!="bigint"){if(Hd(v)&&(v=Bs(v)),typeof v!="string"||!E.includes(v.length))throw new Error("invalid private key");v=v.padStart(b*2,"0")}let R;try{R=typeof v=="bigint"?v:Xn(nn("private key",v,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof v)}return _&&(R=ft(R,S)),Ei("private key",R,gt,S),R}function c(v){if(!(v instanceof h))throw new Error("ProjectivePoint expected")}const u=dl((v,E)=>{const{px:b,py:_,pz:S}=v;if(n.eql(S,n.ONE))return{x:b,y:_};const R=v.is0();E==null&&(E=R?n.ONE:n.inv(S));const k=n.mul(b,E),M=n.mul(_,E),C=n.mul(S,E);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:k,y:M}}),f=dl(v=>{if(v.is0()){if(e.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:E,y:b}=v.toAffine();if(!n.isValid(E)||!n.isValid(b))throw new Error("bad point: x or y not FE");const _=n.sqr(b),S=o(E);if(!n.eql(_,S))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(E,b,_){if(this.px=E,this.py=b,this.pz=_,E==null||!n.isValid(E))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required");Object.freeze(this)}static fromAffine(E){const{x:b,y:_}=E||{};if(!E||!n.isValid(b)||!n.isValid(_))throw new Error("invalid affine point");if(E instanceof h)throw new Error("projective point not allowed");const S=R=>n.eql(R,n.ZERO);return S(b)&&S(_)?h.ZERO:new h(b,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const b=n.invertBatch(E.map(_=>_.pz));return E.map((_,S)=>_.toAffine(b[S])).map(h.fromAffine)}static fromHex(E){const b=h.fromAffine(s(nn("pointHex",E)));return b.assertValidity(),b}static fromPrivateKey(E){return h.BASE.multiply(l(E))}static msm(E,b){return m_(h,r,E,b)}_setWindowSize(E){p.setWindowSize(this,E)}assertValidity(){f(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){c(E);const{px:b,py:_,pz:S}=this,{px:R,py:k,pz:M}=E,C=n.eql(n.mul(b,M),n.mul(R,S)),U=n.eql(n.mul(_,M),n.mul(k,S));return C&&U}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b}=e,_=n.mul(b,ed),{px:S,py:R,pz:k}=this;let M=n.ZERO,C=n.ZERO,U=n.ZERO,I=n.mul(S,S),V=n.mul(R,R),ie=n.mul(k,k),ae=n.mul(S,R);return ae=n.add(ae,ae),U=n.mul(S,k),U=n.add(U,U),M=n.mul(E,U),C=n.mul(_,ie),C=n.add(M,C),M=n.sub(V,C),C=n.add(V,C),C=n.mul(M,C),M=n.mul(ae,M),U=n.mul(_,U),ie=n.mul(E,ie),ae=n.sub(I,ie),ae=n.mul(E,ae),ae=n.add(ae,U),U=n.add(I,I),I=n.add(U,I),I=n.add(I,ie),I=n.mul(I,ae),C=n.add(C,I),ie=n.mul(R,k),ie=n.add(ie,ie),I=n.mul(ie,ae),M=n.sub(M,I),U=n.mul(ie,V),U=n.add(U,U),U=n.add(U,U),new h(M,C,U)}add(E){c(E);const{px:b,py:_,pz:S}=this,{px:R,py:k,pz:M}=E;let C=n.ZERO,U=n.ZERO,I=n.ZERO;const V=e.a,ie=n.mul(e.b,ed);let ae=n.mul(b,R),L=n.mul(_,k),H=n.mul(S,M),J=n.add(b,_),ee=n.add(R,k);J=n.mul(J,ee),ee=n.add(ae,L),J=n.sub(J,ee),ee=n.add(b,S);let Z=n.add(R,M);return ee=n.mul(ee,Z),Z=n.add(ae,H),ee=n.sub(ee,Z),Z=n.add(_,S),C=n.add(k,M),Z=n.mul(Z,C),C=n.add(L,H),Z=n.sub(Z,C),I=n.mul(V,ee),C=n.mul(ie,H),I=n.add(C,I),C=n.sub(L,I),I=n.add(L,I),U=n.mul(C,I),L=n.add(ae,ae),L=n.add(L,ae),H=n.mul(V,H),ee=n.mul(ie,ee),L=n.add(L,H),H=n.sub(ae,H),H=n.mul(V,H),ee=n.add(ee,H),ae=n.mul(L,ee),U=n.add(U,ae),ae=n.mul(Z,ee),C=n.mul(J,C),C=n.sub(C,ae),ae=n.mul(J,L),I=n.mul(Z,I),I=n.add(I,ae),new h(C,U,I)}subtract(E){return this.add(E.negate())}is0(){return this.equals(h.ZERO)}wNAF(E){return p.wNAFCached(this,E,h.normalizeZ)}multiplyUnsafe(E){const{endo:b,n:_}=e;Ei("scalar",E,fs,_);const S=h.ZERO;if(E===fs)return S;if(this.is0()||E===gt)return this;if(!b||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,E,h.normalizeZ);let{k1neg:R,k1:k,k2neg:M,k2:C}=b.splitScalar(E),U=S,I=S,V=this;for(;k>fs||C>fs;)k&gt&&(U=U.add(V)),C&gt&&(I=I.add(V)),V=V.double(),k>>=gt,C>>=gt;return R&&(U=U.negate()),M&&(I=I.negate()),I=new h(n.mul(I.px,b.beta),I.py,I.pz),U.add(I)}multiply(E){const{endo:b,n:_}=e;Ei("scalar",E,gt,_);let S,R;if(b){const{k1neg:k,k1:M,k2neg:C,k2:U}=b.splitScalar(E);let{p:I,f:V}=this.wNAF(M),{p:ie,f:ae}=this.wNAF(U);I=p.constTimeNegate(k,I),ie=p.constTimeNegate(C,ie),ie=new h(n.mul(ie.px,b.beta),ie.py,ie.pz),S=I.add(ie),R=V.add(ae)}else{const{p:k,f:M}=this.wNAF(E);S=k,R=M}return h.normalizeZ([S,R])[0]}multiplyAndAddUnsafe(E,b,_){const S=h.BASE,R=(M,C)=>C===fs||C===gt||!M.equals(S)?M.multiplyUnsafe(C):M.multiply(C),k=R(this,b).add(R(E,_));return k.is0()?void 0:k}toAffine(E){return u(this,E)}isTorsionFree(){const{h:E,isTorsionFree:b}=e;if(E===gt)return!0;if(b)return b(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:b}=e;return E===gt?this:b?b(h,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return Ma("isCompressed",E),this.assertValidity(),i(h,this,E)}toHex(E=!0){return Ma("isCompressed",E),Bs(this.toRawBytes(E))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const g=e.nBitLength,p=g_(h,e.endo?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function t8(t,e){const n=t.ORDER;let r=fs;for(let p=n-gt;p%li===fs;p/=li)r+=gt;const i=r,s=li<<i-gt-gt,o=s*li,a=(n-gt)/o,l=(a-gt)/li,c=o-gt,u=s,f=t.pow(e,a),h=t.pow(e,(a+gt)/li);let g=(p,v)=>{let E=f,b=t.pow(v,c),_=t.sqr(b);_=t.mul(_,v);let S=t.mul(p,_);S=t.pow(S,l),S=t.mul(S,b),b=t.mul(S,v),_=t.mul(S,p);let R=t.mul(_,b);S=t.pow(R,u);let k=t.eql(S,t.ONE);b=t.mul(_,h),S=t.mul(R,E),_=t.cmov(b,_,k),R=t.cmov(S,R,k);for(let M=i;M>gt;M--){let C=M-li;C=li<<C-gt;let U=t.pow(R,C);const I=t.eql(U,t.ONE);b=t.mul(_,E),E=t.mul(E,E),U=t.mul(R,E),_=t.cmov(b,_,I),R=t.cmov(U,R,I)}return{isValid:k,value:_}};if(t.ORDER%by===ed){const p=(t.ORDER-ed)/by,v=t.sqrt(t.neg(e));g=(E,b)=>{let _=t.sqr(b);const S=t.mul(E,b);_=t.mul(_,S);let R=t.pow(_,p);R=t.mul(R,S);const k=t.mul(R,v),M=t.mul(t.sqr(R),b),C=t.eql(M,E);let U=t.cmov(k,R,C);return{isValid:C,value:U}}}return g}function x_(t,e){if(l_(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=t8(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,s,o,a,l,c,u,f;i=t.sqr(r),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),c=t.sqr(a),l=t.mul(c,e.A),s=t.add(s,l),s=t.mul(s,o),c=t.mul(c,a),l=t.mul(c,e.B),s=t.add(s,l),u=t.mul(i,o);const{isValid:h,value:g}=n(s,c);f=t.mul(i,r),f=t.mul(f,g),u=t.cmov(u,o,h),f=t.cmov(f,g,h);const p=t.isOdd(r)===t.isOdd(f);return f=t.cmov(t.neg(f),f,p),u=t.div(u,a),{x:u,y:f}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n8=BigInt(0),cc=BigInt(1),vy=BigInt(2),fo=BigInt(3);function r8(t){const e=[];for(;t>cc;t>>=cc)(t&cc)===n8?e.unshift(0):(t&fo)===fo?(e.unshift(-1),t+=cc):e.unshift(1);return e}function i8(t){const{Fp:e,Fr:n,Fp2:r,Fp6:i,Fp12:s}=t.fields,o=t.params.xNegative,a=t.params.twistType,l=wy({n:n.ORDER,...t.G1}),c=Object.assign(l,yy(l.ProjectivePoint,t.G1.mapToCurve,{...t.htfDefaults,...t.G1.htfDefaults})),u=wy({n:n.ORDER,...t.G2}),f=Object.assign(u,yy(u.ProjectivePoint,t.G2.mapToCurve,{...t.htfDefaults,...t.G2.htfDefaults}));let h;if(a==="multiplicative")h=(oe,j,le,he,me,de)=>s.mul014(he,oe,r.mul(j,me),r.mul(le,de));else if(a==="divisive")h=(oe,j,le,he,me,de)=>s.mul034(he,r.mul(le,de),r.mul(j,me),oe);else throw new Error("bls: unknown twist type");const g=r.div(r.ONE,r.mul(r.ONE,vy));function p(oe,j,le,he){const me=r.sqr(le),de=r.sqr(he),ge=r.mulByB(r.mul(de,fo)),B=r.mul(ge,fo),O=r.sub(r.sub(r.sqr(r.add(le,he)),de),me),z=r.sub(ge,me),X=r.mul(r.sqr(j),fo),q=r.neg(O);return oe.push([z,X,q]),j=r.mul(r.mul(r.mul(r.sub(me,B),j),le),g),le=r.sub(r.sqr(r.mul(r.add(me,B),g)),r.mul(r.sqr(ge),fo)),he=r.mul(me,O),{Rx:j,Ry:le,Rz:he}}function v(oe,j,le,he,me,de){const ge=r.sub(le,r.mul(de,he)),B=r.sub(j,r.mul(me,he)),O=r.sub(r.mul(ge,me),r.mul(B,de)),z=r.neg(ge),X=B;oe.push([O,z,X]);const q=r.sqr(B),Q=r.mul(q,B),N=r.mul(q,j),m=r.add(r.sub(Q,r.mul(N,vy)),r.mul(r.sqr(ge),he));return j=r.mul(B,m),le=r.sub(r.mul(r.sub(N,m),ge),r.mul(Q,le)),he=r.mul(he,Q),{Rx:j,Ry:le,Rz:he}}const E=r8(t.params.ateLoopSize),b=dl(oe=>{const j=oe,{x:le,y:he}=j.toAffine(),me=le,de=he,ge=r.neg(he);let B=me,O=de,z=r.ONE;const X=[];for(const q of E){const Q=[];({Rx:B,Ry:O,Rz:z}=p(Q,B,O,z)),q&&({Rx:B,Ry:O,Rz:z}=v(Q,B,O,z,me,q===-1?ge:de)),X.push(Q)}if(t.postPrecompute){const q=X[X.length-1];t.postPrecompute(B,O,z,me,de,v.bind(null,q))}return X});function _(oe,j=!1){let le=s.ONE;if(oe.length){const he=oe[0][0].length;for(let me=0;me<he;me++){le=s.sqr(le);for(const[de,ge,B]of oe)for(const[O,z,X]of de[me])le=h(O,z,X,le,ge,B)}}return o&&(le=s.conjugate(le)),j?s.finalExponentiate(le):le}function S(oe,j=!0){const le=[];c.ProjectivePoint.normalizeZ(oe.map(({g1:he})=>he)),f.ProjectivePoint.normalizeZ(oe.map(({g2:he})=>he));for(const{g1:he,g2:me}of oe){if(he.equals(c.ProjectivePoint.ZERO)||me.equals(f.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");he.assertValidity(),me.assertValidity();const de=he.toAffine();le.push([b(me),de.x,de.y])}return _(le,j)}function R(oe,j,le=!0){return S([{g1:oe,g2:j}],le)}const k={randomPrivateKey:()=>{const oe=d_(n.ORDER);return G4(t.randomBytes(oe),n.ORDER)},calcPairingPrecomputes:b},{ShortSignature:M}=t.G1,{Signature:C}=t.G2;function U(oe){return oe instanceof c.ProjectivePoint?oe:c.ProjectivePoint.fromHex(oe)}function I(oe,j){return oe instanceof c.ProjectivePoint?oe:c.hashToCurve(nn("point",oe),j)}function V(oe){return oe instanceof f.ProjectivePoint?oe:C.fromHex(oe)}function ie(oe,j){return oe instanceof f.ProjectivePoint?oe:f.hashToCurve(nn("point",oe),j)}function ae(oe){return c.ProjectivePoint.fromPrivateKey(oe).toRawBytes(!0)}function L(oe){return f.ProjectivePoint.fromPrivateKey(oe).toRawBytes(!0)}function H(oe,j,le){const he=ie(oe,le);he.assertValidity();const me=he.multiply(c.normPrivateKeyToScalar(j));return oe instanceof f.ProjectivePoint?me:C.toRawBytes(me)}function J(oe,j,le){const he=I(oe,le);he.assertValidity();const me=he.multiply(c.normPrivateKeyToScalar(j));return oe instanceof c.ProjectivePoint?me:M.toRawBytes(me)}function ee(oe,j,le,he){const me=U(le),de=ie(j,he),ge=c.ProjectivePoint.BASE,B=V(oe),O=S([{g1:me.negate(),g2:de},{g1:ge,g2:B}]);return s.eql(O,s.ONE)}function Z(oe,j,le,he){const me=V(le),de=I(j,he),ge=f.ProjectivePoint.BASE,B=U(oe),O=S([{g1:de,g2:me},{g1:B,g2:ge.negate()}]);return s.eql(O,s.ONE)}function G(oe){if(!Array.isArray(oe)||oe.length===0)throw new Error("expected non-empty array")}function K(oe){G(oe);const le=oe.map(U).reduce((he,me)=>he.add(me),c.ProjectivePoint.ZERO);return oe[0]instanceof c.ProjectivePoint?(le.assertValidity(),le):le.toRawBytes(!0)}function ce(oe){G(oe);const le=oe.map(V).reduce((he,me)=>he.add(me),f.ProjectivePoint.ZERO);return oe[0]instanceof f.ProjectivePoint?(le.assertValidity(),le):C.toRawBytes(le)}function se(oe){G(oe);const le=oe.map(U).reduce((he,me)=>he.add(me),c.ProjectivePoint.ZERO);return oe[0]instanceof c.ProjectivePoint?(le.assertValidity(),le):M.toRawBytes(le)}function ue(oe,j,le,he){if(G(j),le.length!==j.length)throw new Error("amount of public keys and messages should be equal");const me=V(oe),de=j.map(z=>ie(z,he)),ge=le.map(U),B=new Map;for(let z=0;z<ge.length;z++){const X=ge[z],q=de[z];let Q=B.get(q);Q===void 0&&(Q=[],B.set(q,Q)),Q.push(X)}const O=[];try{for(const[z,X]of B){const q=X.reduce((Q,N)=>Q.add(N));O.push({g1:q,g2:z})}return O.push({g1:c.ProjectivePoint.BASE.negate(),g2:me}),s.eql(S(O),s.ONE)}catch{return!1}}return c.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:ae,getPublicKeyForShortSignatures:L,sign:H,signShortSignature:J,verify:ee,verifyBatch:ue,verifyShortSignature:Z,aggregatePublicKeys:K,aggregateSignatures:ce,aggregateShortSignatures:se,millerLoopBatch:_,pairing:R,pairingBatch:S,G1:c,G2:f,Signature:C,ShortSignature:M,fields:{Fr:n,Fp:e,Fp2:r,Fp6:i,Fp12:s},params:{ateLoopSize:t.params.ateLoopSize,r:t.params.r,G1b:t.G1.b,G2b:t.G2.b},utils:k}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const s8=BigInt(0),ho=BigInt(1),zr=BigInt(2),_y=BigInt(3);function Df(t,e,n,r,i=1,s){const o=BigInt(s===void 0?r:s),a=n**BigInt(r),l=[];for(let c=0;c<i;c++){const u=BigInt(c+1),f=[];for(let h=0,g=ho;h<r;h++){const p=(u*g-u)/o%a;f.push(t.pow(e,p)),g*=n}l.push(f)}return l}function o8(t,e,n){const r=e.pow(n,(t.ORDER-ho)/_y),i=e.pow(n,(t.ORDER-ho)/zr);function s(h,g){const p=e.mul(e.frobeniusMap(h,1),r),v=e.mul(e.frobeniusMap(g,1),i);return[p,v]}const o=e.pow(n,(t.ORDER**zr-ho)/_y),a=e.pow(n,(t.ORDER**zr-ho)/zr);if(!e.eql(a,e.neg(e.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function l(h,g){return[e.mul(h,o),e.neg(g)]}const c=h=>(g,p)=>{const v=p.toAffine(),E=h(v.x,v.y);return g.fromAffine({x:E[0],y:E[1]})},u=c(s),f=c(l);return{psi:s,psi2:l,G2psi:u,G2psi2:f,PSI_X:r,PSI_Y:i,PSI2_X:o,PSI2_Y:a}}function a8(t){const{ORDER:e}=t,n=Ml(e),r=n.create(t.NONRESIDUE||BigInt(-1)),i=q4(e),s=n.div(n.ONE,zr),o=Df(n,r,n.ORDER,2)[0],a=({c0:L,c1:H},{c0:J,c1:ee})=>({c0:n.add(L,J),c1:n.add(H,ee)}),l=({c0:L,c1:H},{c0:J,c1:ee})=>({c0:n.sub(L,J),c1:n.sub(H,ee)}),c=({c0:L,c1:H},J)=>{if(typeof J=="bigint")return{c0:n.mul(L,J),c1:n.mul(H,J)};const{c0:ee,c1:Z}=J;let G=n.mul(L,ee),K=n.mul(H,Z);const ce=n.sub(G,K),se=n.sub(n.mul(n.add(L,H),n.add(ee,Z)),n.add(G,K));return{c0:ce,c1:se}},u=({c0:L,c1:H})=>{const J=n.add(L,H),ee=n.sub(L,H),Z=n.add(L,L);return{c0:n.mul(J,ee),c1:n.mul(Z,H)}},f=L=>{if(L.length!==2)throw new Error("invalid tuple");const H=L.map(J=>n.create(J));return{c0:H[0],c1:H[1]}},h=e*e,g=f(t.FP2_NONRESIDUE),p={ORDER:h,isLE:n.isLE,NONRESIDUE:g,BITS:Ia(h),BYTES:Math.ceil(Ia(h)/8),MASK:Gc(Ia(h)),ZERO:{c0:n.ZERO,c1:n.ZERO},ONE:{c0:n.ONE,c1:n.ZERO},create:L=>L,isValid:({c0:L,c1:H})=>typeof L=="bigint"&&typeof H=="bigint",is0:({c0:L,c1:H})=>n.is0(L)&&n.is0(H),eql:({c0:L,c1:H},{c0:J,c1:ee})=>n.eql(L,J)&&n.eql(H,ee),neg:({c0:L,c1:H})=>({c0:n.neg(L),c1:n.neg(H)}),pow:(L,H)=>Kc(p,L,H),invertBatch:L=>Yc(p,L),add:a,sub:l,mul:c,sqr:u,addN:a,subN:l,mulN:c,sqrN:u,div:(L,H)=>p.mul(L,typeof H=="bigint"?n.inv(n.create(H)):p.inv(H)),inv:({c0:L,c1:H})=>{const J=n.inv(n.create(L*L+H*H));return{c0:n.mul(J,n.create(L)),c1:n.mul(J,n.create(-H))}},sqrt:L=>{if(t.Fp2sqrt)return t.Fp2sqrt(L);const{c0:H,c1:J}=L;if(n.is0(J))return n.eql(i(n,H),n.ONE)?p.create({c0:n.sqrt(H),c1:n.ZERO}):p.create({c0:n.ZERO,c1:n.sqrt(n.div(H,r))});const ee=n.sqrt(n.sub(n.sqr(H),n.mul(n.sqr(J),r)));let Z=n.mul(n.add(ee,H),s);const G=i(n,Z);!n.is0(G)&&!n.eql(G,n.ONE)&&(Z=n.sub(Z,ee));const K=n.sqrt(Z),ce=p.create({c0:K,c1:n.div(n.mul(J,s),K)});if(!p.eql(p.sqr(ce),L))throw new Error("Cannot find square root");const se=ce,ue=p.neg(se),{re:oe,im:j}=p.reim(se),{re:le,im:he}=p.reim(ue);return j>he||j===he&&oe>le?se:ue},isOdd:L=>{const{re:H,im:J}=p.reim(L),ee=H%zr,Z=H===s8,G=J%zr;return BigInt(ee||Z&&G)==ho},fromBytes(L){if(L.length!==p.BYTES)throw new Error("fromBytes invalid length="+L.length);return{c0:n.fromBytes(L.subarray(0,n.BYTES)),c1:n.fromBytes(L.subarray(n.BYTES))}},toBytes:({c0:L,c1:H})=>wt(n.toBytes(L),n.toBytes(H)),cmov:({c0:L,c1:H},{c0:J,c1:ee},Z)=>({c0:n.cmov(L,J,Z),c1:n.cmov(H,ee,Z)}),reim:({c0:L,c1:H})=>({re:L,im:H}),mulByNonresidue:({c0:L,c1:H})=>p.mul({c0:L,c1:H},g),mulByB:t.Fp2mulByB,fromBigTuple:f,frobeniusMap:({c0:L,c1:H},J)=>({c0:L,c1:n.mul(H,o[J%2])})},v=({c0:L,c1:H,c2:J},{c0:ee,c1:Z,c2:G})=>({c0:p.add(L,ee),c1:p.add(H,Z),c2:p.add(J,G)}),E=({c0:L,c1:H,c2:J},{c0:ee,c1:Z,c2:G})=>({c0:p.sub(L,ee),c1:p.sub(H,Z),c2:p.sub(J,G)}),b=({c0:L,c1:H,c2:J},ee)=>{if(typeof ee=="bigint")return{c0:p.mul(L,ee),c1:p.mul(H,ee),c2:p.mul(J,ee)};const{c0:Z,c1:G,c2:K}=ee,ce=p.mul(L,Z),se=p.mul(H,G),ue=p.mul(J,K);return{c0:p.add(ce,p.mulByNonresidue(p.sub(p.mul(p.add(H,J),p.add(G,K)),p.add(se,ue)))),c1:p.add(p.sub(p.mul(p.add(L,H),p.add(Z,G)),p.add(ce,se)),p.mulByNonresidue(ue)),c2:p.sub(p.add(se,p.mul(p.add(L,J),p.add(Z,K))),p.add(ce,ue))}},_=({c0:L,c1:H,c2:J})=>{let ee=p.sqr(L),Z=p.mul(p.mul(L,H),zr),G=p.mul(p.mul(H,J),zr),K=p.sqr(J);return{c0:p.add(p.mulByNonresidue(G),ee),c1:p.add(p.mulByNonresidue(K),Z),c2:p.sub(p.sub(p.add(p.add(Z,p.sqr(p.add(p.sub(L,H),J))),G),ee),K)}},[S,R]=Df(p,g,n.ORDER,6,2,3),k={ORDER:p.ORDER,isLE:p.isLE,BITS:3*p.BITS,BYTES:3*p.BYTES,MASK:Gc(3*p.BITS),ZERO:{c0:p.ZERO,c1:p.ZERO,c2:p.ZERO},ONE:{c0:p.ONE,c1:p.ZERO,c2:p.ZERO},create:L=>L,isValid:({c0:L,c1:H,c2:J})=>p.isValid(L)&&p.isValid(H)&&p.isValid(J),is0:({c0:L,c1:H,c2:J})=>p.is0(L)&&p.is0(H)&&p.is0(J),neg:({c0:L,c1:H,c2:J})=>({c0:p.neg(L),c1:p.neg(H),c2:p.neg(J)}),eql:({c0:L,c1:H,c2:J},{c0:ee,c1:Z,c2:G})=>p.eql(L,ee)&&p.eql(H,Z)&&p.eql(J,G),sqrt:fy,div:(L,H)=>k.mul(L,typeof H=="bigint"?n.inv(n.create(H)):k.inv(H)),pow:(L,H)=>Kc(k,L,H),invertBatch:L=>Yc(k,L),add:v,sub:E,mul:b,sqr:_,addN:v,subN:E,mulN:b,sqrN:_,inv:({c0:L,c1:H,c2:J})=>{let ee=p.sub(p.sqr(L),p.mulByNonresidue(p.mul(J,H))),Z=p.sub(p.mulByNonresidue(p.sqr(J)),p.mul(L,H)),G=p.sub(p.sqr(H),p.mul(L,J)),K=p.inv(p.add(p.mulByNonresidue(p.add(p.mul(J,Z),p.mul(H,G))),p.mul(L,ee)));return{c0:p.mul(K,ee),c1:p.mul(K,Z),c2:p.mul(K,G)}},fromBytes:L=>{if(L.length!==k.BYTES)throw new Error("fromBytes invalid length="+L.length);return{c0:p.fromBytes(L.subarray(0,p.BYTES)),c1:p.fromBytes(L.subarray(p.BYTES,2*p.BYTES)),c2:p.fromBytes(L.subarray(2*p.BYTES))}},toBytes:({c0:L,c1:H,c2:J})=>wt(p.toBytes(L),p.toBytes(H),p.toBytes(J)),cmov:({c0:L,c1:H,c2:J},{c0:ee,c1:Z,c2:G},K)=>({c0:p.cmov(L,ee,K),c1:p.cmov(H,Z,K),c2:p.cmov(J,G,K)}),fromBigSix:L=>{if(!Array.isArray(L)||L.length!==6)throw new Error("invalid Fp6 usage");return{c0:p.fromBigTuple(L.slice(0,2)),c1:p.fromBigTuple(L.slice(2,4)),c2:p.fromBigTuple(L.slice(4,6))}},frobeniusMap:({c0:L,c1:H,c2:J},ee)=>({c0:p.frobeniusMap(L,ee),c1:p.mul(p.frobeniusMap(H,ee),S[ee%6]),c2:p.mul(p.frobeniusMap(J,ee),R[ee%6])}),mulByFp2:({c0:L,c1:H,c2:J},ee)=>({c0:p.mul(L,ee),c1:p.mul(H,ee),c2:p.mul(J,ee)}),mulByNonresidue:({c0:L,c1:H,c2:J})=>({c0:p.mulByNonresidue(J),c1:L,c2:H}),mul1:({c0:L,c1:H,c2:J},ee)=>({c0:p.mulByNonresidue(p.mul(J,ee)),c1:p.mul(L,ee),c2:p.mul(H,ee)}),mul01({c0:L,c1:H,c2:J},ee,Z){let G=p.mul(L,ee),K=p.mul(H,Z);return{c0:p.add(p.mulByNonresidue(p.sub(p.mul(p.add(H,J),Z),K)),G),c1:p.sub(p.sub(p.mul(p.add(ee,Z),p.add(L,H)),G),K),c2:p.add(p.sub(p.mul(p.add(L,J),ee),G),K)}}},M=Df(p,g,n.ORDER,12,1,6)[0],C=({c0:L,c1:H},{c0:J,c1:ee})=>({c0:k.add(L,J),c1:k.add(H,ee)}),U=({c0:L,c1:H},{c0:J,c1:ee})=>({c0:k.sub(L,J),c1:k.sub(H,ee)}),I=({c0:L,c1:H},J)=>{if(typeof J=="bigint")return{c0:k.mul(L,J),c1:k.mul(H,J)};let{c0:ee,c1:Z}=J,G=k.mul(L,ee),K=k.mul(H,Z);return{c0:k.add(G,k.mulByNonresidue(K)),c1:k.sub(k.mul(k.add(L,H),k.add(ee,Z)),k.add(G,K))}},V=({c0:L,c1:H})=>{let J=k.mul(L,H);return{c0:k.sub(k.sub(k.mul(k.add(k.mulByNonresidue(H),L),k.add(L,H)),J),k.mulByNonresidue(J)),c1:k.add(J,J)}};function ie(L,H){const J=p.sqr(L),ee=p.sqr(H);return{first:p.add(p.mulByNonresidue(ee),J),second:p.sub(p.sub(p.sqr(p.add(L,H)),J),ee)}}const ae={ORDER:p.ORDER,isLE:k.isLE,BITS:2*p.BITS,BYTES:2*p.BYTES,MASK:Gc(2*p.BITS),ZERO:{c0:k.ZERO,c1:k.ZERO},ONE:{c0:k.ONE,c1:k.ZERO},create:L=>L,isValid:({c0:L,c1:H})=>k.isValid(L)&&k.isValid(H),is0:({c0:L,c1:H})=>k.is0(L)&&k.is0(H),neg:({c0:L,c1:H})=>({c0:k.neg(L),c1:k.neg(H)}),eql:({c0:L,c1:H},{c0:J,c1:ee})=>k.eql(L,J)&&k.eql(H,ee),sqrt:fy,inv:({c0:L,c1:H})=>{let J=k.inv(k.sub(k.sqr(L),k.mulByNonresidue(k.sqr(H))));return{c0:k.mul(L,J),c1:k.neg(k.mul(H,J))}},div:(L,H)=>ae.mul(L,typeof H=="bigint"?n.inv(n.create(H)):ae.inv(H)),pow:(L,H)=>Kc(ae,L,H),invertBatch:L=>Yc(ae,L),add:C,sub:U,mul:I,sqr:V,addN:C,subN:U,mulN:I,sqrN:V,fromBytes:L=>{if(L.length!==ae.BYTES)throw new Error("fromBytes invalid length="+L.length);return{c0:k.fromBytes(L.subarray(0,k.BYTES)),c1:k.fromBytes(L.subarray(k.BYTES))}},toBytes:({c0:L,c1:H})=>wt(k.toBytes(L),k.toBytes(H)),cmov:({c0:L,c1:H},{c0:J,c1:ee},Z)=>({c0:k.cmov(L,J,Z),c1:k.cmov(H,ee,Z)}),fromBigTwelve:L=>({c0:k.fromBigSix(L.slice(0,6)),c1:k.fromBigSix(L.slice(6,12))}),frobeniusMap(L,H){const{c0:J,c1:ee,c2:Z}=k.frobeniusMap(L.c1,H),G=M[H%12];return{c0:k.frobeniusMap(L.c0,H),c1:k.create({c0:p.mul(J,G),c1:p.mul(ee,G),c2:p.mul(Z,G)})}},mulByFp2:({c0:L,c1:H},J)=>({c0:k.mulByFp2(L,J),c1:k.mulByFp2(H,J)}),conjugate:({c0:L,c1:H})=>({c0:L,c1:k.neg(H)}),mul014:({c0:L,c1:H},J,ee,Z)=>{let G=k.mul01(L,J,ee),K=k.mul1(H,Z);return{c0:k.add(k.mulByNonresidue(K),G),c1:k.sub(k.sub(k.mul01(k.add(H,L),J,p.add(ee,Z)),G),K)}},mul034:({c0:L,c1:H},J,ee,Z)=>{const G=k.create({c0:p.mul(L.c0,J),c1:p.mul(L.c1,J),c2:p.mul(L.c2,J)}),K=k.mul01(H,ee,Z),ce=k.mul01(k.add(L,H),p.add(J,ee),Z);return{c0:k.add(k.mulByNonresidue(K),G),c1:k.sub(ce,k.add(G,K))}},_cyclotomicSquare:t.Fp12cyclotomicSquare,_cyclotomicExp:t.Fp12cyclotomicExp,finalExponentiate:t.Fp12finalExponentiate};return{Fp:n,Fp2:p,Fp6:k,Fp4Square:ie,Fp12:ae}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const en=BigInt(0),td=BigInt(1),Bt=BigInt(2),uc=BigInt(3),Ua=BigInt(4),yi=BigInt("0xd201000000010000"),l8=Ia(yi),{Fp:Ee,Fp2:Se,Fp6:_0,Fp4Square:Vf,Fp12:Ie}=a8({ORDER:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),FP2_NONRESIDUE:[td,td],Fp2mulByB:({c0:t,c1:e})=>{const n=Ee.mul(t,Ua),r=Ee.mul(e,Ua);return{c0:Ee.sub(n,r),c1:Ee.add(n,r)}},Fp12cyclotomicSquare:({c0:t,c1:e})=>{const{c0:n,c1:r,c2:i}=t,{c0:s,c1:o,c2:a}=e,{first:l,second:c}=Vf(n,o),{first:u,second:f}=Vf(s,i),{first:h,second:g}=Vf(r,a),p=Se.mulByNonresidue(g);return{c0:_0.create({c0:Se.add(Se.mul(Se.sub(l,n),Bt),l),c1:Se.add(Se.mul(Se.sub(u,r),Bt),u),c2:Se.add(Se.mul(Se.sub(h,i),Bt),h)}),c1:_0.create({c0:Se.add(Se.mul(Se.add(p,s),Bt),p),c1:Se.add(Se.mul(Se.add(c,o),Bt),c),c2:Se.add(Se.mul(Se.add(f,a),Bt),f)})}},Fp12cyclotomicExp(t,e){let n=Ie.ONE;for(let r=l8-1;r>=0;r--)n=Ie._cyclotomicSquare(n),U4(e,r)&&(n=Ie.mul(n,t));return n},Fp12finalExponentiate:t=>{const e=yi,n=Ie.div(Ie.frobeniusMap(t,6),t),r=Ie.mul(Ie.frobeniusMap(n,2),n),i=Ie.conjugate(Ie._cyclotomicExp(r,e)),s=Ie.mul(Ie.conjugate(Ie._cyclotomicSquare(r)),i),o=Ie.conjugate(Ie._cyclotomicExp(s,e)),a=Ie.conjugate(Ie._cyclotomicExp(o,e)),l=Ie.mul(Ie.conjugate(Ie._cyclotomicExp(a,e)),Ie._cyclotomicSquare(i)),c=Ie.conjugate(Ie._cyclotomicExp(l,e)),u=Ie.frobeniusMap(Ie.mul(i,a),2),f=Ie.frobeniusMap(Ie.mul(o,r),3),h=Ie.frobeniusMap(Ie.mul(l,Ie.conjugate(r)),1),g=Ie.mul(Ie.mul(c,Ie.conjugate(s)),r);return Ie.mul(Ie.mul(Ie.mul(u,f),h),g)}}),Ey=Ml(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),c8=f_(Se,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(t=>t.map(e=>Se.fromBigTuple(e.map(BigInt))))),u8=f_(Ee,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),d8=x_(Se,{A:Se.create({c0:Ee.create(en),c1:Ee.create(BigInt(240))}),B:Se.create({c0:Ee.create(BigInt(1012)),c1:Ee.create(BigInt(1012))}),Z:Se.create({c0:Ee.create(BigInt(-2)),c1:Ee.create(BigInt(-1))})}),f8=x_(Ee,{A:Ee.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Ee.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Ee.create(BigInt(11))}),{G2psi:Sy,G2psi2:h8}=o8(Ee,Se,Se.div(Se.ONE,Se.NONRESIDUE)),Hf=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Ee.ORDER,m:2,k:128,expand:"xmd",hash:Zp}),nd=hl(Ee.toBytes(en),{infinity:!0,compressed:!0});function dc(t){t=t.slice();const e=t[0]&224,n=!!(e>>7&1),r=!!(e>>6&1),i=!!(e>>5&1);return t[0]&=31,{compressed:n,infinity:r,sort:i,value:t}}function hl(t,e){if(t[0]&224)throw new Error("setMask: non-empty mask");return e.compressed&&(t[0]|=128),e.infinity&&(t[0]|=64),e.sort&&(t[0]|=32),t}function ky(t){t.assertValidity();const e=t.equals(Bn.G1.ProjectivePoint.ZERO),{x:n,y:r}=t.toAffine();if(e)return nd.slice();const i=Ee.ORDER,s=!!(r*Bt/i);return hl(Ft(n,Ee.BYTES),{compressed:!0,sort:s})}function Ny(t){t.assertValidity();const e=Ee.BYTES;if(t.equals(Bn.G2.ProjectivePoint.ZERO))return wt(nd,Ft(en,e));const{x:n,y:r}=t.toAffine(),{re:i,im:s}=Se.reim(n),{re:o,im:a}=Se.reim(r),c=!!((a>en?a*Bt:o*Bt)/Ee.ORDER&td),u=i;return wt(hl(Ft(s,e),{sort:c,compressed:!0}),Ft(u,e))}const Bn=i8({fields:{Fp:Ee,Fp2:Se,Fp6:_0,Fp12:Ie,Fr:Ey},G1:{Fp:Ee,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:Ee.ZERO,b:Ua,htfDefaults:{...Hf,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(t,e)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),r=new t(Ee.mul(e.px,n),e.py,e.pz);return e.multiplyUnsafe(yi).negate().multiplyUnsafe(yi).equals(r)},clearCofactor:(t,e)=>e.multiplyUnsafe(yi).add(e),mapToCurve:t=>{const{x:e,y:n}=f8(Ee.create(t[0]));return u8(e,n)},fromBytes:t=>{const{compressed:e,infinity:n,sort:r,value:i}=dc(t);if(i.length===48&&e){const s=Ee.ORDER,o=Xn(i),a=Ee.create(o&Ee.MASK);if(n){if(a!==en)throw new Error("G1: non-empty compressed point at infinity");return{x:en,y:en}}const l=Ee.add(Ee.pow(a,uc),Ee.create(Bn.params.G1b));let c=Ee.sqrt(l);if(!c)throw new Error("invalid compressed G1 point");return c*Bt/s!==BigInt(r)&&(c=Ee.neg(c)),{x:Ee.create(a),y:Ee.create(c)}}else if(i.length===96&&!e){const s=Xn(i.subarray(0,Ee.BYTES)),o=Xn(i.subarray(Ee.BYTES));if(n){if(s!==en||o!==en)throw new Error("G1: non-empty point at infinity");return Bn.G1.ProjectivePoint.ZERO.toAffine()}return{x:Ee.create(s),y:Ee.create(o)}}else throw new Error("invalid point G1, expected 48/96 bytes")},toBytes:(t,e,n)=>{const r=e.equals(t.ZERO),{x:i,y:s}=e.toAffine();if(n){if(r)return nd.slice();const o=Ee.ORDER,a=!!(s*Bt/o);return hl(Ft(i,Ee.BYTES),{compressed:!0,sort:a})}else return r?wt(new Uint8Array([64]),new Uint8Array(2*Ee.BYTES-1)):wt(Ft(i,Ee.BYTES),Ft(s,Ee.BYTES))},ShortSignature:{fromHex(t){const{infinity:e,sort:n,value:r}=dc(nn("signatureHex",t,48)),i=Ee.ORDER,s=Xn(r);if(e)return Bn.G1.ProjectivePoint.ZERO;const o=Ee.create(s&Ee.MASK),a=Ee.add(Ee.pow(o,uc),Ee.create(Bn.params.G1b));let l=Ee.sqrt(a);if(!l)throw new Error("invalid compressed G1 point");const c=BigInt(n);l*Bt/i!==c&&(l=Ee.neg(l));const u=Bn.G1.ProjectivePoint.fromAffine({x:o,y:l});return u.assertValidity(),u},toRawBytes(t){return ky(t)},toHex(t){return Bs(ky(t))}}},G2:{Fp:Se,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:Se.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Se.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:Se.ZERO,b:Se.fromBigTuple([Ua,Ua]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Hf},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:t=>{const{x:e,y:n}=d8(Se.fromBigTuple(t));return c8(e,n)},isTorsionFree:(t,e)=>e.multiplyUnsafe(yi).negate().equals(Sy(t,e)),clearCofactor:(t,e)=>{const n=yi;let r=e.multiplyUnsafe(n).negate(),i=Sy(t,e),s=e.double();return s=h8(t,s),s=s.subtract(i),i=r.add(i),i=i.multiplyUnsafe(n).negate(),s=s.add(i),s=s.subtract(r),s.subtract(e)},fromBytes:t=>{const{compressed:e,infinity:n,sort:r,value:i}=dc(t);if(!e&&!n&&r||!e&&n&&r||r&&n&&e)throw new Error("invalid encoding flag: "+(t[0]&224));const s=Ee.BYTES,o=(a,l,c)=>Xn(a.slice(l,c));if(i.length===96&&e){const a=Bn.params.G2b,l=Ee.ORDER;if(n){if(i.reduce((v,E)=>v!==0?E+1:E,0)>0)throw new Error("invalid compressed G2 point");return{x:Se.ZERO,y:Se.ZERO}}const c=o(i,0,s),u=o(i,s,2*s),f=Se.create({c0:Ee.create(u),c1:Ee.create(c)}),h=Se.add(Se.pow(f,uc),a);let g=Se.sqrt(h);const p=g.c1===en?g.c0*Bt/l:g.c1*Bt/l?td:en;return g=r&&p>0?g:Se.neg(g),{x:f,y:g}}else if(i.length===192&&!e){if(n){if(i.reduce((f,h)=>f!==0?h+1:h,0)>0)throw new Error("invalid uncompressed G2 point");return{x:Se.ZERO,y:Se.ZERO}}const a=o(i,0,s),l=o(i,s,2*s),c=o(i,2*s,3*s),u=o(i,3*s,4*s);return{x:Se.fromBigTuple([l,a]),y:Se.fromBigTuple([u,c])}}else throw new Error("invalid point G2, expected 96/192 bytes")},toBytes:(t,e,n)=>{const{BYTES:r,ORDER:i}=Ee,s=e.equals(t.ZERO),{x:o,y:a}=e.toAffine();if(n){if(s)return wt(nd,Ft(en,r));const l=!!(a.c1===en?a.c0*Bt/i:a.c1*Bt/i);return wt(hl(Ft(o.c1,r),{compressed:!0,sort:l}),Ft(o.c0,r))}else{if(s)return wt(new Uint8Array([64]),new Uint8Array(4*r-1));const{re:l,im:c}=Se.reim(o),{re:u,im:f}=Se.reim(a);return wt(Ft(c,r),Ft(l,r),Ft(f,r),Ft(u,r))}},Signature:{fromHex(t){const{infinity:e,sort:n,value:r}=dc(nn("signatureHex",t)),i=Ee.ORDER,s=r.length/2;if(s!==48&&s!==96)throw new Error("invalid compressed signature length, must be 96 or 192");const o=Xn(r.slice(0,s)),a=Xn(r.slice(s));if(e)return Bn.G2.ProjectivePoint.ZERO;const l=Ee.create(o&Ee.MASK),c=Ee.create(a),u=Se.create({c0:c,c1:l}),f=Se.add(Se.pow(u,uc),Bn.params.G2b);let h=Se.sqrt(f);if(!h)throw new Error("Failed to find a square root");const{re:g,im:p}=Se.reim(h),v=BigInt(n),E=p>en&&p*Bt/i!==v,b=p===en&&g*Bt/i!==v;(E||b)&&(h=Se.neg(h));const _=Bn.G2.ProjectivePoint.fromAffine({x:u,y:h});return _.assertValidity(),_},toRawBytes(t){return Ny(t)},toHex(t){return Bs(Ny(t))}}},params:{ateLoopSize:yi,r:Ey.ORDER,xNegative:!0,twistType:"multiplicative"},htfDefaults:Hf,hash:Zp,randomBytes:q1});function p8(t,e,n){const r=typeof t=="string"?t:Ut(t),i=typeof e=="string"?e:Ut(e),s=typeof n=="string"?n:Ut(n);return Bn.verifyShortSignature(i,s,r)}const b_=t=>jt(new Do(t)),dg=t=>{const e=b_(t);return new Date(Number(e)/1e6)};class br extends kt{constructor(e){super(`Invalid certificate: ${e}`)}}var _n;(function(t){t[t.Empty=0]="Empty",t[t.Fork=1]="Fork",t[t.Labeled=2]="Labeled",t[t.Leaf=3]="Leaf",t[t.Pruned=4]="Pruned"})(_n||(_n={}));function g8(t,e){const n=new Uint8Array(t),r=new Uint8Array(e);for(let i=0;i<n.length;i++)if(n[i]>r[i])return!0;return!1}class ws{constructor(e,n,r,i,s=5){this._rootKey=n,this._canisterId=r,this._blsVerify=i,this._maxAgeInMinutes=s,this.cert=Hr(new Uint8Array(e))}static async create(e){const n=ws.createUnverified(e);return await n.verify(),n}static createUnverified(e){let n=e.blsVerify;return n||(n=p8),new ws(e.certificate,e.rootKey,e.canisterId,n,e.maxAgeInMinutes)}lookup(e){return Po(e,this.cert.tree)}lookup_label(e){return this.lookup([e])}async verify(){const e=await Xc(this.cert.tree),n=await this._checkDelegationAndGetKey(this.cert.delegation),r=this.cert.signature,i=y8(n),s=nr(ha("ic-state-root"),e);let o=!1;const a=Mn(this.lookup(["time"]));if(!a)throw new br("Certificate does not contain a time");const l=5*60*1e3,c=this._maxAgeInMinutes*60*1e3,u=Date.now(),f=u-c,h=u+l,g=dg(a);if(g.getTime()<f)throw new br(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+g.toISOString()+" Current time: "+new Date(u).toISOString());if(g.getTime()>h)throw new br("Certificate is signed more than 5 minutes in the future. Certificate time: "+g.toISOString()+" Current time: "+new Date(u).toISOString());try{o=await this._blsVerify(new Uint8Array(i),new Uint8Array(r),new Uint8Array(s))}catch{o=!1}if(!o)throw new br("Signature verification failed")}async _checkDelegationAndGetKey(e){if(!e)return this._rootKey;const n=await ws.createUnverified({certificate:e.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(n.cert.delegation)throw new br("Delegation certificates cannot be nested");if(await n.verify(),this._canisterId.toString()!==u6&&!w_({canisterId:this._canisterId,subnetId:Re.fromUint8Array(new Uint8Array(e.subnet_id)),tree:n.cert.tree}))throw new br(`Canister ${this._canisterId} not in range of delegations for subnet 0x${Ut(e.subnet_id)}`);const r=Mn(n.lookup(["subnet",e.subnet_id,"public_key"]));if(!r)throw new Error(`Could not find subnet key for subnet 0x${Ut(e.subnet_id)}`);return r}}const ta=Yr("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),m8=96;function y8(t){const e=ta.byteLength+m8;if(t.byteLength!==e)throw new TypeError(`BLS DER-encoded public key must be ${e} bytes long`);const n=t.slice(0,ta.byteLength);if(!Md(n,ta))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${ta}, but get ${n}`);return t.slice(ta.byteLength)}function Mn(t){if(t.status===Et.Found){if(t.value instanceof ArrayBuffer)return t.value;if(t.value instanceof Uint8Array)return t.value.buffer}}async function Xc(t){switch(t[0]){case _n.Empty:return Qn(ha("ic-hashtree-empty"));case _n.Pruned:return t[1];case _n.Leaf:return Qn(nr(ha("ic-hashtree-leaf"),t[1]));case _n.Labeled:return Qn(nr(ha("ic-hashtree-labeled"),t[1],await Xc(t[2])));case _n.Fork:return Qn(nr(ha("ic-hashtree-fork"),await Xc(t[1]),await Xc(t[2])));default:throw new Error("unreachable")}}function ha(t){const e=new Uint8Array([t.length]),n=new TextEncoder().encode(t);return nr(e,n)}var Et;(function(t){t.Unknown="unknown",t.Absent="absent",t.Found="found"})(Et||(Et={}));var $r;(function(t){t.Less="less",t.Greater="greater"})($r||($r={}));function Po(t,e){if(t.length===0)switch(e[0]){case _n.Leaf:{if(!e[1])throw new Error("Invalid tree structure for leaf");return e[1]instanceof ArrayBuffer?{status:Et.Found,value:e[1]}:e[1]instanceof Uint8Array?{status:Et.Found,value:e[1].buffer}:{status:Et.Found,value:e[1]}}default:return{status:Et.Found,value:e}}const n=typeof t[0]=="string"?new TextEncoder().encode(t[0]):t[0],r=Zc(n,e);switch(r.status){case Et.Found:return Po(t.slice(1),r.value);case $r.Greater:case $r.Less:return{status:Et.Absent};default:return r}}function E0(t){switch(t[0]){case _n.Empty:return[];case _n.Fork:return E0(t[1]).concat(E0(t[2]));default:return[t]}}function Zc(t,e){switch(e[0]){case _n.Labeled:return g8(t,e[1])?{status:$r.Greater}:Md(t,e[1])?{status:Et.Found,value:e[2]}:{status:$r.Less};case _n.Fork:const n=Zc(t,e[1]);switch(n.status){case $r.Greater:{const r=Zc(t,e[2]);return r.status===$r.Less?{status:Et.Absent}:r}case Et.Unknown:{let r=Zc(t,e[2]);return r.status===$r.Less?{status:Et.Unknown}:r}default:return n}case _n.Pruned:return{status:Et.Unknown};default:return{status:Et.Absent}}}function w_(t){const{canisterId:e,subnetId:n,tree:r}=t,i=Po(["subnet",n.toUint8Array(),"canister_ranges"],r);if(i.status!==Et.Found||!(i.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${n}`);return Hr(i.value).map(l=>[Re.fromUint8Array(l[0]),Re.fromUint8Array(l[1])]).some(l=>l[0].ltEq(e)&&l[1].gtEq(e))}class x8{constructor(e,n,r){this.key=e,this.path=n,this.decodeStrategy=r}}const v_=async t=>{const{agent:e,paths:n}=t,r=Re.from(t.canisterId),i=[...new Set(n)],s=i.map(l=>S0(l,r)),o=new Map,a=i.map((l,c)=>(async()=>{var u;try{const f=await e.readState(r,{paths:[s[c]]}),h=await ws.create({certificate:f.certificate,rootKey:e.rootKey,canisterId:r}),g=(E,b)=>{if(b==="subnet"){const _=__(f.certificate,r,e.rootKey);return{path:b,data:_}}else return{path:b,data:Mn(E.lookup(S0(b,r)))}},{path:p,data:v}=g(h,i[c]);if(!v)console.warn(`Expected to find result for path ${p}, but instead found nothing.`),typeof p=="string"?o.set(p,null):o.set(p.key,null);else switch(p){case"time":{o.set(p,dg(v));break}case"controllers":{o.set(p,w8(v));break}case"module_hash":{o.set(p,Ty(v));break}case"subnet":{o.set(p,v);break}case"candid":{o.set(p,new TextDecoder().decode(v));break}default:if(typeof p!="string"&&"key"in p&&"path"in p)switch(p.decodeStrategy){case"raw":o.set(p.key,v);break;case"leb128":{o.set(p.key,b_(v));break}case"cbor":{o.set(p.key,E_(v));break}case"hex":{o.set(p.key,Ty(v));break}case"utf-8":o.set(p.key,b8(v))}}}catch(f){if(!((u=f==null?void 0:f.message)===null||u===void 0)&&u.includes("Invalid certificate"))throw new kt(f.message);typeof l!="string"&&"key"in l&&"path"in l?o.set(l.key,null):o.set(l,null),console.group(),console.warn(`Expected to find result for path ${l}, but instead found nothing.`),console.warn(f),console.groupEnd()}})());return await Promise.all(a),o},__=(t,e,n)=>{if(!e._isPrincipal)throw new Error("Invalid canisterId");const r=Hr(new Uint8Array(t)),i=r.tree;let s=r.delegation,o;if(s&&s.subnet_id?o=Re.fromUint8Array(new Uint8Array(s.subnet_id)):!s&&typeof n<"u"?(o=Re.selfAuthenticating(new Uint8Array(n)),s={subnet_id:o.toUint8Array(),certificate:new ArrayBuffer(0)}):(o=Re.selfAuthenticating(Re.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),s={subnet_id:o.toUint8Array(),certificate:new ArrayBuffer(0)}),!w_({canisterId:e,subnetId:o,tree:i}))throw new Error("Canister not in range");const l=Po(["subnet",s.subnet_id,"node"],i);if(l.status!==Et.Found)throw new Error("Node not found");if(l.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const c=E0(l.value),u=new Map;return c.forEach(f=>{const h=Re.from(new Uint8Array(f[1])).toText(),g=Po(["public_key"],f[2]);if(g.status!==Et.Found)throw new Error("Public key not found");const p=g.value;if(p.byteLength!==44)throw new Error("Invalid public key length");u.set(h,p)}),{subnetId:Re.fromUint8Array(new Uint8Array(s.subnet_id)).toText(),nodeKeys:u}},S0=(t,e)=>{const n=new TextEncoder,r=s=>new DataView(n.encode(s).buffer).buffer,i=new DataView(e.toUint8Array().buffer).buffer;switch(t){case"time":return[r("time")];case"controllers":return[r("canister"),i,r("controllers")];case"module_hash":return[r("canister"),i,r("module_hash")];case"subnet":return[r("subnet")];case"candid":return[r("canister"),i,r("metadata"),r("candid:service")];default:if("key"in t&&"path"in t)if(typeof t.path=="string"||t.path instanceof ArrayBuffer){const s=t.path,o=typeof s=="string"?r(s):s;return[r("canister"),i,r("metadata"),o]}else return t.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${t} was formatted correctly.`)},Ty=t=>Ut(t),E_=t=>Hr(t),b8=t=>new TextDecoder().decode(t),w8=t=>E_(t).map(n=>Re.fromUint8Array(new Uint8Array(n))),v8=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:x8,encodePath:S0,fetchNodeKeys:__,request:v_},Symbol.toStringTag,{value:"Module"})),fc=BigInt(2**32-1),k0=BigInt(32);function S_(t,e=!1){return e?{h:Number(t&fc),l:Number(t>>k0&fc)}:{h:Number(t>>k0&fc)|0,l:Number(t&fc)|0}}function _8(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=S_(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const E8=(t,e)=>BigInt(t>>>0)<<k0|BigInt(e>>>0),S8=(t,e,n)=>t>>>n,k8=(t,e,n)=>t<<32-n|e>>>n,N8=(t,e,n)=>t>>>n|e<<32-n,T8=(t,e,n)=>t<<32-n|e>>>n,A8=(t,e,n)=>t<<64-n|e>>>n-32,C8=(t,e,n)=>t>>>n-32|e<<64-n,j8=(t,e)=>e,B8=(t,e)=>t,R8=(t,e,n)=>t<<n|e>>>32-n,P8=(t,e,n)=>e<<n|t>>>32-n,O8=(t,e,n)=>e<<n-32|t>>>64-n,M8=(t,e,n)=>t<<n-32|e>>>64-n;function F8(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const I8=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),U8=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,L8=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),z8=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,$8=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),D8=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Be={fromBig:S_,split:_8,toBig:E8,shrSH:S8,shrSL:k8,rotrSH:N8,rotrSL:T8,rotrBH:A8,rotrBL:C8,rotr32H:j8,rotr32L:B8,rotlSH:R8,rotlSL:P8,rotlBH:O8,rotlBL:M8,add:F8,add3L:I8,add3H:U8,add4L:L8,add4H:z8,add5H:D8,add5L:$8},[V8,H8]=Be.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ci=new Uint32Array(80),ui=new Uint32Array(80);class W8 extends G1{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:f,Fl:h,Gh:g,Gl:p,Hh:v,Hl:E}=this;return[e,n,r,i,s,o,a,l,c,u,f,h,g,p,v,E]}set(e,n,r,i,s,o,a,l,c,u,f,h,g,p,v,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=g|0,this.Gl=p|0,this.Hh=v|0,this.Hl=E|0}process(e,n){for(let S=0;S<16;S++,n+=4)ci[S]=e.getUint32(n),ui[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const R=ci[S-15]|0,k=ui[S-15]|0,M=Be.rotrSH(R,k,1)^Be.rotrSH(R,k,8)^Be.shrSH(R,k,7),C=Be.rotrSL(R,k,1)^Be.rotrSL(R,k,8)^Be.shrSL(R,k,7),U=ci[S-2]|0,I=ui[S-2]|0,V=Be.rotrSH(U,I,19)^Be.rotrBH(U,I,61)^Be.shrSH(U,I,6),ie=Be.rotrSL(U,I,19)^Be.rotrBL(U,I,61)^Be.shrSL(U,I,6),ae=Be.add4L(C,ie,ui[S-7],ui[S-16]),L=Be.add4H(ae,M,V,ci[S-7],ci[S-16]);ci[S]=L|0,ui[S]=ae|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:f,El:h,Fh:g,Fl:p,Gh:v,Gl:E,Hh:b,Hl:_}=this;for(let S=0;S<80;S++){const R=Be.rotrSH(f,h,14)^Be.rotrSH(f,h,18)^Be.rotrBH(f,h,41),k=Be.rotrSL(f,h,14)^Be.rotrSL(f,h,18)^Be.rotrBL(f,h,41),M=f&g^~f&v,C=h&p^~h&E,U=Be.add5L(_,k,C,H8[S],ui[S]),I=Be.add5H(U,b,R,M,V8[S],ci[S]),V=U|0,ie=Be.rotrSH(r,i,28)^Be.rotrBH(r,i,34)^Be.rotrBH(r,i,39),ae=Be.rotrSL(r,i,28)^Be.rotrBL(r,i,34)^Be.rotrBL(r,i,39),L=r&s^r&a^s&a,H=i&o^i&l^o&l;b=v|0,_=E|0,v=g|0,E=p|0,g=f|0,p=h|0,{h:f,l:h}=Be.add(c|0,u|0,I|0,V|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const J=Be.add3L(V,ae,H);r=Be.add3H(J,I,ie,L),i=J|0}({h:r,l:i}=Be.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Be.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Be.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Be.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:h}=Be.add(this.Eh|0,this.El|0,f|0,h|0),{h:g,l:p}=Be.add(this.Fh|0,this.Fl|0,g|0,p|0),{h:v,l:E}=Be.add(this.Gh|0,this.Gl|0,v|0,E|0),{h:b,l:_}=Be.add(this.Hh|0,this.Hl|0,b|0,_|0),this.set(r,i,s,o,a,l,c,u,f,h,g,p,v,E,b,_)}roundClean(){ci.fill(0),ui.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const q8=Xp(()=>new W8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hn=BigInt(0),an=BigInt(1),hc=BigInt(2),G8=BigInt(8),K8={zip215:!0};function Y8(t){const e=y_(t);return Ol(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function X8(t){const e=Y8(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=hc<<BigInt(a*8)-an,u=n.create,f=Ml(e.n,e.nBitLength),h=e.uvRatio||((ee,Z)=>{try{return{isValid:!0,value:n.sqrt(ee*n.inv(Z))}}catch{return{isValid:!1,value:Hn}}}),g=e.adjustScalarBytes||(ee=>ee),p=e.domain||((ee,Z,G)=>{if(Ma("phflag",G),Z.length||G)throw new Error("Contexts/pre-hash are not supported");return ee});function v(ee,Z){Ei("coordinate "+ee,Z,Hn,c)}function E(ee){if(!(ee instanceof S))throw new Error("ExtendedPoint expected")}const b=dl((ee,Z)=>{const{ex:G,ey:K,ez:ce}=ee,se=ee.is0();Z==null&&(Z=se?G8:n.inv(ce));const ue=u(G*Z),oe=u(K*Z),j=u(ce*Z);if(se)return{x:Hn,y:an};if(j!==an)throw new Error("invZ was invalid");return{x:ue,y:oe}}),_=dl(ee=>{const{a:Z,d:G}=e;if(ee.is0())throw new Error("bad point: ZERO");const{ex:K,ey:ce,ez:se,et:ue}=ee,oe=u(K*K),j=u(ce*ce),le=u(se*se),he=u(le*le),me=u(oe*Z),de=u(le*u(me+j)),ge=u(he+u(G*u(oe*j)));if(de!==ge)throw new Error("bad point: equation left != right (1)");const B=u(K*ce),O=u(se*ue);if(B!==O)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(Z,G,K,ce){this.ex=Z,this.ey=G,this.ez=K,this.et=ce,v("x",Z),v("y",G),v("z",K),v("t",ce),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Z){if(Z instanceof S)throw new Error("extended point not allowed");const{x:G,y:K}=Z||{};return v("x",G),v("y",K),new S(G,K,an,u(G*K))}static normalizeZ(Z){const G=n.invertBatch(Z.map(K=>K.ez));return Z.map((K,ce)=>K.toAffine(G[ce])).map(S.fromAffine)}static msm(Z,G){return m_(S,f,Z,G)}_setWindowSize(Z){M.setWindowSize(this,Z)}assertValidity(){_(this)}equals(Z){E(Z);const{ex:G,ey:K,ez:ce}=this,{ex:se,ey:ue,ez:oe}=Z,j=u(G*oe),le=u(se*ce),he=u(K*oe),me=u(ue*ce);return j===le&&he===me}is0(){return this.equals(S.ZERO)}negate(){return new S(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:Z}=e,{ex:G,ey:K,ez:ce}=this,se=u(G*G),ue=u(K*K),oe=u(hc*u(ce*ce)),j=u(Z*se),le=G+K,he=u(u(le*le)-se-ue),me=j+ue,de=me-oe,ge=j-ue,B=u(he*de),O=u(me*ge),z=u(he*ge),X=u(de*me);return new S(B,O,X,z)}add(Z){E(Z);const{a:G,d:K}=e,{ex:ce,ey:se,ez:ue,et:oe}=this,{ex:j,ey:le,ez:he,et:me}=Z;if(G===BigInt(-1)){const P=u((se-ce)*(le+j)),$=u((se+ce)*(le-j)),te=u($-P);if(te===Hn)return this.double();const fe=u(ue*hc*me),be=u(oe*hc*he),_e=be+fe,Ae=$+P,T=be-fe,x=u(_e*te),w=u(Ae*T),F=u(_e*T),Y=u(te*Ae);return new S(x,w,Y,F)}const de=u(ce*j),ge=u(se*le),B=u(oe*K*me),O=u(ue*he),z=u((ce+se)*(j+le)-de-ge),X=O-B,q=O+B,Q=u(ge-G*de),N=u(z*X),m=u(q*Q),y=u(z*Q),A=u(X*q);return new S(N,m,A,y)}subtract(Z){return this.add(Z.negate())}wNAF(Z){return M.wNAFCached(this,Z,S.normalizeZ)}multiply(Z){const G=Z;Ei("scalar",G,an,r);const{p:K,f:ce}=this.wNAF(G);return S.normalizeZ([K,ce])[0]}multiplyUnsafe(Z,G=S.ZERO){const K=Z;return Ei("scalar",K,Hn,r),K===Hn?k:this.is0()||K===an?this:M.wNAFCachedUnsafe(this,K,S.normalizeZ,G)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return M.unsafeLadder(this,r).is0()}toAffine(Z){return b(this,Z)}clearCofactor(){const{h:Z}=e;return Z===an?this:this.multiplyUnsafe(Z)}static fromHex(Z,G=!1){const{d:K,a:ce}=e,se=n.BYTES;Z=nn("pointHex",Z,se),Ma("zip215",G);const ue=Z.slice(),oe=Z[se-1];ue[se-1]=oe&-129;const j=Fa(ue),le=G?c:n.ORDER;Ei("pointHex.y",j,Hn,le);const he=u(j*j),me=u(he-an),de=u(K*he-ce);let{isValid:ge,value:B}=h(me,de);if(!ge)throw new Error("Point.fromHex: invalid y coordinate");const O=(B&an)===an,z=(oe&128)!==0;if(!G&&B===Hn&&z)throw new Error("Point.fromHex: x=0 and x_0=1");return z!==O&&(B=u(-B)),S.fromAffine({x:B,y:j})}static fromPrivateKey(Z){return I(Z).point}toRawBytes(){const{x:Z,y:G}=this.toAffine(),K=Ju(G,n.BYTES);return K[K.length-1]|=Z&an?128:0,K}toHex(){return Bs(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,an,u(e.Gx*e.Gy)),S.ZERO=new S(Hn,an,an,Hn);const{BASE:R,ZERO:k}=S,M=g_(S,a*8);function C(ee){return ft(ee,r)}function U(ee){return C(Fa(ee))}function I(ee){const Z=n.BYTES;ee=nn("private key",ee,Z);const G=nn("hashed private key",s(ee),2*Z),K=g(G.slice(0,Z)),ce=G.slice(Z,2*Z),se=U(K),ue=R.multiply(se),oe=ue.toRawBytes();return{head:K,prefix:ce,scalar:se,point:ue,pointBytes:oe}}function V(ee){return I(ee).pointBytes}function ie(ee=new Uint8Array,...Z){const G=wt(...Z);return U(s(p(G,nn("context",ee),!!i)))}function ae(ee,Z,G={}){ee=nn("message",ee),i&&(ee=i(ee));const{prefix:K,scalar:ce,pointBytes:se}=I(Z),ue=ie(G.context,K,ee),oe=R.multiply(ue).toRawBytes(),j=ie(G.context,oe,se,ee),le=C(ue+j*ce);Ei("signature.s",le,Hn,r);const he=wt(oe,Ju(le,n.BYTES));return nn("result",he,n.BYTES*2)}const L=K8;function H(ee,Z,G,K=L){const{context:ce,zip215:se}=K,ue=n.BYTES;ee=nn("signature",ee,2*ue),Z=nn("message",Z),G=nn("publicKey",G,ue),se!==void 0&&Ma("zip215",se),i&&(Z=i(Z));const oe=Fa(ee.slice(ue,2*ue));let j,le,he;try{j=S.fromHex(G,se),le=S.fromHex(ee.slice(0,ue),se),he=R.multiplyUnsafe(oe)}catch{return!1}if(!se&&j.isSmallOrder())return!1;const me=ie(ce,le.toRawBytes(),j.toRawBytes(),Z);return le.add(j.multiplyUnsafe(me)).subtract(he).clearCofactor().equals(S.ZERO)}return R._setWindowSize(8),{CURVE:e,getPublicKey:V,sign:ae,verify:H,ExtendedPoint:S,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>o(n.BYTES),precompute(ee=8,Z=S.BASE){return Z._setWindowSize(ee),Z.multiply(BigInt(3)),Z}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fg=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ay=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Z8=BigInt(1),Cy=BigInt(2);BigInt(3);const Q8=BigInt(5),J8=BigInt(8);function e6(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=fg,a=t*t%s*t%s,l=ur(a,Cy,s)*a%s,c=ur(l,Z8,s)*t%s,u=ur(c,Q8,s)*c%s,f=ur(u,e,s)*u%s,h=ur(f,n,s)*f%s,g=ur(h,r,s)*h%s,p=ur(g,i,s)*g%s,v=ur(p,i,s)*g%s,E=ur(v,e,s)*u%s;return{pow_p_5_8:ur(E,Cy,s)*t%s,b2:a}}function t6(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function n6(t,e){const n=fg,r=ft(e*e*e,n),i=ft(r*r*e,n),s=e6(t*i).pow_p_5_8;let o=ft(t*r*s,n);const a=ft(e*o*o,n),l=o,c=ft(o*Ay,n),u=a===t,f=a===ft(-t,n),h=a===ft(-t*Ay,n);return u&&(o=l),(f||h)&&(o=c),H4(o,n)&&(o=ft(-o,n)),{isValid:u||f,value:o}}const r6=Ml(fg,void 0,!0),i6={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:r6,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:J8,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:q8,randomBytes:q1,adjustScalarBytes:t6,uvRatio:n6},Gs=X8(i6);var jy=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Zt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Vt,pa,k_,N_;class s6{constructor(e={}){Vt.set(this,void 0),pa.set(this,void 0),this[k_]=this.entries.bind(this),this[N_]="ExpirableMap";const{source:n=[],expirationTime:r=10*60*1e3}=e,i=Date.now();jy(this,Vt,new Map([...n].map(([s,o])=>[s,{value:o,timestamp:i}])),"f"),jy(this,pa,r,"f")}prune(){const e=Date.now();for(const[n,r]of Zt(this,Vt,"f").entries())e-r.timestamp>Zt(this,pa,"f")&&Zt(this,Vt,"f").delete(n);return this}set(e,n){this.prune();const r={value:n,timestamp:Date.now()};return Zt(this,Vt,"f").set(e,r),this}get(e){const n=Zt(this,Vt,"f").get(e);if(n!==void 0){if(Date.now()-n.timestamp>Zt(this,pa,"f")){Zt(this,Vt,"f").delete(e);return}return n.value}}clear(){Zt(this,Vt,"f").clear()}entries(){const e=Zt(this,Vt,"f").entries();return function*(){for(const[r,i]of e)yield[r,i.value]}()}values(){const e=Zt(this,Vt,"f").values();return function*(){for(const r of e)yield r.value}()}keys(){return Zt(this,Vt,"f").keys()}forEach(e,n){for(const[r,i]of Zt(this,Vt,"f").entries())e.call(n,i.value,r,this)}has(e){return Zt(this,Vt,"f").has(e)}delete(e){return Zt(this,Vt,"f").delete(e)}get size(){return Zt(this,Vt,"f").size}}Vt=new WeakMap,pa=new WeakMap,k_=Symbol.iterator,N_=Symbol.toStringTag;const By=t=>{if(t<=127)return 1;if(t<=255)return 2;if(t<=65535)return 3;if(t<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},Ry=(t,e,n)=>{if(n<=127)return t[e]=n,1;if(n<=255)return t[e]=129,t[e+1]=n,2;if(n<=65535)return t[e]=130,t[e+1]=n>>8,t[e+2]=n,3;if(n<=16777215)return t[e]=131,t[e+1]=n>>16,t[e+2]=n>>8,t[e+3]=n,4;throw new Error("Length too long (> 4 bytes)")},N0=(t,e)=>{if(t[e]<128)return 1;if(t[e]===128)throw new Error("Invalid length 0");if(t[e]===129)return 2;if(t[e]===130)return 3;if(t[e]===131)return 4;throw new Error("Length too long (> 4 bytes)")},o6=(t,e)=>{const n=N0(t,e);if(n===1)return t[e];if(n===2)return t[e+1];if(n===3)return(t[e+1]<<8)+t[e+2];if(n===4)return(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const rd=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function T_(t,e){const n=2+By(t.byteLength+1),r=e.byteLength+n+t.byteLength;let i=0;const s=new Uint8Array(1+By(r)+r);return s[i++]=48,i+=Ry(s,i,r),s.set(e,i),i+=e.byteLength,s[i++]=3,i+=Ry(s,i,t.byteLength+1),s[i++]=0,s.set(new Uint8Array(t),i),s}const A_=(t,e)=>{let n=0;const r=(a,l)=>{if(i[n++]!==a)throw new Error("Expected: "+l)},i=new Uint8Array(t);if(r(48,"sequence"),n+=N0(i,n),!Md(i.slice(n,n+e.byteLength),e))throw new Error("Not the expected OID.");n+=e.byteLength,r(3,"bit string");const s=o6(i,n)-1;n+=N0(i,n),r(0,"0 padding");const o=i.slice(n);if(s!==o.length)throw new Error(`DER payload mismatch: Expected length ${s} actual length ${o.length}`);return o};var Py=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Oy=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Qc,Jc;let C_=class ga{constructor(e){if(Qc.set(this,void 0),Jc.set(this,void 0),e.byteLength!==ga.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Py(this,Qc,e,"f"),Py(this,Jc,ga.derEncode(e),"f")}static from(e){return this.fromDer(e.toDer())}static fromRaw(e){return new ga(e)}static fromDer(e){return new ga(this.derDecode(e))}static derEncode(e){return T_(e,rd).buffer}static derDecode(e){const n=A_(e,rd);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return Oy(this,Qc,"f")}get derKey(){return Oy(this,Jc,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Qc=new WeakMap,Jc=new WeakMap;C_.RAW_KEY_LENGTH=32;class a6{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(n=>n!==e)}notify(e,...n){this.observers.forEach(r=>r(e,...n))}}class l6 extends a6{constructor(){super()}print(e,...n){this.notify({message:e,level:"info"},...n)}warn(e,...n){this.notify({message:e,level:"warn"},...n)}error(e,n,...r){this.notify({message:e,level:"error",error:n},...r)}}var dr=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Dt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},hr,eu,tu,nu,ru,iu,su,ou,Ks;const j_=.5,B_=1.5,R_=500,P_=6e4,O_=9e5,M_=10;class Wd{constructor(e=Wd.default){hr.set(this,void 0),eu.set(this,void 0),tu.set(this,void 0),nu.set(this,void 0),ru.set(this,void 0),iu.set(this,void 0),su.set(this,void 0),ou.set(this,void 0),Ks.set(this,0);const{initialInterval:n=R_,randomizationFactor:r=j_,multiplier:i=B_,maxInterval:s=P_,maxElapsedTime:o=O_,maxIterations:a=M_,date:l=Date}=e;dr(this,hr,n,"f"),dr(this,eu,r,"f"),dr(this,tu,i,"f"),dr(this,nu,s,"f"),dr(this,ou,l,"f"),dr(this,ru,l.now(),"f"),dr(this,iu,o,"f"),dr(this,su,a,"f")}get ellapsedTimeInMsec(){return Dt(this,ou,"f").now()-Dt(this,ru,"f")}get currentInterval(){return Dt(this,hr,"f")}get count(){return Dt(this,Ks,"f")}get randomValueFromInterval(){const e=Dt(this,eu,"f")*Dt(this,hr,"f"),n=Dt(this,hr,"f")-e,r=Dt(this,hr,"f")+e;return Math.random()*(r-n)+n}incrementCurrentInterval(){var e;return dr(this,hr,Math.min(Dt(this,hr,"f")*Dt(this,tu,"f"),Dt(this,nu,"f")),"f"),dr(this,Ks,(e=Dt(this,Ks,"f"),e++,e),"f"),Dt(this,hr,"f")}next(){return this.ellapsedTimeInMsec>=Dt(this,iu,"f")||Dt(this,Ks,"f")>=Dt(this,su,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}hr=new WeakMap,eu=new WeakMap,tu=new WeakMap,nu=new WeakMap,ru=new WeakMap,iu=new WeakMap,su=new WeakMap,ou=new WeakMap,Ks=new WeakMap;Wd.default={initialInterval:R_,randomizationFactor:j_,multiplier:B_,maxInterval:P_,maxElapsedTime:O_,maxIterations:M_,date:Date};const F_=5*60*1e3;var Qt=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},xe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Er,pr,xi,po,ma,ya,qn,au,Kn,as,ls,xa,Ys,Xs,cs,hs,I_,lu,cu,Fr;(function(t){t.Received="received",t.Processing="processing",t.Replied="replied",t.Rejected="rejected",t.Unknown="unknown",t.Done="done"})(Fr||(Fr={}));const pc=60*1e3,c6="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",u6="aaaaa-aa",d6="ic0.app",f6=".ic0.app",h6="icp0.io",p6=".icp0.io",g6="icp-api.io",m6=".icp-api.io";class Wf extends kt{constructor(e){super(e),this.message=e}}class gc extends kt{constructor(e){super(e),this.message=e}}function y6(){let t;if(typeof window<"u")if(window.fetch)t=window.fetch.bind(window);else throw new Wf("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)t=global.fetch.bind(global);else throw new Wf("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(t=self.fetch.bind(self));if(t)return t;throw new Wf("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function x6(t){let e;if(t!==void 0)!t.match(/^[a-z]+:/)&&typeof window<"u"?e=new URL(window.location.protocol+"//"+t):e=new URL(t);else{const n=["ic0.app","icp0.io","127.0.0.1","localhost"],r=[".github.dev",".gitpod.io"],i=typeof window<"u"?window.location:void 0,s=i==null?void 0:i.hostname;let o;s&&typeof s=="string"&&(r.some(a=>s.endsWith(a))?o=s:o=n.find(a=>s.endsWith(a))),i&&o?e=new URL(`${i.protocol}//${o}${i.port?":"+i.port:""}`):e=new URL("https://icp-api.io")}return e.toString()}class La{constructor(e={}){var n;Er.add(this),pr.set(this,void 0),xi.set(this,void 0),po.set(this,void 0),ma.set(this,void 0),ya.set(this,0),qn.set(this,void 0),au.set(this,!1),Kn.set(this,void 0),as.set(this,void 0),ls.set(this,void 0),this._isAgent=!0,this.config={},xa.set(this,0),this.log=new l6,Ys.set(this,[]),Xs.set(this,[]),cs.set(this,new s6({expirationTime:5*60*1e3})),hs.set(this,!0),cu.set(this,(s,o)=>{if(xe(this,hs,"f")===!1)return s;if(!o)throw new br("Invalid signature from replica signed query: no matching node key found.");const{status:a,signatures:l=[],requestId:c}=s,u=new TextEncoder().encode("\vic-response");for(const f of l){const{timestamp:h,identity:g}=f,p=Re.fromUint8Array(g).toText();let v;if(a==="replied"){const{reply:R}=s;v=Qu({status:a,reply:R,timestamp:BigInt(h),request_id:c})}else if(a==="rejected"){const{reject_code:R,reject_message:k,error_code:M}=s;v=Qu({status:a,reject_code:R,reject_message:k,error_code:M,timestamp:BigInt(h),request_id:c})}else throw new Error(`Unknown status: ${a}`);const E=nr(u,new Uint8Array(v)),b=o==null?void 0:o.nodeKeys.get(p);if(!b)throw new br("Invalid signature from replica signed query: no matching node key found.");const _=C_.fromDer(b).rawKey;if(Gs.verify(f.signature,new Uint8Array(E),new Uint8Array(_)))return s;throw new br(`Invalid signature from replica ${p} signed query.`)}return s}),this.config=e,Qt(this,xi,e.fetch||y6()||fetch.bind(global),"f"),Qt(this,po,e.fetchOptions,"f"),Qt(this,ma,e.callOptions,"f"),this.rootKey=e.rootKey?e.rootKey:Yr(c6);const r=x6(e.host);this.host=new URL(r),e.verifyQuerySignatures!==void 0&&Qt(this,hs,e.verifyQuerySignatures,"f"),Qt(this,Kn,(n=e.retryTimes)!==null&&n!==void 0?n:3,"f");const i=()=>new Wd({maxIterations:xe(this,Kn,"f")});if(Qt(this,as,e.backoffStrategy||i,"f"),this.host.hostname.endsWith(f6)?this.host.hostname=d6:this.host.hostname.endsWith(p6)?this.host.hostname=h6:this.host.hostname.endsWith(m6)&&(this.host.hostname=g6),e.credentials){const{name:s,password:o}=e.credentials;Qt(this,qn,`${s}${o?":"+o:""}`,"f")}if(Qt(this,pr,Promise.resolve(e.identity||new y0),"f"),e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes>5)throw new kt(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${e.ingressExpiryInMinutes} minutes.`);if(e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes<=0)throw new kt(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${e.ingressExpiryInMinutes} minutes.`);Qt(this,ls,e.ingressExpiryInMinutes||5,"f"),this.addTransform("update",uy(w0)),e.useQueryNonces&&this.addTransform("query",uy(w0)),e.logToConsole&&this.log.subscribe(s=>{s.level==="error"?console.error(s.message):s.level==="warn"?console.warn(s.message):console.log(s.message)})}get waterMark(){return xe(this,xa,"f")}static createSync(e={}){return new this(Object.assign({},e))}static async create(e={shouldFetchRootKey:!1}){const n=La.createSync(e),r=[n.syncTime()];return n.host.toString()!=="https://icp-api.io"&&e.shouldFetchRootKey&&r.push(n.fetchRootKey()),await Promise.all(r),n}static async from(e){var n;try{return"config"in e?await La.create(e.config):await La.create({fetch:e._fetch,fetchOptions:e._fetchOptions,callOptions:e._callOptions,host:e._host.toString(),identity:(n=e._identity)!==null&&n!==void 0?n:void 0})}catch{throw new kt("Failed to create agent from provided agent")}}isLocal(){const e=this.host.hostname;return e==="127.0.0.1"||e.endsWith("127.0.0.1")}addTransform(e,n,r=n.priority||0){if(e==="update"){const i=xe(this,Xs,"f").findIndex(s=>(s.priority||0)<r);xe(this,Xs,"f").splice(i>=0?i:xe(this,Xs,"f").length,0,Object.assign(n,{priority:r}))}else if(e==="query"){const i=xe(this,Ys,"f").findIndex(s=>(s.priority||0)<r);xe(this,Ys,"f").splice(i>=0?i:xe(this,Ys,"f").length,0,Object.assign(n,{priority:r}))}}async getPrincipal(){if(!xe(this,pr,"f"))throw new gc("This identity has expired due this application's security policy. Please refresh your authentication.");return(await xe(this,pr,"f")).getPrincipal()}async call(e,n,r){var i;const s=(i=n.callSync)!==null&&i!==void 0?i:!0,o=await(r!==void 0?await r:await xe(this,pr,"f"));if(!o)throw new gc("This identity has expired due this application's security policy. Please refresh your authentication.");const a=Re.from(e),l=n.effectiveCanisterId?Re.from(n.effectiveCanisterId):a,c=o.getPrincipal()||Re.anonymous();let u=new qs(xe(this,ls,"f")*pc);Math.abs(xe(this,ya,"f"))>1e3*30&&(u=new qs(xe(this,ls,"f")*pc+xe(this,ya,"f")));const f={request_type:b0.Call,canister_id:a,method_name:n.methodName,arg:n.arg,sender:c,ingress_expiry:u};let h=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},xe(this,qn,"f")?{Authorization:"Basic "+btoa(xe(this,qn,"f"))}:{})},endpoint:"call",body:f});const g=h.body.nonce?p(h.body.nonce):void 0;f.nonce=g;function p(b){return new Uint8Array(b)}h=await o.transformRequest(h);const v=Mf(h.body),E=xe(this,as,"f").call(this);try{const b=()=>(this.log.print(`fetching "/api/v3/canister/${l.toText()}/call" with request:`,h),xe(this,xi,"f").call(this,""+new URL(`/api/v3/canister/${l.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,ma,"f")),h.request),{body:v}))),_=()=>(this.log.print(`fetching "/api/v2/canister/${l.toText()}/call" with request:`,h),xe(this,xi,"f").call(this,""+new URL(`/api/v2/canister/${l.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,ma,"f")),h.request),{body:v}))),S=xe(this,Er,"m",lu).call(this,{request:s?b:_,backoff:E,tries:0}),R=ul(f),k=await S,M=await k.arrayBuffer(),C=k.status===200&&M.byteLength>0?Hr(M):null;if(C&&"certificate"in C){const U=await this.parseTimeFromResponse({certificate:C.certificate});Qt(this,xa,U,"f")}return{requestId:R,response:{ok:k.ok,status:k.status,statusText:k.statusText,body:C,headers:fa(k.headers)},requestDetails:f}}catch(b){if(b.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(e,Object.assign(Object.assign({},n),{callSync:!1}),r);throw this.log.error("Error while making call:",b),b}}async query(e,n,r){const i=xe(this,as,"f").call(this),s=n.effectiveCanisterId?Re.from(n.effectiveCanisterId):Re.from(e);this.log.print(`ecid ${s.toString()}`),this.log.print(`canisterId ${e.toString()}`);const o=async()=>{const g=await(r!==void 0?r:xe(this,pr,"f"));if(!g)throw new gc("This identity has expired due this application's security policy. Please refresh your authentication.");const p=Re.from(e),v=(g==null?void 0:g.getPrincipal())||Re.anonymous(),E={request_type:"query",canister_id:p,method_name:n.methodName,arg:n.arg,sender:v,ingress_expiry:new qs(xe(this,ls,"f")*pc)},b=ul(E);let _=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},xe(this,qn,"f")?{Authorization:"Basic "+btoa(xe(this,qn,"f"))}:{})},endpoint:"read",body:E});_=await(g==null?void 0:g.transformRequest(_));const S=Mf(_.body),R={canister:p.toText(),ecid:s,transformedRequest:_,body:S,requestId:b,backoff:i,tries:0};return{requestDetails:E,query:await xe(this,Er,"m",I_).call(this,R)}},a=async()=>{if(!xe(this,hs,"f"))return;const g=xe(this,cs,"f").get(s.toString());return g||(await this.fetchSubnetKeys(s.toString()),xe(this,cs,"f").get(s.toString()))},[l,c]=await Promise.all([o(),a()]),{requestDetails:u,query:f}=l,h=Object.assign(Object.assign({},f),{requestDetails:u});if(this.log.print("Query response:",h),!xe(this,hs,"f"))return h;try{return xe(this,cu,"f").call(this,h,c)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),xe(this,cs,"f").delete(e.toString()),await this.fetchSubnetKeys(s.toString());const p=xe(this,cs,"f").get(e.toString());if(!p)throw new br("Invalid signature from replica signed query: no matching node key found.");return xe(this,cu,"f").call(this,h,p)}}async createReadStateRequest(e,n){const r=await(n!==void 0?await n:await xe(this,pr,"f"));if(!r)throw new gc("This identity has expired due this application's security policy. Please refresh your authentication.");const i=(r==null?void 0:r.getPrincipal())||Re.anonymous(),s=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},xe(this,qn,"f")?{Authorization:"Basic "+btoa(xe(this,qn,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:e.paths,sender:i,ingress_expiry:new qs(xe(this,ls,"f")*pc)}});return r==null?void 0:r.transformRequest(s)}async readState(e,n,r,i){const s=typeof e=="string"?Re.fromText(e):e,o=i??await this.createReadStateRequest(n,r),a=Object.assign(Object.assign({},o.body),{ingress_expiry:new qs(F_)}),l=Mf(a);this.log.print(`fetching "/api/v2/canister/${s}/read_state" with request:`,o);const c=xe(this,as,"f").call(this);try{const u=await xe(this,Er,"m",lu).call(this,{request:()=>xe(this,xi,"f").call(this,""+new URL(`/api/v2/canister/${s.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,po,"f")),o.request),{body:l})),backoff:c,tries:0});if(!u.ok)throw new Error(`Server returned an error:
  Code: ${u.status} (${u.statusText})
  Body: ${await u.text()}
`);const f=Hr(await u.arrayBuffer());this.log.print("Read state response:",f);const h=await this.parseTimeFromResponse(f);return h>0&&(this.log.print("Read state response time:",h),Qt(this,xa,h,"f")),f}catch(u){throw this.log.error("Caught exception while attempting to read state",u),u}}async parseTimeFromResponse(e){let n;if(e.certificate){const r=Hr(e.certificate);if(r&&"tree"in r)n=r.tree;else throw new Error("Could not decode time from response");const i=Po(["time"],n);if(i.status!==Et.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(i.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(i))throw new Error("Time was not found in the response or was not in its expected format.");const s=dg(Qp(i.value));return this.log.print("Time from response:",s),this.log.print("Time from response in milliseconds:",Number(s)),Number(s)}else this.log.warn("No certificate found in response");return 0}async syncTime(e){const n=await o3(()=>Promise.resolve().then(()=>v8),[],import.meta.url),r=Date.now();try{e||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const s=(await n.request({canisterId:e??Re.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:this,paths:["time"]})).get("time");s&&Qt(this,ya,Number(s)-Number(r),"f")}catch(i){this.log.error("Caught exception while attempting to sync time",i)}}async status(){const e=xe(this,qn,"f")?{Authorization:"Basic "+btoa(xe(this,qn,"f"))}:{};this.log.print('fetching "/api/v2/status"');const n=xe(this,as,"f").call(this),r=await xe(this,Er,"m",lu).call(this,{backoff:n,request:()=>xe(this,xi,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:e},xe(this,po,"f"))),tries:0});return Hr(await r.arrayBuffer())}async fetchRootKey(){if(!xe(this,au,"f")){const e=await this.status();this.rootKey=e.root_key,Qt(this,au,!0,"f")}return this.rootKey}invalidateIdentity(){Qt(this,pr,null,"f")}replaceIdentity(e){Qt(this,pr,Promise.resolve(e),"f")}async fetchSubnetKeys(e){const n=Re.from(e),i=(await v_({canisterId:n,paths:["subnet"],agent:this})).get("subnet");if(i&&typeof i=="object"&&"nodeKeys"in i)return xe(this,cs,"f").set(n.toText(),i),i}_transform(e){let n=Promise.resolve(e);if(e.endpoint==="call")for(const r of xe(this,Xs,"f"))n=n.then(i=>r(i).then(s=>s||i));else for(const r of xe(this,Ys,"f"))n=n.then(i=>r(i).then(s=>s||i));return n}}pr=new WeakMap,xi=new WeakMap,po=new WeakMap,ma=new WeakMap,ya=new WeakMap,qn=new WeakMap,au=new WeakMap,Kn=new WeakMap,as=new WeakMap,ls=new WeakMap,xa=new WeakMap,Ys=new WeakMap,Xs=new WeakMap,cs=new WeakMap,hs=new WeakMap,cu=new WeakMap,Er=new WeakSet,I_=async function t(e){var n,r;const{ecid:i,transformedRequest:s,body:o,requestId:a,backoff:l,tries:c}=e,u=c===0?0:l.next();if(this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:c,backoff:l,delay:u}),u===null)throw new kt(`Timestamp failed to pass the watermark after retrying the configured ${xe(this,Kn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);u>0&&await new Promise(p=>setTimeout(p,u));let f;try{this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,s);const p=await xe(this,xi,"f").call(this,""+new URL(`/api/v2/canister/${i.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,po,"f")),s.request),{body:o}));if(p.status===200){const v=Hr(await p.arrayBuffer());f=Object.assign(Object.assign({},v),{httpDetails:{ok:p.ok,status:p.status,statusText:p.statusText,headers:fa(p.headers)},requestId:a})}else throw new Ff(`Gateway returned an error:
  Code: ${p.status} (${p.statusText})
  Body: ${await p.text()}
`,{ok:p.ok,status:p.status,statusText:p.statusText,headers:fa(p.headers)})}catch(p){if(c<xe(this,Kn,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${p}
  Retrying query.`),await xe(this,Er,"m",t).call(this,Object.assign(Object.assign({},e),{tries:c+1}));throw p}const h=(r=(n=f.signatures)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.timestamp;if(!xe(this,hs,"f"))return f;if(!h)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const g=Number(BigInt(h)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:g}),Number(this.waterMark)>g){const p=new kt("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",p,{timestamp:h,waterMark:this.waterMark}),c<xe(this,Kn,"f"))return await xe(this,Er,"m",t).call(this,Object.assign(Object.assign({},e),{tries:c+1}));throw new kt(`Timestamp failed to pass the watermark after retrying the configured ${xe(this,Kn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return f},lu=async function t(e){const{request:n,backoff:r,tries:i}=e,s=i===0?0:r.next();if(s===null)throw new kt(`Timestamp failed to pass the watermark after retrying the configured ${xe(this,Kn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);s>0&&await new Promise(c=>setTimeout(c,s));let o;try{o=await n()}catch(c){if(xe(this,Kn,"f")>i)return this.log.warn(`Caught exception while attempting to make request:
  ${c}
  Retrying request.`),await xe(this,Er,"m",t).call(this,{request:n,backoff:r,tries:i+1});throw c}if(o.ok)return o;const a=await o.clone().text(),l=`Server returned an error:
  Code: ${o.status} (${o.statusText})
  Body: ${a}
`;if(o.status===404&&o.url.includes("api/v3"))throw new Ff("v3 api not supported. Fall back to v2",{ok:o.ok,status:o.status,statusText:o.statusText,headers:fa(o.headers)});if(i<xe(this,Kn,"f"))return await xe(this,Er,"m",t).call(this,{request:n,backoff:r,tries:i+1});throw new Ff(l,{ok:o.ok,status:o.status,statusText:o.statusText,headers:fa(o.headers)})};var My;(function(t){t.Error="err",t.GetPrincipal="gp",t.GetPrincipalResponse="gpr",t.Query="q",t.QueryResponse="qr",t.Call="c",t.CallResponse="cr",t.ReadState="rs",t.ReadStateResponse="rsr",t.Status="s",t.StatusResponse="sr"})(My||(My={}));function Fy(){const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!t)throw new Error("No Agent could be found.");return t}const b6=5*60*1e3;function U_(){return S6(v6(w6(),1e3),E6(1e3,1.2),_6(b6))}function w6(){let t=!0;return async()=>t?(t=!1,!0):!1}function v6(t,e){return async(n,r,i)=>{if(await t(n,r,i))return new Promise(s=>setTimeout(s,e))}}function _6(t){const e=Date.now()+t;return async(n,r,i)=>{if(Date.now()>e)throw new Error(`Request timed out after ${t} msec:
  Request ID: ${Ut(r)}
  Request status: ${i}
`)}}function E6(t,e){let n=t;return()=>new Promise(r=>setTimeout(()=>{n*=e,r()},n))}function S6(...t){return async(e,n,r)=>{for(const i of t)await i(e,n,r)}}function Ds(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k6(t){return t!==null&&typeof t=="object"&&Ds(t,"body")&&t.body!==null&&typeof t.body=="object"&&Ds(t.body,"content")&&t.body.content!==null&&typeof t.body.content=="object"&&Ds(t.body.content,"request_type")&&t.body.content.request_type==="read_state"&&Ds(t.body.content,"ingress_expiry")&&typeof t.body.content.ingress_expiry=="object"&&t.body.content.ingress_expiry!==null&&Ds(t.body.content.ingress_expiry,"toCBOR")&&typeof t.body.content.ingress_expiry.toCBOR=="function"&&Ds(t.body.content.ingress_expiry,"toHash")&&typeof t.body.content.ingress_expiry.toHash=="function"}async function L_(t,e,n,r=U_(),i,s){var o;const a=[new TextEncoder().encode("request_status"),n],l=i??await((o=t.createReadStateRequest)===null||o===void 0?void 0:o.call(t,{paths:[a]}));i&&k6(l)&&(l.body.content.ingress_expiry=new qs(F_));const c=await t.readState(e,{paths:[a]},void 0,l);if(t.rootKey==null)throw new Error("Agent root key not initialized before polling");const u=await ws.create({certificate:c.certificate,rootKey:t.rootKey,canisterId:e,blsVerify:s}),f=Mn(u.lookup([...a,new TextEncoder().encode("status")]));let h;switch(typeof f>"u"?h=Fr.Unknown:h=new TextDecoder().decode(f),h){case Fr.Replied:return{reply:Mn(u.lookup([...a,"reply"])),certificate:u};case Fr.Received:case Fr.Unknown:case Fr.Processing:return await r(e,n,h),L_(t,e,n,r,l,s);case Fr.Rejected:{const g=new Uint8Array(Mn(u.lookup([...a,"reject_code"])))[0],p=new TextDecoder().decode(Mn(u.lookup([...a,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${Ut(n)}
  Reject code: ${g}
  Reject text: ${p}
`)}case Fr.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${Ut(n)}
`)}throw new Error("unreachable")}const N6=({IDL:t})=>{const e=t.Variant({mainnet:t.Null,testnet:t.Null}),n=t.Text,r=t.Record({network:e,address:n,min_confirmations:t.Opt(t.Nat32)}),i=t.Nat64,s=i,o=t.Nat32,a=t.Record({start_height:o,end_height:t.Opt(o),network:e}),l=t.Vec(t.Nat8),c=t.Record({tip_height:o,block_headers:t.Vec(l)}),u=t.Record({network:e}),f=t.Nat64,h=t.Vec(f),g=t.Record({network:e,filter:t.Opt(t.Variant({page:t.Vec(t.Nat8),min_confirmations:t.Nat32})),address:n}),p=t.Vec(t.Nat8),v=t.Record({txid:t.Vec(t.Nat8),vout:t.Nat32}),E=t.Record({height:t.Nat32,value:i,outpoint:v}),b=t.Record({next_page:t.Opt(t.Vec(t.Nat8)),tip_height:o,tip_block_hash:p,utxos:t.Vec(E)}),_=t.Record({transaction:t.Vec(t.Nat8),network:e}),S=t.Principal,R=t.Record({canister_id:S,num_requested_changes:t.Opt(t.Nat64)}),k=t.Variant({from_user:t.Record({user_id:t.Principal}),from_canister:t.Record({canister_version:t.Opt(t.Nat64),canister_id:t.Principal})}),M=t.Vec(t.Nat8),C=t.Variant({creation:t.Record({controllers:t.Vec(t.Principal)}),code_deployment:t.Record({mode:t.Variant({reinstall:t.Null,upgrade:t.Null,install:t.Null}),module_hash:t.Vec(t.Nat8)}),load_snapshot:t.Record({canister_version:t.Nat64,taken_at_timestamp:t.Nat64,snapshot_id:M}),controllers_change:t.Record({controllers:t.Vec(t.Principal)}),code_uninstall:t.Null}),U=t.Record({timestamp_nanos:t.Nat64,canister_version:t.Nat64,origin:k,details:C}),I=t.Record({controllers:t.Vec(t.Principal),module_hash:t.Opt(t.Vec(t.Nat8)),recent_changes:t.Vec(U),total_num_changes:t.Nat64}),V=t.Record({canister_id:S}),ie=t.Variant({controllers:t.Null,public:t.Null}),ae=t.Record({freezing_threshold:t.Nat,controllers:t.Vec(t.Principal),reserved_cycles_limit:t.Nat,log_visibility:ie,wasm_memory_limit:t.Nat,memory_allocation:t.Nat,compute_allocation:t.Nat}),L=t.Record({status:t.Variant({stopped:t.Null,stopping:t.Null,running:t.Null}),memory_size:t.Nat,cycles:t.Nat,settings:ae,query_stats:t.Record({response_payload_bytes_total:t.Nat,num_instructions_total:t.Nat,num_calls_total:t.Nat,request_payload_bytes_total:t.Nat}),idle_cycles_burned_per_day:t.Nat,module_hash:t.Opt(t.Vec(t.Nat8)),reserved_cycles:t.Nat}),H=t.Record({canister_id:S}),J=t.Record({freezing_threshold:t.Opt(t.Nat),controllers:t.Opt(t.Vec(t.Principal)),reserved_cycles_limit:t.Opt(t.Nat),log_visibility:t.Opt(ie),wasm_memory_limit:t.Opt(t.Nat),memory_allocation:t.Opt(t.Nat),compute_allocation:t.Opt(t.Nat)}),ee=t.Record({settings:t.Opt(J),sender_canister_version:t.Opt(t.Nat64)}),Z=t.Record({canister_id:S}),G=t.Record({canister_id:S}),K=t.Record({canister_id:S,snapshot_id:M}),ce=t.Record({canister_id:S}),se=t.Variant({secp256k1:t.Null}),ue=t.Record({key_id:t.Record({name:t.Text,curve:se}),canister_id:t.Opt(S),derivation_path:t.Vec(t.Vec(t.Nat8))}),oe=t.Record({public_key:t.Vec(t.Nat8),chain_code:t.Vec(t.Nat8)}),j=t.Record({canister_id:S}),le=t.Record({idx:t.Nat64,timestamp_nanos:t.Nat64,content:t.Vec(t.Nat8)}),he=t.Record({canister_log_records:t.Vec(le)}),me=t.Record({value:t.Text,name:t.Text}),de=t.Record({status:t.Nat,body:t.Vec(t.Nat8),headers:t.Vec(me)}),ge=t.Record({url:t.Text,method:t.Variant({get:t.Null,head:t.Null,post:t.Null}),max_response_bytes:t.Opt(t.Nat64),body:t.Opt(t.Vec(t.Nat8)),transform:t.Opt(t.Record({function:t.Func([t.Record({context:t.Vec(t.Nat8),response:de})],[de],["query"]),context:t.Vec(t.Nat8)})),headers:t.Vec(me)}),B=t.Variant({reinstall:t.Null,upgrade:t.Opt(t.Record({wasm_memory_persistence:t.Opt(t.Variant({keep:t.Null,replace:t.Null})),skip_pre_upgrade:t.Opt(t.Bool)})),install:t.Null}),O=t.Record({hash:t.Vec(t.Nat8)}),z=t.Record({arg:t.Vec(t.Nat8),wasm_module_hash:t.Vec(t.Nat8),mode:B,chunk_hashes_list:t.Vec(O),target_canister:S,store_canister:t.Opt(S),sender_canister_version:t.Opt(t.Nat64)}),X=t.Vec(t.Nat8),q=t.Record({arg:t.Vec(t.Nat8),wasm_module:X,mode:B,canister_id:S,sender_canister_version:t.Opt(t.Nat64)}),Q=t.Record({canister_id:S}),N=t.Record({id:M,total_size:t.Nat64,taken_at_timestamp:t.Nat64}),m=t.Vec(N),y=t.Record({canister_id:S,sender_canister_version:t.Opt(t.Nat64),snapshot_id:M}),A=t.Record({start_at_timestamp_nanos:t.Nat64,subnet_id:t.Principal}),P=t.Record({num_block_failures_total:t.Nat64,node_id:t.Principal,num_blocks_proposed_total:t.Nat64}),$=t.Vec(t.Record({timestamp_nanos:t.Nat64,node_metrics:t.Vec(P)})),te=t.Record({settings:t.Opt(J),specified_id:t.Opt(S),amount:t.Opt(t.Nat),sender_canister_version:t.Opt(t.Nat64)}),fe=t.Record({canister_id:S}),be=t.Record({canister_id:S,amount:t.Nat}),_e=t.Vec(t.Nat8),Ae=t.Variant({ed25519:t.Null,bip340secp256k1:t.Null}),T=t.Record({key_id:t.Record({algorithm:Ae,name:t.Text}),canister_id:t.Opt(S),derivation_path:t.Vec(t.Vec(t.Nat8))}),x=t.Record({public_key:t.Vec(t.Nat8),chain_code:t.Vec(t.Nat8)}),w=t.Record({key_id:t.Record({name:t.Text,curve:se}),derivation_path:t.Vec(t.Vec(t.Nat8)),message_hash:t.Vec(t.Nat8)}),F=t.Record({signature:t.Vec(t.Nat8)}),Y=t.Record({key_id:t.Record({algorithm:Ae,name:t.Text}),derivation_path:t.Vec(t.Vec(t.Nat8)),message:t.Vec(t.Nat8)}),re=t.Record({signature:t.Vec(t.Nat8)}),ne=t.Record({canister_id:S}),Te=t.Record({canister_id:S}),Oe=t.Record({canister_id:S}),je=t.Vec(O),Ne=t.Record({replace_snapshot:t.Opt(M),canister_id:S}),He=N,Qe=t.Record({canister_id:S,sender_canister_version:t.Opt(t.Nat64)}),Zd=t.Record({canister_id:t.Principal,settings:J,sender_canister_version:t.Opt(t.Nat64)}),Qd=t.Record({chunk:t.Vec(t.Nat8),canister_id:t.Principal}),Jd=O;return t.Service({bitcoin_get_balance:t.Func([r],[s],[]),bitcoin_get_block_headers:t.Func([a],[c],[]),bitcoin_get_current_fee_percentiles:t.Func([u],[h],[]),bitcoin_get_utxos:t.Func([g],[b],[]),bitcoin_send_transaction:t.Func([_],[],[]),canister_info:t.Func([R],[I],[]),canister_status:t.Func([V],[L],[]),clear_chunk_store:t.Func([H],[],[]),create_canister:t.Func([ee],[Z],[]),delete_canister:t.Func([G],[],[]),delete_canister_snapshot:t.Func([K],[],[]),deposit_cycles:t.Func([ce],[],[]),ecdsa_public_key:t.Func([ue],[oe],[]),fetch_canister_logs:t.Func([j],[he],["query"]),http_request:t.Func([ge],[de],[]),install_chunked_code:t.Func([z],[],[]),install_code:t.Func([q],[],[]),list_canister_snapshots:t.Func([Q],[m],[]),load_canister_snapshot:t.Func([y],[],[]),node_metrics_history:t.Func([A],[$],[]),provisional_create_canister_with_cycles:t.Func([te],[fe],[]),provisional_top_up_canister:t.Func([be],[],[]),raw_rand:t.Func([],[_e],[]),schnorr_public_key:t.Func([T],[x],[]),sign_with_ecdsa:t.Func([w],[F],[]),sign_with_schnorr:t.Func([Y],[re],[]),start_canister:t.Func([ne],[],[]),stop_canister:t.Func([Te],[],[]),stored_chunks:t.Func([Oe],[je],[]),take_canister_snapshot:t.Func([Ne],[He],[]),uninstall_code:t.Func([Qe],[],[]),update_settings:t.Func([Zd],[],[]),upload_chunk:t.Func([Qd],[Jd],[])})};class z_ extends kt{constructor(e,n,r,i){super(["Call failed:",`  Canister: ${e.toText()}`,`  Method: ${n} (${r})`,...Object.getOwnPropertyNames(i).map(s=>`  "${s}": ${JSON.stringify(i[s])}`)].join(`
`)),this.canisterId=e,this.methodName=n,this.type=r,this.props=i}}class T6 extends z_{constructor(e,n,r){var i;super(e,n,"query",{Status:r.status,Code:(i=l0[r.reject_code])!==null&&i!==void 0?i:`Unknown Code "${r.reject_code}"`,Message:r.reject_message}),this.result=r}}class Iy extends z_{constructor(e,n,r,i,s,o,a){super(e,n,"update",Object.assign({"Request ID":Ut(r)},i.body?Object.assign(Object.assign({},a?{"Error code":a}:{}),{"Reject code":String(s),"Reject message":o}):{"HTTP status code":i.status.toString(),"HTTP status text":i.statusText})),this.requestId=r,this.response=i,this.reject_code=s,this.reject_message=o,this.error_code=a}}const Rn=Symbol.for("ic-agent-metadata");class qd{constructor(e){this[Rn]=Object.freeze(e)}static agentOf(e){return e[Rn].config.agent}static interfaceOf(e){return e[Rn].service}static canisterIdOf(e){return Re.from(e[Rn].config.canisterId)}static async install(e,n){const r=e.mode===void 0?{install:null}:e.mode,i=e.arg?[...new Uint8Array(e.arg)]:[],s=[...new Uint8Array(e.module)],o=typeof n.canisterId=="string"?Re.fromText(n.canisterId):n.canisterId;await Uy(n).install_code({mode:r,arg:i,wasm_module:s,canister_id:o,sender_canister_version:[]})}static async createCanister(e,n){function r(s){return[{controllers:s.controllers?[s.controllers]:[],compute_allocation:s.compute_allocation?[s.compute_allocation]:[],freezing_threshold:s.freezing_threshold?[s.freezing_threshold]:[],memory_allocation:s.memory_allocation?[s.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:i}=await Uy(e||{}).provisional_create_canister_with_cycles({amount:[],settings:r(n||{}),specified_id:[],sender_canister_version:[]});return i}static async createAndInstallCanister(e,n,r){const i=await this.createCanister(r);return await this.install(Object.assign({},n),Object.assign(Object.assign({},r),{canisterId:i})),this.createActor(e,Object.assign(Object.assign({},r),{canisterId:i}))}static createActorClass(e,n){const r=e({IDL:P3});class i extends qd{constructor(o){if(!o.canisterId)throw new kt(`Canister ID is required, but received ${typeof o.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const a=typeof o.canisterId=="string"?Re.fromText(o.canisterId):o.canisterId;super({config:Object.assign(Object.assign(Object.assign({},$_),o),{canisterId:a}),service:r});for(const[l,c]of r._fields)n!=null&&n.httpDetails&&c.annotations.push(T0),n!=null&&n.certificate&&c.annotations.push(D_),this[l]=A6(this,l,c,o.blsVerify)}}return i}static createActor(e,n){if(!n.canisterId)throw new kt(`Canister ID is required, but received ${typeof n.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(e))(n)}static createActorWithHttpDetails(e,n){return new(this.createActorClass(e,{httpDetails:!0}))(n)}static createActorWithExtendedDetails(e,n,r={httpDetails:!0,certificate:!0}){return new(this.createActorClass(e,r))(n)}}function Vs(t,e){const n=lv(t,D1.Buffer.from(e));switch(n.length){case 0:return;case 1:return n[0];default:return n}}const $_={pollingStrategyFactory:U_},T0="http-details",D_="certificate";function A6(t,e,n,r){let i;n.annotations.includes("query")||n.annotations.includes("composite_query")?i=async(o,...a)=>{var l,c;o=Object.assign(Object.assign({},o),(c=(l=t[Rn].config).queryTransform)===null||c===void 0?void 0:c.call(l,e,a,Object.assign(Object.assign({},t[Rn].config),o)));const u=o.agent||t[Rn].config.agent||Fy(),f=Re.from(o.canisterId||t[Rn].config.canisterId),h=u0(n.argTypes,a),g=await u.query(f,{methodName:e,arg:h,effectiveCanisterId:o.effectiveCanisterId}),p=Object.assign(Object.assign({},g.httpDetails),{requestDetails:g.requestDetails});switch(g.status){case"rejected":throw new T6(f,e,g);case"replied":return n.annotations.includes(T0)?{httpDetails:p,result:Vs(n.retTypes,g.reply.arg)}:Vs(n.retTypes,g.reply.arg)}}:i=async(o,...a)=>{var l,c;o=Object.assign(Object.assign({},o),(c=(l=t[Rn].config).callTransform)===null||c===void 0?void 0:c.call(l,e,a,Object.assign(Object.assign({},t[Rn].config),o)));const u=o.agent||t[Rn].config.agent||Fy(),{canisterId:f,effectiveCanisterId:h,pollingStrategyFactory:g}=Object.assign(Object.assign(Object.assign({},$_),t[Rn].config),o),p=Re.from(f),v=h!==void 0?Re.from(h):p,E=u0(n.argTypes,a);if(u.rootKey==null)throw new kt("Agent root key not initialized before making call");const{requestId:b,response:_,requestDetails:S}=await u.call(p,{methodName:e,arg:E,effectiveCanisterId:v});let R,k;if(_.body&&_.body.certificate){const I=_.body.certificate;k=await ws.create({certificate:Yu(I),rootKey:u.rootKey,canisterId:Re.from(f),blsVerify:r});const V=[new TextEncoder().encode("request_status"),b];switch(new TextDecoder().decode(Mn(k.lookup([...V,"status"])))){case"replied":R=Mn(k.lookup([...V,"reply"]));break;case"rejected":{const ae=new Uint8Array(Mn(k.lookup([...V,"reject_code"])))[0],L=new TextDecoder().decode(Mn(k.lookup([...V,"reject_message"]))),H=Mn(k.lookup([...V,"error_code"])),J=H?new TextDecoder().decode(H):void 0;throw new Iy(p,e,b,_,ae,L,J)}}}else if(_.body&&"reject_message"in _.body){const{reject_code:I,reject_message:V,error_code:ie}=_.body;throw new Iy(p,e,b,_,I,V,ie)}if(_.status===202){const I=g(),V=await L_(u,v,b,I,r);k=V.certificate,R=V.reply}const M=n.annotations.includes(T0),C=n.annotations.includes(D_),U=Object.assign(Object.assign({},_),{requestDetails:S});if(R!==void 0)return M&&C?{httpDetails:U,certificate:k,result:Vs(n.retTypes,R)}:C?{certificate:k,result:Vs(n.retTypes,R)}:M?{httpDetails:U,result:Vs(n.retTypes,R)}:Vs(n.retTypes,R);if(n.retTypes.length===0)return M?{httpDetails:_,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${n.retTypes.join(",")}].`)};const s=(...o)=>i({},...o);return s.withOptions=o=>(...a)=>i(o,...a),s}function Uy(t){function e(n,r){if(t.effectiveCanisterId)return{effectiveCanisterId:Re.from(t.effectiveCanisterId)};const i=r[0];let s=Re.fromHex("");return i&&typeof i=="object"&&i.target_canister&&n==="install_chunked_code"&&(s=Re.from(i.target_canister)),i&&typeof i=="object"&&i.canister_id&&(s=Re.from(i.canister_id)),{effectiveCanisterId:s}}return qd.createActor(N6,Object.assign(Object.assign(Object.assign({},t),{canisterId:Re.fromHex("")}),{callTransform:e,queryTransform:e}))}var id=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},bi=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},uu,du,Zs,Qs;function Ly(t){return t!==null&&typeof t=="object"}class Wr{constructor(e){if(uu.set(this,void 0),du.set(this,void 0),e.byteLength!==Wr.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");id(this,uu,e,"f"),id(this,du,Wr.derEncode(e),"f")}static from(e){if(typeof e=="string"){const n=Yr(e);return this.fromRaw(n)}else if(Ly(e)){const n=e;if(Ly(n)&&Object.hasOwnProperty.call(n,"__derEncodedPublicKey__"))return this.fromDer(n);if(ArrayBuffer.isView(n)){const r=n;return this.fromRaw(Qp(r.buffer))}else{if(n instanceof ArrayBuffer)return this.fromRaw(n);if("rawKey"in n)return this.fromRaw(n.rawKey);if("derKey"in n)return this.fromDer(n.derKey);if("toDer"in n)return this.fromDer(n.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(e){return new Wr(e)}static fromDer(e){return new Wr(this.derDecode(e))}static derEncode(e){const n=T_(e,rd).buffer;return n.__derEncodedPublicKey__=void 0,n}static derDecode(e){const n=A_(e,rd);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return bi(this,uu,"f")}get derKey(){return bi(this,du,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}uu=new WeakMap,du=new WeakMap;Wr.RAW_KEY_LENGTH=32;class Ai extends sg{constructor(e,n){super(),Zs.set(this,void 0),Qs.set(this,void 0),id(this,Zs,Wr.from(e),"f"),id(this,Qs,new Uint8Array(n),"f")}static generate(e){if(e&&e.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");e||(e=Gs.utils.randomPrivateKey()),Md(e,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const n=new Uint8Array(32);for(let i=0;i<32;i++)n[i]=new Uint8Array(e)[i];const r=Gs.getPublicKey(n);return Ai.fromKeyPair(r,n)}static fromParsedJson(e){const[n,r]=e;return new Ai(Wr.fromDer(Yr(n)),Yr(r))}static fromJSON(e){const n=JSON.parse(e);if(Array.isArray(n)){if(typeof n[0]=="string"&&typeof n[1]=="string")return this.fromParsedJson([n[0],n[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(e)}`)}static fromKeyPair(e,n){return new Ai(Wr.fromRaw(e),n)}static fromSecretKey(e){const n=Gs.getPublicKey(new Uint8Array(e));return Ai.fromKeyPair(n,e)}toJSON(){return[Ut(bi(this,Zs,"f").toDer()),Ut(bi(this,Qs,"f"))]}getKeyPair(){return{secretKey:bi(this,Qs,"f"),publicKey:bi(this,Zs,"f")}}getPublicKey(){return bi(this,Zs,"f")}async sign(e){const n=new Uint8Array(e),r=Oa(Gs.sign(n,bi(this,Qs,"f").slice(0,32)));return Object.defineProperty(r,"__signature__",{enumerable:!1,value:void 0}),r}static verify(e,n,r){const[i,s,o]=[e,n,r].map(a=>(typeof a=="string"&&(a=Yr(a)),a instanceof Uint8Array&&(a=a.buffer),new Uint8Array(a)));return Gs.verify(s,i,o)}}Zs=new WeakMap,Qs=new WeakMap;class hg extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,hg.prototype)}}function zy(t){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(t)return t;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new hg("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class sd extends sg{constructor(e,n,r){super(),this._keyPair=e,this._derKey=n,this._subtleCrypto=r}static async generate(e){const{extractable:n=!1,keyUsages:r=["sign","verify"],subtleCrypto:i}=e??{},s=zy(i),o=await s.generateKey({name:"ECDSA",namedCurve:"P-256"},n,r),a=await s.exportKey("spki",o.publicKey);return new this(o,a,s)}static async fromKeyPair(e,n){const r=zy(n),i=await r.exportKey("spki",e.publicKey);return new sd(e,i,r)}getKeyPair(){return this._keyPair}getPublicKey(){const e=this._derKey,n=Object.create(this._keyPair.publicKey);return n.toDer=function(){return e},n}async sign(e){const n={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(n,this._keyPair.privateKey,e)}}var C6=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},na=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},hi;class j6{constructor(e){hi.set(this,void 0),C6(this,hi,e,"f")}get rawKey(){return na(this,hi,"f").rawKey}get derKey(){return na(this,hi,"f").derKey}toDer(){return na(this,hi,"f").toDer()}getPublicKey(){return na(this,hi,"f")}getPrincipal(){return Re.from(na(this,hi,"f").rawKey)}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}hi=new WeakMap;var B6=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},R6=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},P6=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},fu;const O6=new TextEncoder().encode("ic-request-auth-delegation"),M6=new TextEncoder().encode(`
ic-request`);function qf(t){if(typeof t!="string"||t.length<64)throw new Error("Invalid public key.");return Yr(t)}class pg{constructor(e,n,r){this.pubkey=e,this.expiration=n,this.targets=r}toCBOR(){return fn.value.map(Object.assign({pubkey:fn.value.bytes(this.pubkey),expiration:fn.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:fn.value.array(this.targets.map(e=>fn.value.bytes(e.toUint8Array())))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:Ut(this.pubkey)},this.targets&&{targets:this.targets.map(e=>e.toHex())})}}async function F6(t,e,n,r){const i=new pg(e.toDer(),BigInt(+n)*BigInt(1e6),r),s=new Uint8Array([...O6,...new Uint8Array(ul(Object.assign({},i)))]),o=await t.sign(s);return{delegation:i,signature:o}}class od{constructor(e,n){this.delegations=e,this.publicKey=n}static async create(e,n,r=new Date(Date.now()+15*60*1e3),i={}){var s,o;const a=await F6(e,n,r,i.targets);return new od([...((s=i.previous)===null||s===void 0?void 0:s.delegations)||[],a],((o=i.previous)===null||o===void 0?void 0:o.publicKey)||e.getPublicKey().toDer())}static fromJSON(e){const{publicKey:n,delegations:r}=typeof e=="string"?JSON.parse(e):e;if(!Array.isArray(r))throw new Error("Invalid delegations.");const i=r.map(s=>{const{delegation:o,signature:a}=s,{pubkey:l,expiration:c,targets:u}=o;if(u!==void 0&&!Array.isArray(u))throw new Error("Invalid targets.");return{delegation:new pg(qf(l),BigInt("0x"+c),u&&u.map(f=>{if(typeof f!="string")throw new Error("Invalid target.");return Re.fromHex(f)})),signature:qf(a)}});return new this(i,qf(n))}static fromDelegations(e,n){return new this(e,n)}toJSON(){return{delegations:this.delegations.map(e=>{const{delegation:n,signature:r}=e,{targets:i}=n;return{delegation:Object.assign({expiration:n.expiration.toString(16),pubkey:Ut(n.pubkey)},i&&{targets:i.map(s=>s.toHex())}),signature:Ut(r)}}),publicKey:Ut(this.publicKey)}}}class $y extends sg{constructor(e,n){super(),this._inner=e,this._delegation=n}static fromDelegation(e,n){return new this(e,n)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(e){return this._inner.sign(e)}async transformRequest(e){const{body:n}=e,r=P6(e,["body"]),i=await ul(n);return Object.assign(Object.assign({},r),{body:{content:n,sender_sig:await this.sign(new Uint8Array([...M6,...new Uint8Array(i)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class ad extends j6{constructor(e,n){super(e),fu.set(this,void 0),B6(this,fu,n,"f")}get delegation(){return R6(this,fu,"f")}static fromDelegation(e,n){return new ad(e,n)}}fu=new WeakMap;function I6(t,e){for(const{delegation:r}of t.delegations)if(+new Date(Number(r.expiration/BigInt(1e6)))<=+Date.now())return!1;const n=[];for(const r of n){const i=r.toText();for(const{delegation:s}of t.delegations){if(s.targets===void 0)continue;let o=!0;for(const a of s.targets)if(a.toText()===i){o=!1;break}if(o)return!1}}return!0}var Dy;(function(t){t[t.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(Dy||(Dy={}));const Vy=["mousedown","mousemove","keydown","touchstart","wheel"];class Hy{constructor(e={}){var n;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:r,idleTimeout:i=10*60*1e3}=e||{};this.callbacks=r?[r]:[],this.idleTimeout=i;const s=this._resetTimer.bind(this);window.addEventListener("load",s,!0),Vy.forEach(function(a){document.addEventListener(a,s,!0)});const o=(a,l)=>{let c;return(...u)=>{const f=this,h=function(){c=void 0,a.apply(f,u)};clearTimeout(c),c=window.setTimeout(h,l)}};if(e!=null&&e.captureScroll){const a=o(s,(n=e==null?void 0:e.scrollDebounce)!==null&&n!==void 0?n:100);window.addEventListener("scroll",a,!0)}s()}static create(e={}){return new this(e)}registerCallback(e){this.callbacks.push(e)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const e=this._resetTimer.bind(this);Vy.forEach(function(n){document.removeEventListener(n,e,!0)}),this.callbacks.forEach(n=>n())}_resetTimer(){const e=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(e,this.idleTimeout)}}const U6=(t,e)=>e.some(n=>t instanceof n);let Wy,qy;function L6(){return Wy||(Wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z6(){return qy||(qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V_=new WeakMap,A0=new WeakMap,H_=new WeakMap,Gf=new WeakMap,gg=new WeakMap;function $6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&V_.set(n,t)}).catch(()=>{}),gg.set(e,t),e}function D6(t){if(A0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});A0.set(t,e)}let C0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return A0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||H_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V6(t){C0=t(C0)}function H6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kf(this),e,...n);return H_.set(r,e.sort?e.sort():[e]),$i(r)}:z6().includes(t)?function(...e){return t.apply(Kf(this),e),$i(V_.get(this))}:function(...e){return $i(t.apply(Kf(this),e))}}function W6(t){return typeof t=="function"?H6(t):(t instanceof IDBTransaction&&D6(t),U6(t,L6())?new Proxy(t,C0):t)}function $i(t){if(t instanceof IDBRequest)return $6(t);if(Gf.has(t))return Gf.get(t);const e=W6(t);return e!==t&&(Gf.set(t,e),gg.set(e,t)),e}const Kf=t=>gg.get(t);function q6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$i(o);return r&&o.addEventListener("upgradeneeded",l=>{r($i(o.result),l.oldVersion,l.newVersion,$i(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const G6=["get","getKey","getAll","getAllKeys","count"],K6=["put","add","delete","clear"],Yf=new Map;function Gy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yf.get(e))return Yf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Yf.set(e,s),s}V6(t=>({...t,get:(e,n,r)=>Gy(e,n)||t.get(e,n,r),has:(e,n)=>!!Gy(e,n)||t.has(e,n)}));const W_="auth-client-db",q_="ic-keyval",Y6=async(t=W_,e=q_,n)=>(G_&&(localStorage!=null&&localStorage.getItem(ki))&&(localStorage.removeItem(ki),localStorage.removeItem(wi)),await q6(t,n,{upgrade:r=>{r.objectStoreNames.contains(e)&&r.clear(e),r.createObjectStore(e)}}));async function X6(t,e,n){return await t.get(e,n)}async function Z6(t,e,n,r){return await t.put(e,r,n)}async function Q6(t,e,n){return await t.delete(e,n)}class mg{constructor(e,n){this._db=e,this._storeName=n}static async create(e){const{dbName:n=W_,storeName:r=q_,version:i=nT}=e??{},s=await Y6(n,r,i);return new mg(s,r)}async set(e,n){return await Z6(this._db,this._storeName,e,n)}async get(e){var n;return(n=await X6(this._db,this._storeName,e))!==null&&n!==void 0?n:null}async remove(e){return await Q6(this._db,this._storeName,e)}}var J6=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},eT=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},hu;const wi="identity",ki="delegation",tT="iv",nT=1,G_=typeof window<"u";class rT{constructor(e="ic-",n){this.prefix=e,this._localStorage=n}get(e){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+e))}set(e,n){return this._getLocalStorage().setItem(this.prefix+e,n),Promise.resolve()}remove(e){return this._getLocalStorage().removeItem(this.prefix+e),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!e)throw new Error("Could not find local storage.");return e}}class iT{constructor(e){hu.set(this,void 0),J6(this,hu,e??{},"f")}get _db(){return new Promise(e=>{if(this.initializedDb){e(this.initializedDb);return}mg.create(eT(this,hu,"f")).then(n=>{this.initializedDb=n,e(n)})})}async get(e){return await(await this._db).get(e)}async set(e,n){await(await this._db).set(e,n)}async remove(e){await(await this._db).remove(e)}}hu=new WeakMap;const sT="https://identity.ic0.app",oT="#authorize",Xf="ECDSA",Zf="Ed25519",aT=500,lT="UserInterrupt";class yg{constructor(e,n,r,i,s,o,a,l){this._identity=e,this._key=n,this._chain=r,this._storage=i,this.idleManager=s,this._createOptions=o,this._idpWindow=a,this._eventHandler=l,this._registerDefaultIdleCallback()}static async create(e={}){var n,r,i;const s=(n=e.storage)!==null&&n!==void 0?n:new iT,o=(r=e.keyType)!==null&&r!==void 0?r:Xf;let a=null;if(e.identity)a=e.identity;else{let f=await s.get(wi);if(!f&&G_)try{const h=new rT,g=await h.get(ki),p=await h.get(wi);g&&p&&o===Xf&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await s.set(ki,g),await s.set(wi,p),f=g,await h.remove(ki),await h.remove(wi))}catch(h){console.error("error while attempting to recover localstorage: "+h)}if(f)try{typeof f=="object"?o===Zf&&typeof f=="string"?a=await Ai.fromJSON(f):a=await sd.fromKeyPair(f):typeof f=="string"&&(a=Ai.fromJSON(f))}catch{}}let l=new y0,c=null;if(a)try{const f=await s.get(ki);if(typeof f=="object"&&f!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");e.identity?l=e.identity:f&&(c=od.fromJSON(f),I6(c)?"toDer"in a?l=ad.fromDelegation(a,c):l=$y.fromDelegation(a,c):(await Qf(s),a=null))}catch(f){console.error(f),await Qf(s),a=null}let u;return!((i=e.idleOptions)===null||i===void 0)&&i.disableIdle?u=void 0:(c||e.identity)&&(u=Hy.create(e.idleOptions)),a||(o===Zf?(a=await Ai.generate(),await s.set(wi,JSON.stringify(a.toJSON()))):(e.storage&&o===Xf&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${Zf}' as the key type, as it can serialize to a string`),a=await sd.generate(),await s.set(wi,a.getKeyPair()))),new this(l,a,c,s,u,e)}_registerDefaultIdleCallback(){var e,n;const r=(e=this._createOptions)===null||e===void 0?void 0:e.idleOptions;!(r!=null&&r.onIdle)&&!(r!=null&&r.disableDefaultIdleCallback)&&((n=this.idleManager)===null||n===void 0||n.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(e,n){var r,i;const s=e.delegations.map(c=>({delegation:new pg(c.delegation.pubkey,c.delegation.expiration,c.delegation.targets),signature:c.signature.buffer})),o=od.fromDelegations(s,e.userPublicKey.buffer),a=this._key;if(!a)return;this._chain=o,"toDer"in a?this._identity=ad.fromDelegation(a,this._chain):this._identity=$y.fromDelegation(a,this._chain),(r=this._idpWindow)===null||r===void 0||r.close();const l=(i=this._createOptions)===null||i===void 0?void 0:i.idleOptions;!this.idleManager&&!(l!=null&&l.disableIdle)&&(this.idleManager=Hy.create(l),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(ki,JSON.stringify(this._chain.toJSON())),n==null||n(e)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(e){var n,r,i,s;const o=BigInt(8)*BigInt(36e11),a=new URL(((n=e==null?void 0:e.identityProvider)===null||n===void 0?void 0:n.toString())||sT);a.hash=oT,(r=this._idpWindow)===null||r===void 0||r.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(a,Object.assign({maxTimeToLive:(i=e==null?void 0:e.maxTimeToLive)!==null&&i!==void 0?i:o},e)),window.addEventListener("message",this._eventHandler),this._idpWindow=(s=window.open(a.toString(),"idpWindow",e==null?void 0:e.windowOpenerFeatures))!==null&&s!==void 0?s:void 0;const l=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(lT,e==null?void 0:e.onError):setTimeout(l,aT))};l()}_getEventHandler(e,n){return async r=>{var i,s,o;if(r.origin!==e.origin)return;const a=r.data;switch(a.kind){case"authorize-ready":{const l=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((i=this._key)===null||i===void 0?void 0:i.getPublicKey().toDer()),maxTimeToLive:n==null?void 0:n.maxTimeToLive,allowPinAuthentication:n==null?void 0:n.allowPinAuthentication,derivationOrigin:(s=n==null?void 0:n.derivationOrigin)===null||s===void 0?void 0:s.toString()},n==null?void 0:n.customValues);(o=this._idpWindow)===null||o===void 0||o.postMessage(l,e.origin);break}case"authorize-client-success":try{await this._handleSuccess(a,n==null?void 0:n.onSuccess)}catch(l){this._handleFailure(l.message,n==null?void 0:n.onError)}break;case"authorize-client-failure":this._handleFailure(a.text,n==null?void 0:n.onError);break}}}_handleFailure(e,n){var r;(r=this._idpWindow)===null||r===void 0||r.close(),n==null||n(e),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(e={}){if(await Qf(this._storage),this._identity=new y0,this._chain=null,e.returnTo)try{window.history.pushState({},"",e.returnTo)}catch{window.location.href=e.returnTo}}}async function Qf(t){await t.remove(wi),await t.remove(ki),await t.remove(tT)}const cT=({IDL:t})=>{const e=t.Variant({Ok:t.Text,Err:t.Text}),n=t.Record({txid:t.Vec(t.Nat8),vout:t.Nat32}),r=t.Record({value:t.Nat64,outpoint:n}),i=t.Record({utxos:t.Vec(r)}),s=t.Variant({Ok:i,Err:t.Text}),o=t.Variant({Ok:t.Nat64,Err:t.Text}),a=t.Record({id:t.Nat64,updated_at:t.Nat64,period:t.Text,created_at:t.Nat64,spent:t.Float64,currency:t.Text,category:t.Text,budget:t.Float64}),l=t.Record({id:t.Nat64,status:t.Text,title:t.Text,updated_at:t.Nat64,description:t.Text,deadline:t.Text,created_at:t.Nat64,current_amount:t.Float64,currency:t.Text,target_amount:t.Float64,category:t.Text,priority:t.Text}),c=t.Record({id:t.Nat64,is_read:t.Bool,title:t.Text,type_:t.Text,message:t.Text,timestamp:t.Nat64,category:t.Text}),u=t.Record({id:t.Nat64,conversion_rate:t.Opt(t.Float64),fee:t.Opt(t.Float64),confirmations:t.Opt(t.Nat32),transaction_type:t.Opt(t.Text),source:t.Opt(t.Text),is_income:t.Bool,date:t.Text,txid:t.Opt(t.Text),description:t.Text,currency:t.Text,timestamp:t.Nat64,converted_currency:t.Opt(t.Text),category:t.Text,converted_amount:t.Opt(t.Float64),amount:t.Float64});return t.Service({add_budget:t.Func([t.Text,t.Float64,t.Text,t.Text],[e],[]),add_goal:t.Func([t.Text,t.Text,t.Float64,t.Float64,t.Text,t.Text,t.Text,t.Text],[e],[]),add_manual_transaction:t.Func([t.Float64,t.Text,t.Text,t.Text,t.Text,t.Text],[e],[]),add_transaction:t.Func([t.Float64,t.Text,t.Text,t.Bool,t.Text,t.Text],[e],[]),btc_to_satoshis:t.Func([t.Float64],[t.Nat64],["query"]),convert_currency:t.Func([t.Float64,t.Text,t.Text],[t.Opt(t.Float64)],["query"]),fetch_btc_transactions:t.Func([],[s],[]),format_btc_amount:t.Func([t.Float64],[t.Text],["query"]),get_all_rates:t.Func([],[t.Vec(t.Tuple(t.Text,t.Text,t.Float64))],["query"]),get_balance:t.Func([t.Text,t.Opt(t.Text)],[t.Float64],["query"]),get_btc_balance:t.Func([],[o],[]),get_budgets:t.Func([t.Opt(t.Text)],[t.Vec(a)],["query"]),get_currency_rate:t.Func([t.Text,t.Text],[t.Opt(t.Float64)],["query"]),get_goals:t.Func([],[t.Vec(l)],["query"]),get_notifications:t.Func([t.Opt(t.Text),t.Bool],[t.Vec(c)],["query"]),get_total_expense:t.Func([t.Text,t.Opt(t.Text)],[t.Float64],["query"]),get_total_income:t.Func([t.Text,t.Opt(t.Text)],[t.Float64],["query"]),get_transactions:t.Func([],[t.Vec(u)],["query"]),get_transactions_by_currency:t.Func([t.Text],[t.Vec(u)],["query"]),get_transactions_by_period:t.Func([t.Text],[t.Vec(u)],["query"]),get_transactions_by_source:t.Func([t.Text],[t.Vec(u)],["query"]),get_unread_notification_count:t.Func([],[t.Nat64],["query"]),get_user_balance_summary:t.Func([],[t.Float64,t.Float64,t.Float64],["query"]),get_user_summary:t.Func([],[t.Nat64,t.Nat64,t.Nat64,t.Nat64],["query"]),get_wallet_address:t.Func([t.Text],[t.Opt(t.Text)],["query"]),mark_notification_read:t.Func([t.Nat64],[e],[]),satoshis_to_btc:t.Func([t.Nat64],[t.Float64],["query"]),set_currency_rate:t.Func([t.Text,t.Text,t.Float64],[e],[]),set_wallet_address:t.Func([t.Text,t.Text],[e],[]),sync_blockchain_transactions:t.Func([],[e],[]),update_budget_spent:t.Func([],[e],[]),validate_btc_address:t.Func([t.Text],[t.Bool],["query"])})},xg="uxrrr-q7777-77774-qaaaq-cai",K_=(t,e={})=>{const n=e.agent||new La({...e.agentOptions});return e.agent&&e.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.fetchRootKey().catch(r=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(r)}),qd.createActor(cT,{agent:n,canisterId:t,...e.actorOptions})};K_(xg);const Jf="local",Y_="http://uzt4z-lp777-77774-qaabq-cai.localhost:4943";let gn=null,ve=null;const ze=async()=>{try{gn||(gn=await yg.create());const t=gn.getIdentity();ve=K_(xg,{agentOptions:{identity:t}});const e=await gn.isAuthenticated();return console.log("initAuth - isAuthenticated:",e),e}catch(t){return console.error("Error in initAuth:",t),!1}},Ky=async()=>{try{gn||(console.log("No authClient, creating new one"),gn=await yg.create());const t=await gn.isAuthenticated();return console.log("isAuthenticated check:",t),t}catch(t){return console.error("Error checking authentication:",t),!1}},uT=async()=>{try{gn||(gn=await yg.create()),await gn.login({identityProvider:Y_,onSuccess:async()=>{console.log("Login successful, initializing auth..."),await ze()},onError:t=>{console.error("Login error:",t)}})}catch(t){throw console.error("Error in login:",t),t}},dT=async()=>{gn&&(await gn.logout(),ve=null)},Jn={async addTransaction(t,e,n,r,i,s){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");const o=Number(t),a=n,l=i,c=r,u=e,f=s;return console.log("Sending transaction data:",{amount:o,description:a,category:l,isIncome:c,currency:u,date:f}),{success:!0,data:await ve.add_transaction(o,u,a,c,l,f)}}catch(o){return console.error("Error adding transaction:",o),{success:!1,error:o.message}}},async addManualTransaction(t,e,n,r,i,s){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.add_manual_transaction(Number(t),e,n,r,i,s)}}catch(o){return console.error("Error adding manual transaction:",o),{success:!1,error:o.message}}},async getTransactions(){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_transactions()}}catch(t){return console.error("Error getting transactions:",t),{success:!1,error:t.message}}},async getTransactionsByPeriod(t){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_transactions_by_period(t)}}catch(e){return console.error("Error getting transactions by period:",e),{success:!1,error:e.message}}},async getTransactionsBySource(t){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_transactions_by_source(t)}}catch(e){return console.error("Error getting transactions by source:",e),{success:!1,error:e.message}}},async getTransactionsByCurrency(t){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_transactions_by_currency(t)}}catch(e){return console.error("Error getting transactions by currency:",e),{success:!1,error:e.message}}},async syncBlockchainTransactions(){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.sync_blockchain_transactions()}}catch(t){return console.error("Error syncing blockchain transactions:",t),{success:!1,error:t.message}}},async getBalance(t,e=null){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_balance(e||"",t)}}catch(n){return console.error("Error getting balance:",n),{success:!1,error:n.message}}},async getTotalIncome(t,e=null){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_income(e||"",t)}}catch(n){return console.error("Error getting total income:",n),{success:!1,error:n.message}}},async getTotalExpense(t,e=null){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_expense(e||"",t)}}catch(n){return console.error("Error getting total expense:",n),{success:!1,error:n.message}}}},Yy={async addBudget(t,e,n,r){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.add_budget(t,e,n,r)}}catch(i){return console.error("Error adding budget:",i),{success:!1,error:i.message}}},async getBudgets(t=null){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_budgets(t)}}catch(e){return console.error("Error getting budgets:",e),{success:!1,error:e.message}}},async updateBudgetSpent(){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.update_budget_spent()}}catch(t){return console.error("Error updating budget spent:",t),{success:!1,error:t.message}}}},Xy={async addGoal(t,e,n,r,i,s,o,a){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.add_goal(t,e,n,r,i,s,o,a)}}catch(l){return console.error("Error adding goal:",l),{success:!1,error:l.message}}},async getGoals(){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_goals()}}catch(t){return console.error("Error getting goals:",t),{success:!1,error:t.message}}}},j0={async getNotifications(t=null,e=!1){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return console.log("Skipping notifications call to avoid error"),{success:!0,data:[]}}catch(n){return console.error("Error getting notifications:",n),{success:!1,error:n.message}}},async getUnreadCount(){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_unread_notification_count()}}catch(t){return console.error("Error getting unread count:",t),{success:!1,error:t.message}}},async markAsRead(t){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.mark_notification_read(t)}}catch(e){return console.error("Error marking notification as read:",e),{success:!1,error:e.message}}}},B0={async getCurrencyRate(t,e){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_currency_rate(t,e)}}catch(n){return console.error("Error getting currency rate:",n),{success:!1,error:n.message}}},async setCurrencyRate(t,e,n){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.set_currency_rate(t,e,n)}}catch(r){return console.error("Error setting currency rate:",r),{success:!1,error:r.message}}},async convertCurrency(t,e,n){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.convert_currency(t,e,n)}}catch(r){return console.error("Error converting currency:",r),{success:!1,error:r.message}}},async getAllRates(){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");const t=await ve.get_all_rates(),e={};return t.forEach(([n,r,i])=>{e[n]||(e[n]={}),e[n][r]=i}),{success:!0,data:e}}catch(t){return console.error("Error getting all rates:",t),{success:!1,error:t.message}}}},Xr={async getUserSummary(){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_user_summary()}}catch(t){return console.error("Error getting user summary:",t),{success:!1,error:t.message}}},async getUserBalanceSummary(){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_user_balance_summary()}}catch(t){return console.error("Error getting user balance summary:",t),{success:!1,error:t.message}}},async setWalletAddress(t,e){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.set_wallet_address(t,e)}}catch(n){return console.error("Error setting wallet address:",n),{success:!1,error:n.message}}},async getWalletAddress(t){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_wallet_address(t)}}catch(e){return console.error("Error getting wallet address:",e),{success:!1,error:e.message}}}},za={async getBtcBalance(){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.get_btc_balance()}}catch(t){return console.error("Error getting BTC balance:",t),{success:!1,error:t.message}}},async fetchBtcTransactions(){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.fetch_btc_transactions()}}catch(t){return console.error("Error fetching BTC transactions:",t),{success:!1,error:t.message}}},async validateBtcAddress(t){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.validate_btc_address(t)}}catch(e){return console.error("Error validating BTC address:",e),{success:!1,error:e.message}}},async formatBtcAmount(t){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.format_btc_amount(t)}}catch(e){return console.error("Error formatting BTC amount:",e),{success:!1,error:e.message}}},async satoshisToBtc(t){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.satoshis_to_btc(t)}}catch(e){return console.error("Error converting satoshis to BTC:",e),{success:!1,error:e.message}}},async btcToSatoshis(t){try{if(!ve&&!await ze())throw new Error("Not authenticated. Please login first.");return{success:!0,data:await ve.btc_to_satoshis(t)}}catch(e){return console.error("Error converting BTC to satoshis:",e),{success:!1,error:e.message}}}},Ur={async init(){return await ze()},async login(){return await uT()},async logout(){return await dT()},async isAuthenticated(){return await Ky()},async getCurrentUser(){try{return gn?gn.getIdentity().getPrincipal():null}catch(t){return console.error("Error getting current user:",t),null}},getEnvironmentInfo(){return{network:Jf,identityProvider:Y_,canisterId:xg,isLocal:Jf==="local",isIc:Jf==="ic"}},async getBackendStatus(){try{const t=await Ky();return{success:!0,connected:!!ve,authenticated:t,environment:this.getEnvironmentInfo()}}catch(t){return{success:!1,connected:!1,authenticated:!1,error:t.message,environment:this.getEnvironmentInfo()}}}},wn=D.createContext(),fT=({children:t})=>{const[e,n]=D.useState(!1),[r,i]=D.useState(null),[s,o]=D.useState("IDR"),[a,l]=D.useState(!0);D.useEffect(()=>{const M=setTimeout(async()=>{try{l(!0);const C=await Ur.isAuthenticated();if(console.log("Initial auth check:",C),n(C),C)try{const U=await Ur.getCurrentUser();i(U)}catch(U){console.error("Error getting current user:",U)}}catch(C){console.error("Error initializing auth:",C),n(!1),i(null)}finally{l(!1)}},500);return()=>clearTimeout(M)},[]);const R={isLoggedIn:e,user:r,loading:a,handleLogin:async()=>{try{l(!0),await Ur.login(),await new Promise(M=>setTimeout(M,3e3));const k=await Ur.isAuthenticated();if(console.log("Login result - isAuthenticated:",k),n(k),k)try{const M=await Ur.getCurrentUser();i(M)}catch(M){console.error("Error getting current user after login:",M)}}catch(k){console.error("Login error:",k),n(!1),i(null)}finally{l(!1)}},handleLogout:async()=>{try{await Ur.logout(),n(!1),i(null)}catch(k){console.error("Logout error:",k)}},currency:s,setCurrency:o,convertCurrency:async(k,M,C)=>{try{const U=await B0.convertCurrency(k,M,C);return U.success?U.data:k}catch(U){return console.error("Currency conversion error:",U),k}},getExchangeRate:async(k,M)=>{try{const C=await B0.getCurrencyRate(k,M);return C.success?C.data:null}catch(C){return console.error("Get exchange rate error:",C),null}},formatCurrency:(k,M)=>new Intl.NumberFormat("id-ID",{style:"currency",currency:M,minimumFractionDigits:M==="BTC"?8:2}).format(k),getUserBalance:async()=>{try{const k=await Xr.getUserBalanceSummary();return k.success?k.data:{balance_idr:0,balance_usd:0,balance_btc:0}}catch(k){return console.error("Get user balance error:",k),{balance_idr:0,balance_usd:0,balance_btc:0}}},getUserSummary:async()=>{try{const k=await Xr.getUserSummary();return k.success?k.data:{total_transactions:0,total_budgets:0,total_goals:0,unread_notifications:0}}catch(k){return console.error("Get user summary error:",k),{total_transactions:0,total_budgets:0,total_goals:0,unread_notifications:0}}},getTransactions:async()=>{try{const k=await Jn.getTransactions();return k.success?k.data:[]}catch(k){return console.error("Get transactions error:",k),[]}},getBalance:async(k,M=null)=>{try{const C=await Jn.getBalance(k,M);return C.success?C.data:0}catch(C){return console.error("Get balance error:",C),0}},getTotalIncome:async(k,M=null)=>{try{const C=await Jn.getTotalIncome(k,M);return C.success?C.data:0}catch(C){return console.error("Get total income error:",C),0}},getTotalExpense:async(k,M=null)=>{try{const C=await Jn.getTotalExpense(k,M);return C.success?C.data:0}catch(C){return console.error("Get total expense error:",C),0}}};return d.jsx(wn.Provider,{value:R,children:t})};class hT extends yd.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:d.jsx("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900",children:d.jsx("svg",{className:"h-6 w-6 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Something went wrong"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"An error occurred while loading the application."}),d.jsx("div",{className:"mt-6",children:d.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Reload Page"})}),!1]})})}):this.props.children}}const pT=[{to:"/dashboard",label:"Dashboard"},{to:"/transactions",label:"Transactions"},{to:"/portfolio",label:"Portfolio"},{to:"/wallets",label:"Wallets"},{to:"/budget",label:"Budget"},{to:"/goals",label:"Goals"},{to:"/analytics",label:"Analytics"},{to:"/ai-advisor",label:"AI Advisor"},{to:"/notifications",label:"Notifications"},{to:"/settings",label:"Settings"},{to:"/help",label:"Help"}];function gT(){return d.jsxs("aside",{className:"hidden md:flex md:flex-col w-56 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 min-h-screen",children:[d.jsxs("div",{className:"flex items-center h-16 px-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("img",{src:"/logo.svg",alt:"FinTrack Logo",className:"h-8 mr-2"}),d.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"FinTrack"})]}),d.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:pT.map(t=>d.jsxs(Yp,{to:t.to,className:({isActive:e})=>`flex items-center px-4 py-2 rounded-lg text-base font-medium transition-colors ${e?"bg-blue-100 dark:bg-gray-700 text-blue-700 dark:text-white":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[d.jsx("span",{className:"mr-3",children:""}),t.label]},t.to))})]})}const mT=[{to:"/dashboard",label:"Home",icon:""},{to:"/transactions",label:"Tx",icon:""},{to:"/budget",label:"Budget",icon:""},{to:"/notifications",label:"Notif",icon:""},{to:"/settings",label:"Settings",icon:""}];function yT(){return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 flex justify-around py-2 shadow",children:mT.map(t=>d.jsxs(Yp,{to:t.to,className:({isActive:e})=>`flex flex-col items-center text-xs font-medium px-2 ${e?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-300"}`,children:[d.jsx("span",{className:"text-xl mb-1",children:t.icon}),t.label]},t.to))})}function xT({size:t="md",className:e=""}){const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};return d.jsx("div",{className:`flex justify-center items-center ${e}`,children:d.jsx("div",{className:`${n[t]} animate-spin rounded-full border-2 border-gray-300 border-t-blue-600`})})}function Ce({children:t,variant:e="primary",size:n="md",loading:r=!1,disabled:i=!1,className:s="",...o}){const a="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",l={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},u=i||r;return d.jsxs("button",{className:`${a} ${l[e]} ${c[n]} ${u?"opacity-60 cursor-not-allowed":""} ${s}`,disabled:u,...o,children:[r&&d.jsx(xT,{size:"sm",className:"mr-2"}),t]})}function bT({children:t,variant:e="info",dismissible:n=!1,onDismiss:r,className:i="",...s}){const[o,a]=D.useState(!0),l=()=>{a(!1),r==null||r()},c={success:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-200",warning:"bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-200",danger:"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-200",info:"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-200"};return o?d.jsx("div",{className:`border rounded-lg p-4 ${c[e]} ${i}`,...s,children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-1",children:t}),n&&d.jsx("button",{onClick:l,className:"ml-3 -mt-1 -mr-1 text-current hover:opacity-75",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null}function wT(){const{handleLogin:t}=D.useContext(wn),[e,n]=D.useState(!1),[r,i]=D.useState(null),s=async()=>{n(!0),i(null);try{await t()}catch{i("Login gagal. Coba lagi.")}finally{n(!1)}};return d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:[d.jsx("img",{src:"/logo.svg",alt:"FinTrack Logo",className:"h-16 mb-6"}),d.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Sign in to FinTrack"}),d.jsx(Ce,{onClick:s,loading:e,size:"lg",className:"mb-4",children:"Sign in with Internet Identity"}),r&&d.jsx(bT,{variant:"danger",dismissible:!0,onDismiss:()=>i(null),children:r})]})}function X_({isOpen:t,onClose:e,onTransactionAdded:n}){const{currency:r}=D.useContext(wn),[i,s]=D.useState({amount:"",description:"",category:"",isIncome:!1,currency:r||"IDR",date:new Date().toISOString().split("T")[0]}),[o,a]=D.useState(!1),[l,c]=D.useState(""),[u,f]=D.useState("expense"),h=async p=>{p.preventDefault(),a(!0),c("");const v=new Date(i.date),E=new Date;if(E.setHours(23,59,59,999),v>E){c("Cannot select future dates"),a(!1);return}try{console.log("Submitting transaction:",i);const b=await Jn.addManualTransaction(parseFloat(i.amount),i.currency,i.description,u,i.category,i.date);console.log("Transaction result:",b),b.success?(s({amount:"",description:"",category:"",isIncome:!1,currency:r||"IDR",date:new Date().toISOString().split("T")[0]}),f("expense"),n(),e()):(console.error("Transaction failed:",b.error),c(b.error||"Failed to add transaction"))}catch(b){console.error("Transaction error:",b),c(`Network error: ${b.message||"Please try again."}`)}finally{a(!1)}},g=p=>{const{name:v,value:E,type:b,checked:_}=p.target;s(S=>({...S,[v]:b==="checkbox"?_:E}))};return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add Transaction"}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:i.date&&d.jsxs("span",{children:[" ",new Date(i.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})})]}),l&&d.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:l}),d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Transaction Type"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>f("expense"),className:`flex-1 py-2 px-4 rounded-md border-2 transition-colors ${u==="expense"?"border-red-500 bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400":"border-gray-300 bg-white text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}`,children:" Expense"}),d.jsx("button",{type:"button",onClick:()=>f("income"),className:`flex-1 py-2 px-4 rounded-md border-2 transition-colors ${u==="income"?"border-green-500 bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"border-gray-300 bg-white text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}`,children:" Income"}),d.jsx("button",{type:"button",onClick:()=>f("investment"),className:`flex-1 py-2 px-4 rounded-md border-2 transition-colors ${u==="investment"?"border-blue-500 bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400":"border-gray-300 bg-white text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}`,children:" Investment"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),d.jsx("input",{type:"number",name:"amount",value:i.amount,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter amount"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date"}),d.jsx("input",{type:"date",name:"date",value:i.date,onChange:g,required:!0,max:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Select the date when this transaction occurred (cannot be in the future)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),d.jsx("input",{type:"text",name:"description",value:i.description,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter description"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),d.jsxs("select",{name:"category",value:i.category,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[d.jsx("option",{value:"",children:"Select category"}),u==="income"&&["IDR","USD"].includes(i.currency)&&d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"Salary",children:"Salary"}),d.jsx("option",{value:"Freelance",children:"Freelance"}),d.jsx("option",{value:"Business",children:"Business"}),d.jsx("option",{value:"Bonus",children:"Bonus"}),d.jsx("option",{value:"Other Income",children:"Other Income"})]}),u==="expense"&&["IDR","USD"].includes(i.currency)&&d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"Food & Dining",children:"Food & Dining"}),d.jsx("option",{value:"Transportation",children:"Transportation"}),d.jsx("option",{value:"Shopping",children:"Shopping"}),d.jsx("option",{value:"Entertainment",children:"Entertainment"}),d.jsx("option",{value:"Healthcare",children:"Healthcare"}),d.jsx("option",{value:"Education",children:"Education"}),d.jsx("option",{value:"Bills & Utilities",children:"Bills & Utilities"}),d.jsx("option",{value:"Housing",children:"Housing"}),d.jsx("option",{value:"Other Expense",children:"Other Expense"})]}),["BTC","ETH","SOL"].includes(i.currency)&&d.jsxs(d.Fragment,{children:[d.jsxs("option",{value:"Crypto_Buy",children:["Buy ",i.currency]}),d.jsxs("option",{value:"Crypto_Sell",children:["Sell ",i.currency]}),d.jsxs("option",{value:"Crypto_Transfer",children:["Transfer ",i.currency]}),d.jsxs("option",{value:"Crypto_Received",children:["Received ",i.currency]}),d.jsxs("option",{value:"Crypto_Sent",children:["Sent ",i.currency]})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Currency"}),d.jsxs("select",{name:"currency",value:i.currency,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[d.jsxs("optgroup",{label:"Fiat Money",children:[d.jsx("option",{value:"IDR",children:"IDR - Indonesian Rupiah"}),d.jsx("option",{value:"USD",children:"USD - US Dollar"})]}),d.jsxs("optgroup",{label:"Cryptocurrency",children:[d.jsx("option",{value:"BTC",children:"BTC - Bitcoin"}),d.jsx("option",{value:"ETH",children:"ETH - Ethereum"}),d.jsx("option",{value:"SOL",children:"SOL - Solana"})]})]})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Adding...":"Add Transaction"}),d.jsx("button",{type:"button",onClick:e,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"})]})]})]})}):null}function ke({children:t,variant:e="default",size:n="md",className:r="",...i}){const s="rounded-lg shadow",o={default:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",elevated:"bg-white dark:bg-gray-800 shadow-lg",outline:"bg-transparent border-2 border-gray-200 dark:border-gray-700"},a={sm:"p-3",md:"p-4",lg:"p-6"};return d.jsx("div",{className:`${s} ${o[e]} ${a[n]} ${r}`,...i,children:t})}function pl({value:t=0,max:e=100,variant:n="default",size:r="md",showLabel:i=!1,className:s="",...o}){const a=Math.min(Math.max(t/e*100,0),100),l={default:"bg-blue-600",success:"bg-green-600",warning:"bg-yellow-600",danger:"bg-red-600"},c={sm:"h-1",md:"h-2",lg:"h-3"};return d.jsxs("div",{className:`w-full ${s}`,...o,children:[i&&d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[Math.round(a),"%"]})]}),d.jsx("div",{className:`w-full bg-gray-200 dark:bg-gray-700 rounded-full ${c[r]}`,children:d.jsx("div",{className:`${l[n]} rounded-full transition-all duration-300 ${c[r]}`,style:{width:`${a}%`}})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Fl(t){return t+.5|0}const Ci=(t,e,n)=>Math.max(Math.min(t,n),e);function ba(t){return Ci(Fl(t*2.55),0,255)}function Di(t){return Ci(Fl(t*255),0,255)}function Lr(t){return Ci(Fl(t/2.55)/100,0,1)}function Zy(t){return Ci(Fl(t*100),0,100)}const Cn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},R0=[..."0123456789ABCDEF"],vT=t=>R0[t&15],_T=t=>R0[(t&240)>>4]+R0[t&15],mc=t=>(t&240)>>4===(t&15),ET=t=>mc(t.r)&&mc(t.g)&&mc(t.b)&&mc(t.a);function ST(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Cn[t[1]]*17,g:255&Cn[t[2]]*17,b:255&Cn[t[3]]*17,a:e===5?Cn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Cn[t[1]]<<4|Cn[t[2]],g:Cn[t[3]]<<4|Cn[t[4]],b:Cn[t[5]]<<4|Cn[t[6]],a:e===9?Cn[t[7]]<<4|Cn[t[8]]:255})),n}const kT=(t,e)=>t<255?e(t):"";function NT(t){var e=ET(t)?vT:_T;return t?"#"+e(t.r)+e(t.g)+e(t.b)+kT(t.a,e):void 0}const TT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Z_(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function AT(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function CT(t,e,n){const r=Z_(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function jT(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function bg(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=jT(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function wg(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Di)}function vg(t,e,n){return wg(Z_,t,e,n)}function BT(t,e,n){return wg(CT,t,e,n)}function RT(t,e,n){return wg(AT,t,e,n)}function Q_(t){return(t%360+360)%360}function PT(t){const e=TT.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?ba(+e[5]):Di(+e[5]));const i=Q_(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=BT(i,s,o):e[1]==="hsv"?r=RT(i,s,o):r=vg(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function OT(t,e){var n=bg(t);n[0]=Q_(n[0]+e),n=vg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function MT(t){if(!t)return;const e=bg(t),n=e[0],r=Zy(e[1]),i=Zy(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Lr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Qy={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Jy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function FT(){const t={},e=Object.keys(Jy),n=Object.keys(Qy);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Qy[s]);s=parseInt(Jy[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let yc;function IT(t){yc||(yc=FT(),yc.transparent=[0,0,0,0]);const e=yc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const UT=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function LT(t){const e=UT.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?ba(o):Ci(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?ba(r):Ci(r,0,255)),i=255&(e[4]?ba(i):Ci(i,0,255)),s=255&(e[6]?ba(s):Ci(s,0,255)),{r,g:i,b:s,a:n}}}function zT(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Lr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const eh=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Hs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function $T(t,e,n){const r=Hs(Lr(t.r)),i=Hs(Lr(t.g)),s=Hs(Lr(t.b));return{r:Di(eh(r+n*(Hs(Lr(e.r))-r))),g:Di(eh(i+n*(Hs(Lr(e.g))-i))),b:Di(eh(s+n*(Hs(Lr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function xc(t,e,n){if(t){let r=bg(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=vg(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function J_(t,e){return t&&Object.assign(e||{},t)}function ex(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Di(t[3]))):(e=J_(t,{r:0,g:0,b:0,a:1}),e.a=Di(e.a)),e}function DT(t){return t.charAt(0)==="r"?LT(t):PT(t)}class gl{constructor(e){if(e instanceof gl)return e;const n=typeof e;let r;n==="object"?r=ex(e):n==="string"&&(r=ST(e)||IT(e)||DT(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=J_(this._rgb);return e&&(e.a=Lr(e.a)),e}set rgb(e){this._rgb=ex(e)}rgbString(){return this._valid?zT(this._rgb):void 0}hexString(){return this._valid?NT(this._rgb):void 0}hslString(){return this._valid?MT(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=$T(this._rgb,e._rgb,n)),this}clone(){return new gl(this.rgb)}alpha(e){return this._rgb.a=Di(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Fl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return xc(this._rgb,2,e),this}darken(e){return xc(this._rgb,2,-e),this}saturate(e){return xc(this._rgb,1,e),this}desaturate(e){return xc(this._rgb,1,-e),this}rotate(e){return OT(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Br(){}const VT=(()=>{let t=0;return()=>t++})();function De(t){return t==null}function lt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ve(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function bn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function fr(t,e){return bn(t)?t:e}function Pe(t,e){return typeof t>"u"?e:t}const HT=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,e2=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Je(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function qe(t,e,n,r){let i,s,o;if(lt(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(Ve(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function ld(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function cd(t){if(lt(t))return t.map(cd);if(Ve(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=cd(t[n[i]]);return e}return t}function t2(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function WT(t,e,n,r){if(!t2(t))return;const i=e[t],s=n[t];Ve(i)&&Ve(s)?ml(i,s,r):e[t]=cd(s)}function ml(t,e,n){const r=lt(e)?e:[e],i=r.length;if(!Ve(t))return t;n=n||{};const s=n.merger||WT;let o;for(let a=0;a<i;++a){if(o=r[a],!Ve(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function $a(t,e){return ml(t,e,{merger:qT})}function qT(t,e,n){if(!t2(t))return;const r=e[t],i=n[t];Ve(r)&&Ve(i)?$a(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=cd(i))}const tx={"":t=>t,x:t=>t.x,y:t=>t.y};function GT(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function KT(t){const e=GT(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Ki(t,e){return(tx[e]||(tx[e]=KT(e)))(t)}function _g(t){return t.charAt(0).toUpperCase()+t.slice(1)}const yl=t=>typeof t<"u",Yi=t=>typeof t=="function",nx=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function YT(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const We=Math.PI,st=2*We,XT=st+We,ud=Number.POSITIVE_INFINITY,ZT=We/180,yt=We/2,ns=We/4,rx=We*2/3,P0=Math.log10,Tr=Math.sign;function Da(t,e,n){return Math.abs(t-e)<n}function ix(t){const e=Math.round(t);t=Da(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(P0(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function QT(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function JT(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function xl(t){return!JT(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function eA(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function tA(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Sr(t){return t*(We/180)}function Eg(t){return t*(180/We)}function sx(t){if(!bn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function n2(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*We&&(s+=st),{angle:s,distance:i}}function O0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nA(t,e){return(t-e+XT)%st-We}function cn(t){return(t%st+st)%st}function bl(t,e,n,r){const i=cn(t),s=cn(e),o=cn(n),a=cn(s-i),l=cn(o-i),c=cn(i-s),u=cn(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function qt(t,e,n){return Math.max(e,Math.min(n,t))}function rA(t){return qt(t,-32768,32767)}function ji(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Sg(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const ys=(t,e,n,r)=>Sg(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),iA=(t,e,n)=>Sg(t,n,r=>t[r][e]>=n);function sA(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const r2=["push","pop","shift","splice","unshift"];function oA(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),r2.forEach(n=>{const r="_onData"+_g(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function ox(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(r2.forEach(s=>{delete t[s]}),delete t._chartjs)}function i2(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const s2=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function o2(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,s2.call(window,()=>{r=!1,t.apply(e,n)}))}}function aA(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const kg=t=>t==="start"?"left":t==="end"?"right":"center",Ht=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,lA=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function cA(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:f,max:h,minDefined:g,maxDefined:p}=o.getUserBounds();if(g){if(i=Math.min(ys(l,u,f).lo,n?r:ys(e,u,o.getPixelForValue(f)).lo),c){const v=l.slice(0,i+1).reverse().findIndex(E=>!De(E[a.axis]));i-=Math.max(0,v)}i=qt(i,0,r-1)}if(p){let v=Math.max(ys(l,o.axis,h,!0).hi+1,n?0:ys(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const E=l.slice(v-1).findIndex(b=>!De(b[a.axis]));v+=Math.max(0,E)}s=qt(v,i,r)-i}else s=r-i}return{start:i,count:s}}function uA(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const bc=t=>t===0||t===1,ax=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*st/n)),lx=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*st/n)+1,Va={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*yt)+1,easeOutSine:t=>Math.sin(t*yt),easeInOutSine:t=>-.5*(Math.cos(We*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>bc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>bc(t)?t:ax(t,.075,.3),easeOutElastic:t=>bc(t)?t:lx(t,.075,.3),easeInOutElastic(t){return bc(t)?t:t<.5?.5*ax(t*2,.1125,.45):.5+.5*lx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Va.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Va.easeInBounce(t*2)*.5:Va.easeOutBounce(t*2-1)*.5+.5};function Ng(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function cx(t){return Ng(t)?t:new gl(t)}function th(t){return Ng(t)?t:new gl(t).saturate(.5).darken(.1).hexString()}const dA=["x","y","borderWidth","radius","tension"],fA=["color","borderColor","backgroundColor"];function hA(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:fA},numbers:{type:"number",properties:dA}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function pA(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ux=new Map;function gA(t,e){e=e||{};const n=t+JSON.stringify(e);let r=ux.get(n);return r||(r=new Intl.NumberFormat(t,e),ux.set(n,r)),r}function Tg(t,e,n){return gA(e,n).format(t)}const a2={values(t){return lt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=mA(t,n)}const o=P0(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Tg(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(P0(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?a2.numeric.call(this,t,e,n):""}};function mA(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ag={formatters:a2};function yA(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ag.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Rs=Object.create(null),M0=Object.create(null);function Ha(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function nh(t,e,n){return typeof e=="string"?ml(Ha(t,e),n):ml(Ha(t,""),e)}class xA{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>th(i.backgroundColor),this.hoverBorderColor=(r,i)=>th(i.borderColor),this.hoverColor=(r,i)=>th(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return nh(this,e,n)}get(e){return Ha(this,e)}describe(e,n){return nh(M0,e,n)}override(e,n){return nh(Rs,e,n)}route(e,n,r,i){const s=Ha(this,e),o=Ha(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Ve(l)?Object.assign({},c,l):Pe(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var pt=new xA({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hA,pA,yA]);function bA(t){return!t||De(t.size)||De(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function dd(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function wA(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,f,h;for(l=0;l<a;l++)if(f=n[l],f!=null&&!lt(f))o=dd(t,i,s,o,f);else if(lt(f))for(c=0,u=f.length;c<u;c++)h=f[c],h!=null&&!lt(h)&&(o=dd(t,i,s,o,h));t.restore();const g=s.length/2;if(g>n.length){for(l=0;l<g;l++)delete i[s[l]];s.splice(0,g)}return o}function rs(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function dx(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function F0(t,e,n,r){l2(t,e,n,r,null)}function l2(t,e,n,r,i){let s,o,a,l,c,u,f,h;const g=e.pointStyle,p=e.rotation,v=e.radius;let E=(p||0)*ZT;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(E),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,r,i/2,v,0,0,st):t.arc(n,r,v,0,st),t.closePath();break;case"triangle":u=i?i/2:v,t.moveTo(n+Math.sin(E)*u,r-Math.cos(E)*v),E+=rx,t.lineTo(n+Math.sin(E)*u,r-Math.cos(E)*v),E+=rx,t.lineTo(n+Math.sin(E)*u,r-Math.cos(E)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(E+ns)*l,f=Math.cos(E+ns)*(i?i/2-c:l),a=Math.sin(E+ns)*l,h=Math.sin(E+ns)*(i?i/2-c:l),t.arc(n-f,r-a,c,E-We,E-yt),t.arc(n+h,r-o,c,E-yt,E),t.arc(n+f,r+a,c,E,E+yt),t.arc(n-h,r+o,c,E+yt,E+We),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}E+=ns;case"rectRot":f=Math.cos(E)*(i?i/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,h=Math.sin(E)*(i?i/2:v),t.moveTo(n-f,r-a),t.lineTo(n+h,r-o),t.lineTo(n+f,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":E+=ns;case"cross":f=Math.cos(E)*(i?i/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,h=Math.sin(E)*(i?i/2:v),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":f=Math.cos(E)*(i?i/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,h=Math.sin(E)*(i?i/2:v),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),E+=ns,f=Math.cos(E)*(i?i/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,h=Math.sin(E)*(i?i/2:v),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(E)*v,a=Math.sin(E)*v,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(E)*(i?i/2:v),r+Math.sin(E)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function qr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Cg(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function jg(t){t.restore()}function vA(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function _A(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function EA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),De(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function SA(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function kA(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ps(t,e,n,r,i,s={}){const o=lt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,EA(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&kA(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),De(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),SA(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function wl(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*We,We,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,We,yt,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,yt,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-yt,!0),t.lineTo(n+o.topLeft,r)}const NA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,TA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function AA(t,e){const n=(""+t).match(NA);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const CA=t=>+t||0;function Bg(t,e){const n={},r=Ve(e),i=r?Object.keys(e):e,s=Ve(t)?r?o=>Pe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=CA(s(o));return n}function c2(t){return Bg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function vs(t){return Bg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Kt(t){const e=c2(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Nt(t,e){t=t||{},e=e||pt.font;let n=Pe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Pe(t.style,e.style);r&&!(""+r).match(TA)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Pe(t.family,e.family),lineHeight:AA(Pe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Pe(t.weight,e.weight),string:""};return i.string=bA(i),i}function wc(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function jA(t,e,n){const{min:r,max:i}=t,s=e2(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function ts(t,e){return Object.assign(Object.create(t),e)}function Rg(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=h2("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Rg([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return d2(a,l,()=>UA(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return hx(a).includes(l)},ownKeys(a){return hx(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Oo(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:u2(t,r),setContext:s=>Oo(t,s,n,r),override:s=>Oo(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return d2(s,o,()=>RA(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function u2(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Yi(n)?n:()=>n,isIndexable:Yi(r)?r:()=>r}}const BA=(t,e)=>t?t+_g(e):e,Pg=(t,e)=>Ve(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function d2(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function RA(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Yi(a)&&o.isScriptable(e)&&(a=PA(e,a,t,n)),lt(a)&&a.length&&(a=OA(e,a,t,o.isIndexable)),Pg(e,a)&&(a=Oo(a,i,s&&s[e],o)),a}function PA(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),Pg(t,l)&&(l=Og(i._scopes,i,t,l)),l}function OA(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Ve(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const f=Og(c,i,t,u);e.push(Oo(f,s,o&&o[t],a))}}return e}function f2(t,e,n){return Yi(t)?t(e,n):t}const MA=(t,e)=>t===!0?e:typeof t=="string"?Ki(e,t):void 0;function FA(t,e,n,r,i){for(const s of e){const o=MA(n,s);if(o){t.add(o);const a=f2(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Og(t,e,n,r){const i=e._rootScopes,s=f2(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=fx(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=fx(a,o,s,l,r),l===null)?!1:Rg(Array.from(a),[""],i,s,()=>IA(e,n,r))}function fx(t,e,n,r,i){for(;n;)n=FA(t,e,n,r,i);return n}function IA(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return lt(i)&&Ve(n)?n:i||{}}function UA(t,e,n,r){let i;for(const s of e)if(i=h2(BA(s,t),n),typeof i<"u")return Pg(t,i)?Og(n,r,t,i):i}function h2(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function hx(t){let e=t._keys;return e||(e=t._keys=LA(t._scopes)),e}function LA(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function zA(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=e[c],o[a]={r:i.parse(Ki(u,s),c)};return o}const $A=Number.EPSILON||1e-14,Mo=(t,e)=>e<t.length&&!t[e].skip&&t[e],p2=t=>t==="x"?"y":"x";function DA(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=O0(s,i),l=O0(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=r*c,h=r*u;return{previous:{x:s.x-f*(o.x-i.x),y:s.y-f*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function VA(t,e,n){const r=t.length;let i,s,o,a,l,c=Mo(t,0);for(let u=0;u<r-1;++u)if(l=c,c=Mo(t,u+1),!(!l||!c)){if(Da(e[u],0,$A)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function HA(t,e,n="x"){const r=p2(n),i=t.length;let s,o,a,l=Mo(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Mo(t,c+1),!a)continue;const u=a[n],f=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=f-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=f+s*e[c])}}function WA(t,e="x"){const n=p2(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Mo(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=Mo(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Tr(i[o-1])!==Tr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}VA(t,i,s),HA(t,s,e)}function vc(t,e,n){return Math.max(Math.min(t,n),e)}function qA(t,e){let n,r,i,s,o,a=qr(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&qr(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=vc(i.cp1x,e.left,e.right),i.cp1y=vc(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=vc(i.cp2x,e.left,e.right),i.cp2y=vc(i.cp2y,e.top,e.bottom)))}function GA(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")WA(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=DA(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&qA(t,n)}function Mg(){return typeof window<"u"&&typeof document<"u"}function Fg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function fd(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Gd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function KA(t,e){return Gd(t).getPropertyValue(e)}const YA=["top","right","bottom","left"];function _s(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=YA[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const XA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function ZA(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(XA(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function us(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Gd(n),s=i.boxSizing==="border-box",o=_s(i,"padding"),a=_s(i,"border","width"),{x:l,y:c,box:u}=ZA(t,n),f=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:g,height:p}=e;return s&&(g-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-f)/g*n.width/r),y:Math.round((c-h)/p*n.height/r)}}function QA(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Fg(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Gd(s),l=_s(a,"border","width"),c=_s(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=fd(a.maxWidth,s,"clientWidth"),i=fd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||ud,maxHeight:i||ud}}const _c=t=>Math.round(t*10)/10;function JA(t,e,n,r){const i=Gd(t),s=_s(i,"margin"),o=fd(i.maxWidth,t,"clientWidth")||ud,a=fd(i.maxHeight,t,"clientHeight")||ud,l=QA(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=_s(i,"border","width"),g=_s(i,"padding");c-=g.width+h.width,u-=g.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=_c(Math.min(c,o,l.maxWidth)),u=_c(Math.min(u,a,l.maxHeight)),c&&!u&&(u=_c(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=_c(Math.floor(u*r))),{width:c,height:u}}function px(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const e5=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Mg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function gx(t,e){const n=KA(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ds(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function t5(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function n5(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=ds(t,i,n),a=ds(i,s,n),l=ds(s,e,n),c=ds(o,a,n),u=ds(a,l,n);return ds(c,u,n)}const r5=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},i5=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function _o(t,e,n){return t?r5(e,n):i5()}function g2(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function m2(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function y2(t){return t==="angle"?{between:bl,compare:nA,normalize:cn}:{between:ji,compare:(e,n)=>e-n,normalize:e=>e}}function mx({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function s5(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=y2(r),l=e.length;let{start:c,end:u,loop:f}=t,h,g;if(f){for(c+=l,u+=l,h=0,g=l;h<g&&o(a(e[c%l][r]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:t.style}}function o5(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=y2(r),{start:u,end:f,loop:h,style:g}=s5(t,e,n),p=[];let v=!1,E=null,b,_,S;const R=()=>l(i,S,b)&&a(i,S)!==0,k=()=>a(s,b)===0||l(s,S,b),M=()=>v||R(),C=()=>!v||k();for(let U=u,I=u;U<=f;++U)_=e[U%o],!_.skip&&(b=c(_[r]),b!==S&&(v=l(b,i,s),E===null&&M()&&(E=a(b,i)===0?U:I),E!==null&&C()&&(p.push(mx({start:E,end:U,loop:h,count:o,style:g})),E=null),I=U,S=b));return E!==null&&p.push(mx({start:E,end:f,loop:h,count:o,style:g})),p}function a5(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=o5(r[i],t.points,e);s.length&&n.push(...s)}return n}function l5(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function c5(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function u5(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=l5(n,i,s,r);if(r===!0)return yx(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return yx(t,c5(n,o,l,c),n,e)}function yx(t,e,n,r){return!r||!r.setContext||!n?e:d5(t,e,n,r)}function d5(t,e,n,r){const i=t._chart.getContext(),s=xx(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,f=e[0].start,h=f;function g(p,v,E,b){const _=a?-1:1;if(p!==v){for(p+=l;n[p%l].skip;)p-=_;for(;n[v%l].skip;)v+=_;p%l!==v%l&&(c.push({start:p%l,end:v%l,loop:E,style:b}),u=b,f=v%l)}}for(const p of e){f=a?f:p.start;let v=n[f%l],E;for(h=f+1;h<=p.end;h++){const b=n[h%l];E=xx(r.setContext(ts(i,{type:"segment",p0:v,p1:b,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),f5(E,u)&&g(f,h-1,p.loop,u),v=b,u=E}f<h-1&&g(f,h-1,p.loop,u)}return c}function xx(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function f5(t,e){if(!e)return!1;const n=[],r=function(i,s){return Ng(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Ec(t,e,n){return t.options.clip?t[n]:e[n]}function h5(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Ec(n,e,"left"),right:Ec(n,e,"right"),top:Ec(r,e,"top"),bottom:Ec(r,e,"bottom")}:e}function p5(t,e){const n=e._clip;if(n.disabled)return!1;const r=h5(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class g5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=s2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Pr=new g5;const bx="transparent",m5={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=cx(t||bx),i=r.valid&&cx(e||bx);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class y5{constructor(e,n,r,i){const s=n[r];i=wc([e.to,i,s,e.from]);const o=wc([e.from,s,i]);this._active=!0,this._fn=e.fn||m5[e.type||typeof o],this._easing=Va[e.easing]||Va.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=wc([e.to,n,i,e.from]),this._from=wc([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class x2{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ve(e))return;const n=Object.keys(pt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Ve(s))return;const o={};for(const a of n)o[a]=s[a];(lt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=b5(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&x5(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let f=s[c];const h=r.get(c);if(f)if(h&&f.active()){f.update(h,u,a);continue}else f.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=f=new y5(h,e,c,u),i.push(f)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Pr.add(this._chart,r),!0}}function x5(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function b5(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function wx(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function w5(t,e,n){if(n===!1)return!1;const r=wx(t,n),i=wx(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function v5(t){let e,n,r,i;return Ve(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function b2(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function vx(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],bn(c)&&(s||e===0||Tr(e)===Tr(c))&&(e+=c)}return!u&&!r.all?0:e}function _5(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function rh(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function E5(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function S5(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function k5(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function _x(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function Ex(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=E5(s,o,r),f=e.length;let h;for(let g=0;g<f;++g){const p=e[g],{[l]:v,[c]:E}=p,b=p._stacks||(p._stacks={});h=b[c]=k5(i,u,v),h[a]=E,h._top=_x(h,o,!0,r.type),h._bottom=_x(h,o,!1,r.type);const _=h._visualValues||(h._visualValues={});_[a]=E}}function ih(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function N5(t,e){return ts(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function T5(t,e,n){return ts(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ra(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const sh=t=>t==="reset"||t==="none",Sx=(t,e)=>e?t:Object.assign({},t),A5=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:b2(n,!0),values:null};class Vi{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=rh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ra(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(f,h,g,p)=>f==="x"?h:f==="r"?p:g,s=n.xAxisID=Pe(r.xAxisID,ih(e,"x")),o=n.yAxisID=Pe(r.yAxisID,ih(e,"y")),a=n.rAxisID=Pe(r.rAxisID,ih(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ox(this._data,this),e._stacked&&ra(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ve(n)){const i=this._cachedMeta;this._data=_5(n,i)}else if(r!==n){if(r){ox(r,this);const i=this._cachedMeta;ra(i),i._parsed=[]}n&&Object.isExtensible(n)&&oA(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=rh(n.vScale,n),n.stack!==r.stack&&(i=!0,ra(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(Ex(this,n._parsed),n._stacked=rh(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,f,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{lt(i[e])?h=this.parseArrayData(r,i,e,n):Ve(i[e])?h=this.parseObjectData(r,i,e,n):h=this.parsePrimitiveData(r,i,e,n);const g=()=>f[a]===null||c&&f[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=f=h[u],l&&(g()&&(l=!1),c=f);r._sorted=l}o&&Ex(this,h)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,f=new Array(i);let h,g,p;for(h=0,g=i;h<g;++h)p=h+r,f[h]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return f}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,f;for(l=0,c=i;l<c;++l)u=l+r,f=n[u],a[l]={x:s.parse(f[0],u),y:o.parse(f[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,f,h,g;for(u=0,f=i;u<f;++u)h=u+r,g=n[h],c[u]={x:s.parse(Ki(g,a),h),y:o.parse(Ki(g,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:b2(i,!0),values:n._stacks[e.axis]._visualValues};return vx(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=vx(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=A5(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=S5(a);let h,g;function p(){g=i[h];const v=g[a.axis];return!bn(g[e.axis])||u>v||f<v}for(h=0;h<o&&!(!p()&&(this.updateRangeFromParsed(c,e,g,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],bn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=v5(Pe(this.options.clip,w5(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const f=i[u];f.hidden||(f.active&&c?o.push(f):f.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=T5(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=N5(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&yl(r);if(a)return Sx(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),g=Object.keys(pt.elements[e]),p=()=>this.getContext(r,i,n),v=c.resolveNamedOptions(h,g,p,f);return v.$shared&&(v.$shared=l,s[o]=Object.freeze(Sx(v,l))),v}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(h,this.getContext(e,r,n))}const c=new x2(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||sh(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){sh(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!sh(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&ra(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ye(Vi,"defaults",{}),ye(Vi,"datasetElementType",null),ye(Vi,"dataElementType",null);function C5(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=i2(r.sort((i,s)=>i-s))}return t._cache.$bar}function j5(t){const e=t.iScale,n=C5(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(yl(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function B5(t,e,n,r){const i=n.barThickness;let s,o;return De(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function R5(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function P5(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function w2(t,e,n,r){return lt(t)?P5(t,e,n,r):e[n.axis]=n.parse(t,r),e}function kx(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,f,h;for(c=n,u=n+r;c<u;++c)h=e[c],f={},f[i.axis]=a||i.parse(o[c],c),l.push(w2(h,f,s,c));return l}function oh(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function O5(t,e,n){return t!==0?Tr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function M5(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function F5(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=M5(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[Nx(u,o,a,l)]=!0,i=c)),s[Nx(i,o,a,l)]=!0,t.borderSkipped=s}function Nx(t,e,n,r){return r?(t=I5(t,e,n),t=Tx(t,n,e)):t=Tx(t,e,n),t}function I5(t,e,n){return t===e?n:t===n?e:t}function Tx(t,e,n){return t==="start"?e:t==="end"?n:t}function U5(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class pu extends Vi{parsePrimitiveData(e,n,r,i){return kx(e,n,r,i)}parseArrayData(e,n,r,i){return kx(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,f=[];let h,g,p,v;for(h=r,g=r+i;h<g;++h)v=n[h],p={},p[s.axis]=s.parse(Ki(v,c),h),f.push(w2(Ki(v,u),p,o,h));return f}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=oh(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,i);for(let g=n;g<n+r;g++){const p=this.getParsed(g),v=s||De(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),E=this._calculateBarIndexPixels(g,u),b=(p._stacks||{})[a.axis],_={horizontal:c,base:v.base,enableBorderRadius:!b||oh(p._custom)||o===b._top||o===b._bottom,x:c?v.head:E.center,y:c?E.center:v.head,height:c?E.size:Math.abs(v.size),width:c?Math.abs(v.size):E.size};h&&(_.options=f||this.resolveDataElementOptions(g,e[g].active?"active":i));const S=_.options||e[g].options;F5(_,S,b,o),U5(_,S,u.ratio),this.updateElement(e[g],g,_,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=u=>{const f=u._parsed.find(g=>g[r.axis]===l),h=f&&f[u.vScale.axis];if(De(h)||isNaN(h))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Pe(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||j5(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=oh(c);let f=l[n.axis],h=0,g=r?this.applyStack(n,l,r):f,p,v;g!==f&&(h=g-f,g=f),u&&(f=c.barStart,g=c.barEnd-c.barStart,f!==0&&Tr(f)!==Tr(c.barEnd)&&(h=0),h+=f);const E=!De(s)&&!u?s:h;let b=n.getPixelForValue(E);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(h+g):p=b,v=p-b,Math.abs(v)<o){v=O5(v,n,a)*o,f===a&&(b-=v/2);const _=n.getPixelForDecimal(0),S=n.getPixelForDecimal(1),R=Math.min(_,S),k=Math.max(_,S);b=Math.max(Math.min(b,k),R),p=b+v,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(p)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const _=Tr(v)*n.getLineWidthForValue(a)/2;b+=_,v-=_}return{size:v,base:b,head:p,center:p+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=Pe(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=s?this._getStackCount(e):n.stackCount,f=i.barThickness==="flex"?R5(e,n,i,u*c):B5(e,n,i,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(Pe(h,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+g;a=f.start+f.chunk*p+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}ye(pu,"id","bar"),ye(pu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ye(pu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function L5(t,e,n){let r=1,i=1,s=0,o=0;if(e<st){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),f=Math.cos(l),h=Math.sin(l),g=(S,R,k)=>bl(S,a,l,!0)?1:Math.max(R,R*n,k,k*n),p=(S,R,k)=>bl(S,a,l,!0)?-1:Math.min(R,R*n,k,k*n),v=g(0,c,f),E=g(yt,u,h),b=p(We,c,f),_=p(We+yt,u,h);r=(v-b)/2,i=(E-_)/2,s=-(v+b)/2,o=-(E+_)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class go extends Vi{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Ve(r[e])){const{key:l="value"}=this._parsing;s=c=>+Ki(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Sr(this.options.rotation-90)}_getCircumference(){return Sr(this.options.circumference)}_getRotationExtents(){let e=st,n=-st;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(HT(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:g,offsetX:p,offsetY:v}=L5(f,u,l),E=(r.width-o)/h,b=(r.height-o)/g,_=Math.max(Math.min(E,b)/2,0),S=e2(this.options.radius,_),R=Math.max(S*l,0),k=(S-R)/this._getVisibleDatasetWeightTotal();this.offsetX=p*S,this.offsetY=v*S,i.total=this.calculateTotal(),this.outerRadius=S-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/st)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=s&&c.animateScale,g=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:v,includeOptions:E}=this._getSharedOptions(n,i);let b=this._getRotation(),_;for(_=0;_<n;++_)b+=this._circumference(_,s);for(_=n;_<n+r;++_){const S=this._circumference(_,s),R=e[_],k={x:u+this.offsetX,y:f+this.offsetY,startAngle:b,endAngle:b+S,circumference:S,outerRadius:p,innerRadius:g};E&&(k.options=v||this.resolveDataElementOptions(_,R.active?"active":i)),b+=S,this.updateElement(R,_,k,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?st*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Tg(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Pe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ye(go,"id","doughnut"),ye(go,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ye(go,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ye(go,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class gu extends Vi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=cA(n,i,o);this._drawStart=a,this._drawCount=l,uA(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,i),h=o.axis,g=a.axis,{spanGaps:p,segment:v}=this.options,E=xl(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||i==="none",_=n+r,S=e.length;let R=n>0&&this.getParsed(n-1);for(let k=0;k<S;++k){const M=e[k],C=b?M:{};if(k<n||k>=_){C.skip=!0;continue}const U=this.getParsed(k),I=De(U[g]),V=C[h]=o.getPixelForValue(U[h],k),ie=C[g]=s||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,U,l):U[g],k);C.skip=isNaN(V)||isNaN(ie)||I,C.stop=k>0&&Math.abs(U[h]-R[h])>E,v&&(C.parsed=U,C.raw=c.data[k]),f&&(C.options=u||this.resolveDataElementOptions(k,M.active?"active":i)),b||this.updateElement(M,k,C,i),R=U}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ye(gu,"id","line"),ye(gu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ye(gu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class I0 extends go{}ye(I0,"id","pie"),ye(I0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class mu extends Vi{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return zA.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=s.getPointPositionForValue(a,this.getParsed(a).r),f=o?s.xCenter:u.x,h=o?s.yCenter:u.y,g={x:f,y:h,angle:u.angle,skip:isNaN(f)||isNaN(h),options:c};this.updateElement(l,a,g,i)}}}ye(mu,"id","radar"),ye(mu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ye(mu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function is(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ig{constructor(e){ye(this,"options");this.options=e||{}}static override(e){Object.assign(Ig.prototype,e)}init(){}formats(){return is()}parse(){return is()}format(){return is()}add(){return is()}diff(){return is()}startOf(){return is()}endOf(){return is()}}var z5={_date:Ig};function $5(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?iA:ys;if(r){if(i._sharedOptions){const u=s[0],f=typeof u.getRange=="function"&&u.getRange(e);if(f){const h=c(s,e,n-f),g=c(s,e,n+f);return{lo:h.lo,hi:g.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:f}=i._cachedMeta,{_parsed:h}=t,g=h.slice(0,u.lo+1).reverse().findIndex(v=>!De(v[f.axis]));u.lo-=Math.max(0,g);const p=h.slice(u.hi).findIndex(v=>!De(v[f.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:s.length-1}}function Il(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:f,hi:h}=$5(s[a],e,o,i);for(let g=f;g<=h;++g){const p=u[g];p.skip||r(p,c,g)}}}function D5(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function ah(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Il(t,n,e,function(a,l,c){!i&&!qr(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function V5(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:f}=n2(o,{x:e.x,y:e.y});bl(f,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Il(t,n,e,s),i}function H5(t,e,n,r,i,s){let o=[];const a=D5(n);let l=Number.POSITIVE_INFINITY;function c(u,f,h){const g=u.inRange(e.x,e.y,i);if(r&&!g)return;const p=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!g)return;const E=a(e,p);E<l?(o=[{element:u,datasetIndex:f,index:h}],l=E):E===l&&o.push({element:u,datasetIndex:f,index:h})}return Il(t,n,e,c),o}function lh(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?V5(t,e,n,i):H5(t,e,n,r,i,s)}function Ax(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Il(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var W5={evaluateInteractionItems:Il,modes:{index(t,e,n,r){const i=us(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?ah(t,i,s,r,o):lh(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=us(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?ah(t,i,s,r,o):lh(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=us(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return ah(t,i,s,r,o)},nearest(t,e,n,r){const i=us(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return lh(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=us(e,t);return Ax(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=us(e,t);return Ax(t,i,"y",n.intersect,r)}}};const v2=["left","top","right","bottom"];function ia(t,e){return t.filter(n=>n.pos===e)}function Cx(t,e){return t.filter(n=>v2.indexOf(n.pos)===-1&&n.box.axis===e)}function sa(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function q5(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function G5(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!v2.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function K5(t,e){const n=G5(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function Y5(t){const e=q5(t),n=sa(e.filter(c=>c.box.fullSize),!0),r=sa(ia(e,"left"),!0),i=sa(ia(e,"right")),s=sa(ia(e,"top"),!0),o=sa(ia(e,"bottom")),a=Cx(e,"x"),l=Cx(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:ia(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function jx(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function _2(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function X5(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Ve(i)){n.size&&(t[i]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,t[i]+=n.size}s.getPadding&&_2(o,s.getPadding());const a=Math.max(0,e.outerWidth-jx(o,t,"left","right")),l=Math.max(0,e.outerHeight-jx(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Z5(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Q5(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function wa(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Q5(a.horizontal,e));const{same:f,other:h}=X5(e,n,a,r);c|=f&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&wa(i,e,n,r)||u}function Sc(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Bx(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*u,h=c.size||l.height;yl(c.start)&&(o=c.start),l.fullSize?Sc(l,i.left,o,n.outerWidth-i.right-i.left,h):Sc(l,e.left+c.placed,o,f,h),c.start=o,c.placed+=f,o=l.bottom}else{const f=e.h*u,h=c.size||l.width;yl(c.start)&&(s=c.start),l.fullSize?Sc(l,s,i.top,h,n.outerHeight-i.bottom-i.top):Sc(l,s,e.top+c.placed,h,f),c.start=s,c.placed+=f,s=l.right}}e.x=s,e.y=o}var In={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Kt(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=Y5(t.boxes),l=a.vertical,c=a.horizontal;qe(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=l.reduce((v,E)=>E.box.options&&E.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);_2(h,Kt(r));const g=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),p=K5(l.concat(c),f);wa(a.fullSize,g,f,p),wa(l,g,f,p),wa(c,g,f,p)&&wa(l,g,f,p),Z5(g),Bx(a.leftAndTop,g,f,p),g.x+=g.w,g.y+=g.h,Bx(a.rightAndBottom,g,f,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},qe(a.chartArea,v=>{const E=v.box;Object.assign(E,t.chartArea),E.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class E2{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class J5 extends E2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const yu="$chartjs",eC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Rx=t=>t===null||t==="";function tC(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[yu]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Rx(i)){const s=gx(t,"width");s!==void 0&&(t.width=s)}if(Rx(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=gx(t,"height");s!==void 0&&(t.height=s)}return t}const S2=e5?{passive:!0}:!1;function nC(t,e,n){t&&t.addEventListener(e,n,S2)}function rC(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,S2)}function iC(t,e){const n=eC[t.type]||t.type,{x:r,y:i}=us(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function hd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function sC(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||hd(a.addedNodes,r),o=o&&!hd(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function oC(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||hd(a.removedNodes,r),o=o&&!hd(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const vl=new Map;let Px=0;function k2(){const t=window.devicePixelRatio;t!==Px&&(Px=t,vl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function aC(t,e){vl.size||window.addEventListener("resize",k2),vl.set(t,e)}function lC(t){vl.delete(t),vl.size||window.removeEventListener("resize",k2)}function cC(t,e,n){const r=t.canvas,i=r&&Fg(r);if(!i)return;const s=o2((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),aC(t,s),o}function ch(t,e,n){n&&n.disconnect(),e==="resize"&&lC(t)}function uC(t,e,n){const r=t.canvas,i=o2(s=>{t.ctx!==null&&n(iC(s,t))},t);return nC(r,e,i),i}class dC extends E2{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(tC(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[yu])return!1;const r=n[yu].initial;["height","width"].forEach(s=>{const o=r[s];De(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[yu],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:sC,detach:oC,resize:cC}[n]||uC;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:ch,detach:ch,resize:ch}[n]||rC)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return JA(e,n,r,i)}isAttached(e){const n=e&&Fg(e);return!!(n&&n.isConnected)}}function fC(t){return!Mg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?J5:dC}class or{constructor(){ye(this,"x");ye(this,"y");ye(this,"active",!1);ye(this,"options");ye(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return xl(this.x)&&xl(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}ye(or,"defaults",{}),ye(or,"defaultRoutes");function hC(t,e){const n=t.options.ticks,r=pC(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?mC(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return yC(e,c,s,o/i),c;const u=gC(s,e,i);if(o>0){let f,h;const g=o>1?Math.round((l-a)/(o-1)):null;for(kc(e,c,u,De(g)?0:a-g,a),f=0,h=o-1;f<h;f++)kc(e,c,u,s[f],s[f+1]);return kc(e,c,u,l,De(g)?e.length:l+g),c}return kc(e,c,u),c}function pC(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function gC(t,e,n){const r=xC(t),i=e.length/n;if(!r)return Math.max(i,1);const s=QT(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function mC(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function yC(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function kc(t,e,n,r,i){const s=Pe(r,0),o=Math.min(Pe(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function xC(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const bC=t=>t==="left"?"right":t==="right"?"left":t,Ox=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Mx=(t,e)=>Math.min(e||t,t);function Fx(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function wC(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function vC(t,e){qe(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function oa(t){return t.drawTicks?t.tickLength:0}function Ix(t,e){if(!t.display)return 0;const n=Nt(t.font,e),r=Kt(t.padding);return(lt(t.text)?t.text.length:1)*n.lineHeight+r.height}function _C(t,e){return ts(t,{scale:e,type:"scale"})}function EC(t,e,n){return ts(t,{tick:n,index:e,type:"tick"})}function SC(t,e,n){let r=kg(t);return(n&&e!=="right"||!n&&e==="right")&&(r=bC(r)),r}function kC(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let f=0,h,g,p;const v=o-i,E=a-s;if(t.isHorizontal()){if(g=Ht(r,s,a),Ve(n)){const b=Object.keys(n)[0],_=n[b];p=u[b].getPixelForValue(_)+v-e}else n==="center"?p=(c.bottom+c.top)/2+v-e:p=Ox(t,n,e);h=a-s}else{if(Ve(n)){const b=Object.keys(n)[0],_=n[b];g=u[b].getPixelForValue(_)-E+e}else n==="center"?g=(c.left+c.right)/2-E+e:g=Ox(t,n,e);p=Ht(r,o,i),f=n==="left"?-yt:yt}return{titleX:g,titleY:p,maxWidth:h,rotation:f}}class Ho extends or{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=fr(e,Number.POSITIVE_INFINITY),n=fr(n,Number.NEGATIVE_INFINITY),r=fr(r,Number.POSITIVE_INFINITY),i=fr(i,Number.NEGATIVE_INFINITY),{min:fr(e,r),max:fr(n,i),minDefined:bn(e),maxDefined:bn(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:fr(n,fr(r,n)),max:fr(r,fr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Je(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=jA(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Fx(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=hC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Je(this.options.afterUpdate,[this])}beforeSetDimensions(){Je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Je(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Mx(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,g=qt(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/r:g/(r-1),f+6>a&&(a=g/(r-(e.offset?.5:1)),l=this.maxHeight-oa(e.grid)-n.padding-Ix(e.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),o=Eg(Math.min(Math.asin(qt((u.highest.height+6)/a,-1,1)),Math.asin(qt(l/c,-1,1))-Math.asin(qt(h/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Ix(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=oa(s)+l):(e.height=this.maxHeight,e.width=oa(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:h}=this._getLabelSizes(),g=r.padding*2,p=Sr(this.labelRotation),v=Math.cos(p),E=Math.sin(p);if(a){const b=r.mirror?0:E*f.width+v*h.height;e.height=Math.min(this.maxHeight,e.height+b+g)}else{const b=r.mirror?0:v*f.width+E*h.height;e.width=Math.min(this.maxWidth,e.width+b+g)}this._calculatePadding(c,u,E,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,g=0;l?c?(h=i*e.width,g=r*n.height):(h=r*e.height,g=i*n.width):s==="start"?g=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,g=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let u=n.height/2,f=e.height/2;s==="start"?(u=0,f=e.height):s==="end"&&(u=n.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)De(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Fx(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/Mx(n,r));let c=0,u=0,f,h,g,p,v,E,b,_,S,R,k;for(f=0;f<n;f+=l){if(p=e[f].label,v=this._resolveTickFontOptions(f),i.font=E=v.string,b=s[E]=s[E]||{data:{},gc:[]},_=v.lineHeight,S=R=0,!De(p)&&!lt(p))S=dd(i,b.data,b.gc,S,p),R=_;else if(lt(p))for(h=0,g=p.length;h<g;++h)k=p[h],!De(k)&&!lt(k)&&(S=dd(i,b.data,b.gc,S,k),R+=_);o.push(S),a.push(R),c=Math.max(S,c),u=Math.max(R,u)}vC(s,n);const M=o.indexOf(c),C=a.indexOf(u),U=I=>({width:o[I]||0,height:a[I]||0});return{first:U(0),last:U(n-1),widest:U(M),highest:U(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return rA(this._alignToPixels?rs(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=EC(this.getContext(),e,r))}return this.$context||(this.$context=_C(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Sr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=oa(s),g=[],p=a.setContext(this.getContext()),v=p.display?p.width:0,E=v/2,b=function(ee){return rs(r,ee,v)};let _,S,R,k,M,C,U,I,V,ie,ae,L;if(o==="top")_=b(this.bottom),C=this.bottom-h,I=_-E,ie=b(e.top)+E,L=e.bottom;else if(o==="bottom")_=b(this.top),ie=e.top,L=b(e.bottom)-E,C=_+E,I=this.top+h;else if(o==="left")_=b(this.right),M=this.right-h,U=_-E,V=b(e.left)+E,ae=e.right;else if(o==="right")_=b(this.left),V=e.left,ae=b(e.right)-E,M=_+E,U=this.left+h;else if(n==="x"){if(o==="center")_=b((e.top+e.bottom)/2+.5);else if(Ve(o)){const ee=Object.keys(o)[0],Z=o[ee];_=b(this.chart.scales[ee].getPixelForValue(Z))}ie=e.top,L=e.bottom,C=_+E,I=C+h}else if(n==="y"){if(o==="center")_=b((e.left+e.right)/2);else if(Ve(o)){const ee=Object.keys(o)[0],Z=o[ee];_=b(this.chart.scales[ee].getPixelForValue(Z))}M=_-E,U=M-h,V=e.left,ae=e.right}const H=Pe(i.ticks.maxTicksLimit,f),J=Math.max(1,Math.ceil(f/H));for(S=0;S<f;S+=J){const ee=this.getContext(S),Z=s.setContext(ee),G=a.setContext(ee),K=Z.lineWidth,ce=Z.color,se=G.dash||[],ue=G.dashOffset,oe=Z.tickWidth,j=Z.tickColor,le=Z.tickBorderDash||[],he=Z.tickBorderDashOffset;R=wC(this,S,l),R!==void 0&&(k=rs(r,R,K),c?M=U=V=ae=k:C=I=ie=L=k,g.push({tx1:M,ty1:C,tx2:U,ty2:I,x1:V,y1:ie,x2:ae,y2:L,width:K,color:ce,borderDash:se,borderDashOffset:ue,tickWidth:oe,tickColor:j,tickBorderDash:le,tickBorderDashOffset:he}))}return this._ticksLength=f,this._borderValue=_,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=s,h=oa(r.grid),g=h+u,p=f?-u:g,v=-Sr(this.labelRotation),E=[];let b,_,S,R,k,M,C,U,I,V,ie,ae,L="middle";if(i==="top")M=this.bottom-p,C=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+p,C=this._getXAxisLabelAlignment();else if(i==="left"){const J=this._getYAxisLabelAlignment(h);C=J.textAlign,k=J.x}else if(i==="right"){const J=this._getYAxisLabelAlignment(h);C=J.textAlign,k=J.x}else if(n==="x"){if(i==="center")M=(e.top+e.bottom)/2+g;else if(Ve(i)){const J=Object.keys(i)[0],ee=i[J];M=this.chart.scales[J].getPixelForValue(ee)+g}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")k=(e.left+e.right)/2-g;else if(Ve(i)){const J=Object.keys(i)[0],ee=i[J];k=this.chart.scales[J].getPixelForValue(ee)}C=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?L="top":l==="end"&&(L="bottom"));const H=this._getLabelSizes();for(b=0,_=a.length;b<_;++b){S=a[b],R=S.label;const J=s.setContext(this.getContext(b));U=this.getPixelForTick(b)+s.labelOffset,I=this._resolveTickFontOptions(b),V=I.lineHeight,ie=lt(R)?R.length:1;const ee=ie/2,Z=J.color,G=J.textStrokeColor,K=J.textStrokeWidth;let ce=C;o?(k=U,C==="inner"&&(b===_-1?ce=this.options.reverse?"left":"right":b===0?ce=this.options.reverse?"right":"left":ce="center"),i==="top"?c==="near"||v!==0?ae=-ie*V+V/2:c==="center"?ae=-H.highest.height/2-ee*V+V:ae=-H.highest.height+V/2:c==="near"||v!==0?ae=V/2:c==="center"?ae=H.highest.height/2-ee*V:ae=H.highest.height-ie*V,f&&(ae*=-1),v!==0&&!J.showLabelBackdrop&&(k+=V/2*Math.sin(v))):(M=U,ae=(1-ie)*V/2);let se;if(J.showLabelBackdrop){const ue=Kt(J.backdropPadding),oe=H.heights[b],j=H.widths[b];let le=ae-ue.top,he=0-ue.left;switch(L){case"middle":le-=oe/2;break;case"bottom":le-=oe;break}switch(C){case"center":he-=j/2;break;case"right":he-=j;break;case"inner":b===_-1?he-=j:b>0&&(he-=j/2);break}se={left:he,top:le,width:j+ue.width,height:oe+ue.height,color:J.backdropColor}}E.push({label:R,font:I,textOffset:ae,options:{rotation:v,color:Z,strokeColor:G,strokeWidth:K,textAlign:ce,textBaseline:L,translation:[k,M],backdrop:se}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Sr(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,h;this.isHorizontal()?(c=rs(e,this.left,o)-o/2,u=rs(e,this.right,a)+a/2,f=h=l):(f=rs(e,this.top,o)-o/2,h=rs(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,f),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Cg(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Ps(r,c,0,u,l,a)}i&&jg(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Nt(r.font),o=Kt(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Ve(n)?(l+=o.bottom,lt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:f,rotation:h}=kC(this,l,n,a);Ps(e,r.text,0,0,s,{color:r.color,maxWidth:f,rotation:h,textAlign:SC(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Pe(e.grid&&e.grid.z,-1),i=Pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ho.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Nt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Nc{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;AC(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,NC(e,o,r),this.override&&pt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in pt[i]&&(delete pt[i][r],this.override&&delete Rs[r])}}function NC(t,e,n){const r=ml(Object.create(null),[n?pt.get(n):{},pt.get(e),t.defaults]);pt.set(e,r),t.defaultRoutes&&TC(e,t.defaultRoutes),t.descriptors&&pt.describe(e,t.descriptors)}function TC(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");pt.route(s,i,l,a)})}function AC(t){return"id"in t&&"defaults"in t}class CC{constructor(){this.controllers=new Nc(Vi,"datasets",!0),this.elements=new Nc(or,"elements"),this.plugins=new Nc(Object,"plugins"),this.scales=new Nc(Ho,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):qe(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=_g(e);Je(r["before"+i],[],r),n[e](r),Je(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var yr=new CC;class jC{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Je(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){De(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Pe(r.options&&r.options.plugins,{}),s=BC(r);return i===!1&&!n?[]:PC(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function BC(t){const e={},n=[],r=Object.keys(yr.plugins.items);for(let s=0;s<r.length;s++)n.push(yr.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function RC(t,e){return!e&&t===!1?null:t===!0?{}:t}function PC(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=RC(r[l],i);c!==null&&s.push({plugin:a,options:OC(t.config,{plugin:a,local:n[l]},c,o)})}return s}function OC(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function U0(t,e){const n=pt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function MC(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function FC(t,e){return t===e?"_index_":"_value_"}function Ux(t){if(t==="x"||t==="y"||t==="r")return t}function IC(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function L0(t,...e){if(Ux(t))return t;for(const n of e){const r=n.axis||IC(n.position)||t.length>1&&Ux(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Lx(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function UC(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Lx(t,"x",n[0])||Lx(t,"y",n[0])}return{}}function LC(t,e){const n=Rs[t.type]||{scales:{}},r=e.scales||{},i=U0(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Ve(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=L0(o,a,UC(o,t),pt.scales[a.type]),c=FC(l,i),u=n.scales||{};s[o]=$a(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||U0(a,e),u=(Rs[a]||{}).scales||{};Object.keys(u).forEach(f=>{const h=MC(f,l),g=o[h+"AxisID"]||h;s[g]=s[g]||Object.create(null),$a(s[g],[{axis:h},r[g],u[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];$a(a,[pt.scales[a.type],pt.scale])}),s}function N2(t){const e=t.options||(t.options={});e.plugins=Pe(e.plugins,{}),e.scales=LC(t,e)}function T2(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function zC(t){return t=t||{},t.data=T2(t.data),N2(t),t}const zx=new Map,A2=new Set;function Tc(t,e){let n=zx.get(t);return n||(n=e(),zx.set(t,n),A2.add(n)),n}const aa=(t,e,n)=>{const r=Ki(e,n);r!==void 0&&t.add(r)};class $C{constructor(e){this._config=zC(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=T2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),N2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Tc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Tc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Tc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Tc(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(f=>aa(l,e,f))),u.forEach(f=>aa(l,i,f)),u.forEach(f=>aa(l,Rs[s]||{},f)),u.forEach(f=>aa(l,pt,f)),u.forEach(f=>aa(l,M0,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),A2.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Rs[n]||{},pt.datasets[n]||{},{type:n},pt,M0]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=$x(this._resolverCache,e,i);let l=o;if(VC(o,n)){s.$shared=!1,r=Yi(r)?r():r;const c=this.createResolver(e,r,a);l=Oo(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=$x(this._resolverCache,e,r);return Ve(n)?Oo(s,n,void 0,i):s}}function $x(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Rg(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const DC=t=>Ve(t)&&Object.getOwnPropertyNames(t).some(e=>Yi(t[e]));function VC(t,e){const{isScriptable:n,isIndexable:r}=u2(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Yi(a)||DC(a))||o&&lt(a))return!0}return!1}var HC="4.5.0";const WC=["top","bottom","left","right","chartArea"];function Dx(t,e){return t==="top"||t==="bottom"||WC.indexOf(t)===-1&&e==="x"}function Vx(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Hx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Je(n&&n.onComplete,[t],e)}function qC(t){const e=t.chart,n=e.options.animation;Je(n&&n.onProgress,[t],e)}function C2(t){return Mg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const xu={},Wx=t=>{const e=C2(t);return Object.values(xu).filter(n=>n.canvas===e).pop()};function GC(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function KC(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var di;let Kd=(di=class{static register(...e){yr.add(...e),qx()}static unregister(...e){yr.remove(...e),qx()}constructor(e,n){const r=this.config=new $C(n),i=C2(e),s=Wx(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||fC(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=VT(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=aA(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],xu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Pr.listen(this,"complete",Hx),Pr.listen(this,"progress",qC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return De(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():px(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return dx(this.canvas,this.ctx),this}stop(){return Pr.stop(this),this}resize(e,n){Pr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,px(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Je(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};qe(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=L0(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),qe(s,o=>{const a=o.options,l=a.id,c=L0(l,a),u=Pe(a.type,o.dtype);(a.position===void 0||Dx(a.position,c)!==Dx(o.dposition))&&(a.position=o.dposition),i[l]=!0;let f=null;if(l in r&&r[l].type===u)f=r[l];else{const h=yr.getScale(u);f=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,e)}),qe(i,(o,a)=>{o||delete r[a]}),qe(r,o=>{In.configure(this,o,o.options),In.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Vx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||U0(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=yr.getController(a),{datasetElementType:c,dataElementType:u}=pt.datasets[a];Object.assign(l,{dataElementType:yr.getElement(u),datasetElementType:c&&yr.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){qe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),h=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||qe(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Vx("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){qe(this.scales,e=>{In.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!nx(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;GC(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!nx(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;In.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],qe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Yi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pr.has(this)?this.attached&&!Pr.running(this)&&Pr.start(this):(this.draw(),Hx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=p5(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Cg(n,i),e.controller.draw(),i&&jg(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return qr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=W5.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ts(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);yl(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Pr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),dx(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete xu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};qe(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){qe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},qe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!ld(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=YT(e),c=KC(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Je(s.onHover,[e,a,this],this),l&&Je(s.onClick,[e,a,this],this));const u=!ld(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},ye(di,"defaults",pt),ye(di,"instances",xu),ye(di,"overrides",Rs),ye(di,"registry",yr),ye(di,"version",HC),ye(di,"getChart",Wx),di);function qx(){return qe(Kd.instances,t=>t._plugins.invalidate())}function YC(t,e,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,f=Math.min(c/o,cn(r-n));if(t.beginPath(),t.arc(i,s,o-c/2,r+f/2,n-f/2),a>0){const h=Math.min(c/a,cn(r-n));t.arc(i,s,a+c/2,n-h/2,r+h/2,!0)}else{const h=Math.min(c/2,o*cn(r-n));if(u==="round")t.arc(i,s,h,n-We/2,r+We/2,!0);else if(u==="bevel"){const g=2*h*h,p=-g*Math.cos(n+We/2)+i,v=-g*Math.sin(n+We/2)+s,E=g*Math.cos(r+We/2)+i,b=g*Math.sin(r+We/2)+s;t.lineTo(p,v),t.lineTo(E,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function XC(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+yt,r-yt),t.closePath(),t.clip()}function ZC(t){return Bg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function QC(t,e,n,r){const i=ZC(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return qt(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:qt(i.innerStart,0,o),innerEnd:qt(i.innerEnd,0,o)}}function Ws(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function pd(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,f=Math.max(e.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let g=0;const p=i-l;if(r){const J=u>0?u-r:0,ee=f>0?f-r:0,Z=(J+ee)/2,G=Z!==0?p*Z/(Z+r):p;g=(p-G)/2}const v=Math.max(.001,p*f-n/We)/f,E=(p-v)/2,b=l+E+g,_=i-E-g,{outerStart:S,outerEnd:R,innerStart:k,innerEnd:M}=QC(e,h,f,_-b),C=f-S,U=f-R,I=b+S/C,V=_-R/U,ie=h+k,ae=h+M,L=b+k/ie,H=_-M/ae;if(t.beginPath(),s){const J=(I+V)/2;if(t.arc(o,a,f,I,J),t.arc(o,a,f,J,V),R>0){const K=Ws(U,V,o,a);t.arc(K.x,K.y,R,V,_+yt)}const ee=Ws(ae,_,o,a);if(t.lineTo(ee.x,ee.y),M>0){const K=Ws(ae,H,o,a);t.arc(K.x,K.y,M,_+yt,H+Math.PI)}const Z=(_-M/h+(b+k/h))/2;if(t.arc(o,a,h,_-M/h,Z,!0),t.arc(o,a,h,Z,b+k/h,!0),k>0){const K=Ws(ie,L,o,a);t.arc(K.x,K.y,k,L+Math.PI,b-yt)}const G=Ws(C,b,o,a);if(t.lineTo(G.x,G.y),S>0){const K=Ws(C,I,o,a);t.arc(K.x,K.y,S,b-yt,I)}}else{t.moveTo(o,a);const J=Math.cos(I)*f+o,ee=Math.sin(I)*f+a;t.lineTo(J,ee);const Z=Math.cos(V)*f+o,G=Math.sin(V)*f+a;t.lineTo(Z,G)}t.closePath()}function JC(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){pd(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%st||st))}return pd(t,e,n,r,l,i),t.fill(),l}function ej(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:f,borderDashOffset:h,borderRadius:g}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(f||[]),t.lineDashOffset=h,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let v=e.endAngle;if(s){pd(t,e,n,r,v,i);for(let E=0;E<s;++E)t.stroke();isNaN(a)||(v=o+(a%st||st))}p&&XC(t,e,v),l.selfJoin&&v-o>=We&&g===0&&u!=="miter"&&YC(t,e,v),s||(pd(t,e,n,r,v,i),t.stroke())}class va extends or{constructor(n){super();ye(this,"circumference");ye(this,"endAngle");ye(this,"fullCircles");ye(this,"innerRadius");ye(this,"outerRadius");ye(this,"pixelMargin");ye(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=n2(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,p=Pe(h,c-l),v=bl(o,l,c)&&l!==c,E=p>=st||v,b=ji(a,u+g,f+g);return E&&b}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,f=(s+o)/2,h=(a+l+u+c)/2;return{x:r+Math.cos(f)*h,y:i+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>st?Math.floor(i/st):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(We,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,JC(n,this,u,o,a),ej(n,this,u,o,a),n.restore()}}ye(va,"id","arc"),ye(va,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ye(va,"defaultRoutes",{backgroundColor:"backgroundColor"}),ye(va,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function j2(t,e,n=e){t.lineCap=Pe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Pe(n.borderDash,e.borderDash)),t.lineDashOffset=Pe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Pe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Pe(n.borderWidth,e.borderWidth),t.strokeStyle=Pe(n.borderColor,e.borderColor)}function tj(t,e,n){t.lineTo(n.x,n.y)}function nj(t){return t.stepped?vA:t.tension||t.cubicInterpolationMode==="monotone"?_A:tj}function B2(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function rj(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=B2(i,n,r),u=nj(s);let{move:f=!0,reverse:h}=r||{},g,p,v;for(g=0;g<=c;++g)p=i[(a+(h?c-g:g))%o],!p.skip&&(f?(t.moveTo(p.x,p.y),f=!1):u(t,v,p,h,s.stepped),v=p);return l&&(p=i[(a+(h?c:0))%o],u(t,v,p,h,s.stepped)),!!l}function ij(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=B2(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,f=0,h,g,p,v,E,b;const _=R=>(o+(c?a-R:R))%s,S=()=>{v!==E&&(t.lineTo(u,E),t.lineTo(u,v),t.lineTo(u,b))};for(l&&(g=i[_(0)],t.moveTo(g.x,g.y)),h=0;h<=a;++h){if(g=i[_(h)],g.skip)continue;const R=g.x,k=g.y,M=R|0;M===p?(k<v?v=k:k>E&&(E=k),u=(f*u+R)/++f):(S(),t.lineTo(R,k),p=M,f=0,v=E=k),b=k}S()}function z0(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?ij:rj}function sj(t){return t.stepped?t5:t.tension||t.cubicInterpolationMode==="monotone"?n5:ds}function oj(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),j2(t,e.options),t.stroke(i)}function aj(t,e,n,r){const{segments:i,options:s}=e,o=z0(e);for(const a of i)j2(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const lj=typeof Path2D=="function";function cj(t,e,n,r){lj&&!e.options.segment?oj(t,e,n,r):aj(t,e,n,r)}class _a extends or{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;GA(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=u5(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=a5(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=sj(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:f,end:h}=o[c],g=s[f],p=s[h];if(g===p){a.push(g);continue}const v=Math.abs((i-g[n])/(p[n]-g[n])),E=l(g,p,v,r.stepped);E[n]=e[n],a.push(E)}return a.length===1?a[0]:a}pathSegment(e,n,r){return z0(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=z0(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),cj(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ye(_a,"id","line"),ye(_a,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ye(_a,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ye(_a,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Gx(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class bu extends or{constructor(n){super();ye(this,"parsed");ye(this,"skip");ye(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return Gx(this,n,"x",r)}inYRange(n,r){return Gx(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!qr(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,F0(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ye(bu,"id","point"),ye(bu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ye(bu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function R2(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,f;return t.horizontal?(f=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-f,u=r+f):(f=s/2,a=n-f,l=n+f,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function Bi(t,e,n,r){return t?0:qt(e,n,r)}function uj(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=c2(r);return{t:Bi(i.top,s.top,0,n),r:Bi(i.right,s.right,0,e),b:Bi(i.bottom,s.bottom,0,n),l:Bi(i.left,s.left,0,e)}}function dj(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=vs(i),o=Math.min(e,n),a=t.borderSkipped,l=r||Ve(i);return{topLeft:Bi(!l||a.top||a.left,s.topLeft,0,o),topRight:Bi(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Bi(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Bi(!l||a.bottom||a.right,s.bottomRight,0,o)}}function fj(t){const e=R2(t),n=e.right-e.left,r=e.bottom-e.top,i=uj(t,n/2,r/2),s=dj(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function uh(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&R2(t,r);return a&&(i||ji(e,a.left,a.right))&&(s||ji(n,a.top,a.bottom))}function hj(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function pj(t,e){t.rect(e.x,e.y,e.w,e.h)}function dh(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class wu extends or{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=fj(this),a=hj(o.radius)?wl:pj;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,dh(o,n,s)),e.clip(),a(e,dh(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,dh(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return uh(this,e,n,r)}inXRange(e,n){return uh(this,e,null,n)}inYRange(e,n){return uh(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ye(wu,"id","bar"),ye(wu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ye(wu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Kx=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},gj=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Yx extends or{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Je(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Nt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Kx(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let f=e;s.textAlign="left",s.textBaseline="middle";let h=-1,g=-u;return this.legendItems.forEach((p,v)=>{const E=r+n/2+s.measureText(p.text).width;(v===0||c[c.length-1]+E+2*a>o)&&(f+=u,c[c.length-(v>0?0:1)]=0,g+=u,h++),l[v]={left:0,top:g,row:h,width:E,height:i},c[c.length-1]+=E+a}),f}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let f=a,h=0,g=0,p=0,v=0;return this.legendItems.forEach((E,b)=>{const{itemWidth:_,itemHeight:S}=mj(r,n,s,E,i);b>0&&g+S+2*a>u&&(f+=h+a,c.push({width:h,height:g}),p+=h+a,v++,h=g=0),l[b]={left:p,top:g,col:v,width:_,height:S},h=Math.max(h,_),g+=S+a}),f+=h,c.push({width:h,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=_o(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ht(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Ht(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Ht(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Ht(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Cg(e,this),this._draw(),jg(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=pt.color,l=_o(e.rtl,this.left,this.width),c=Nt(o.font),{padding:u}=o,f=c.size,h=f/2;let g;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:v,itemHeight:E}=Kx(o,f),b=function(M,C,U){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;i.save();const I=Pe(U.lineWidth,1);if(i.fillStyle=Pe(U.fillStyle,a),i.lineCap=Pe(U.lineCap,"butt"),i.lineDashOffset=Pe(U.lineDashOffset,0),i.lineJoin=Pe(U.lineJoin,"miter"),i.lineWidth=I,i.strokeStyle=Pe(U.strokeStyle,a),i.setLineDash(Pe(U.lineDash,[])),o.usePointStyle){const V={radius:v*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:I},ie=l.xPlus(M,p/2),ae=C+h;l2(i,V,ie,ae,o.pointStyleWidth&&p)}else{const V=C+Math.max((f-v)/2,0),ie=l.leftForLtr(M,p),ae=vs(U.borderRadius);i.beginPath(),Object.values(ae).some(L=>L!==0)?wl(i,{x:ie,y:V,w:p,h:v,radius:ae}):i.rect(ie,V,p,v),i.fill(),I!==0&&i.stroke()}i.restore()},_=function(M,C,U){Ps(i,U.text,M,C+E/2,c,{strikethrough:U.hidden,textAlign:l.textAlign(U.textAlign)})},S=this.isHorizontal(),R=this._computeTitleHeight();S?g={x:Ht(s,this.left+u,this.right-r[0]),y:this.top+u+R,line:0}:g={x:this.left+u,y:Ht(s,this.top+R+u,this.bottom-n[0].height),line:0},g2(this.ctx,e.textDirection);const k=E+u;this.legendItems.forEach((M,C)=>{i.strokeStyle=M.fontColor,i.fillStyle=M.fontColor;const U=i.measureText(M.text).width,I=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),V=p+h+U;let ie=g.x,ae=g.y;l.setWidth(this.width),S?C>0&&ie+V+u>this.right&&(ae=g.y+=k,g.line++,ie=g.x=Ht(s,this.left+u,this.right-r[g.line])):C>0&&ae+k>this.bottom&&(ie=g.x=ie+n[g.line].width+u,g.line++,ae=g.y=Ht(s,this.top+R+u,this.bottom-n[g.line].height));const L=l.x(ie);if(b(L,ae,M),ie=lA(I,ie+p+h,S?ie+V:this.right,e.rtl),_(l.x(ie),ae,M),S)g.x+=V+u;else if(typeof M.text!="string"){const H=c.lineHeight;g.y+=P2(M,H)+u}else g.y+=k}),m2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Nt(n.font),i=Kt(n.padding);if(!n.display)return;const s=_o(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,f=Ht(e.align,f,this.right-h);else{const p=this.columnSizes.reduce((v,E)=>Math.max(v,E.height),0);u=c+Ht(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const g=Ht(a,f,f+h);o.textAlign=s.textAlign(kg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ps(o,n.text,g,u,r)}_computeTitleHeight(){const e=this.options.title,n=Nt(e.font),r=Kt(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(ji(e,this.left,this.right)&&ji(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],ji(e,i.left,i.left+i.width)&&ji(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!bj(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=gj(i,r);i&&!s&&Je(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Je(n.onHover,[e,r,this],this)}else r&&Je(n.onClick,[e,r,this],this)}}function mj(t,e,n,r,i){const s=yj(r,t,e,n),o=xj(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function yj(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function xj(t,e,n){let r=t;return typeof e.text!="string"&&(r=P2(e,n)),r}function P2(t,e){const n=t.text?t.text.length:0;return e*n}function bj(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var wj={id:"legend",_element:Yx,start(t,e,n){const r=t.legend=new Yx({ctx:t.ctx,options:n,chart:t});In.configure(t,r,n),In.addBox(t,r)},stop(t){In.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;In.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Kt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class O2 extends or{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=lt(r.text)?r.text.length:1;this._padding=Kt(r.padding);const s=i*Nt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,f;return this.isHorizontal()?(u=Ht(a,r,s),f=n+e,c=s-r):(o.position==="left"?(u=r+e,f=Ht(a,i,n),l=We*-.5):(u=s-e,f=Ht(a,n,i),l=We*.5),c=i-n),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Nt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Ps(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:kg(n.align),textBaseline:"middle",translation:[o,a]})}}function vj(t,e){const n=new O2({ctx:t.ctx,options:e,chart:t});In.configure(t,n,e),In.addBox(t,n),t.titleBlock=n}var _j={id:"title",_element:O2,start(t,e,n){vj(t,n)},stop(t){const e=t.titleBlock;In.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;In.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ea={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=O0(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function gr(t,e){return e&&(lt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Or(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Ej(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Xx(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Nt(e.bodyFont),c=Nt(e.titleFont),u=Nt(e.footerFont),f=s.length,h=i.length,g=r.length,p=Kt(e.padding);let v=p.height,E=0,b=r.reduce((R,k)=>R+k.before.length+k.lines.length+k.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,f&&(v+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),b){const R=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=g*R+(b-g)*l.lineHeight+(b-1)*e.bodySpacing}h&&(v+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let _=0;const S=function(R){E=Math.max(E,n.measureText(R).width+_)};return n.save(),n.font=c.string,qe(t.title,S),n.font=l.string,qe(t.beforeBody.concat(t.afterBody),S),_=e.displayColors?o+2+e.boxPadding:0,qe(r,R=>{qe(R.before,S),qe(R.lines,S),qe(R.after,S)}),_=0,n.font=u.string,qe(t.footer,S),n.restore(),E+=p.width,{width:E,height:v}}function Sj(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function kj(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function Nj(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),kj(c,t,e,n)&&(c="center"),c}function Zx(t,e,n){const r=n.yAlign||e.yAlign||Sj(t,n);return{xAlign:n.xAlign||e.xAlign||Nj(t,e,n,r),yAlign:r}}function Tj(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Aj(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Qx(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:g}=vs(o);let p=Tj(e,a);const v=Aj(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+i:a==="right"&&(p+=Math.max(f,g)+i),{x:qt(p,0,r.width-e.width),y:qt(v,0,r.height-e.height)}}function Ac(t,e,n){const r=Kt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Jx(t){return gr([],Or(t))}function Cj(t,e,n){return ts(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function eb(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const M2={beforeTitle:Br,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Br,beforeBody:Br,beforeLabel:Br,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return De(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Br,afterBody:Br,beforeFooter:Br,footer:Br,afterFooter:Br};function ln(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?M2[e].call(n,r):i}class $0 extends or{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new x2(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Cj(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=ln(r,"beforeTitle",this,e),s=ln(r,"title",this,e),o=ln(r,"afterTitle",this,e);let a=[];return a=gr(a,Or(i)),a=gr(a,Or(s)),a=gr(a,Or(o)),a}getBeforeBody(e,n){return Jx(ln(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return qe(e,s=>{const o={before:[],lines:[],after:[]},a=eb(r,s);gr(o.before,Or(ln(a,"beforeLabel",this,s))),gr(o.lines,ln(a,"label",this,s)),gr(o.after,Or(ln(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return Jx(ln(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=ln(r,"beforeFooter",this,e),s=ln(r,"footer",this,e),o=ln(r,"afterFooter",this,e);let a=[];return a=gr(a,Or(i)),a=gr(a,Or(s)),a=gr(a,Or(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Ej(this.chart,n[l]));return e.filter&&(a=a.filter((u,f,h)=>e.filter(u,f,h,r))),e.itemSort&&(a=a.sort((u,f)=>e.itemSort(u,f,r))),qe(a,u=>{const f=eb(e.callbacks,u);i.push(ln(f,"labelColor",this,u)),s.push(ln(f,"labelPointStyle",this,u)),o.push(ln(f,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Ea[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Xx(this,r),c=Object.assign({},a,l),u=Zx(this.chart,r,c),f=Qx(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=vs(a),{x:h,y:g}=e,{width:p,height:v}=n;let E,b,_,S,R,k;return s==="center"?(R=g+v/2,i==="left"?(E=h,b=E-o,S=R+o,k=R-o):(E=h+p,b=E+o,S=R-o,k=R+o),_=E):(i==="left"?b=h+Math.max(l,u)+o:i==="right"?b=h+p-Math.max(c,f)-o:b=this.caretX,s==="top"?(S=g,R=S-o,E=b-o,_=b+o):(S=g+v,R=S+o,E=b+o,_=b-o),k=S),{x1:E,x2:b,x3:_,y1:S,y2:R,y3:k}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=_o(r.rtl,this.x,this.width);for(e.x=Ac(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Nt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Nt(s.bodyFont),f=Ac(this,"left",s),h=i.x(f),g=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+g;if(s.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},E=i.leftForLtr(h,c)+c/2,b=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,F0(e,v,E,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,F0(e,v,E,b)}else{e.lineWidth=Ve(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=i.leftForLtr(h,c),E=i.leftForLtr(i.xPlus(h,1),c-2),b=vs(o.borderRadius);Object.values(b).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,wl(e,{x:v,y:p,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),wl(e,{x:E,y:p+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,p,c,l),e.strokeRect(v,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(E,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,f=Nt(r.bodyFont);let h=f.lineHeight,g=0;const p=_o(r.rtl,this.x,this.width),v=function(U){n.fillText(U,p.x(e.x+g),e.y+h/2),e.y+=h+s},E=p.textAlign(o);let b,_,S,R,k,M,C;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=Ac(this,E,r),n.fillStyle=r.bodyColor,qe(this.beforeBody,v),g=a&&E!=="right"?o==="center"?c/2+u:c+2+u:0,R=0,M=i.length;R<M;++R){for(b=i[R],_=this.labelTextColors[R],n.fillStyle=_,qe(b.before,v),S=b.lines,a&&S.length&&(this._drawColorBox(n,e,R,p,r),h=Math.max(f.lineHeight,l)),k=0,C=S.length;k<C;++k)v(S[k]),h=f.lineHeight;qe(b.after,v)}g=0,h=f.lineHeight,qe(this.afterBody,v),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=_o(r.rtl,this.x,this.width);for(e.x=Ac(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Nt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:p}=vs(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+g,l+u),n.quadraticCurveTo(a,l+u,a,l+u-g),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Ea[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Xx(this,e),l=Object.assign({},o,this._size),c=Zx(n,e,l),u=Qx(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Kt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),g2(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),m2(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!ld(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!ld(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Ea[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}ye($0,"positioners",Ea);var jj={id:"tooltip",_element:$0,positioners:Ea,afterInit(t,e,n){n&&(t.tooltip=new $0({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:M2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Bj=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Rj(t,e,n,r){const i=t.indexOf(e);if(i===-1)return Bj(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const Pj=(t,e)=>t===null?null:qt(Math.round(t),0,e);function tb(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class D0 extends Ho{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(De(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Rj(r,e,Pe(n,e),this._addedLabels),Pj(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return tb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ye(D0,"id","category"),ye(D0,"defaults",{ticks:{callback:tb}});function Oj(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:h}=t,g=s||1,p=u-1,{min:v,max:E}=e,b=!De(o),_=!De(a),S=!De(c),R=(E-v)/(f+1);let k=ix((E-v)/p/g)*g,M,C,U,I;if(k<1e-14&&!b&&!_)return[{value:v},{value:E}];I=Math.ceil(E/k)-Math.floor(v/k),I>p&&(k=ix(I*k/p/g)*g),De(l)||(M=Math.pow(10,l),k=Math.ceil(k*M)/M),i==="ticks"?(C=Math.floor(v/k)*k,U=Math.ceil(E/k)*k):(C=v,U=E),b&&_&&s&&eA((a-o)/s,k/1e3)?(I=Math.round(Math.min((a-o)/k,u)),k=(a-o)/I,C=o,U=a):S?(C=b?o:C,U=_?a:U,I=c-1,k=(U-C)/I):(I=(U-C)/k,Da(I,Math.round(I),k/1e3)?I=Math.round(I):I=Math.ceil(I));const V=Math.max(sx(k),sx(C));M=Math.pow(10,De(l)?V:l),C=Math.round(C*M)/M,U=Math.round(U*M)/M;let ie=0;for(b&&(h&&C!==o?(n.push({value:o}),C<o&&ie++,Da(Math.round((C+ie*k)*M)/M,o,nb(o,R,t))&&ie++):C<o&&ie++);ie<I;++ie){const ae=Math.round((C+ie*k)*M)/M;if(_&&ae>a)break;n.push({value:ae})}return _&&h&&U!==a?n.length&&Da(n[n.length-1].value,a,nb(a,R,t))?n[n.length-1].value=a:n.push({value:a}):(!_||U===a)&&n.push({value:U}),n}function nb(t,e,{horizontal:n,minRotation:r}){const i=Sr(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class V0 extends Ho{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return De(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Tr(i),c=Tr(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=Oj(i,s);return e.bounds==="ticks"&&tA(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Tg(e,this.chart.options.locale,this.options.ticks.format)}}class H0 extends V0{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=bn(e)?e:0,this.max=bn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Sr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ye(H0,"id","linear"),ye(H0,"defaults",{ticks:{callback:Ag.formatters.numeric}});function W0(t){const e=t.ticks;if(e.display&&t.display){const n=Kt(e.backdropPadding);return Pe(e.font&&e.font.size,pt.font.size)+n.height}return 0}function Mj(t,e,n){return n=lt(n)?n:[n],{w:wA(t,e.string,n),h:n.length*e.lineHeight}}function rb(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function Fj(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?We/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),f=Nt(c.font),h=Mj(t.ctx,f,t._pointLabels[l]);r[l]=h;const g=cn(t.getIndexAngle(l)+a),p=Math.round(Eg(g)),v=rb(p,u.x,h.w,0,180),E=rb(p,u.y,h.h,90,270);Ij(n,e,g,v,E)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=zj(t,r,i)}function Ij(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Uj(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(Eg(cn(l.angle+yt))),u=Vj(l.y,a.h,c),f=$j(c),h=Dj(l.x,a.w,f);return{visible:!0,x:l.x,y:u,textAlign:f,left:h,top:u,right:h+a.w,bottom:u+a.h}}function Lj(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(qr({x:n,y:r},e)||qr({x:n,y:s},e)||qr({x:i,y:r},e)||qr({x:i,y:s},e))}function zj(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:W0(s)/2,additionalAngle:o?We/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const f=Uj(t,u,l);r.push(f),a==="auto"&&(f.visible=Lj(f,c),f.visible&&(c=f))}return r}function $j(t){return t===0||t===180?"center":t<180?"left":"right"}function Dj(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Vj(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function Hj(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!De(a)){const l=vs(e.borderRadius),c=Kt(e.backdropPadding);t.fillStyle=a;const u=r-c.left,f=i-c.top,h=s-r+c.width,g=o-i+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),wl(t,{x:u,y:f,w:h,h:g,radius:l}),t.fill()):t.fillRect(u,f,h,g)}}function Wj(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));Hj(n,o,s);const a=Nt(o.font),{x:l,y:c,textAlign:u}=s;Ps(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function F2(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,st);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function qj(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),F2(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function Gj(t,e,n){return ts(t,{label:n,index:e,type:"pointLabel"})}class Sa extends V0{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Kt(W0(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=bn(e)&&!isNaN(e)?e:0,this.max=bn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/W0(this.options))}generateTickLabels(e){V0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=Je(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?Fj(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=st/(this._pointLabels.length||1),r=this.options.startAngle||0;return cn(e*n+Sr(r))}getDistanceFromCenterForValue(e){if(De(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(De(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return Gj(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-yt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),F2(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Wj(this,o),i.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(f),g=i.setContext(h),p=s.setContext(h);qj(this,g,l,o,p)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:h}=u;!h||!f||(e.lineWidth=h,e.strokeStyle=f,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=Nt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const f=Kt(c.backdropPadding);e.fillRect(-o/2-f.left,-s-u.size/2-f.top,o+f.width,u.size+f.height)}Ps(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}ye(Sa,"id","radialLinear"),ye(Sa,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ag.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ye(Sa,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ye(Sa,"descriptors",{angleLines:{_fallback:"grid"}});const Yd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},hn=Object.keys(Yd);function ib(t,e){return t-e}function sb(t,e){if(De(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),bn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(xl(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function ob(t,e,n,r){const i=hn.length;for(let s=hn.indexOf(t);s<i-1;++s){const o=Yd[hn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return hn[s]}return hn[i-1]}function Kj(t,e,n,r,i){for(let s=hn.length-1;s>=hn.indexOf(n);s--){const o=hn[s];if(Yd[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return hn[n?hn.indexOf(n):0]}function Yj(t){for(let e=hn.indexOf(t)+1,n=hn.length;e<n;++e)if(Yd[hn[e]].common)return hn[e]}function ab(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Sg(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function Xj(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function lb(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:Xj(t,r,i,n)}class gd extends Ho{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new z5._date(e.adapters.date);i.init(n),$a(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:sb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=bn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=bn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=sA(i,s,o);return this._unit=n.unit||(r.autoSkip?ob(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Kj(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Yj(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),lb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=qt(n,0,o),r=qt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||ob(s.minUnit,n,r,this._getLabelCapacity(n)),a=Pe(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=xl(l)||l===!0,u={};let f=n,h,g;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,g=0;h<r;h=+e.add(h,a,o),g++)ab(u,h,p);return(h===r||i.bounds==="ticks"||g===1)&&ab(u,h,p),Object.keys(u).sort(ib).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Je(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],f=c&&a[c],h=r[n],g=c&&f&&h&&h.major;return this._adapter.format(e,i||(g?f:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Sr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,lb(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(sb(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return i2(e.sort(ib))}}ye(gd,"id","time"),ye(gd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Cc(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=ys(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=ys(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class cb extends gd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Cc(n,this.min),this._tableRange=Cc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Cc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Cc(this._table,r*this._tableRange+this._minPos,!0)}}ye(cb,"id","timeseries"),ye(cb,"defaults",gd.defaults);const I2="label";function ub(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Zj(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function U2(t,e){t.labels=e}function L2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I2;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Qj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I2;const n={labels:[],datasets:[]};return U2(n,t.labels),L2(n,t.datasets,e),n}function Jj(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:f,...h}=t,g=D.useRef(null),p=D.useRef(null),v=()=>{g.current&&(p.current=new Kd(g.current,{type:o,data:Qj(a,s),options:l&&{...l},plugins:c}),ub(e,p.current))},E=()=>{ub(e,null),p.current&&(p.current.destroy(),p.current=null)};return D.useEffect(()=>{!i&&p.current&&l&&Zj(p.current,l)},[i,l]),D.useEffect(()=>{!i&&p.current&&U2(p.current.config.data,a.labels)},[i,a.labels]),D.useEffect(()=>{!i&&p.current&&a.datasets&&L2(p.current.config.data,a.datasets,s)},[i,a.datasets]),D.useEffect(()=>{p.current&&(i?(E(),setTimeout(v)):p.current.update(f))},[i,l,a.labels,a.datasets,f]),D.useEffect(()=>{p.current&&(E(),setTimeout(v))},[o]),D.useEffect(()=>(v(),()=>E()),[]),yd.createElement("canvas",{ref:g,role:"img",height:n,width:r,...h},u)}const eB=D.forwardRef(Jj);function Ul(t,e){return Kd.register(e),D.forwardRef((n,r)=>yd.createElement(eB,{...n,ref:r,type:t}))}const db=Ul("line",gu),tB=Ul("bar",pu),nB=Ul("radar",mu),rB=Ul("doughnut",go),iB=Ul("pie",I0);Kd.register(D0,H0,bu,_a,wu,va,Sa,_j,jj,wj);function Hi({type:t,data:e,options:n={}}){const r=document.documentElement.classList.contains("dark"),s={...{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:r?"#e5e7eb":"#374151"}}},scales:t!=="pie"&&t!=="doughnut"&&t!=="radar"?{x:{ticks:{color:r?"#e5e7eb":"#374151"},grid:{color:r?"#374151":"#e5e7eb"}},y:{ticks:{color:r?"#e5e7eb":"#374151"},grid:{color:r?"#374151":"#e5e7eb"}}}:void 0},...n},o=()=>{switch(t){case"line":return d.jsx(db,{data:e,options:s});case"bar":return d.jsx(tB,{data:e,options:s});case"pie":return d.jsx(iB,{data:e,options:s});case"doughnut":return d.jsx(rB,{data:e,options:s});case"radar":return d.jsx(nB,{data:e,options:s});default:return d.jsx(db,{data:e,options:s})}};return d.jsx("div",{className:"relative h-64",children:o()})}function sB({title:t,type:e,data:n,config:r={},onEdit:i,onDelete:s,isEditable:o=!0}){const[a,l]=D.useState(!1),c=()=>{switch(e){case"summary":return d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.value}),d.jsx("div",{className:"text-sm text-gray-600",children:n.label}),n.change&&d.jsxs("div",{className:`text-xs mt-1 ${n.change>0?"text-green-600":"text-red-600"}`,children:[n.change>0?"+":"",n.change,"% dari bulan lalu"]})]});case"progress":return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-sm font-medium",children:n.label}),d.jsxs("span",{className:"text-sm text-gray-600",children:[n.value,"%"]})]}),d.jsx(pl,{value:n.value,max:100,variant:n.value>=100?"success":n.value>=70?"warning":"primary"}),n.target&&d.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Target: ",n.target]})]});case"chart":return d.jsx("div",{className:"h-48",children:d.jsx(Hi,{type:r.chartType||"line",data:n,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:r.showLegend!==!1}},scales:{y:{beginAtZero:!0}}}})});case"list":return d.jsx("div",{className:"space-y-2",children:n.items.map((u,f)=>d.jsxs("div",{className:"flex justify-between items-center py-1",children:[d.jsx("span",{className:"text-sm",children:u.label}),d.jsx("span",{className:"text-sm font-medium",children:u.value})]},f))});case"metric":return d.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.metrics.map((u,f)=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-gray-900",children:u.value}),d.jsx("div",{className:"text-xs text-gray-600",children:u.label})]},f))});default:return d.jsx("div",{className:"text-gray-500",children:"Widget type tidak dikenal"})}};return d.jsxs(ke,{className:`relative ${a?"col-span-2 row-span-2":""}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t}),d.jsx("div",{className:"flex items-center space-x-2",children:o&&d.jsxs(d.Fragment,{children:[d.jsx(Ce,{size:"sm",variant:"ghost",onClick:()=>l(!a),children:a?"":""}),d.jsx(Ce,{size:"sm",variant:"ghost",onClick:()=>i&&i(),children:""}),d.jsx(Ce,{size:"sm",variant:"ghost",onClick:()=>s&&s(),children:""})]})})]}),d.jsx("div",{className:a?"h-full":"",children:c()}),a&&e==="chart"&&d.jsx("div",{className:"mt-4 h-64",children:d.jsx(Hi,{type:r.chartType||"line",data:n,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0}},scales:{y:{beginAtZero:!0}}}})})]})}function oB(){const t=Vp(),e=[{id:"add-transaction",title:"Add Transaction",description:"Tambah transaksi baru",icon:"",color:"bg-green-500",route:"/transactions"},{id:"budget",title:"Budget",description:"Kelola anggaran",icon:"",color:"bg-blue-500",route:"/budget"},{id:"goals",title:"Goals",description:"Set target keuangan",icon:"",color:"bg-purple-500",route:"/goals"},{id:"analytics",title:"Analytics",description:"Lihat laporan",icon:"",color:"bg-orange-500",route:"/analytics"},{id:"ai-advisor",title:"AI Advisor",description:"Dapatkan saran",icon:"",color:"bg-indigo-500",route:"/ai-advisor"},{id:"wallets",title:"Wallets",description:"Kelola wallet",icon:"",color:"bg-yellow-500",route:"/wallets"}],n=r=>{t(r)};return d.jsxs(ke,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Quick Actions"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Akses cepat ke fitur utama"})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map(r=>d.jsxs("button",{onClick:()=>n(r.route),className:"group relative p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200 hover:shadow-md",children:[d.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[d.jsx("div",{className:`w-12 h-12 rounded-full ${r.color} flex items-center justify-center text-white text-xl group-hover:scale-110 transition-transform duration-200`,children:r.icon}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:r.title}),d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:r.description})]})]}),d.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-blue-500/0 to-blue-500/0 group-hover:from-blue-500/5 group-hover:to-purple-500/5 transition-all duration-200 pointer-events-none"})]},r.id))}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx(Ce,{size:"sm",variant:"outline",onClick:()=>t("/notifications"),children:" Notifications"}),d.jsx(Ce,{size:"sm",variant:"outline",onClick:()=>t("/settings"),children:" Settings"}),d.jsx(Ce,{size:"sm",variant:"outline",onClick:()=>t("/help"),children:" Help"})]})})]})}function aB(){const[t,e]=D.useState(null),[n,r]=D.useState(null),[i,s]=D.useState(!1);return D.useEffect(()=>{const o=Ur.getEnvironmentInfo();e(o),(async()=>{const l=await Ur.getBackendStatus();r(l)})()},[]),t?d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Environment Debug"}),d.jsxs("button",{onClick:()=>s(!i),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[i?"Hide":"Show"," Details"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-3",children:[d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Network"}),d.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.network})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-3",children:[d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Environment"}),d.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.isLocal?"Local":"IC"})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-3",children:[d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Backend Status"}),d.jsx("div",{className:`font-medium ${n!=null&&n.connected?"text-green-600":"text-red-600"}`,children:n!=null&&n.connected?"Connected":"Disconnected"})]})]}),d.jsx("div",{className:"mb-4",children:d.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n!=null&&n.authenticated?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:n!=null&&n.authenticated?" Authenticated":" Not Authenticated"})}),i&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Network Configuration"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Network:"}),d.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:t.network})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Identity Provider:"}),d.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-mono text-xs",children:t.identityProvider})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Canister ID:"}),d.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-mono text-xs",children:t.canisterId})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Is Local:"}),d.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:t.isLocal?"Yes":"No"})]})]})]}),n&&d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Backend Status"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Connected:"}),d.jsx("span",{className:`ml-2 font-medium ${n.connected?"text-green-600":"text-red-600"}`,children:n.connected?"Yes":"No"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Authenticated:"}),d.jsx("span",{className:`ml-2 font-medium ${n.authenticated?"text-green-600":"text-yellow-600"}`,children:n.authenticated?"Yes":"No"})]}),n.error&&d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Error:"}),d.jsx("span",{className:"ml-2 text-red-600 dark:text-red-400",children:n.error})]}),n.environment&&d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Environment:"}),d.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:JSON.stringify(n.environment,null,2)})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Actions"}),d.jsxs("div",{className:"space-x-2",children:[d.jsx("button",{onClick:()=>console.log("Environment Info:",t),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Log to Console"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:"Reload Page"})]})]})]})]}):d.jsx("div",{children:"Loading environment configuration..."})}function lB(){const{currency:t,setCurrency:e}=D.useContext(wn),[n,r]=D.useState(!1),[i,s]=D.useState([]),[o,a]=D.useState({}),[l,c]=D.useState({}),[u,f]=D.useState([]),[h,g]=D.useState(!0),[p,v]=D.useState(""),[E,b]=D.useState(!1),_=async()=>{g(!0);try{const C=await Jn.getTransactions();C.success&&s(C.data);const U=await Xr.getUserSummary();U.success&&a(U.data);const I=await Xr.getUserBalanceSummary();I.success&&c(I.data);const V=await j0.getNotifications(null,!1);V.success&&f(V.data)}catch(C){v("Failed to load dashboard data"),console.error("Error loading dashboard data:",C)}finally{g(!1)}};D.useEffect(()=>{_()},[]);const S=()=>{_()},R=[{id:1,title:"Total Balance",type:"summary",data:{value:l.balance_idr||0,label:"Balance",change:5.2,currency:"IDR"}},{id:2,title:"Monthly Income",type:"summary",data:{value:l.balance_usd||0,label:"Income",change:12.5,currency:"USD"}},{id:3,title:"Budget Progress",type:"progress",data:{current:75,target:100,label:"Monthly Budget"}},{id:4,title:"Recent Transactions",type:"list",data:{items:i.slice(0,5).map(C=>({title:C.description,subtitle:C.category,value:`${C.currency} ${C.amount}`,type:C.is_income?"income":"expense"}))}},{id:5,title:"Spending Trend",type:"chart",data:{labels:["Jan","Feb","Mar","Apr","May"],datasets:[{label:"Income",data:[12e3,19e3,15e3,25e3,22e3],borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)"},{label:"Expense",data:[8e3,12e3,1e4,18e3,15e3],borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)"}]},config:{type:"line"}},{id:6,title:"Category Distribution",type:"chart",data:{labels:["Food","Transport","Shopping","Entertainment","Other"],datasets:[{data:[30,25,20,15,10],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"]}]},config:{type:"doughnut"}}],k=C=>{console.log("Edit widget:",C)},M=C=>{console.log("Delete widget:",C)};return h?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):p?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:p}),d.jsx("button",{onClick:_,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("button",{onClick:()=>b(!E),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:[E?"Hide":"Show"," Debug"]}),d.jsx("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Transaction"})]})]}),E&&d.jsx(aB,{}),d.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Currency:"}),d.jsxs("select",{value:t,onChange:C=>e(C.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"IDR",children:"IDR"}),d.jsx("option",{value:"USD",children:"USD"}),d.jsx("option",{value:"BTC",children:"BTC"})]})]})}),d.jsx(oB,{}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(C=>d.jsx(sB,{title:C.title,type:C.type,data:C.data,config:C.config,onEdit:()=>k(C.id),onDelete:()=>M(C.id),isEditable:!0},C.id))}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activities"}),d.jsx("div",{className:"space-y-3",children:i.slice(0,10).map((C,U)=>d.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${C.is_income?"bg-green-500":"bg-red-500"}`}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:C.description}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[C.category,"  ",C.date?new Date(C.date).toLocaleDateString():new Date(Number(C.timestamp)/1e6).toLocaleDateString()]})]})]}),d.jsxs("div",{className:`text-sm font-medium ${C.is_income?"text-green-600":"text-red-600"}`,children:[C.is_income?"+":"-",C.currency," ",Number(C.amount).toLocaleString()]})]},U))})]}),d.jsx(X_,{isOpen:n,onClose:()=>r(!1),onTransactionAdded:S})]})}function dn({type:t="text",variant:e="default",size:n="md",error:r=!1,disabled:i=!1,className:s="",...o}){const a="rounded border transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",l={default:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500",error:"border-red-300 dark:border-red-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-red-500"},c={sm:"px-2 py-1 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},u=i;return d.jsx("input",{type:t,className:`${a} ${l[r?"error":e]} ${c[n]} ${u?"opacity-60 cursor-not-allowed":""} ${s}`,disabled:u,...o})}function vu({variant:t="default",size:e="md",error:n=!1,disabled:r=!1,className:i="",children:s,...o}){const a="rounded border transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",l={default:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500",error:"border-red-300 dark:border-red-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-red-500"},c={sm:"px-2 py-1 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},u=r;return d.jsx("select",{className:`${a} ${l[n?"error":t]} ${c[e]} ${u?"opacity-60 cursor-not-allowed":""} ${i}`,disabled:u,...o,children:s})}function Ar({children:t,variant:e="default",size:n="md",className:r="",...i}){const s="inline-flex items-center font-medium rounded-full",o={default:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",danger:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},a={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-sm"};return d.jsx("span",{className:`${s} ${o[e]} ${a[n]} ${r}`,...i,children:t})}function cB({headers:t=[],children:e,className:n="",...r}){return d.jsx("div",{className:`overflow-x-auto ${n}`,children:d.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow",...r,children:[t.length>0&&d.jsx("thead",{children:d.jsx("tr",{children:t.map((i,s)=>d.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-900 dark:text-white",children:i},s))})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e})]})})}function uB({children:t,className:e="",...n}){return d.jsx("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700 ${e}`,...n,children:t})}function Rr({children:t,className:e="",...n}){return d.jsx("td",{className:`px-4 py-2 ${e}`,...n,children:t})}function _u({items:t=[],separator:e="/",className:n="",...r}){return d.jsx("nav",{className:`flex ${n}`,...r,children:d.jsx("ol",{className:"flex items-center space-x-2",children:t.map((i,s)=>d.jsxs("li",{className:"flex items-center",children:[s>0&&d.jsx("span",{className:"mx-2 text-gray-400 dark:text-gray-500",children:e}),s===t.length-1?d.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:i.label}):d.jsx(Kp,{to:i.href,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:i.label})]},s))})})}function dB({currentPage:t=1,totalPages:e=1,totalItems:n=0,pageSize:r=10,onPageChange:i,onPageSizeChange:s,className:o="",...a}){const l=(t-1)*r+1,c=Math.min(t*r,n),u=()=>{const f=[];if(e<=5)for(let g=1;g<=e;g++)f.push(g);else if(t<=3){for(let g=1;g<=4;g++)f.push(g);f.push("..."),f.push(e)}else if(t>=e-2){f.push(1),f.push("...");for(let g=e-3;g<=e;g++)f.push(g)}else{f.push(1),f.push("...");for(let g=t-1;g<=t+1;g++)f.push(g);f.push("..."),f.push(e)}return f};return d.jsxs("div",{className:`flex items-center justify-between ${o}`,...a,children:[d.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",l," to ",c," of ",n," results"]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ce,{variant:"secondary",size:"sm",onClick:()=>i(t-1),disabled:t===1,children:"Previous"}),d.jsx("div",{className:"flex items-center space-x-1",children:u().map((f,h)=>d.jsx("div",{children:f==="..."?d.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}):d.jsx(Ce,{variant:f===t?"primary":"secondary",size:"sm",onClick:()=>i(f),children:f})},h))}),d.jsx(Ce,{variant:"secondary",size:"sm",onClick:()=>i(t+1),disabled:t===e,children:"Next"})]})]})}function fb({variant:t="text",lines:e=1,className:n="",...r}){const i="animate-pulse bg-gray-200 dark:bg-gray-700 rounded",s={text:"h-4",title:"h-6",card:"h-32",avatar:"w-10 h-10 rounded-full",button:"h-10 w-20"};return t==="text"&&e>1?d.jsx("div",{className:`space-y-2 ${n}`,...r,children:Array.from({length:e}).map((o,a)=>d.jsx("div",{className:`${i} ${s.text} ${a===e-1?"w-3/4":"w-full"}`},a))}):d.jsx("div",{className:`${i} ${s[t]} ${n}`,...r})}function fB({rows:t=5,columns:e=4,className:n="",...r}){return d.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow ${n}`,...r,children:[d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:d.jsx("div",{className:"flex space-x-4",children:Array.from({length:e}).map((i,s)=>d.jsx(fb,{variant:"text",className:"flex-1"},s))})}),d.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Array.from({length:t}).map((i,s)=>d.jsx("div",{className:"p-4",children:d.jsx("div",{className:"flex space-x-4",children:Array.from({length:e}).map((o,a)=>d.jsx(fb,{variant:"text",className:"flex-1"},a))})},s))})]})}function hB({trigger:t,items:e=[],className:n="",...r}){const[i,s]=D.useState(!1),o=D.useRef(null);return D.useEffect(()=>{const a=l=>{o.current&&!o.current.contains(l.target)&&s(!1)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]),d.jsxs("div",{className:`relative ${n}`,ref:o,...r,children:[d.jsx("div",{onClick:()=>s(!i),children:t}),i&&d.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:d.jsx("div",{className:"py-1",children:e.map((a,l)=>d.jsx("button",{onClick:()=>{var c;(c=a.onClick)==null||c.call(a),s(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:a.label},l))})})]})}function pB({children:t,variant:e="default",size:n="md",removable:r=!1,onRemove:i,className:s="",...o}){const a={default:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",primary:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",danger:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},l={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-sm"};return d.jsxs("span",{className:`inline-flex items-center rounded-full font-medium ${a[e]} ${l[n]} ${s}`,...o,children:[t,r&&d.jsx("button",{onClick:i,className:"ml-1.5 -mr-1 h-4 w-4 rounded-full inline-flex items-center justify-center text-current hover:bg-current hover:bg-opacity-20",children:d.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}function gB(){D.useContext(wn);const[t,e]=D.useState([]),[n,r]=D.useState("ALL"),[i,s]=D.useState(""),[o,a]=D.useState("ALL"),[l,c]=D.useState("ALL"),[u,f]=D.useState("all"),[h,g]=D.useState(!1),[p,v]=D.useState(1),[E,b]=D.useState(10),[_,S]=D.useState(!1),[R,k]=D.useState(""),M=async()=>{S(!0),k("");try{const K=await Jn.getTransactions();K.success?e(K.data):k(K.error||"Failed to load transactions")}catch(K){k("Failed to load transactions"),console.error("Error loading transactions:",K)}finally{S(!1)}};D.useEffect(()=>{M()},[]);const C=()=>{M()},U=t.filter(K=>{const ce=n==="ALL"||n==="Income"&&K.is_income||n==="Expense"&&!K.is_income,se=i===""||K.category===i;let ue=!0;if(o!=="ALL"){let le=K.source||"manual";Array.isArray(le)&&(le=le[0]||"manual"),console.log("Filtering by source:",o,"Transaction source:",le,"Match:",le===o),ue=le===o}let oe=!0;if(u==="blockchain"){let le=K.source||"manual";Array.isArray(le)&&(le=le[0]||"manual"),oe=le==="blockchain",console.log("Blockchain tab filtering:","Transaction source:",le,"Match:",oe)}const j=l==="ALL"||K.currency===l;return ce&&se&&ue&&oe&&j}),I=U.length,V=Math.ceil(I/E),ie=(p-1)*E,ae=ie+E,L=U.slice(ie,ae),H=["Date","Description","Category","Type","Amount","Currency","Action"],J=[{label:"Dashboard",href:"/dashboard"},{label:"Transactions",href:"/transactions"}],ee=K=>{console.log("Edit transaction:",K)},Z=K=>{console.log("Delete transaction:",K)},G=async()=>{S(!0),k("");try{const K=await Jn.syncBlockchainTransactions();K.success?(await M(),alert("Blockchain transactions synced successfully!")):k(K.error)}catch(K){k("Failed to sync blockchain transactions"),console.error("Sync error:",K)}finally{S(!1)}};return _?d.jsxs("div",{className:"space-y-6",children:[d.jsx(_u,{items:J,className:"mb-4"}),d.jsx(fB,{rows:5,columns:7})]}):R?d.jsxs("div",{className:"space-y-6",children:[d.jsx(_u,{items:J,className:"mb-4"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:R}),d.jsx("button",{onClick:M,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx(_u,{items:J,className:"mb-4"}),d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:"Transactions"}),d.jsx(Ce,{onClick:()=>g(!0),children:"+ Add Transaction"})]}),d.jsxs("div",{className:"flex space-x-4 mb-4",children:[d.jsx("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-md ${u==="all"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:" All Transactions"}),d.jsx("button",{onClick:()=>f("blockchain"),className:`px-4 py-2 rounded-md ${u==="blockchain"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:" Blockchain Transactions"})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[d.jsxs(vu,{value:n,onChange:K=>r(K.target.value),children:[d.jsx("option",{value:"ALL",children:"All Types"}),d.jsx("option",{value:"Income",children:"Income"}),d.jsx("option",{value:"Expense",children:"Expense"})]}),d.jsxs(vu,{value:o,onChange:K=>a(K.target.value),children:[d.jsx("option",{value:"ALL",children:"All Sources"}),d.jsx("option",{value:"manual",children:"Manual Input"}),d.jsx("option",{value:"blockchain",children:"Blockchain"})]}),d.jsxs(vu,{value:l,onChange:K=>c(K.target.value),children:[d.jsx("option",{value:"ALL",children:"All Currencies"}),d.jsx("option",{value:"IDR",children:"IDR"}),d.jsx("option",{value:"USD",children:"USD"}),d.jsx("option",{value:"BTC",children:"BTC"}),d.jsx("option",{value:"ETH",children:"ETH"}),d.jsx("option",{value:"SOL",children:"SOL"})]}),d.jsx(dn,{placeholder:"Category",value:i,onChange:K=>s(K.target.value)}),d.jsx(Ce,{variant:"secondary",size:"sm",children:"Export CSV"}),d.jsx(Ce,{variant:"primary",size:"sm",onClick:G,disabled:_,children:" Sync Blockchain"})]}),d.jsxs(ke,{children:[d.jsx(cB,{headers:u==="all"?H:[...H,"Source","Details"],children:L.map((K,ce)=>d.jsxs(uB,{children:[d.jsx(Rr,{children:K.date?new Date(K.date).toLocaleDateString():new Date(Number(K.timestamp)/1e6).toLocaleDateString()}),d.jsx(Rr,{children:K.description}),d.jsx(Rr,{children:d.jsx(pB,{color:"blue",children:K.category})}),d.jsx(Rr,{children:d.jsx(Ar,{variant:K.is_income?"success":"danger",size:"sm",children:K.is_income?"Income":"Expense"})}),d.jsxs(Rr,{className:"font-medium",children:[K.currency," ",Number(K.amount).toLocaleString()]}),d.jsx(Rr,{children:K.currency}),u==="all"?d.jsx(Rr,{children:d.jsx(hB,{trigger:d.jsx(Ce,{variant:"ghost",size:"sm",children:""}),items:[{label:"Edit",onClick:()=>ee(K)},{label:"Delete",onClick:()=>Z(K)}]})}):d.jsxs(d.Fragment,{children:[d.jsx(Rr,{children:(()=>{let se=K.source||"manual";return Array.isArray(se)&&(se=se[0]||"manual"),d.jsx("span",{className:`px-2 py-1 rounded text-xs ${se==="manual"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:se==="manual"?"Manual":"Blockchain"})})()}),d.jsx(Rr,{children:K.txid&&d.jsxs("a",{href:`https://blockchain.info/tx/${String(K.txid)}`,target:"_blank",className:"text-blue-600 hover:text-blue-800 text-xs",children:[String(K.txid).substring(0,8),"..."]})})]})]},ce))}),V>1&&d.jsx("div",{className:"mt-4",children:d.jsx(dB,{currentPage:p,totalPages:V,onPageChange:v})})]}),d.jsx(X_,{isOpen:h,onClose:()=>g(!1),onTransactionAdded:C})]})}function mB(){D.useContext(wn);const[t,e]=D.useState({balance_idr:0,balance_usd:0,balance_btc:0,btcToIdr:0,usdToIdr:0}),[n,r]=D.useState(!1),[i,s]=D.useState(""),o=async()=>{r(!0),s("");try{const u=await Xr.getUserBalanceSummary();u.success&&e(g=>({...g,...u.data}));const f=await za.getBtcBalance();if(f.success&&f.data!==null&&f.data!==void 0){let g;if(f.data&&typeof f.data=="object"&&"Ok"in f.data?g=Number(f.data.Ok):g=Number(f.data),!isNaN(g)&&g>0)try{const p=await za.satoshisToBtc(g);if(p.success)e(v=>({...v,balance_btc:p.data||0}));else{const v=g/1e8;e(E=>({...E,balance_btc:v}))}}catch(p){console.error("Error converting BTC balance for portfolio:",p);const v=g/1e8;e(E=>({...E,balance_btc:v}))}else e(p=>({...p,balance_btc:0}))}else e(g=>({...g,balance_btc:0}));const h=await B0.getAllRates();if(h.success){const g=h.data;e(p=>{var v,E;return{...p,btcToIdr:((v=g.BTC)==null?void 0:v.IDR)||0,usdToIdr:((E=g.USD)==null?void 0:E.IDR)||0}})}}catch(u){s("Failed to load portfolio data"),console.error("Error loading portfolio data:",u)}finally{r(!1)}};D.useEffect(()=>{o()},[]);const a=D.useMemo(()=>{const u=Number(t.balance_idr||0),f=Number(t.balance_usd||0)*Number(t.usdToIdr||1),h=Number(t.balance_btc||0)*Number(t.btcToIdr||1),g=u+f+h;return[{label:"IDR",value:u,percent:g?u/g*100:0},{label:"USD",value:f,percent:g?f/g*100:0},{label:"BTC",value:h,percent:g?h/g*100:0}]},[t]),l={labels:a.map(u=>u.label),datasets:[{data:a.map(u=>u.value),backgroundColor:["#3B82F6","#10B981","#F59E0B"],borderWidth:2,borderColor:"#ffffff"}]},c={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Portfolio Value",data:[1e4,12e3,11e3,15e3,14e3,16e3],borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]};return n?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:i}),d.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Portfolio"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Portfolio Value"}),d.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["IDR ",(Number(t.balance_idr||0)+Number(t.balance_usd||0)*Number(t.usdToIdr||1)+Number(t.balance_btc||0)*Number(t.btcToIdr||1)).toLocaleString()]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"IDR Balance"}),d.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["IDR ",Number(t.balance_idr||0).toLocaleString()]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"BTC Balance"}),d.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[Number(t.balance_btc||0).toFixed(8)," BTC"]})]})})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-2",children:"Asset Allocation"}),d.jsx(Hi,{type:"pie",data:l})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-4",children:"Asset Allocation Progress"}),d.jsx("div",{className:"space-y-3",children:a.map((u,f)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[d.jsx("span",{children:u.label}),d.jsxs("span",{children:[Number(u.percent||0).toFixed(1),"%"]})]}),d.jsx(pl,{value:u.percent,max:100,color:f===0?"blue":f===1?"green":"yellow",size:"sm"})]},f))})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-2",children:"Portfolio Value Over Time"}),d.jsx(Hi,{type:"line",data:c})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-2",children:"Risk Analysis"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"Your portfolio is well diversified."})]})]})}function yB(){D.useContext(wn);const[t,e]=D.useState({walletAddress:"",btcBalance:0,btcTransactions:[]}),[n,r]=D.useState(!1),[i,s]=D.useState(""),[o,a]=D.useState(!1),[l,c]=D.useState(""),[u,f]=D.useState(!1),h=async()=>{r(!0),s("");try{const E=await Xr.getWalletAddress("BTC");E.success&&e(S=>({...S,walletAddress:E.data||""}));const b=await za.getBtcBalance();if(console.log("Balance result:",b),b.success&&b.data!==null&&b.data!==void 0){let S;if(b.data&&typeof b.data=="object"&&"Ok"in b.data?S=Number(b.data.Ok):S=Number(b.data),console.log("Satoshis:",S),!isNaN(S)&&S>0)try{const R=await za.satoshisToBtc(S);if(console.log("BTC result:",R),R.success)e(k=>({...k,btcBalance:R.data||0}));else{const k=S/1e8;console.log("Fallback BTC balance:",k),e(M=>({...M,btcBalance:k}))}}catch(R){console.error("Error in BTC conversion:",R);const k=S/1e8;e(M=>({...M,btcBalance:k}))}else console.log("Invalid satoshis:",S),e(R=>({...R,btcBalance:0}))}else console.log("No balance data:",b),e(S=>({...S,btcBalance:0}));const _=await za.fetchBtcTransactions();_.success&&e(S=>({...S,btcTransactions:_.data||[]}))}catch(E){s("Failed to load wallet data"),console.error("Error loading wallet data:",E)}finally{r(!1)}};D.useEffect(()=>{h()},[]);const g=async()=>{if(!l.trim()){alert("Please enter a valid BTC address");return}a(!0);try{const E=await Xr.setWalletAddress("BTC",l.trim());E.success?(e(b=>({...b,walletAddress:l.trim()})),c(""),f(!1),await h(),alert("Wallet connected successfully!")):alert("Failed to connect wallet: "+E.error)}catch(E){alert("Failed to connect wallet"),console.error("Error connecting wallet:",E)}finally{a(!1)}},p=async()=>{try{(await Xr.setWalletAddress("BTC","")).success&&e(b=>({...b,walletAddress:"",btcBalance:0,btcTransactions:[]}))}catch(E){alert("Failed to disconnect wallet"),console.error("Error disconnecting wallet:",E)}},v=async()=>{try{await h()}catch(E){alert("Failed to refresh data"),console.error("Error refreshing data:",E)}};return n?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:i}),d.jsx("button",{onClick:h,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Wallets"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsxs(ke,{className:"flex flex-col items-center",children:[d.jsx("div",{className:"font-semibold mb-2",children:"BTC (Bitcoin)"}),t.walletAddress?d.jsxs("div",{className:"text-center mb-2",children:[d.jsx(Ar,{color:"green",size:"sm",className:"mb-2",children:"Connected"}),d.jsx(Ce,{variant:"danger",size:"sm",onClick:p,className:"mt-2",children:"Disconnect"})]}):d.jsx("div",{className:"text-center mb-2",children:u?d.jsxs("div",{className:"space-y-2",children:[d.jsx(dn,{placeholder:"Enter BTC address",value:l,onChange:E=>c(E.target.value),className:"mb-2"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ce,{variant:"primary",onClick:g,loading:o,size:"sm",children:"Connect"}),d.jsx(Ce,{variant:"secondary",onClick:()=>{f(!1),c("")},size:"sm",children:"Cancel"})]})]}):d.jsx(Ce,{variant:"secondary",onClick:()=>f(!0),className:"mb-2",children:"Connect Wallet"})}),d.jsxs("div",{className:"text-gray-500 text-sm mb-1",children:["Address: ",d.jsx("span",{className:"font-mono text-xs",children:t.walletAddress||"-"})]}),d.jsxs("div",{className:"text-gray-500 text-sm mb-2",children:["Balance: ",Number(t.btcBalance||0).toFixed(8)," BTC"]}),d.jsx(Ce,{variant:"secondary",size:"sm",onClick:v,disabled:!t.walletAddress,children:"Refresh"})]}),d.jsxs(ke,{className:"flex flex-col items-center",children:[d.jsx("div",{className:"font-semibold mb-2",children:"ETH (Ethereum)"}),d.jsx(Ce,{variant:"secondary",disabled:!0,className:"mb-2",children:"Coming Soon"}),d.jsxs("div",{className:"text-gray-500 text-sm mb-1",children:["Address: ",d.jsx("span",{className:"font-mono text-xs",children:"-"})]}),d.jsx("div",{className:"text-gray-500 text-sm",children:"Balance: 0 ETH"})]}),d.jsxs(ke,{className:"flex flex-col items-center",children:[d.jsx("div",{className:"font-semibold mb-2",children:"SOL (Solana)"}),d.jsx(Ce,{variant:"secondary",disabled:!0,className:"mb-2",children:"Coming Soon"}),d.jsxs("div",{className:"text-gray-500 text-sm mb-1",children:["Address: ",d.jsx("span",{className:"font-mono text-xs",children:"-"})]}),d.jsx("div",{className:"text-gray-500 text-sm",children:"Balance: 0 SOL"})]})]}),d.jsxs(ke,{className:"mt-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("div",{className:"font-semibold",children:"Recent Wallet Transactions"}),d.jsx(Ce,{variant:"secondary",size:"sm",onClick:v,disabled:!t.walletAddress,children:"Refresh"})]}),t.btcTransactions&&t.btcTransactions.length>0?d.jsx("div",{className:"space-y-2",children:t.btcTransactions.map((E,b)=>d.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-sm",children:E.description||"Transaction"}),d.jsx("div",{className:"text-xs text-gray-500",children:E.date?new Date(E.date).toLocaleDateString():new Date(Number(E.timestamp)/1e6).toLocaleDateString()})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:`font-medium text-sm ${Number(E.amount)>0?"text-green-600":"text-red-600"}`,children:[Number(E.amount)>0?"+":"",Number(E.amount||0).toFixed(8)," BTC"]}),d.jsx(Ar,{color:Number(E.amount)>0?"green":"red",size:"sm",children:Number(E.amount)>0?"Received":"Sent"})]})]},b))}):d.jsx("div",{className:"text-center py-8 text-gray-500",children:t.walletAddress?"No transactions found":"Connect a wallet to view transactions"})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-4",children:"Wallet Management"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-sm text-gray-500",children:[d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Bitcoin Regtest:"})," Use addresses from your local Bitcoin regtest"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Real-time sync:"})," Transactions are automatically synced from blockchain"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Balance tracking:"})," Real-time balance updates from Bitcoin API"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Transaction history:"})," View all incoming and outgoing transactions"]})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"How to Test:"}),d.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[d.jsxs("p",{children:["1. Start Bitcoin regtest: ",d.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:"bitcoind -regtest -daemon"})]}),d.jsxs("p",{children:["2. Generate address: ",d.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:"bitcoin-cli -regtest getnewaddress"})]}),d.jsxs("p",{children:["3. Send test BTC: ",d.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:'bitcoin-cli -regtest sendtoaddress "address" 0.001'})]}),d.jsx("p",{children:"4. Connect wallet in FinTrack with the address"}),d.jsx("p",{children:'5. Click "Refresh" to sync blockchain data'})]})]})]})]})]})}function Xd({className:t=""}){const{currency:e,setCurrency:n}=D.useContext(wn),r=[{value:"idr",label:"IDR",symbol:"Rp"},{value:"usd",label:"USD",symbol:"$"},{value:"btc",label:"BTC",symbol:""},{value:"eth",label:"ETH",symbol:""},{value:"sol",label:"SOL",symbol:""}];return d.jsx("select",{className:`rounded px-2 py-1 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 ${t}`,value:e,onChange:i=>n(i.target.value),children:r.map(i=>d.jsxs("option",{value:i.value,children:[i.symbol," ",i.label]},i.value))})}function xB({tabs:t=[],defaultActive:e=0,className:n="",...r}){var o;const[i,s]=D.useState(e);return d.jsxs("div",{className:n,...r,children:[d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:d.jsx("nav",{className:"-mb-px flex space-x-8",children:t.map((a,l)=>d.jsx("button",{onClick:()=>s(l),className:`py-2 px-1 border-b-2 font-medium text-sm ${i===l?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:a.label},l))})}),d.jsx("div",{className:"mt-4",children:(o=t[i])==null?void 0:o.content})]})}function bB(){const{currency:t,setCurrency:e}=D.useContext(wn),[n,r]=D.useState([]),[i,s]=D.useState(0),[o,a]=D.useState(0),[l,c]=D.useState(!1),[u,f]=D.useState(""),[h,g]=D.useState("ALL"),p=async()=>{c(!0),f("");try{const R=await Jn.getTransactions();R.success&&r(R.data);const k=await Jn.getTotalIncome();k.success&&s(k.data);const M=await Jn.getTotalExpense();M.success&&a(M.data)}catch(R){f("Failed to load analytics data"),console.error("Error loading analytics data:",R)}finally{c(!1)}};D.useEffect(()=>{p()},[t]);const v=D.useMemo(()=>n.reduce((R,k)=>(k.is_income||(R[k.category]=(R[k.category]||0)+k.amount),R),{}),[n]),E={labels:["Income","Expense"],datasets:[{label:"Amount",data:[i||0,o||0],backgroundColor:["#10B981","#EF4444"],borderWidth:1}]},b={labels:Object.keys(v),datasets:[{data:Object.values(v),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"],borderWidth:2,borderColor:"#ffffff"}]},_={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Income",data:[12e3,15e3,13e3,18e3,16e3,2e4],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4},{label:"Expense",data:[8e3,12e3,1e4,15e3,14e3,16e3],borderColor:"#EF4444",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]},S=[{label:"Income vs Expense",content:d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-2",children:"Income vs Expense"}),d.jsxs("div",{className:"mb-2",children:[d.jsxs("span",{className:"text-green-600",children:["Income: ",t," ",(i==null?void 0:i.toLocaleString())||0]})," |",d.jsxs("span",{className:"text-red-600",children:[" Expense: ",t," ",(o==null?void 0:o.toLocaleString())||0]})]}),d.jsx(Hi,{type:"bar",data:E})]})},{label:"Category Breakdown",content:d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-2",children:"Category Breakdown"}),d.jsx(Hi,{type:"doughnut",data:b})]})},{label:"Monthly Trend",content:d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-2",children:"Monthly Trend"}),d.jsx(Hi,{type:"line",data:_})]})},{label:"AI Insights",content:d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-1",children:"AI Insights"}),d.jsxs("div",{className:"text-gray-500 text-sm",children:[d.jsx("p",{children:" Your spending on Food & Dining increased by 15% this month"}),d.jsx("p",{children:" Consider reducing entertainment expenses to meet your budget"}),d.jsx("p",{children:" Your savings rate is above average for your income level"})]})]})}];return l?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):u?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:u}),d.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx(_u,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Analytics",href:"/analytics"}],className:"mb-4"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:"Analytics"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Xd,{}),d.jsxs(vu,{value:h,onChange:R=>g(R.target.value),children:[d.jsx("option",{value:"ALL",children:"All Chains"}),d.jsx("option",{value:"BTC",children:"Bitcoin"}),d.jsx("option",{value:"ETH",children:"Ethereum"}),d.jsx("option",{value:"SOL",children:"Solana"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Income"}),d.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[t," ",(i==null?void 0:i.toLocaleString())||0]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Expense"}),d.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[t," ",(o==null?void 0:o.toLocaleString())||0]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Net Savings"}),d.jsxs("p",{className:`text-3xl font-bold ${i-o>=0?"text-green-600":"text-red-600"}`,children:[t," ",(i-o).toLocaleString()||0]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Savings Rate"}),d.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[i>0?((i-o)/i*100).toFixed(1):0,"%"]})]})})]}),d.jsx(xB,{tabs:S})]})}function wB(){D.useContext(wn);const[t,e]=D.useState([]),[n,r]=D.useState(""),[i,s]=D.useState(!1),[o,a]=D.useState(""),[l,c]=D.useState(!1),u=async()=>{try{e([{id:1,role:"assistant",content:"Hello! I'm your AI financial advisor. I can help you with budgeting, investment advice, and financial planning. What would you like to know?",timestamp:new Date().toISOString()}])}catch(v){a("Failed to load chat history"),console.error("Error loading chat history:",v)}};D.useEffect(()=>{u()},[]);const f=async v=>{c(!0);try{const E={id:Date.now(),role:"user",content:v,timestamp:new Date().toISOString()};e(b=>[...b,E]),setTimeout(()=>{const b={id:Date.now()+1,role:"assistant",content:h(v),timestamp:new Date().toISOString()};e(_=>[..._,b]),c(!1)},2e3)}catch(E){a("Failed to get AI advice"),console.error("Error getting AI advice:",E),c(!1)}},h=v=>{const E=v.toLowerCase();return E.includes("budget")||E.includes("spending")?"Based on your spending patterns, I recommend setting aside 20% of your income for savings and limiting discretionary spending to 30%. Consider using the 50/30/20 rule: 50% for needs, 30% for wants, 20% for savings.":E.includes("invest")||E.includes("investment")?"For investment advice, I recommend starting with a diversified portfolio: 60% stocks, 30% bonds, 10% alternative investments. Consider low-cost index funds for long-term growth. Always do your own research and consider consulting a financial advisor.":E.includes("save")||E.includes("saving")?'Great question! Start by building an emergency fund of 3-6 months of expenses. Then focus on high-yield savings accounts and consider automated savings transfers. Set specific goals like "save $10,000 for emergency fund" to stay motivated.':E.includes("debt")||E.includes("loan")?"For debt management, prioritize high-interest debt first (credit cards). Consider the debt snowball or avalanche method. Focus on paying more than minimum payments and avoid taking on new debt while paying off existing balances.":"I'm here to help with your financial questions! You can ask me about budgeting, saving, investing, debt management, or any other financial topics. What specific area would you like to discuss?"},g=async v=>{v.preventDefault(),!(!n.trim()||i)&&(s(!0),await f(n),r(""),s(!1))},p=()=>{e([{id:Date.now(),role:"assistant",content:"Chat history cleared. How can I help you today?",timestamp:new Date().toISOString()}])};return o?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:o}),d.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:"AI Financial Advisor"}),d.jsx(Ce,{variant:"secondary",onClick:p,children:"Clear Chat"})]}),d.jsxs(ke,{className:"h-96 flex flex-col",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map(v=>d.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${v.role==="user"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}`,children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[d.jsx("span",{className:"text-xs font-medium",children:v.role==="user"?"You":"AI Advisor"}),d.jsx(Ar,{color:v.role==="user"?"blue":"green",size:"sm",children:v.role==="user"?"User":"AI"})]}),d.jsx("p",{className:"text-sm",children:v.content}),d.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(v.timestamp).toLocaleTimeString()})]})},v.id)),l&&d.jsx("div",{className:"flex justify-start",children:d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white max-w-xs lg:max-w-md px-4 py-2 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[d.jsx("span",{className:"text-xs font-medium",children:"AI Advisor"}),d.jsx(Ar,{color:"green",size:"sm",children:"AI"})]}),d.jsxs("div",{className:"flex space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})]}),d.jsx("div",{className:"border-t p-4",children:d.jsxs("form",{className:"flex gap-2",onSubmit:g,children:[d.jsx(dn,{placeholder:"Ask me about budgeting, investing, saving, or debt management...",value:n,onChange:v=>r(v.target.value),disabled:i||l,className:"flex-1"}),d.jsx(Ce,{type:"submit",loading:i,disabled:l,children:"Send"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:""}),d.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Budgeting"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Get personalized budget advice"})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:""}),d.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Investing"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Investment strategies and tips"})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:""}),d.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Saving"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Smart saving strategies"})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:""}),d.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Debt"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Debt management advice"})]})})]}),d.jsxs(ke,{children:[d.jsx("h3",{className:"font-semibold mb-4",children:"AI Capabilities"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium mb-2",children:"Financial Analysis"}),d.jsxs("ul",{className:"space-y-1 text-gray-600 dark:text-gray-400",children:[d.jsx("li",{children:" Spending pattern analysis"}),d.jsx("li",{children:" Budget optimization"}),d.jsx("li",{children:" Investment recommendations"}),d.jsx("li",{children:" Risk assessment"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium mb-2",children:"Personalized Advice"}),d.jsxs("ul",{className:"space-y-1 text-gray-600 dark:text-gray-400",children:[d.jsx("li",{children:" Goal-based planning"}),d.jsx("li",{children:" Debt management strategies"}),d.jsx("li",{children:" Tax optimization tips"}),d.jsx("li",{children:" Emergency fund guidance"})]})]})]})]})]})}function z2({isOpen:t,onClose:e,title:n,children:r,size:i="md"}){if(D.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const s={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return d.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),d.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:d.jsxs("div",{className:`relative w-full ${s[i]} bg-white dark:bg-gray-800 rounded-lg shadow-xl`,children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"p-4",children:r})]})})]})}function vB(){const{currency:t,setCurrency:e}=D.useContext(wn),[n,r]=D.useState([]),[i,s]=D.useState(!1),[o,a]=D.useState(""),[l,c]=D.useState(!1),[u,f]=D.useState(null),[h,g]=D.useState({category:"",budget:"",period:""}),p=async()=>{s(!0),a("");try{const C=await Yy.getBudgets();C.success?r(C.data):a(C.error||"Failed to load budgets")}catch(C){a("Failed to load budgets"),console.error("Error loading budgets:",C)}finally{s(!1)}};D.useEffect(()=>{p()},[]);const v=n.reduce((C,U)=>C+U.budget,0),E=n.reduce((C,U)=>C+U.spent,0),b=v-E,_={labels:n.map(C=>C.category),datasets:[{label:"Budget",data:n.map(C=>C.budget),backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)",borderWidth:1},{label:"Spent",data:n.map(C=>C.spent),backgroundColor:"rgba(239, 68, 68, 0.5)",borderColor:"rgb(239, 68, 68)",borderWidth:1}]},S=()=>{f(null),g({category:"",budget:"",period:""}),c(!0)},R=C=>{f(C),g({category:C.category,budget:C.budget.toString(),period:C.period}),c(!0)},k=async()=>{if(!h.category||!h.budget||!h.period){alert("Please fill all fields");return}try{const C={category:h.category,budget:parseFloat(h.budget),currency:t,period:h.period},U=await Yy.addBudget(C.category,C.budget,C.currency,C.period);U.success?(c(!1),p()):alert(U.error||"Failed to save budget")}catch(C){alert("Failed to save budget"),console.error("Error saving budget:",C)}},M=async C=>{if(confirm("Are you sure you want to delete this budget?"))try{console.log("Delete budget:",C),p()}catch(U){alert("Failed to delete budget"),console.error("Error deleting budget:",U)}};return i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:o}),d.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Budget Planning"}),d.jsx(Ce,{onClick:S,variant:"primary",children:"+ Add Budget"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Budget"}),d.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[t," ",v.toLocaleString()]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Spent"}),d.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[t," ",E.toLocaleString()]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Remaining"}),d.jsxs("p",{className:`text-3xl font-bold ${b>=0?"text-green-600":"text-red-600"}`,children:[t," ",b.toLocaleString()]})]})})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(Xd,{})}),d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Budget vs Spent"}),d.jsx(Hi,{type:"bar",data:_,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Budget Overview"}}}})]}),d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Budget Categories"}),d.jsx("div",{className:"space-y-4",children:n.map(C=>{const U=C.spent/C.budget*100,I=U>100;return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:C.category}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Period: ",C.period]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[C.currency," ",C.spent.toLocaleString()," / ",C.budget.toLocaleString()]}),d.jsxs("p",{className:`text-sm font-medium ${I?"text-red-600":"text-green-600"}`,children:[U.toFixed(1),"%"]})]})]}),d.jsx(pl,{value:Math.min(U,100),max:100,color:I?"red":U>80?"yellow":"green"}),d.jsxs("div",{className:"flex justify-end mt-2 space-x-2",children:[d.jsx(Ce,{size:"sm",variant:"secondary",onClick:()=>R(C),children:"Edit"}),d.jsx(Ce,{size:"sm",variant:"danger",onClick:()=>M(C.id),children:"Delete"})]})]},C.id)})})]}),d.jsx(z2,{isOpen:l,onClose:()=>c(!1),children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:u?"Edit Budget":"Add Budget"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),d.jsx(dn,{value:h.category,onChange:C=>g({...h,category:C.target.value}),placeholder:"e.g., Food & Dining"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Budget Amount"}),d.jsx(dn,{type:"number",value:h.budget,onChange:C=>g({...h,budget:C.target.value}),placeholder:"Enter budget amount"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Period"}),d.jsx(dn,{type:"month",value:h.period,onChange:C=>g({...h,period:C.target.value})})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[d.jsx(Ce,{variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),d.jsxs(Ce,{variant:"primary",onClick:k,children:[u?"Update":"Add"," Budget"]})]})]})})]})}function _B({items:t=[],className:e="",...n}){return d.jsx("div",{className:`flow-root ${e}`,...n,children:d.jsx("ul",{className:"-mb-8",children:t.map((r,i)=>d.jsx("li",{children:d.jsxs("div",{className:"relative pb-8",children:[i!==t.length-1&&d.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-700","aria-hidden":"true"}),d.jsxs("div",{className:"relative flex space-x-3",children:[d.jsx("div",{children:d.jsx("span",{className:`h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white dark:ring-gray-800 ${r.variant==="success"?"bg-green-500":r.variant==="warning"?"bg-yellow-500":r.variant==="danger"?"bg-red-500":"bg-blue-500"}`,children:r.icon||d.jsx("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})}),d.jsxs("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[d.jsx("div",{children:d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.content})}),d.jsx("div",{className:"text-right text-sm whitespace-nowrap text-gray-500 dark:text-gray-400",children:d.jsx("time",{dateTime:r.dateTime,children:r.date})})]})]})]})},i))})})}function EB(){const{currency:t,setCurrency:e}=D.useContext(wn),[n,r]=D.useState([]),[i,s]=D.useState(!1),[o,a]=D.useState(""),[l,c]=D.useState(!1),[u,f]=D.useState(null),[h,g]=D.useState({title:"",description:"",targetAmount:"",currentAmount:"",deadline:"",category:"",priority:"medium"}),p=async()=>{s(!0),a("");try{const I=await Xy.getGoals();I.success?r(I.data):a(I.error||"Failed to load goals")}catch(I){a("Failed to load goals"),console.error("Error loading goals:",I)}finally{s(!1)}};D.useEffect(()=>{p()},[]);const v=I=>{switch(I){case"high":return"red";case"medium":return"yellow";case"low":return"green";default:return"gray"}},E=n.reduce((I,V)=>I+V.targetAmount,0),b=n.reduce((I,V)=>I+V.currentAmount,0),_=b/E*100,S=n.filter(I=>I.status==="active"),R=n.filter(I=>I.status==="completed"),k=()=>{f(null),g({title:"",description:"",targetAmount:"",currentAmount:"",deadline:"",category:"",priority:"medium"}),c(!0)},M=I=>{f(I),g({title:I.title,description:I.description,targetAmount:I.targetAmount.toString(),currentAmount:I.currentAmount.toString(),deadline:I.deadline,category:I.category,priority:I.priority}),c(!0)},C=async()=>{if(!h.title||!h.targetAmount||!h.currentAmount||!h.deadline){alert("Please fill all required fields");return}try{const I={title:h.title,description:h.description,targetAmount:parseFloat(h.targetAmount),currentAmount:parseFloat(h.currentAmount),currency:t,deadline:h.deadline,category:h.category,priority:h.priority},V=await Xy.addGoal(I.title,I.description,I.targetAmount,I.currentAmount,I.currency,I.deadline,I.category,I.priority);V.success?(c(!1),p()):alert(V.error||"Failed to save goal")}catch(I){alert("Failed to save goal"),console.error("Error saving goal:",I)}},U=async I=>{if(confirm("Are you sure you want to delete this goal?"))try{console.log("Delete goal:",I),p()}catch(V){alert("Failed to delete goal"),console.error("Error deleting goal:",V)}};return i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:o}),d.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Financial Goals"}),d.jsx(Ce,{onClick:k,variant:"primary",children:"+ Add Goal"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Target"}),d.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[t," ",E.toLocaleString()]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Saved"}),d.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[t," ",b.toLocaleString()]})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Active Goals"}),d.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:S.length})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Completed Goals"}),d.jsx("p",{className:"text-3xl font-bold text-green-600",children:R.length})]})})]}),d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Overall Progress"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),d.jsxs("span",{className:"font-medium",children:[_.toFixed(1),"%"]})]}),d.jsx(pl,{value:_,max:100,color:_>=100?"green":_>50?"yellow":"blue"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(Xd,{})}),d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Active Goals"}),d.jsx("div",{className:"space-y-4",children:S.map(I=>{const V=I.currentAmount/I.targetAmount*100,ie=Math.ceil((new Date(I.deadline)-new Date)/(1e3*60*60*24));return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:I.title}),d.jsx(Ar,{color:v(I.priority),size:"sm",children:I.priority})]}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:I.description}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[d.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Category: ",I.category]}),d.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Deadline: ",new Date(I.deadline).toLocaleDateString()]}),ie>0&&d.jsxs("span",{className:"text-yellow-600",children:[ie," days left"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[I.currency," ",I.currentAmount.toLocaleString()," / ",I.targetAmount.toLocaleString()]}),d.jsxs("p",{className:"text-sm font-medium text-green-600",children:[V.toFixed(1),"%"]})]})]}),d.jsx(pl,{value:V,max:100,color:V>=100?"green":V>50?"yellow":"blue"}),d.jsxs("div",{className:"flex justify-end mt-2 space-x-2",children:[d.jsx(Ce,{size:"sm",variant:"secondary",onClick:()=>M(I),children:"Edit"}),d.jsx(Ce,{size:"sm",variant:"danger",onClick:()=>U(I.id),children:"Delete"})]})]},I.id)})})]}),R.length>0&&d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Completed Goals"}),d.jsx("div",{className:"space-y-4",children:R.map(I=>d.jsx("div",{className:"border rounded-lg p-4 bg-green-50 dark:bg-green-900/20",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:I.title}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:I.description}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Completed: ",new Date(I.deadline).toLocaleDateString()]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[I.currency," ",I.targetAmount.toLocaleString()]}),d.jsx(Ar,{color:"green",size:"sm",children:"Completed"})]})]})},I.id))})]}),d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activities"}),d.jsx(_B,{items:[{content:'Goal "Dana Darurat" updated',date:"2 hours ago",variant:"success"},{content:'New goal "DP Rumah" created',date:"1 day ago",variant:"primary"},{content:'Goal "Liburan Keluarga" progress updated',date:"2 days ago",variant:"warning"}]})]}),d.jsx(z2,{isOpen:l,onClose:()=>c(!1),children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:u?"Edit Goal":"Add Goal"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title *"}),d.jsx(dn,{value:h.title,onChange:I=>g({...h,title:I.target.value}),placeholder:"e.g., Emergency Fund"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),d.jsx(dn,{value:h.description,onChange:I=>g({...h,description:I.target.value}),placeholder:"Describe your goal"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Amount *"}),d.jsx(dn,{type:"number",value:h.targetAmount,onChange:I=>g({...h,targetAmount:I.target.value}),placeholder:"Enter target amount"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Amount *"}),d.jsx(dn,{type:"number",value:h.currentAmount,onChange:I=>g({...h,currentAmount:I.target.value}),placeholder:"Enter current amount"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Deadline *"}),d.jsx(dn,{type:"date",value:h.deadline,onChange:I=>g({...h,deadline:I.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),d.jsx(dn,{value:h.category,onChange:I=>g({...h,category:I.target.value}),placeholder:"e.g., Emergency Fund"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Priority"}),d.jsxs("select",{value:h.priority,onChange:I=>g({...h,priority:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"low",children:"Low"}),d.jsx("option",{value:"medium",children:"Medium"}),d.jsx("option",{value:"high",children:"High"})]})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[d.jsx(Ce,{variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),d.jsxs(Ce,{variant:"primary",onClick:C,children:[u?"Update":"Add"," Goal"]})]})]})})]})}function SB(){const[t,e]=D.useState([]),[n,r]=D.useState(!1),[i,s]=D.useState(""),[o,a]=D.useState("all"),[l,c]=D.useState(!0),u=async()=>{r(!0),s("");try{const k=await j0.getNotifications(null,l);k.success?e(k.data):s(k.error||"Failed to load notifications")}catch(k){s("Failed to load notifications"),console.error("Error loading notifications:",k)}finally{r(!1)}};D.useEffect(()=>{u()},[l]);const f=k=>{switch(k){case"success":return"green";case"warning":return"yellow";case"danger":return"red";case"info":return"blue";default:return"gray"}},h=k=>{switch(k){case"budget":return"";case"goal":return"";case"transaction":return"";case"market":return"";case"payment":return"";case"ai":return"";default:return""}},g=k=>{const M=new Date(k),U=new Date-M,I=Math.floor(U/6e4),V=Math.floor(U/36e5),ie=Math.floor(U/864e5);return I<1?"Baru saja":I<60?`${I} menit yang lalu`:V<24?`${V} jam yang lalu`:ie<7?`${ie} hari yang lalu`:M.toLocaleDateString()},p=t.filter(k=>o==="all"?!0:k.category===o),v=t.filter(k=>!k.isRead).length,E=t.filter(k=>k.isRead).length,b=async k=>{try{const M=await j0.markAsRead(k);M.success?u():alert(M.error||"Failed to mark as read")}catch(M){alert("Failed to mark as read"),console.error("Error marking as read:",M)}},_=async()=>{try{console.log("Mark all as read"),u()}catch(k){alert("Failed to mark all as read"),console.error("Error marking all as read:",k)}},S=async k=>{if(confirm("Are you sure you want to delete this notification?"))try{console.log("Delete notification:",k),u()}catch(M){alert("Failed to delete notification"),console.error("Error deleting notification:",M)}},R=async()=>{if(confirm("Are you sure you want to delete all notifications?"))try{console.log("Delete all notifications"),u()}catch(k){alert("Failed to delete all notifications"),console.error("Error deleting all notifications:",k)}};return n?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:i}),d.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Notifications"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ce,{variant:"secondary",onClick:_,children:"Mark All as Read"}),d.jsx(Ce,{variant:"danger",onClick:R,children:"Delete All"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Notifications"}),d.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Unread"}),d.jsx("p",{className:"text-3xl font-bold text-red-600",children:v})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Read"}),d.jsx("p",{className:"text-3xl font-bold text-green-600",children:E})]})})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filter:"}),d.jsxs("select",{value:o,onChange:k=>a(k.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"budget",children:"Budget"}),d.jsx("option",{value:"goal",children:"Goal"}),d.jsx("option",{value:"transaction",children:"Transaction"}),d.jsx("option",{value:"market",children:"Market"}),d.jsx("option",{value:"payment",children:"Payment"}),d.jsx("option",{value:"ai",children:"AI"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",id:"showRead",checked:l,onChange:k=>c(k.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"showRead",className:"text-sm text-gray-700 dark:text-gray-300",children:"Show read notifications"})]})]}),d.jsxs(ke,{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Notifications"}),p.length===0?d.jsx("div",{className:"text-center py-8",children:d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No notifications found"})}):d.jsx("div",{className:"space-y-4",children:p.map(k=>d.jsx("div",{className:`border rounded-lg p-4 ${k.isRead?"bg-gray-50 dark:bg-gray-800":"bg-white dark:bg-gray-700 border-blue-200"}`,children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx("span",{className:"text-lg",children:h(k.category)}),d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:k.title}),d.jsx(Ar,{color:f(k.type),size:"sm",children:k.type}),!k.isRead&&d.jsx(Ar,{color:"blue",size:"sm",children:"New"})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:k.message}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:g(k.timestamp)}),d.jsx("span",{className:"text-gray-500 dark:text-gray-400 capitalize",children:k.category})]})]}),d.jsxs("div",{className:"flex space-x-2 ml-4",children:[!k.isRead&&d.jsx(Ce,{size:"sm",variant:"secondary",onClick:()=>b(k.id),children:"Mark Read"}),d.jsx(Ce,{size:"sm",variant:"danger",onClick:()=>S(k.id),children:"Delete"})]})]})},k.id))})]})]})}function kB({src:t,alt:e,initials:n,icon:r,size:i="md",className:s="",...o}){const a={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"},l="inline-flex items-center justify-center rounded-full bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium";return t?d.jsx("img",{src:t,alt:e,className:`rounded-full object-cover ${a[i]} ${s}`,...o}):r?d.jsx("div",{className:`${l} ${a[i]} ${s}`,...o,children:r}):d.jsx("div",{className:`${l} ${a[i]} ${s}`,...o,children:n||"U"})}function fh({checked:t=!1,onChange:e,label:n,disabled:r=!1,className:i="",...s}){return d.jsxs("label",{className:`inline-flex items-center cursor-pointer ${r?"opacity-50 cursor-not-allowed":""} ${i}`,...s,children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"checkbox",className:"sr-only",checked:t,onChange:e,disabled:r}),d.jsx("div",{className:`w-11 h-6 bg-gray-200 dark:bg-gray-700 rounded-full transition-colors ${t?"bg-blue-600":""}`,children:d.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transform transition-transform ${t?"translate-x-5":"translate-x-0"}`})})]}),n&&d.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-white",children:n})]})}function NB(){var v;D.useContext(wn);const[t,e]=D.useState({name:"",email:"",avatar:""}),[n,r]=D.useState({theme:"light",emailNotifications:!0,pushNotifications:!0,autoSync:!0}),[i,s]=D.useState(!1),[o,a]=D.useState(""),[l,c]=D.useState(!1),u=async()=>{s(!0),a("");try{const E=await Xr.getUserSummary();E.success&&e(b=>{var _,S;return{...b,name:((_=E.data)==null?void 0:_.name)||"",email:((S=E.data)==null?void 0:S.email)||""}})}catch(E){a("Failed to load profile and settings"),console.error("Error loading profile and settings:",E)}finally{s(!1)}};D.useEffect(()=>{u()},[]);const f=async()=>{c(!0);try{console.log("Saving profile:",t),alert("Profile updated successfully!")}catch(E){alert("Failed to update profile"),console.error("Error updating profile:",E)}finally{c(!1)}},h=async()=>{c(!0);try{console.log("Saving settings:",n),alert("Settings updated successfully!")}catch(E){alert("Failed to update settings"),console.error("Error updating settings:",E)}finally{c(!1)}},g=async()=>{try{await Ur.logout()}catch(E){alert("Failed to logout"),console.error("Error logging out:",E)}},p=()=>{r(E=>({...E,theme:E.theme==="light"?"dark":"light"}))};return i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-red-600 text-xl mb-4",children:o}),d.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):d.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Settings & Profile"}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Profile"}),d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx(kB,{initials:((v=t==null?void 0:t.name)==null?void 0:v.charAt(0))||"U",size:"lg"}),d.jsxs("div",{className:"flex-1",children:[d.jsx(dn,{placeholder:"Display Name",value:t.name,onChange:E=>e(b=>({...b,name:E.target.value})),className:"mb-2 w-full"}),d.jsx(dn,{type:"email",placeholder:"Email",value:t.email,onChange:E=>e(b=>({...b,email:E.target.value})),className:"w-full"})]})]}),d.jsx(Ce,{onClick:f,loading:l,children:"Save Profile"})]}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Preferences"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Default Currency"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Choose your preferred currency"})]}),d.jsx(Xd,{})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Theme"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Light or dark mode"})]}),d.jsx(Ce,{variant:"secondary",size:"sm",onClick:p,children:n.theme==="dark"?"Dark":"Light"})]})]}),d.jsx(Ce,{onClick:h,loading:l,className:"mt-4",children:"Save Preferences"})]}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Notifications"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Notifications"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Receive updates via email"})]}),d.jsx(fh,{checked:n.emailNotifications,onChange:E=>r(b=>({...b,emailNotifications:E}))})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Push Notifications"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Receive real-time alerts"})]}),d.jsx(fh,{checked:n.pushNotifications,onChange:E=>r(b=>({...b,pushNotifications:E}))})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Auto Sync"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Automatically sync data"})]}),d.jsx(fh,{checked:n.autoSync,onChange:E=>r(b=>({...b,autoSync:E}))})]})]}),d.jsx(Ce,{onClick:h,loading:l,className:"mt-4",children:"Save Notifications"})]}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Security"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Two-Factor Authentication"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Add an extra layer of security"})]}),d.jsx(Ar,{color:"yellow",size:"sm",children:"Not Enabled"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Session Management"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Manage active sessions"})]}),d.jsx(Ce,{variant:"secondary",size:"sm",children:"Manage"})]})]})]}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Data Management"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Export Data"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Download your financial data"})]}),d.jsx(Ce,{variant:"secondary",size:"sm",children:"Export"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Delete Account"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Permanently delete your account"})]}),d.jsx(Ce,{variant:"danger",size:"sm",children:"Delete"})]})]})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"font-semibold mb-4",children:"Account Actions"}),d.jsx("div",{className:"space-y-2",children:d.jsx(Ce,{variant:"danger",onClick:g,className:"w-full",children:"Logout"})})]})]})}function hb({items:t=[],allowMultiple:e=!1,className:n="",...r}){const[i,s]=D.useState(new Set),o=a=>{if(e){const l=new Set(i);l.has(a)?l.delete(a):l.add(a),s(l)}else{const l=new Set;i.has(a)||l.add(a),s(l)}};return d.jsx("div",{className:`space-y-2 ${n}`,...r,children:t.map((a,l)=>d.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg",children:[d.jsxs("button",{onClick:()=>o(l),className:"w-full px-4 py-3 text-left flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[d.jsx("span",{className:"font-medium",children:a.title}),d.jsx("svg",{className:`w-5 h-5 transform transition-transform ${i.has(l)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.has(l)&&d.jsx("div",{className:"px-4 pb-3 border-t border-gray-200 dark:border-gray-700",children:d.jsx("div",{className:"pt-3",children:a.content})})]},l))})}function TB(){const t=[{title:"How to connect my wallet?",content:'Go to the Wallets page and click "Connect" on your desired wallet (BTC, ETH, SOL). Then approve the connection in your wallet extension/app.'},{title:"How to add a transaction?",content:'Click the "+ Add Transaction" button on the Dashboard or Transactions page. Fill in the details and click Save.'},{title:"How to export my data?",content:'Go to the Transactions page and click "Export CSV" to download your transaction data.'}],e=[{title:"Getting Started",content:`1. Sign in with Internet Identity
2. Connect your wallets
3. Add your first transaction
4. Explore the dashboard and analytics.`},{title:"Wallet Connection",content:`1. Go to the Wallets page
2. Click "Connect" on your desired wallet (BTC, ETH, SOL)
3. Approve connection in your wallet extension/app
4. Your wallet address and balance will be displayed.`},{title:"Portfolio Management",content:"View your asset allocation, track portfolio performance, and get insights from the Portfolio and Analytics pages."}];return d.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Help & About"}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Frequently Asked Questions"}),d.jsx(hb,{items:t})]}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-4",children:"Tutorials"}),d.jsx(hb,{items:e,allowMultiple:!0})]}),d.jsxs(ke,{className:"mb-4",children:[d.jsx("div",{className:"font-semibold mb-2",children:"Version Info"}),d.jsx("div",{children:"FinTrack v2.0.0"})]}),d.jsx(ke,{children:d.jsx("a",{href:"https://github.com/demigohu/FinTrack",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"GitHub Repository"})})]})}function AB(){const{isLoggedIn:t}=D.useContext(wn),n=ii().pathname==="/login";return d.jsx(hT,{children:d.jsxs("div",{className:"min-h-screen flex bg-gray-50 dark:bg-gray-900",children:[!n&&d.jsx(gT,{}),d.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[d.jsx("main",{className:"flex-1 p-2 sm:p-6",children:d.jsxs(F1,{children:[d.jsx(Jt,{path:"/login",element:t?d.jsx(An,{to:"/dashboard"}):d.jsx(wT,{})}),d.jsx(Jt,{path:"/dashboard",element:t?d.jsx(lB,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/transactions",element:t?d.jsx(gB,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/portfolio",element:t?d.jsx(mB,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/wallets",element:t?d.jsx(yB,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/analytics",element:t?d.jsx(bB,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/ai-advisor",element:t?d.jsx(wB,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/budget",element:t?d.jsx(vB,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/goals",element:t?d.jsx(EB,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/notifications",element:t?d.jsx(SB,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/settings",element:t?d.jsx(NB,{}):d.jsx(An,{to:"/login"})}),d.jsx(Jt,{path:"/help",element:d.jsx(TB,{})}),d.jsx(Jt,{path:"*",element:d.jsx(An,{to:t?"/dashboard":"/login"})})]})}),!n&&d.jsx(yT,{})]})]})})}hh.createRoot(document.getElementById("root")).render(d.jsx(yd.StrictMode,{children:d.jsx($N,{children:d.jsx(fT,{children:d.jsx(F1,{children:d.jsx(Jt,{path:"/*",element:d.jsx(AB,{})})})})})}));
