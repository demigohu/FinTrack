var tE=Object.defineProperty;var nE=(t,e,n)=>e in t?tE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ye=(t,e,n)=>nE(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hb={exports:{}},yd={},pb={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=Symbol.for("react.element"),rE=Symbol.for("react.portal"),iE=Symbol.for("react.fragment"),sE=Symbol.for("react.strict_mode"),oE=Symbol.for("react.profiler"),aE=Symbol.for("react.provider"),lE=Symbol.for("react.context"),cE=Symbol.for("react.forward_ref"),uE=Symbol.for("react.suspense"),dE=Symbol.for("react.memo"),fE=Symbol.for("react.lazy"),Ig=Symbol.iterator;function hE(t){return t===null||typeof t!="object"?null:(t=Ig&&t[Ig]||t["@@iterator"],typeof t=="function"?t:null)}var gb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mb=Object.assign,yb={};function Io(t,e,n){this.props=t,this.context=e,this.refs=yb,this.updater=n||gb}Io.prototype.isReactComponent={};Io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xb(){}xb.prototype=Io.prototype;function W0(t,e,n){this.props=t,this.context=e,this.refs=yb,this.updater=n||gb}var q0=W0.prototype=new xb;q0.constructor=W0;mb(q0,Io.prototype);q0.isPureReactComponent=!0;var Ug=Array.isArray,bb=Object.prototype.hasOwnProperty,G0={current:null},wb={key:!0,ref:!0,__self:!0,__source:!0};function _b(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bb.call(e,r)&&!wb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:El,type:t,key:s,ref:o,props:i,_owner:G0.current}}function pE(t,e){return{$$typeof:El,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function K0(t){return typeof t=="object"&&t!==null&&t.$$typeof===El}function gE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zg=/\/+/g;function tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gE(""+t.key):e.toString(36)}function Bc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case El:case rE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+tf(o,0):r,Ug(i)?(n="",t!=null&&(n=t.replace(zg,"$&/")+"/"),Bc(i,e,n,"",function(c){return c})):i!=null&&(K0(i)&&(i=pE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ug(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+tf(s,a);o+=Bc(s,e,n,l,i)}else if(l=hE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+tf(s,a++),o+=Bc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $l(t,e,n){if(t==null)return t;var r=[],i=0;return Bc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Rc={transition:null},yE={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Rc,ReactCurrentOwner:G0};function vb(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:$l,forEach:function(t,e,n){$l(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $l(t,function(){e++}),e},toArray:function(t){return $l(t,function(e){return e})||[]},only:function(t){if(!K0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Io;Fe.Fragment=iE;Fe.Profiler=oE;Fe.PureComponent=W0;Fe.StrictMode=sE;Fe.Suspense=uE;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yE;Fe.act=vb;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=G0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bb.call(e,l)&&!wb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:El,type:t.type,key:i,ref:s,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:lE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aE,_context:t},t.Consumer=t};Fe.createElement=_b;Fe.createFactory=function(t){var e=_b.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:cE,render:t}};Fe.isValidElement=K0;Fe.lazy=function(t){return{$$typeof:fE,_payload:{_status:-1,_result:t},_init:mE}};Fe.memo=function(t,e){return{$$typeof:dE,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=Rc.transition;Rc.transition={};try{t()}finally{Rc.transition=e}};Fe.unstable_act=vb;Fe.useCallback=function(t,e){return sn.current.useCallback(t,e)};Fe.useContext=function(t){return sn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return sn.current.useEffect(t,e)};Fe.useId=function(){return sn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return sn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};Fe.useRef=function(t){return sn.current.useRef(t)};Fe.useState=function(t){return sn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return sn.current.useTransition()};Fe.version="18.3.1";pb.exports=Fe;var $=pb.exports;const xd=fb($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE=$,bE=Symbol.for("react.element"),wE=Symbol.for("react.fragment"),_E=Object.prototype.hasOwnProperty,vE=xE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EE={key:!0,ref:!0,__self:!0,__source:!0};function Eb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_E.call(e,r)&&!EE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:bE,type:t,key:s,ref:o,props:i,_owner:vE.current}}yd.Fragment=wE;yd.jsx=Eb;yd.jsxs=Eb;hb.exports=yd;var u=hb.exports,hh={},Sb={exports:{}},Nn={},kb={exports:{}},Nb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,Y){var ce=G.length;G.push(Y);e:for(;0<ce;){var se=ce-1>>>1,ue=G[se];if(0<i(ue,Y))G[se]=Y,G[ce]=ue,ce=se;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Y=G[0],ce=G.pop();if(ce!==Y){G[0]=ce;e:for(var se=0,ue=G.length,ae=ue>>>1;se<ae;){var j=2*(se+1)-1,le=G[j],he=j+1,me=G[he];if(0>i(le,ce))he<ue&&0>i(me,le)?(G[se]=me,G[he]=ce,se=he):(G[se]=le,G[j]=ce,se=j);else if(he<ue&&0>i(me,ce))G[se]=me,G[he]=ce,se=he;else break e}}return Y}function i(G,Y){var ce=G.sortIndex-Y.sortIndex;return ce!==0?ce:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,g=!1,p=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=G)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function R(G){if(v=!1,S(G),!p)if(n(l)!==null)p=!0,Q(N);else{var Y=n(c);Y!==null&&Z(R,Y.startTime-G)}}function N(G,Y){p=!1,v&&(v=!1,b(I),I=-1),g=!0;var ce=h;try{for(S(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||G&&!ie());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var ue=se(f.expirationTime<=Y);Y=t.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(l)&&r(l),S(Y)}else r(l);f=n(l)}if(f!==null)var ae=!0;else{var j=n(c);j!==null&&Z(R,j.startTime-Y),ae=!1}return ae}finally{f=null,h=ce,g=!1}}var F=!1,C=null,I=-1,U=5,H=-1;function ie(){return!(t.unstable_now()-H<U)}function oe(){if(C!==null){var G=t.unstable_now();H=G;var Y=!0;try{Y=C(!0,G)}finally{Y?z():(F=!1,C=null)}}else F=!1}var z;if(typeof w=="function")z=function(){w(oe)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,V=W.port2;W.port1.onmessage=oe,z=function(){V.postMessage(null)}}else z=function(){E(oe,0)};function Q(G){C=G,F||(F=!0,z())}function Z(G,Y){I=E(function(){G(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,Q(N))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var ce=h;h=Y;try{return G()}finally{h=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ce=h;h=G;try{return Y()}finally{h=ce}},t.unstable_scheduleCallback=function(G,Y,ce){var se=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?se+ce:se):ce=se,G){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ce+ue,G={id:d++,callback:Y,priorityLevel:G,startTime:ce,expirationTime:ue,sortIndex:-1},ce>se?(G.sortIndex=ce,e(c,G),n(l)===null&&G===n(c)&&(v?(b(I),I=-1):v=!0,Z(R,ce-se))):(G.sortIndex=ue,e(l,G),p||g||(p=!0,Q(N))),G},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(G){var Y=h;return function(){var ce=h;h=Y;try{return G.apply(this,arguments)}finally{h=ce}}}})(Nb);kb.exports=Nb;var SE=kb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE=$,kn=SE;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tb=new Set,Wa={};function Ps(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(Wa[t]=e,t=0;t<e.length;t++)Tb.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=Object.prototype.hasOwnProperty,NE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lg={},$g={};function TE(t){return ph.call($g,t)?!0:ph.call(Lg,t)?!1:NE.test(t)?$g[t]=!0:(Lg[t]=!0,!1)}function AE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jE(t,e,n,r){if(e===null||typeof e>"u"||AE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var Y0=/[\-:]([a-z])/g;function X0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Y0,X0);zt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Y0,X0);zt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Y0,X0);zt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Z0(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jE(e,n,i,r)&&(n=null),r||i===null?TE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ni=kE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dl=Symbol.for("react.element"),Js=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),Q0=Symbol.for("react.strict_mode"),gh=Symbol.for("react.profiler"),Ab=Symbol.for("react.provider"),jb=Symbol.for("react.context"),J0=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),yh=Symbol.for("react.suspense_list"),ep=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),Cb=Symbol.for("react.offscreen"),Dg=Symbol.iterator;function Go(t){return t===null||typeof t!="object"?null:(t=Dg&&t[Dg]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,nf;function ca(t){if(nf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nf=e&&e[1]||""}return`
`+nf+t}var rf=!1;function sf(t,e){if(!t||rf)return"";rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ca(t):""}function CE(t){switch(t.tag){case 5:return ca(t.type);case 16:return ca("Lazy");case 13:return ca("Suspense");case 19:return ca("SuspenseList");case 0:case 2:case 15:return t=sf(t.type,!1),t;case 11:return t=sf(t.type.render,!1),t;case 1:return t=sf(t.type,!0),t;default:return""}}function xh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eo:return"Fragment";case Js:return"Portal";case gh:return"Profiler";case Q0:return"StrictMode";case mh:return"Suspense";case yh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jb:return(t.displayName||"Context")+".Consumer";case Ab:return(t._context.displayName||"Context")+".Provider";case J0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ep:return e=t.displayName||null,e!==null?e:xh(t.type)||"Memo";case hi:e=t._payload,t=t._init;try{return xh(t(e))}catch{}}return null}function BE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xh(e);case 8:return e===Q0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RE(t){var e=Bb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vl(t){t._valueTracker||(t._valueTracker=RE(t))}function Rb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Su(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bh(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pb(t,e){e=e.checked,e!=null&&Z0(t,"checked",e,!1)}function wh(t,e){Pb(t,e);var n=Hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_h(t,e.type,n):e.hasOwnProperty("defaultValue")&&_h(t,e.type,Hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _h(t,e,n){(e!=="number"||Su(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ua=Array.isArray;function mo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pe(92));if(ua(n)){if(1<n.length)throw Error(pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hi(n)}}function Ob(t,e){var n=Hi(e.value),r=Hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hl,Mb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PE=["Webkit","ms","Moz","O"];Object.keys(Na).forEach(function(t){PE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Na[e]=Na[t]})});function Ib(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Na.hasOwnProperty(t)&&Na[t]?(""+e).trim():e+"px"}function Ub(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ib(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var OE=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sh(t,e){if(e){if(OE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function kh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=null;function tp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Th=null,yo=null,xo=null;function Gg(t){if(t=Nl(t)){if(typeof Th!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=Ed(e),Th(t.stateNode,t.type,e))}}function zb(t){yo?xo?xo.push(t):xo=[t]:yo=t}function Lb(){if(yo){var t=yo,e=xo;if(xo=yo=null,Gg(t),e)for(t=0;t<e.length;t++)Gg(e[t])}}function $b(t,e){return t(e)}function Db(){}var of=!1;function Vb(t,e,n){if(of)return t(e,n);of=!0;try{return $b(t,e,n)}finally{of=!1,(yo!==null||xo!==null)&&(Db(),Lb())}}function Ga(t,e){var n=t.stateNode;if(n===null)return null;var r=Ed(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,e,typeof n));return n}var Ah=!1;if(Xr)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){Ah=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{Ah=!1}function FE(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ta=!1,ku=null,Nu=!1,jh=null,ME={onError:function(t){Ta=!0,ku=t}};function IE(t,e,n,r,i,s,o,a,l){Ta=!1,ku=null,FE.apply(ME,arguments)}function UE(t,e,n,r,i,s,o,a,l){if(IE.apply(this,arguments),Ta){if(Ta){var c=ku;Ta=!1,ku=null}else throw Error(pe(198));Nu||(Nu=!0,jh=c)}}function Os(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Hb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kg(t){if(Os(t)!==t)throw Error(pe(188))}function zE(t){var e=t.alternate;if(!e){if(e=Os(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kg(i),t;if(s===r)return Kg(i),e;s=s.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:e}function Wb(t){return t=zE(t),t!==null?qb(t):null}function qb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qb(t);if(e!==null)return e;t=t.sibling}return null}var Gb=kn.unstable_scheduleCallback,Yg=kn.unstable_cancelCallback,LE=kn.unstable_shouldYield,$E=kn.unstable_requestPaint,mt=kn.unstable_now,DE=kn.unstable_getCurrentPriorityLevel,np=kn.unstable_ImmediatePriority,Kb=kn.unstable_UserBlockingPriority,Tu=kn.unstable_NormalPriority,VE=kn.unstable_LowPriority,Yb=kn.unstable_IdlePriority,bd=null,Sr=null;function HE(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(bd,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:GE,WE=Math.log,qE=Math.LN2;function GE(t){return t>>>=0,t===0?32:31-(WE(t)/qE|0)|0}var Wl=64,ql=4194304;function da(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Au(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=da(a):(s&=o,s!==0&&(r=da(s)))}else o=n&~i,o!==0?r=da(o):s!==0&&(r=da(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function KE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=KE(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ch(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xb(){var t=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),t}function af(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function XE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function rp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function Zb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qb,ip,Jb,ew,tw,Bh=!1,Gl=[],Bi=null,Ri=null,Pi=null,Ka=new Map,Ya=new Map,wi=[],ZE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(t,e){switch(t){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(e.pointerId)}}function Yo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Nl(e),e!==null&&ip(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QE(t,e,n,r,i){switch(e){case"focusin":return Bi=Yo(Bi,t,e,n,r,i),!0;case"dragenter":return Ri=Yo(Ri,t,e,n,r,i),!0;case"mouseover":return Pi=Yo(Pi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ka.set(s,Yo(Ka.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ya.set(s,Yo(Ya.get(s)||null,t,e,n,r,i)),!0}return!1}function nw(t){var e=hs(t.target);if(e!==null){var n=Os(e);if(n!==null){if(e=n.tag,e===13){if(e=Hb(n),e!==null){t.blockedOn=e,tw(t.priority,function(){Jb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nh=r,n.target.dispatchEvent(r),Nh=null}else return e=Nl(n),e!==null&&ip(e),t.blockedOn=n,!1;e.shift()}return!0}function Zg(t,e,n){Pc(t)&&n.delete(e)}function JE(){Bh=!1,Bi!==null&&Pc(Bi)&&(Bi=null),Ri!==null&&Pc(Ri)&&(Ri=null),Pi!==null&&Pc(Pi)&&(Pi=null),Ka.forEach(Zg),Ya.forEach(Zg)}function Xo(t,e){t.blockedOn===e&&(t.blockedOn=null,Bh||(Bh=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,JE)))}function Xa(t){function e(i){return Xo(i,t)}if(0<Gl.length){Xo(Gl[0],t);for(var n=1;n<Gl.length;n++){var r=Gl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bi!==null&&Xo(Bi,t),Ri!==null&&Xo(Ri,t),Pi!==null&&Xo(Pi,t),Ka.forEach(e),Ya.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)nw(n),n.blockedOn===null&&wi.shift()}var bo=ni.ReactCurrentBatchConfig,ju=!0;function eS(t,e,n,r){var i=Ke,s=bo.transition;bo.transition=null;try{Ke=1,sp(t,e,n,r)}finally{Ke=i,bo.transition=s}}function tS(t,e,n,r){var i=Ke,s=bo.transition;bo.transition=null;try{Ke=4,sp(t,e,n,r)}finally{Ke=i,bo.transition=s}}function sp(t,e,n,r){if(ju){var i=Rh(t,e,n,r);if(i===null)yf(t,e,r,Cu,n),Xg(t,r);else if(QE(i,t,e,n,r))r.stopPropagation();else if(Xg(t,r),e&4&&-1<ZE.indexOf(t)){for(;i!==null;){var s=Nl(i);if(s!==null&&Qb(s),s=Rh(t,e,n,r),s===null&&yf(t,e,r,Cu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yf(t,e,r,null,n)}}var Cu=null;function Rh(t,e,n,r){if(Cu=null,t=tp(r),t=hs(t),t!==null)if(e=Os(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Hb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cu=t,null}function rw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DE()){case np:return 1;case Kb:return 4;case Tu:case VE:return 16;case Yb:return 536870912;default:return 16}default:return 16}}var ki=null,op=null,Oc=null;function iw(){if(Oc)return Oc;var t,e=op,n=e.length,r,i="value"in ki?ki.value:ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Oc=i.slice(t,1<r?1-r:void 0)}function Fc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function Qg(){return!1}function Tn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kl:Qg,this.isPropagationStopped=Qg,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ap=Tn(Uo),kl=ut({},Uo,{view:0,detail:0}),nS=Tn(kl),lf,cf,Zo,wd=ut({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zo&&(Zo&&t.type==="mousemove"?(lf=t.screenX-Zo.screenX,cf=t.screenY-Zo.screenY):cf=lf=0,Zo=t),lf)},movementY:function(t){return"movementY"in t?t.movementY:cf}}),Jg=Tn(wd),rS=ut({},wd,{dataTransfer:0}),iS=Tn(rS),sS=ut({},kl,{relatedTarget:0}),uf=Tn(sS),oS=ut({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),aS=Tn(oS),lS=ut({},Uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cS=Tn(lS),uS=ut({},Uo,{data:0}),em=Tn(uS),dS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hS[t])?!!e[t]:!1}function lp(){return pS}var gS=ut({},kl,{key:function(t){if(t.key){var e=dS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lp,charCode:function(t){return t.type==="keypress"?Fc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mS=Tn(gS),yS=ut({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tm=Tn(yS),xS=ut({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lp}),bS=Tn(xS),wS=ut({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),_S=Tn(wS),vS=ut({},wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ES=Tn(vS),SS=[9,13,27,32],cp=Xr&&"CompositionEvent"in window,Aa=null;Xr&&"documentMode"in document&&(Aa=document.documentMode);var kS=Xr&&"TextEvent"in window&&!Aa,sw=Xr&&(!cp||Aa&&8<Aa&&11>=Aa),nm=" ",rm=!1;function ow(t,e){switch(t){case"keyup":return SS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var to=!1;function NS(t,e){switch(t){case"compositionend":return aw(e);case"keypress":return e.which!==32?null:(rm=!0,nm);case"textInput":return t=e.data,t===nm&&rm?null:t;default:return null}}function TS(t,e){if(to)return t==="compositionend"||!cp&&ow(t,e)?(t=iw(),Oc=op=ki=null,to=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sw&&e.locale!=="ko"?null:e.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AS[t.type]:e==="textarea"}function lw(t,e,n,r){zb(r),e=Bu(e,"onChange"),0<e.length&&(n=new ap("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ja=null,Za=null;function jS(t){bw(t,0)}function _d(t){var e=io(t);if(Rb(e))return t}function CS(t,e){if(t==="change")return e}var cw=!1;if(Xr){var df;if(Xr){var ff="oninput"in document;if(!ff){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),ff=typeof sm.oninput=="function"}df=ff}else df=!1;cw=df&&(!document.documentMode||9<document.documentMode)}function om(){ja&&(ja.detachEvent("onpropertychange",uw),Za=ja=null)}function uw(t){if(t.propertyName==="value"&&_d(Za)){var e=[];lw(e,Za,t,tp(t)),Vb(jS,e)}}function BS(t,e,n){t==="focusin"?(om(),ja=e,Za=n,ja.attachEvent("onpropertychange",uw)):t==="focusout"&&om()}function RS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _d(Za)}function PS(t,e){if(t==="click")return _d(e)}function OS(t,e){if(t==="input"||t==="change")return _d(e)}function FS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nr=typeof Object.is=="function"?Object.is:FS;function Qa(t,e){if(nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ph.call(e,i)||!nr(t[i],e[i]))return!1}return!0}function am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,e){var n=am(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=am(n)}}function dw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fw(){for(var t=window,e=Su();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Su(t.document)}return e}function up(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MS(t){var e=fw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dw(n.ownerDocument.documentElement,n)){if(r!==null&&up(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=lm(n,s);var o=lm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IS=Xr&&"documentMode"in document&&11>=document.documentMode,no=null,Ph=null,Ca=null,Oh=!1;function cm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oh||no==null||no!==Su(r)||(r=no,"selectionStart"in r&&up(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ca&&Qa(Ca,r)||(Ca=r,r=Bu(Ph,"onSelect"),0<r.length&&(e=new ap("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=no)))}function Yl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ro={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},hf={},hw={};Xr&&(hw=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function vd(t){if(hf[t])return hf[t];if(!ro[t])return t;var e=ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hw)return hf[t]=e[n];return t}var pw=vd("animationend"),gw=vd("animationiteration"),mw=vd("animationstart"),yw=vd("transitionend"),xw=new Map,um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(t,e){xw.set(t,e),Ps(e,[t])}for(var pf=0;pf<um.length;pf++){var gf=um[pf],US=gf.toLowerCase(),zS=gf[0].toUpperCase()+gf.slice(1);Yi(US,"on"+zS)}Yi(pw,"onAnimationEnd");Yi(gw,"onAnimationIteration");Yi(mw,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(yw,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function dm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UE(r,e,void 0,t),t.currentTarget=null}function bw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;dm(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;dm(i,a,c),s=l}}}if(Nu)throw t=jh,Nu=!1,jh=null,t}function tt(t,e){var n=e[zh];n===void 0&&(n=e[zh]=new Set);var r=t+"__bubble";n.has(r)||(ww(e,t,2,!1),n.add(r))}function mf(t,e,n){var r=0;e&&(r|=4),ww(n,t,r,e)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Ja(t){if(!t[Xl]){t[Xl]=!0,Tb.forEach(function(n){n!=="selectionchange"&&(LS.has(n)||mf(n,!1,t),mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xl]||(e[Xl]=!0,mf("selectionchange",!1,e))}}function ww(t,e,n,r){switch(rw(e)){case 1:var i=eS;break;case 4:i=tS;break;default:i=sp}n=i.bind(null,e,n,t),i=void 0,!Ah||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=hs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Vb(function(){var c=s,d=tp(n),f=[];e:{var h=xw.get(t);if(h!==void 0){var g=ap,p=t;switch(t){case"keypress":if(Fc(n)===0)break e;case"keydown":case"keyup":g=mS;break;case"focusin":p="focus",g=uf;break;case"focusout":p="blur",g=uf;break;case"beforeblur":case"afterblur":g=uf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=bS;break;case pw:case gw:case mw:g=aS;break;case yw:g=_S;break;case"scroll":g=nS;break;case"wheel":g=ES;break;case"copy":case"cut":case"paste":g=cS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=tm}var v=(e&4)!==0,E=!v&&t==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var w=c,S;w!==null;){S=w;var R=S.stateNode;if(S.tag===5&&R!==null&&(S=R,b!==null&&(R=Ga(w,b),R!=null&&v.push(el(w,R,S)))),E)break;w=w.return}0<v.length&&(h=new g(h,p,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Nh&&(p=n.relatedTarget||n.fromElement)&&(hs(p)||p[Zr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=c,p=p?hs(p):null,p!==null&&(E=Os(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(v=Jg,R="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=tm,R="onPointerLeave",b="onPointerEnter",w="pointer"),E=g==null?h:io(g),S=p==null?h:io(p),h=new v(R,w+"leave",g,n,d),h.target=E,h.relatedTarget=S,R=null,hs(d)===c&&(v=new v(b,w+"enter",p,n,d),v.target=S,v.relatedTarget=E,R=v),E=R,g&&p)t:{for(v=g,b=p,w=0,S=v;S;S=Ms(S))w++;for(S=0,R=b;R;R=Ms(R))S++;for(;0<w-S;)v=Ms(v),w--;for(;0<S-w;)b=Ms(b),S--;for(;w--;){if(v===b||b!==null&&v===b.alternate)break t;v=Ms(v),b=Ms(b)}v=null}else v=null;g!==null&&fm(f,h,g,v,!1),p!==null&&E!==null&&fm(f,E,p,v,!0)}}e:{if(h=c?io(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=CS;else if(im(h))if(cw)N=OS;else{N=RS;var F=BS}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=PS);if(N&&(N=N(t,c))){lw(f,N,n,d);break e}F&&F(t,h,c),t==="focusout"&&(F=h._wrapperState)&&F.controlled&&h.type==="number"&&_h(h,"number",h.value)}switch(F=c?io(c):window,t){case"focusin":(im(F)||F.contentEditable==="true")&&(no=F,Ph=c,Ca=null);break;case"focusout":Ca=Ph=no=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,cm(f,n,d);break;case"selectionchange":if(IS)break;case"keydown":case"keyup":cm(f,n,d)}var C;if(cp)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else to?ow(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(sw&&n.locale!=="ko"&&(to||I!=="onCompositionStart"?I==="onCompositionEnd"&&to&&(C=iw()):(ki=d,op="value"in ki?ki.value:ki.textContent,to=!0)),F=Bu(c,I),0<F.length&&(I=new em(I,t,null,n,d),f.push({event:I,listeners:F}),C?I.data=C:(C=aw(n),C!==null&&(I.data=C)))),(C=kS?NS(t,n):TS(t,n))&&(c=Bu(c,"onBeforeInput"),0<c.length&&(d=new em("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}bw(f,e)})}function el(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ga(t,n),s!=null&&r.unshift(el(t,s,i)),s=Ga(t,e),s!=null&&r.push(el(t,s,i))),t=t.return}return r}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ga(n,s),l!=null&&o.unshift(el(n,l,a))):i||(l=Ga(n,s),l!=null&&o.push(el(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $S=/\r\n?/g,DS=/\u0000|\uFFFD/g;function hm(t){return(typeof t=="string"?t:""+t).replace($S,`
`).replace(DS,"")}function Zl(t,e,n){if(e=hm(e),hm(t)!==e&&n)throw Error(pe(425))}function Ru(){}var Fh=null,Mh=null;function Ih(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(t){return pm.resolve(null).then(t).catch(WS)}:Uh;function WS(t){setTimeout(function(){throw t})}function xf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xa(e)}function Oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zo=Math.random().toString(36).slice(2),br="__reactFiber$"+zo,tl="__reactProps$"+zo,Zr="__reactContainer$"+zo,zh="__reactEvents$"+zo,qS="__reactListeners$"+zo,GS="__reactHandles$"+zo;function hs(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gm(t);t!==null;){if(n=t[br])return n;t=gm(t)}return e}t=n,n=t.parentNode}return null}function Nl(t){return t=t[br]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function Ed(t){return t[tl]||null}var Lh=[],so=-1;function Xi(t){return{current:t}}function nt(t){0>so||(t.current=Lh[so],Lh[so]=null,so--)}function et(t,e){so++,Lh[so]=t.current,t.current=e}var Wi={},Gt=Xi(Wi),mn=Xi(!1),vs=Wi;function ko(t,e){var n=t.type.contextTypes;if(!n)return Wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function Pu(){nt(mn),nt(Gt)}function mm(t,e,n){if(Gt.current!==Wi)throw Error(pe(168));et(Gt,e),et(mn,n)}function _w(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pe(108,BE(t)||"Unknown",i));return ut({},n,r)}function Ou(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wi,vs=Gt.current,et(Gt,t),et(mn,mn.current),!0}function ym(t,e,n){var r=t.stateNode;if(!r)throw Error(pe(169));n?(t=_w(t,e,vs),r.__reactInternalMemoizedMergedChildContext=t,nt(mn),nt(Gt),et(Gt,t)):nt(mn),et(mn,n)}var Mr=null,Sd=!1,bf=!1;function vw(t){Mr===null?Mr=[t]:Mr.push(t)}function KS(t){Sd=!0,vw(t)}function Zi(){if(!bf&&Mr!==null){bf=!0;var t=0,e=Ke;try{var n=Mr;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,Sd=!1}catch(i){throw Mr!==null&&(Mr=Mr.slice(t+1)),Gb(np,Zi),i}finally{Ke=e,bf=!1}}return null}var oo=[],ao=0,Fu=null,Mu=0,Pn=[],On=0,Es=null,$r=1,Dr="";function is(t,e){oo[ao++]=Mu,oo[ao++]=Fu,Fu=t,Mu=e}function Ew(t,e,n){Pn[On++]=$r,Pn[On++]=Dr,Pn[On++]=Es,Es=t;var r=$r;t=Dr;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var s=32-Jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$r=1<<32-Jn(e)+i|n<<i|r,Dr=s+t}else $r=1<<s|n<<i|r,Dr=t}function dp(t){t.return!==null&&(is(t,1),Ew(t,1,0))}function fp(t){for(;t===Fu;)Fu=oo[--ao],oo[ao]=null,Mu=oo[--ao],oo[ao]=null;for(;t===Es;)Es=Pn[--On],Pn[On]=null,Dr=Pn[--On],Pn[On]=null,$r=Pn[--On],Pn[On]=null}var Sn=null,En=null,rt=!1,Zn=null;function Sw(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,En=Oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Es!==null?{id:$r,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,En=null,!0):!1;default:return!1}}function $h(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dh(t){if(rt){var e=En;if(e){var n=e;if(!xm(t,e)){if($h(t))throw Error(pe(418));e=Oi(n.nextSibling);var r=Sn;e&&xm(t,e)?Sw(r,n):(t.flags=t.flags&-4097|2,rt=!1,Sn=t)}}else{if($h(t))throw Error(pe(418));t.flags=t.flags&-4097|2,rt=!1,Sn=t}}}function bm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function Ql(t){if(t!==Sn)return!1;if(!rt)return bm(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ih(t.type,t.memoizedProps)),e&&(e=En)){if($h(t))throw kw(),Error(pe(418));for(;e;)Sw(t,e),e=Oi(e.nextSibling)}if(bm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=Sn?Oi(t.stateNode.nextSibling):null;return!0}function kw(){for(var t=En;t;)t=Oi(t.nextSibling)}function No(){En=Sn=null,rt=!1}function hp(t){Zn===null?Zn=[t]:Zn.push(t)}var YS=ni.ReactCurrentBatchConfig;function Qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function Jl(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wm(t){var e=t._init;return e(t._payload)}function Nw(t){function e(b,w){if(t){var S=b.deletions;S===null?(b.deletions=[w],b.flags|=16):S.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Ui(b,w),b.index=0,b.sibling=null,b}function s(b,w,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<w?(b.flags|=2,w):S):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,S,R){return w===null||w.tag!==6?(w=Nf(S,b.mode,R),w.return=b,w):(w=i(w,S),w.return=b,w)}function l(b,w,S,R){var N=S.type;return N===eo?d(b,w,S.props.children,R,S.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===hi&&wm(N)===w.type)?(R=i(w,S.props),R.ref=Qo(b,w,S),R.return=b,R):(R=Dc(S.type,S.key,S.props,null,b.mode,R),R.ref=Qo(b,w,S),R.return=b,R)}function c(b,w,S,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Tf(S,b.mode,R),w.return=b,w):(w=i(w,S.children||[]),w.return=b,w)}function d(b,w,S,R,N){return w===null||w.tag!==7?(w=xs(S,b.mode,R,N),w.return=b,w):(w=i(w,S),w.return=b,w)}function f(b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Nf(""+w,b.mode,S),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Dl:return S=Dc(w.type,w.key,w.props,null,b.mode,S),S.ref=Qo(b,null,w),S.return=b,S;case Js:return w=Tf(w,b.mode,S),w.return=b,w;case hi:var R=w._init;return f(b,R(w._payload),S)}if(ua(w)||Go(w))return w=xs(w,b.mode,S,null),w.return=b,w;Jl(b,w)}return null}function h(b,w,S,R){var N=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return N!==null?null:a(b,w,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Dl:return S.key===N?l(b,w,S,R):null;case Js:return S.key===N?c(b,w,S,R):null;case hi:return N=S._init,h(b,w,N(S._payload),R)}if(ua(S)||Go(S))return N!==null?null:d(b,w,S,R,null);Jl(b,S)}return null}function g(b,w,S,R,N){if(typeof R=="string"&&R!==""||typeof R=="number")return b=b.get(S)||null,a(w,b,""+R,N);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Dl:return b=b.get(R.key===null?S:R.key)||null,l(w,b,R,N);case Js:return b=b.get(R.key===null?S:R.key)||null,c(w,b,R,N);case hi:var F=R._init;return g(b,w,S,F(R._payload),N)}if(ua(R)||Go(R))return b=b.get(S)||null,d(w,b,R,N,null);Jl(w,R)}return null}function p(b,w,S,R){for(var N=null,F=null,C=w,I=w=0,U=null;C!==null&&I<S.length;I++){C.index>I?(U=C,C=null):U=C.sibling;var H=h(b,C,S[I],R);if(H===null){C===null&&(C=U);break}t&&C&&H.alternate===null&&e(b,C),w=s(H,w,I),F===null?N=H:F.sibling=H,F=H,C=U}if(I===S.length)return n(b,C),rt&&is(b,I),N;if(C===null){for(;I<S.length;I++)C=f(b,S[I],R),C!==null&&(w=s(C,w,I),F===null?N=C:F.sibling=C,F=C);return rt&&is(b,I),N}for(C=r(b,C);I<S.length;I++)U=g(C,b,I,S[I],R),U!==null&&(t&&U.alternate!==null&&C.delete(U.key===null?I:U.key),w=s(U,w,I),F===null?N=U:F.sibling=U,F=U);return t&&C.forEach(function(ie){return e(b,ie)}),rt&&is(b,I),N}function v(b,w,S,R){var N=Go(S);if(typeof N!="function")throw Error(pe(150));if(S=N.call(S),S==null)throw Error(pe(151));for(var F=N=null,C=w,I=w=0,U=null,H=S.next();C!==null&&!H.done;I++,H=S.next()){C.index>I?(U=C,C=null):U=C.sibling;var ie=h(b,C,H.value,R);if(ie===null){C===null&&(C=U);break}t&&C&&ie.alternate===null&&e(b,C),w=s(ie,w,I),F===null?N=ie:F.sibling=ie,F=ie,C=U}if(H.done)return n(b,C),rt&&is(b,I),N;if(C===null){for(;!H.done;I++,H=S.next())H=f(b,H.value,R),H!==null&&(w=s(H,w,I),F===null?N=H:F.sibling=H,F=H);return rt&&is(b,I),N}for(C=r(b,C);!H.done;I++,H=S.next())H=g(C,b,I,H.value,R),H!==null&&(t&&H.alternate!==null&&C.delete(H.key===null?I:H.key),w=s(H,w,I),F===null?N=H:F.sibling=H,F=H);return t&&C.forEach(function(oe){return e(b,oe)}),rt&&is(b,I),N}function E(b,w,S,R){if(typeof S=="object"&&S!==null&&S.type===eo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Dl:e:{for(var N=S.key,F=w;F!==null;){if(F.key===N){if(N=S.type,N===eo){if(F.tag===7){n(b,F.sibling),w=i(F,S.props.children),w.return=b,b=w;break e}}else if(F.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===hi&&wm(N)===F.type){n(b,F.sibling),w=i(F,S.props),w.ref=Qo(b,F,S),w.return=b,b=w;break e}n(b,F);break}else e(b,F);F=F.sibling}S.type===eo?(w=xs(S.props.children,b.mode,R,S.key),w.return=b,b=w):(R=Dc(S.type,S.key,S.props,null,b.mode,R),R.ref=Qo(b,w,S),R.return=b,b=R)}return o(b);case Js:e:{for(F=S.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(b,w.sibling),w=i(w,S.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Tf(S,b.mode,R),w.return=b,b=w}return o(b);case hi:return F=S._init,E(b,w,F(S._payload),R)}if(ua(S))return p(b,w,S,R);if(Go(S))return v(b,w,S,R);Jl(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,S),w.return=b,b=w):(n(b,w),w=Nf(S,b.mode,R),w.return=b,b=w),o(b)):n(b,w)}return E}var To=Nw(!0),Tw=Nw(!1),Iu=Xi(null),Uu=null,lo=null,pp=null;function gp(){pp=lo=Uu=null}function mp(t){var e=Iu.current;nt(Iu),t._currentValue=e}function Vh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e){Uu=t,pp=lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(pp!==t)if(t={context:t,memoizedValue:e,next:null},lo===null){if(Uu===null)throw Error(pe(308));lo=t,Uu.dependencies={lanes:0,firstContext:t}}else lo=lo.next=t;return e}var ps=null;function yp(t){ps===null?ps=[t]:ps.push(t)}function Aw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qr(t,r)}function Qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pi=!1;function xp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qr(t,n)}return i=r.interleaved,i===null?(e.next=e,yp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qr(t,n)}function Mc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rp(t,n)}}function _m(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zu(t,e,n,r){var i=t.updateQueue;pi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(h=e,g=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(g,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(g,f,h):p,h==null)break e;f=ut({},f,h);break e;case 2:pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ks|=o,t.lanes=o,t.memoizedState=f}}function vm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var Tl={},kr=Xi(Tl),nl=Xi(Tl),rl=Xi(Tl);function gs(t){if(t===Tl)throw Error(pe(174));return t}function bp(t,e){switch(et(rl,e),et(nl,t),et(kr,Tl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Eh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Eh(e,t)}nt(kr),et(kr,e)}function Ao(){nt(kr),nt(nl),nt(rl)}function Cw(t){gs(rl.current);var e=gs(kr.current),n=Eh(e,t.type);e!==n&&(et(nl,t),et(kr,n))}function wp(t){nl.current===t&&(nt(kr),nt(nl))}var at=Xi(0);function Lu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wf=[];function _p(){for(var t=0;t<wf.length;t++)wf[t]._workInProgressVersionPrimary=null;wf.length=0}var Ic=ni.ReactCurrentDispatcher,_f=ni.ReactCurrentBatchConfig,Ss=0,ct=null,vt=null,Rt=null,$u=!1,Ba=!1,il=0,XS=0;function Lt(){throw Error(pe(321))}function vp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nr(t[n],e[n]))return!1;return!0}function Ep(t,e,n,r,i,s){if(Ss=s,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ic.current=t===null||t.memoizedState===null?ek:tk,t=n(r,i),Ba){s=0;do{if(Ba=!1,il=0,25<=s)throw Error(pe(301));s+=1,Rt=vt=null,e.updateQueue=null,Ic.current=nk,t=n(r,i)}while(Ba)}if(Ic.current=Du,e=vt!==null&&vt.next!==null,Ss=0,Rt=vt=ct=null,$u=!1,e)throw Error(pe(300));return t}function Sp(){var t=il!==0;return il=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ct.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Ln(){if(vt===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=Rt===null?ct.memoizedState:Rt.next;if(e!==null)Rt=e,vt=t;else{if(t===null)throw Error(pe(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Rt===null?ct.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function sl(t,e){return typeof e=="function"?e(t):e}function vf(t){var e=Ln(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Ss&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ct.lanes|=d,ks|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,nr(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ct.lanes|=s,ks|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ef(t){var e=Ln(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);nr(s,e.memoizedState)||(pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Bw(){}function Rw(t,e){var n=ct,r=Ln(),i=e(),s=!nr(r.memoizedState,i);if(s&&(r.memoizedState=i,pn=!0),r=r.queue,kp(Fw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,ol(9,Ow.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(pe(349));Ss&30||Pw(n,e,i)}return i}function Pw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ow(t,e,n,r){e.value=n,e.getSnapshot=r,Mw(e)&&Iw(t)}function Fw(t,e,n){return n(function(){Mw(e)&&Iw(t)})}function Mw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nr(t,n)}catch{return!0}}function Iw(t){var e=Qr(t,1);e!==null&&er(e,t,1,-1)}function Em(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:t},e.queue=t,t=t.dispatch=JS.bind(null,ct,t),[e.memoizedState,t]}function ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Uw(){return Ln().memoizedState}function Uc(t,e,n,r){var i=gr();ct.flags|=t,i.memoizedState=ol(1|e,n,void 0,r===void 0?null:r)}function kd(t,e,n,r){var i=Ln();r=r===void 0?null:r;var s=void 0;if(vt!==null){var o=vt.memoizedState;if(s=o.destroy,r!==null&&vp(r,o.deps)){i.memoizedState=ol(e,n,s,r);return}}ct.flags|=t,i.memoizedState=ol(1|e,n,s,r)}function Sm(t,e){return Uc(8390656,8,t,e)}function kp(t,e){return kd(2048,8,t,e)}function zw(t,e){return kd(4,2,t,e)}function Lw(t,e){return kd(4,4,t,e)}function $w(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dw(t,e,n){return n=n!=null?n.concat([t]):null,kd(4,4,$w.bind(null,e,t),n)}function Np(){}function Vw(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Hw(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ww(t,e,n){return Ss&21?(nr(n,e)||(n=Xb(),ct.lanes|=n,ks|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function ZS(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=_f.transition;_f.transition={};try{t(!1),e()}finally{Ke=n,_f.transition=r}}function qw(){return Ln().memoizedState}function QS(t,e,n){var r=Ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gw(t))Kw(e,n);else if(n=Aw(t,e,n,r),n!==null){var i=rn();er(n,t,r,i),Yw(n,e,r)}}function JS(t,e,n){var r=Ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gw(t))Kw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,nr(a,o)){var l=e.interleaved;l===null?(i.next=i,yp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Aw(t,e,i,r),n!==null&&(i=rn(),er(n,t,r,i),Yw(n,e,r))}}function Gw(t){var e=t.alternate;return t===ct||e!==null&&e===ct}function Kw(t,e){Ba=$u=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Yw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rp(t,n)}}var Du={readContext:zn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},ek={readContext:zn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:Sm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uc(4194308,4,$w.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uc(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QS.bind(null,ct,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:Em,useDebugValue:Np,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=Em(!1),e=t[0];return t=ZS.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ct,i=gr();if(rt){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=e(),Ot===null)throw Error(pe(349));Ss&30||Pw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Sm(Fw.bind(null,r,s,t),[t]),r.flags|=2048,ol(9,Ow.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gr(),e=Ot.identifierPrefix;if(rt){var n=Dr,r=$r;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=il++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tk={readContext:zn,useCallback:Vw,useContext:zn,useEffect:kp,useImperativeHandle:Dw,useInsertionEffect:zw,useLayoutEffect:Lw,useMemo:Hw,useReducer:vf,useRef:Uw,useState:function(){return vf(sl)},useDebugValue:Np,useDeferredValue:function(t){var e=Ln();return Ww(e,vt.memoizedState,t)},useTransition:function(){var t=vf(sl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:Bw,useSyncExternalStore:Rw,useId:qw,unstable_isNewReconciler:!1},nk={readContext:zn,useCallback:Vw,useContext:zn,useEffect:kp,useImperativeHandle:Dw,useInsertionEffect:zw,useLayoutEffect:Lw,useMemo:Hw,useReducer:Ef,useRef:Uw,useState:function(){return Ef(sl)},useDebugValue:Np,useDeferredValue:function(t){var e=Ln();return vt===null?e.memoizedState=t:Ww(e,vt.memoizedState,t)},useTransition:function(){var t=Ef(sl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:Bw,useSyncExternalStore:Rw,useId:qw,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nd={isMounted:function(t){return(t=t._reactInternals)?Os(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Ii(t),s=Gr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fi(t,s,i),e!==null&&(er(e,t,i,r),Mc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Ii(t),s=Gr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fi(t,s,i),e!==null&&(er(e,t,i,r),Mc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=Ii(t),i=Gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fi(t,i,r),e!==null&&(er(e,t,r,n),Mc(e,t,r))}};function km(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Qa(n,r)||!Qa(i,s):!0}function Xw(t,e,n){var r=!1,i=Wi,s=e.contextType;return typeof s=="object"&&s!==null?s=zn(s):(i=yn(e)?vs:Gt.current,r=e.contextTypes,s=(r=r!=null)?ko(t,i):Wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Nm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nd.enqueueReplaceState(e,e.state,null)}function Wh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=zn(s):(s=yn(e)?vs:Gt.current,i.context=ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nd.enqueueReplaceState(i,i.state,null),zu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function jo(t,e){try{var n="",r=e;do n+=CE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Sf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rk=typeof WeakMap=="function"?WeakMap:Map;function Zw(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hu||(Hu=!0,n0=r),qh(t,e)},n}function Qw(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qh(t,e),typeof r!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Tm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yk.bind(null,t,e,n),e.then(t,t))}function Am(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var ik=ni.ReactCurrentOwner,pn=!1;function tn(t,e,n,r){e.child=t===null?Tw(e,null,n,r):To(e,t.child,n,r)}function Cm(t,e,n,r,i){n=n.render;var s=e.ref;return wo(e,i),r=Ep(t,e,n,r,s,i),n=Sp(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(rt&&n&&dp(e),e.flags|=1,tn(t,e,r,i),e.child)}function Bm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Op(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Jw(t,e,s,r,i)):(t=Dc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qa,n(o,r)&&t.ref===e.ref)return Jr(t,e,i)}return e.flags|=1,t=Ui(s,r),t.ref=e.ref,t.return=e,e.child=t}function Jw(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Qa(s,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,Jr(t,e,i)}return Gh(t,e,n,r,i)}function e1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(uo,_n),_n|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(uo,_n),_n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(uo,_n),_n|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,et(uo,_n),_n|=r;return tn(t,e,i,n),e.child}function t1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gh(t,e,n,r,i){var s=yn(n)?vs:Gt.current;return s=ko(e,s),wo(e,i),n=Ep(t,e,n,r,s,i),r=Sp(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(rt&&r&&dp(e),e.flags|=1,tn(t,e,n,i),e.child)}function Rm(t,e,n,r,i){if(yn(n)){var s=!0;Ou(e)}else s=!1;if(wo(e,i),e.stateNode===null)zc(t,e),Xw(e,n,r),Wh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=zn(c):(c=yn(n)?vs:Gt.current,c=ko(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Nm(e,o,r,c),pi=!1;var h=e.memoizedState;o.state=h,zu(e,r,o,i),l=e.memoizedState,a!==r||h!==l||mn.current||pi?(typeof d=="function"&&(Hh(e,n,d,r),l=e.memoizedState),(a=pi||km(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gn(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=yn(n)?vs:Gt.current,l=ko(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Nm(e,o,r,l),pi=!1,h=e.memoizedState,o.state=h,zu(e,r,o,i);var p=e.memoizedState;a!==f||h!==p||mn.current||pi?(typeof g=="function"&&(Hh(e,n,g,r),p=e.memoizedState),(c=pi||km(e,n,c,r,h,p,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Kh(t,e,n,r,s,i)}function Kh(t,e,n,r,i,s){t1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ym(e,n,!1),Jr(t,e,s);r=e.stateNode,ik.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=To(e,t.child,null,s),e.child=To(e,null,a,s)):tn(t,e,a,s),e.memoizedState=r.state,i&&ym(e,n,!0),e.child}function n1(t){var e=t.stateNode;e.pendingContext?mm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mm(t,e.context,!1),bp(t,e.containerInfo)}function Pm(t,e,n,r,i){return No(),hp(i),e.flags|=256,tn(t,e,n,r),e.child}var Yh={dehydrated:null,treeContext:null,retryLane:0};function Xh(t){return{baseLanes:t,cachePool:null,transitions:null}}function r1(t,e,n){var r=e.pendingProps,i=at.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(at,i&1),t===null)return Dh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jd(o,r,0,null),t=xs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xh(n),e.memoizedState=Yh,t):Tp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ui(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ui(a,s):(s=xs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Yh,r}return s=t.child,t=s.sibling,r=Ui(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tp(t,e){return e=jd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ec(t,e,n,r){return r!==null&&hp(r),To(e,t.child,null,n),t=Tp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Sf(Error(pe(422))),ec(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=jd({mode:"visible",children:r.children},i,0,null),s=xs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&To(e,t.child,null,o),e.child.memoizedState=Xh(o),e.memoizedState=Yh,s);if(!(e.mode&1))return ec(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(pe(419)),r=Sf(s,r,void 0),ec(t,e,o,r)}if(a=(o&t.childLanes)!==0,pn||a){if(r=Ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qr(t,i),er(r,t,i,-1))}return Pp(),r=Sf(Error(pe(421))),ec(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,En=Oi(i.nextSibling),Sn=e,rt=!0,Zn=null,t!==null&&(Pn[On++]=$r,Pn[On++]=Dr,Pn[On++]=Es,$r=t.id,Dr=t.overflow,Es=e),e=Tp(e,r.children),e.flags|=4096,e)}function Om(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vh(t.return,e,n)}function kf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function i1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tn(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Om(t,n,e);else if(t.tag===19)Om(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(at,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kf(e,!0,n,null,s);break;case"together":kf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ks|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,n=Ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ok(t,e,n){switch(e.tag){case 3:n1(e),No();break;case 5:Cw(e);break;case 1:yn(e.type)&&Ou(e);break;case 4:bp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(Iu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?r1(t,e,n):(et(at,at.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);et(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return i1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,e1(t,e,n)}return Jr(t,e,n)}var s1,Zh,o1,a1;s1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zh=function(){};o1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gs(kr.current);var s=null;switch(n){case"input":i=bh(t,i),r=bh(t,r),s=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),s=[];break;case"textarea":i=vh(t,i),r=vh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ru)}Sh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};a1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jo(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ak(t,e,n){var r=e.pendingProps;switch(fp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return yn(e.type)&&Pu(),$t(e),null;case 3:return r=e.stateNode,Ao(),nt(mn),nt(Gt),_p(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ql(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zn!==null&&(s0(Zn),Zn=null))),Zh(t,e),$t(e),null;case 5:wp(e);var i=gs(rl.current);if(n=e.type,t!==null&&e.stateNode!=null)o1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return $t(e),null}if(t=gs(kr.current),Ql(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[br]=e,r[tl]=s,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(i=0;i<fa.length;i++)tt(fa[i],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":Vg(r,s),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tt("invalid",r);break;case"textarea":Wg(r,s),tt("invalid",r)}Sh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zl(r.textContent,a,t),i=["children",""+a]):Wa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tt("scroll",r)}switch(n){case"input":Vl(r),Hg(r,s,!0);break;case"textarea":Vl(r),qg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ru)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[br]=e,t[tl]=r,s1(t,e,!1,!1),e.stateNode=t;e:{switch(o=kh(n,r),n){case"dialog":tt("cancel",t),tt("close",t),i=r;break;case"iframe":case"object":case"embed":tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<fa.length;i++)tt(fa[i],t);i=r;break;case"source":tt("error",t),i=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),i=r;break;case"details":tt("toggle",t),i=r;break;case"input":Vg(t,r),i=bh(t,r),tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),tt("invalid",t);break;case"textarea":Wg(t,r),i=vh(t,r),tt("invalid",t);break;default:i=r}Sh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ub(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qa(t,l):typeof l=="number"&&qa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tt("scroll",t):l!=null&&Z0(t,s,l,o))}switch(n){case"input":Vl(t),Hg(t,r,!1);break;case"textarea":Vl(t),qg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?mo(t,!!r.multiple,s,!1):r.defaultValue!=null&&mo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ru)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)a1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(n=gs(rl.current),gs(kr.current),Ql(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(s=r.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:Zl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return $t(e),null;case 13:if(nt(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&En!==null&&e.mode&1&&!(e.flags&128))kw(),No(),e.flags|=98560,s=!1;else if(s=Ql(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[br]=e}else No(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),s=!1}else Zn!==null&&(s0(Zn),Zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?St===0&&(St=3):Pp())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return Ao(),Zh(t,e),t===null&&Ja(e.stateNode.containerInfo),$t(e),null;case 10:return mp(e.type._context),$t(e),null;case 17:return yn(e.type)&&Pu(),$t(e),null;case 19:if(nt(at),s=e.memoizedState,s===null)return $t(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Jo(s,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lu(t),o!==null){for(e.flags|=128,Jo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(at,at.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>Co&&(e.flags|=128,r=!0,Jo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rt)return $t(e),null}else 2*mt()-s.renderingStartTime>Co&&n!==1073741824&&(e.flags|=128,r=!0,Jo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,n=at.current,et(at,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Rp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_n&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function lk(t,e){switch(fp(e),e.tag){case 1:return yn(e.type)&&Pu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ao(),nt(mn),nt(Gt),_p(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wp(e),null;case 13:if(nt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));No()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(at),null;case 4:return Ao(),null;case 10:return mp(e.type._context),null;case 22:case 23:return Rp(),null;case 24:return null;default:return null}}var tc=!1,Wt=!1,ck=typeof WeakSet=="function"?WeakSet:Set,we=null;function co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function Qh(t,e,n){try{n()}catch(r){dt(t,e,r)}}var Fm=!1;function uk(t,e){if(Fh=ju,t=fw(),up(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mh={focusedElem:t,selectionRange:n},ju=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,E=p.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:Gn(e.type,v),E);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(R){dt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return p=Fm,Fm=!1,p}function Ra(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qh(e,n,s)}i=i.next}while(i!==r)}}function Td(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function l1(t){var e=t.alternate;e!==null&&(t.alternate=null,l1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[tl],delete e[zh],delete e[qS],delete e[GS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function c1(t){return t.tag===5||t.tag===3||t.tag===4}function Mm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function e0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ru));else if(r!==4&&(t=t.child,t!==null))for(e0(t,e,n),t=t.sibling;t!==null;)e0(t,e,n),t=t.sibling}function t0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(t0(t,e,n),t=t.sibling;t!==null;)t0(t,e,n),t=t.sibling}var Ft=null,Yn=!1;function ii(t,e,n){for(n=n.child;n!==null;)u1(t,e,n),n=n.sibling}function u1(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(bd,n)}catch{}switch(n.tag){case 5:Wt||co(n,e);case 6:var r=Ft,i=Yn;Ft=null,ii(t,e,n),Ft=r,Yn=i,Ft!==null&&(Yn?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(Yn?(t=Ft,n=n.stateNode,t.nodeType===8?xf(t.parentNode,n):t.nodeType===1&&xf(t,n),Xa(t)):xf(Ft,n.stateNode));break;case 4:r=Ft,i=Yn,Ft=n.stateNode.containerInfo,Yn=!0,ii(t,e,n),Ft=r,Yn=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qh(n,e,o),i=i.next}while(i!==r)}ii(t,e,n);break;case 1:if(!Wt&&(co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}ii(t,e,n);break;case 21:ii(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,ii(t,e,n),Wt=r):ii(t,e,n);break;default:ii(t,e,n)}}function Im(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ck),e.forEach(function(r){var i=bk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,Yn=!1;break e;case 3:Ft=a.stateNode.containerInfo,Yn=!0;break e;case 4:Ft=a.stateNode.containerInfo,Yn=!0;break e}a=a.return}if(Ft===null)throw Error(pe(160));u1(s,o,i),Ft=null,Yn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){dt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d1(e,t),e=e.sibling}function d1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),ar(t),r&4){try{Ra(3,t,t.return),Td(3,t)}catch(v){dt(t,t.return,v)}try{Ra(5,t,t.return)}catch(v){dt(t,t.return,v)}}break;case 1:Dn(e,t),ar(t),r&512&&n!==null&&co(n,n.return);break;case 5:if(Dn(e,t),ar(t),r&512&&n!==null&&co(n,n.return),t.flags&32){var i=t.stateNode;try{qa(i,"")}catch(v){dt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Pb(i,s),kh(a,o);var c=kh(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Ub(i,f):d==="dangerouslySetInnerHTML"?Mb(i,f):d==="children"?qa(i,f):Z0(i,d,f,c)}switch(a){case"input":wh(i,s);break;case"textarea":Ob(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?mo(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?mo(i,!!s.multiple,s.defaultValue,!0):mo(i,!!s.multiple,s.multiple?[]:"",!1))}i[tl]=s}catch(v){dt(t,t.return,v)}}break;case 6:if(Dn(e,t),ar(t),r&4){if(t.stateNode===null)throw Error(pe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){dt(t,t.return,v)}}break;case 3:if(Dn(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xa(e.containerInfo)}catch(v){dt(t,t.return,v)}break;case 4:Dn(e,t),ar(t);break;case 13:Dn(e,t),ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cp=mt())),r&4&&Im(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(c=Wt)||d,Dn(e,t),Wt=c):Dn(e,t),ar(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(we=t,d=t.child;d!==null;){for(f=we=d;we!==null;){switch(h=we,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ra(4,h,h.return);break;case 1:co(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){dt(r,n,v)}}break;case 5:co(h,h.return);break;case 22:if(h.memoizedState!==null){zm(f);continue}}g!==null?(g.return=h,we=g):zm(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ib("display",o))}catch(v){dt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){dt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dn(e,t),ar(t),r&4&&Im(t);break;case 21:break;default:Dn(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(c1(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qa(i,""),r.flags&=-33);var s=Mm(t);t0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Mm(t);e0(t,a,o);break;default:throw Error(pe(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dk(t,e,n){we=t,f1(t)}function f1(t,e,n){for(var r=(t.mode&1)!==0;we!==null;){var i=we,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||tc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=tc;var c=Wt;if(tc=o,(Wt=l)&&!c)for(we=i;we!==null;)o=we,l=o.child,o.tag===22&&o.memoizedState!==null?Lm(i):l!==null?(l.return=o,we=l):Lm(i);for(;s!==null;)we=s,f1(s),s=s.sibling;we=i,tc=a,Wt=c}Um(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,we=s):Um(t)}}function Um(t){for(;we!==null;){var e=we;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Td(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vm(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Xa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Wt||e.flags&512&&Jh(e)}catch(h){dt(e,e.return,h)}}if(e===t){we=null;break}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}}function zm(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var n=e.sibling;if(n!==null){n.return=e.return,we=n;break}we=e.return}}function Lm(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Td(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dt(e,i,l)}}var s=e.return;try{Jh(e)}catch(l){dt(e,s,l)}break;case 5:var o=e.return;try{Jh(e)}catch(l){dt(e,o,l)}}}catch(l){dt(e,e.return,l)}if(e===t){we=null;break}var a=e.sibling;if(a!==null){a.return=e.return,we=a;break}we=e.return}}var fk=Math.ceil,Vu=ni.ReactCurrentDispatcher,Ap=ni.ReactCurrentOwner,Un=ni.ReactCurrentBatchConfig,Le=0,Ot=null,_t=null,It=0,_n=0,uo=Xi(0),St=0,al=null,ks=0,Ad=0,jp=0,Pa=null,un=null,Cp=0,Co=1/0,Or=null,Hu=!1,n0=null,Mi=null,nc=!1,Ni=null,Wu=0,Oa=0,r0=null,Lc=-1,$c=0;function rn(){return Le&6?mt():Lc!==-1?Lc:Lc=mt()}function Ii(t){return t.mode&1?Le&2&&It!==0?It&-It:YS.transition!==null?($c===0&&($c=Xb()),$c):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:rw(t.type)),t):1}function er(t,e,n,r){if(50<Oa)throw Oa=0,r0=null,Error(pe(185));Sl(t,n,r),(!(Le&2)||t!==Ot)&&(t===Ot&&(!(Le&2)&&(Ad|=n),St===4&&_i(t,It)),xn(t,r),n===1&&Le===0&&!(e.mode&1)&&(Co=mt()+500,Sd&&Zi()))}function xn(t,e){var n=t.callbackNode;YE(t,e);var r=Au(t,t===Ot?It:0);if(r===0)n!==null&&Yg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yg(n),e===1)t.tag===0?KS($m.bind(null,t)):vw($m.bind(null,t)),HS(function(){!(Le&6)&&Zi()}),n=null;else{switch(Zb(r)){case 1:n=np;break;case 4:n=Kb;break;case 16:n=Tu;break;case 536870912:n=Yb;break;default:n=Tu}n=w1(n,h1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h1(t,e){if(Lc=-1,$c=0,Le&6)throw Error(pe(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var r=Au(t,t===Ot?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qu(t,r);else{e=r;var i=Le;Le|=2;var s=g1();(Ot!==t||It!==e)&&(Or=null,Co=mt()+500,ys(t,e));do try{gk();break}catch(a){p1(t,a)}while(!0);gp(),Vu.current=s,Le=i,_t!==null?e=0:(Ot=null,It=0,e=St)}if(e!==0){if(e===2&&(i=Ch(t),i!==0&&(r=i,e=i0(t,i))),e===1)throw n=al,ys(t,0),_i(t,r),xn(t,mt()),n;if(e===6)_i(t,r);else{if(i=t.current.alternate,!(r&30)&&!hk(i)&&(e=qu(t,r),e===2&&(s=Ch(t),s!==0&&(r=s,e=i0(t,s))),e===1))throw n=al,ys(t,0),_i(t,r),xn(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:ss(t,un,Or);break;case 3:if(_i(t,r),(r&130023424)===r&&(e=Cp+500-mt(),10<e)){if(Au(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Uh(ss.bind(null,t,un,Or),e);break}ss(t,un,Or);break;case 4:if(_i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fk(r/1960))-r,10<r){t.timeoutHandle=Uh(ss.bind(null,t,un,Or),r);break}ss(t,un,Or);break;case 5:ss(t,un,Or);break;default:throw Error(pe(329))}}}return xn(t,mt()),t.callbackNode===n?h1.bind(null,t):null}function i0(t,e){var n=Pa;return t.current.memoizedState.isDehydrated&&(ys(t,e).flags|=256),t=qu(t,e),t!==2&&(e=un,un=n,e!==null&&s0(e)),t}function s0(t){un===null?un=t:un.push.apply(un,t)}function hk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _i(t,e){for(e&=~jp,e&=~Ad,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function $m(t){if(Le&6)throw Error(pe(327));_o();var e=Au(t,0);if(!(e&1))return xn(t,mt()),null;var n=qu(t,e);if(t.tag!==0&&n===2){var r=Ch(t);r!==0&&(e=r,n=i0(t,r))}if(n===1)throw n=al,ys(t,0),_i(t,e),xn(t,mt()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ss(t,un,Or),xn(t,mt()),null}function Bp(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Co=mt()+500,Sd&&Zi())}}function Ns(t){Ni!==null&&Ni.tag===0&&!(Le&6)&&_o();var e=Le;Le|=1;var n=Un.transition,r=Ke;try{if(Un.transition=null,Ke=1,t)return t()}finally{Ke=r,Un.transition=n,Le=e,!(Le&6)&&Zi()}}function Rp(){_n=uo.current,nt(uo)}function ys(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VS(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pu();break;case 3:Ao(),nt(mn),nt(Gt),_p();break;case 5:wp(r);break;case 4:Ao();break;case 13:nt(at);break;case 19:nt(at);break;case 10:mp(r.type._context);break;case 22:case 23:Rp()}n=n.return}if(Ot=t,_t=t=Ui(t.current,null),It=_n=e,St=0,al=null,jp=Ad=ks=0,un=Pa=null,ps!==null){for(e=0;e<ps.length;e++)if(n=ps[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ps=null}return t}function p1(t,e){do{var n=_t;try{if(gp(),Ic.current=Du,$u){for(var r=ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$u=!1}if(Ss=0,Rt=vt=ct=null,Ba=!1,il=0,Ap.current=null,n===null||n.return===null){St=1,al=e,_t=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Am(o);if(g!==null){g.flags&=-257,jm(g,o,a,s,e),g.mode&1&&Tm(s,c,e),e=g,l=c;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){Tm(s,c,e),Pp();break e}l=Error(pe(426))}}else if(rt&&a.mode&1){var E=Am(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),jm(E,o,a,s,e),hp(jo(l,a));break e}}s=l=jo(l,a),St!==4&&(St=2),Pa===null?Pa=[s]:Pa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=Zw(s,l,e);_m(s,b);break e;case 1:a=l;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Mi===null||!Mi.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=Qw(s,a,e);_m(s,R);break e}}s=s.return}while(s!==null)}y1(n)}catch(N){e=N,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function g1(){var t=Vu.current;return Vu.current=Du,t===null?Du:t}function Pp(){(St===0||St===3||St===2)&&(St=4),Ot===null||!(ks&268435455)&&!(Ad&268435455)||_i(Ot,It)}function qu(t,e){var n=Le;Le|=2;var r=g1();(Ot!==t||It!==e)&&(Or=null,ys(t,e));do try{pk();break}catch(i){p1(t,i)}while(!0);if(gp(),Le=n,Vu.current=r,_t!==null)throw Error(pe(261));return Ot=null,It=0,St}function pk(){for(;_t!==null;)m1(_t)}function gk(){for(;_t!==null&&!LE();)m1(_t)}function m1(t){var e=b1(t.alternate,t,_n);t.memoizedProps=t.pendingProps,e===null?y1(t):_t=e,Ap.current=null}function y1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lk(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,_t=null;return}}else if(n=ak(n,e,_n),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);St===0&&(St=5)}function ss(t,e,n){var r=Ke,i=Un.transition;try{Un.transition=null,Ke=1,mk(t,e,n,r)}finally{Un.transition=i,Ke=r}return null}function mk(t,e,n,r){do _o();while(Ni!==null);if(Le&6)throw Error(pe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(XE(t,s),t===Ot&&(_t=Ot=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nc||(nc=!0,w1(Tu,function(){return _o(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Un.transition,Un.transition=null;var o=Ke;Ke=1;var a=Le;Le|=4,Ap.current=null,uk(t,n),d1(n,t),MS(Mh),ju=!!Fh,Mh=Fh=null,t.current=n,dk(n),$E(),Le=a,Ke=o,Un.transition=s}else t.current=n;if(nc&&(nc=!1,Ni=t,Wu=i),s=t.pendingLanes,s===0&&(Mi=null),HE(n.stateNode),xn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,t=n0,n0=null,t;return Wu&1&&t.tag!==0&&_o(),s=t.pendingLanes,s&1?t===r0?Oa++:(Oa=0,r0=t):Oa=0,Zi(),null}function _o(){if(Ni!==null){var t=Zb(Wu),e=Un.transition,n=Ke;try{if(Un.transition=null,Ke=16>t?16:t,Ni===null)var r=!1;else{if(t=Ni,Ni=null,Wu=0,Le&6)throw Error(pe(331));var i=Le;for(Le|=4,we=t.current;we!==null;){var s=we,o=s.child;if(we.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(we=c;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:Ra(8,d,s)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var h=d.sibling,g=d.return;if(l1(d),d===c){we=null;break}if(h!==null){h.return=g,we=h;break}we=g}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}we=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,we=o;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ra(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,we=b;break e}we=s.return}}var w=t.current;for(we=w;we!==null;){o=we;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,we=S;else e:for(o=w;we!==null;){if(a=we,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Td(9,a)}}catch(N){dt(a,a.return,N)}if(a===o){we=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,we=R;break e}we=a.return}}if(Le=i,Zi(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(bd,t)}catch{}r=!0}return r}finally{Ke=n,Un.transition=e}}return!1}function Dm(t,e,n){e=jo(n,e),e=Zw(t,e,1),t=Fi(t,e,1),e=rn(),t!==null&&(Sl(t,1,e),xn(t,e))}function dt(t,e,n){if(t.tag===3)Dm(t,t,n);else for(;e!==null;){if(e.tag===3){Dm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mi===null||!Mi.has(r))){t=jo(n,t),t=Qw(e,t,1),e=Fi(e,t,1),t=rn(),e!==null&&(Sl(e,1,t),xn(e,t));break}}e=e.return}}function yk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(It&n)===n&&(St===4||St===3&&(It&130023424)===It&&500>mt()-Cp?ys(t,0):jp|=n),xn(t,e)}function x1(t,e){e===0&&(t.mode&1?(e=ql,ql<<=1,!(ql&130023424)&&(ql=4194304)):e=1);var n=rn();t=Qr(t,e),t!==null&&(Sl(t,e,n),xn(t,n))}function xk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),x1(t,n)}function bk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),x1(t,n)}var b1;b1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,ok(t,e,n);pn=!!(t.flags&131072)}else pn=!1,rt&&e.flags&1048576&&Ew(e,Mu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zc(t,e),t=e.pendingProps;var i=ko(e,Gt.current);wo(e,n),i=Ep(null,e,r,t,i,n);var s=Sp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(s=!0,Ou(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xp(e),i.updater=Nd,e.stateNode=i,i._reactInternals=e,Wh(e,r,t,n),e=Kh(null,e,r,!0,s,n)):(e.tag=0,rt&&s&&dp(e),tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_k(r),t=Gn(r,t),i){case 0:e=Gh(null,e,r,t,n);break e;case 1:e=Rm(null,e,r,t,n);break e;case 11:e=Cm(null,e,r,t,n);break e;case 14:e=Bm(null,e,r,Gn(r.type,t),n);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Gh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Rm(t,e,r,i,n);case 3:e:{if(n1(e),t===null)throw Error(pe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jw(t,e),zu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=jo(Error(pe(423)),e),e=Pm(t,e,r,n,i);break e}else if(r!==i){i=jo(Error(pe(424)),e),e=Pm(t,e,r,n,i);break e}else for(En=Oi(e.stateNode.containerInfo.firstChild),Sn=e,rt=!0,Zn=null,n=Tw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(No(),r===i){e=Jr(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return Cw(e),t===null&&Dh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ih(r,i)?o=null:s!==null&&Ih(r,s)&&(e.flags|=32),t1(t,e),tn(t,e,o,n),e.child;case 6:return t===null&&Dh(e),null;case 13:return r1(t,e,n);case 4:return bp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Cm(t,e,r,i,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,et(Iu,r._currentValue),r._currentValue=o,s!==null)if(nr(s.value,o)){if(s.children===i.children&&!mn.current){e=Jr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Gr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Vh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(pe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wo(e,n),i=zn(i),r=r(i),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,i=Gn(r,e.pendingProps),i=Gn(r.type,i),Bm(t,e,r,i,n);case 15:return Jw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),zc(t,e),e.tag=1,yn(r)?(t=!0,Ou(e)):t=!1,wo(e,n),Xw(e,r,i),Wh(e,r,i,n),Kh(null,e,r,!0,t,n);case 19:return i1(t,e,n);case 22:return e1(t,e,n)}throw Error(pe(156,e.tag))};function w1(t,e){return Gb(t,e)}function wk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new wk(t,e,n,r)}function Op(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _k(t){if(typeof t=="function")return Op(t)?1:0;if(t!=null){if(t=t.$$typeof,t===J0)return 11;if(t===ep)return 14}return 2}function Ui(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Op(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case eo:return xs(n.children,i,s,e);case Q0:o=8,i|=8;break;case gh:return t=Mn(12,n,e,i|2),t.elementType=gh,t.lanes=s,t;case mh:return t=Mn(13,n,e,i),t.elementType=mh,t.lanes=s,t;case yh:return t=Mn(19,n,e,i),t.elementType=yh,t.lanes=s,t;case Cb:return jd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ab:o=10;break e;case jb:o=9;break e;case J0:o=11;break e;case ep:o=14;break e;case hi:o=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=Mn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function xs(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function jd(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=Cb,t.lanes=n,t.stateNode={isHidden:!1},t}function Nf(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function Tf(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=af(0),this.expirationTimes=af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=af(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fp(t,e,n,r,i,s,o,a,l){return t=new vk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xp(s),t}function Ek(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _1(t){if(!t)return Wi;t=t._reactInternals;e:{if(Os(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(yn(n))return _w(t,n,e)}return e}function v1(t,e,n,r,i,s,o,a,l){return t=Fp(n,r,!0,t,i,s,o,a,l),t.context=_1(null),n=t.current,r=rn(),i=Ii(n),s=Gr(r,i),s.callback=e??null,Fi(n,s,i),t.current.lanes=i,Sl(t,i,r),xn(t,r),t}function Cd(t,e,n,r){var i=e.current,s=rn(),o=Ii(i);return n=_1(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fi(i,e,o),t!==null&&(er(t,i,o,s),Mc(t,i,o)),o}function Gu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mp(t,e){Vm(t,e),(t=t.alternate)&&Vm(t,e)}var E1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ip(t){this._internalRoot=t}Bd.prototype.render=Ip.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));Cd(t,e,null,null)};Bd.prototype.unmount=Ip.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){Cd(null,t,null,null)}),e[Zr]=null}};function Bd(t){this._internalRoot=t}Bd.prototype.unstable_scheduleHydration=function(t){if(t){var e=ew();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&nw(t)}};function Up(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function Sk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Gu(o);s.call(c)}}var o=v1(e,r,t,0,null,!1,!1,"",Hm);return t._reactRootContainer=o,t[Zr]=o.current,Ja(t.nodeType===8?t.parentNode:t),Ns(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Gu(l);a.call(c)}}var l=Fp(t,0,!1,null,null,!1,!1,"",Hm);return t._reactRootContainer=l,t[Zr]=l.current,Ja(t.nodeType===8?t.parentNode:t),Ns(function(){Cd(e,l,n,r)}),l}function Pd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Gu(o);a.call(l)}}Cd(e,o,t,i)}else o=Sk(n,e,t,i,r);return Gu(o)}Qb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=da(e.pendingLanes);n!==0&&(rp(e,n|1),xn(e,mt()),!(Le&6)&&(Co=mt()+500,Zi()))}break;case 13:Ns(function(){var r=Qr(t,1);if(r!==null){var i=rn();er(r,t,1,i)}}),Mp(t,1)}};ip=function(t){if(t.tag===13){var e=Qr(t,134217728);if(e!==null){var n=rn();er(e,t,134217728,n)}Mp(t,134217728)}};Jb=function(t){if(t.tag===13){var e=Ii(t),n=Qr(t,e);if(n!==null){var r=rn();er(n,t,e,r)}Mp(t,e)}};ew=function(){return Ke};tw=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};Th=function(t,e,n){switch(e){case"input":if(wh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ed(r);if(!i)throw Error(pe(90));Rb(r),wh(r,i)}}}break;case"textarea":Ob(t,n);break;case"select":e=n.value,e!=null&&mo(t,!!n.multiple,e,!1)}};$b=Bp;Db=Ns;var kk={usingClientEntryPoint:!1,Events:[Nl,io,Ed,zb,Lb,Bp]},ea={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nk={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wb(t),t===null?null:t.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{bd=rc.inject(Nk),Sr=rc}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kk;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Up(e))throw Error(pe(200));return Ek(t,e,null,n)};Nn.createRoot=function(t,e){if(!Up(t))throw Error(pe(299));var n=!1,r="",i=E1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fp(t,1,!1,null,null,n,!1,r,i),t[Zr]=e.current,Ja(t.nodeType===8?t.parentNode:t),new Ip(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=Wb(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Ns(t)};Nn.hydrate=function(t,e,n){if(!Rd(e))throw Error(pe(200));return Pd(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!Up(t))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=E1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=v1(e,null,t,1,n??null,i,!1,s,o),t[Zr]=e.current,Ja(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bd(e)};Nn.render=function(t,e,n){if(!Rd(e))throw Error(pe(200));return Pd(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!Rd(t))throw Error(pe(40));return t._reactRootContainer?(Ns(function(){Pd(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1};Nn.unstable_batchedUpdates=Bp;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rd(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return Pd(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function S1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S1)}catch(t){console.error(t)}}S1(),Sb.exports=Nn;var Tk=Sb.exports,Wm=Tk;hh.createRoot=Wm.createRoot,hh.hydrateRoot=Wm.hydrateRoot;/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qm="popstate";function Ak(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return o0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ll(i)}return Ck(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jk(){return Math.random().toString(36).substring(2,10)}function Gm(t,e){return{usr:t.state,key:t.key,idx:e}}function o0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lo(e):e,state:n,key:e&&e.key||r||jk()}}function ll({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Ck(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let E=d(),b=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:b})}function h(E,b){a="PUSH";let w=o0(v.location,E,b);c=d()+1;let S=Gm(w,c),R=v.createHref(w);try{o.pushState(S,"",R)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(R)}s&&l&&l({action:a,location:v.location,delta:1})}function g(E,b){a="REPLACE";let w=o0(v.location,E,b);c=d();let S=Gm(w,c),R=v.createHref(w);o.replaceState(S,"",R),s&&l&&l({action:a,location:v.location,delta:0})}function p(E){return Bk(E)}let v={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qm,f),l=E,()=>{i.removeEventListener(qm,f),l=null}},createHref(E){return e(i,E)},createURL:p,encodeLocation(E){let b=p(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:g,go(E){return o.go(E)}};return v}function Bk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ll(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function k1(t,e,n="/"){return Rk(t,e,n,!1)}function Rk(t,e,n,r){let i=typeof e=="string"?Lo(e):e,s=ei(i.pathname||"/",n);if(s==null)return null;let o=N1(t);Pk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Hk(s);a=Dk(o[l],c,r)}return a}function N1(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Kr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ot(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),N1(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Lk(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of T1(s.path))i(s,o,l)}),e}function T1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=T1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Pk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$k(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Ok=/^:[\w-]+$/,Fk=3,Mk=2,Ik=1,Uk=10,zk=-2,Km=t=>t==="*";function Lk(t,e){let n=t.split("/"),r=n.length;return n.some(Km)&&(r+=zk),e&&(r+=Mk),n.filter(i=>!Km(i)).reduce((i,s)=>i+(Ok.test(s)?Fk:s===""?Ik:Uk),r)}function $k(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Dk(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Ku({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Ku({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Kr([s,f.pathname]),pathnameBase:Kk(Kr([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Kr([s,f.pathnameBase]))}return o}function Ku(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Vk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},h)=>{if(d==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=a[h];return f&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Vk(t,e=!1,n=!0){rr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Hk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Wk(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lo(t):t;return{pathname:n?n.startsWith("/")?n:qk(n,e):e,search:Yk(r),hash:Xk(i)}}function qk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Af(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zp(t){let e=Gk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Lp(t,e,n,r=!1){let i;typeof t=="string"?i=Lo(t):(i={...t},ot(!i.pathname||!i.pathname.includes("?"),Af("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),Af("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),Af("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=Wk(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Kr=t=>t.join("/").replace(/\/\/+/g,"/"),Kk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Yk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Xk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Zk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var A1=["POST","PUT","PATCH","DELETE"];new Set(A1);var Qk=["GET",...A1];new Set(Qk);var $o=$.createContext(null);$o.displayName="DataRouter";var Od=$.createContext(null);Od.displayName="DataRouterState";$.createContext(!1);var j1=$.createContext({isTransitioning:!1});j1.displayName="ViewTransition";var Jk=$.createContext(new Map);Jk.displayName="Fetchers";var eN=$.createContext(null);eN.displayName="Await";var or=$.createContext(null);or.displayName="Navigation";var Al=$.createContext(null);Al.displayName="Location";var Ar=$.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var $p=$.createContext(null);$p.displayName="RouteError";function tN(t,{relative:e}={}){ot(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=$.useContext(or),{hash:i,pathname:s,search:o}=jl(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Kr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Do(){return $.useContext(Al)!=null}function ri(){return ot(Do(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Al).location}var C1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B1(t){$.useContext(or).static||$.useLayoutEffect(t)}function Dp(){let{isDataRoute:t}=$.useContext(Ar);return t?pN():nN()}function nN(){ot(Do(),"useNavigate() may be used only in the context of a <Router> component.");let t=$.useContext($o),{basename:e,navigator:n}=$.useContext(or),{matches:r}=$.useContext(Ar),{pathname:i}=ri(),s=JSON.stringify(zp(r)),o=$.useRef(!1);return B1(()=>{o.current=!0}),$.useCallback((l,c={})=>{if(rr(o.current,C1),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Lp(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Kr([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}$.createContext(null);function jl(t,{relative:e}={}){let{matches:n}=$.useContext(Ar),{pathname:r}=ri(),i=JSON.stringify(zp(n));return $.useMemo(()=>Lp(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function rN(t,e){return R1(t,e)}function R1(t,e,n,r){var b;ot(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=$.useContext(or),{matches:s}=$.useContext(Ar),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let w=d&&d.path||"";P1(l,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=ri(),h;if(e){let w=typeof e=="string"?Lo(e):e;ot(c==="/"||((b=w.pathname)==null?void 0:b.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=f;let g=h.pathname||"/",p=g;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=k1(t,{pathname:p});rr(d||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),rr(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=lN(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Kr([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Kr([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&E?$.createElement(Al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},E):E}function iN(){let t=hN(),e=Zk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:s},"ErrorBoundary")," or"," ",$.createElement("code",{style:s},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,o)}var sN=$.createElement(iN,null),oN=class extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?$.createElement(Ar.Provider,{value:this.props.routeContext},$.createElement($p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aN({routeContext:t,match:e,children:n}){let r=$.useContext($o);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Ar.Provider,{value:t},n)}function lN(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);ot(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:f}=n,h=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let f,h=!1,g=null,p=null;n&&(f=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||sN,o&&(a<0&&d===0?(P1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):a===d&&(h=!0,p=c.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,d+1)),E=()=>{let b;return f?b=g:h?b=p:c.route.Component?b=$.createElement(c.route.Component,null):c.route.element?b=c.route.element:b=l,$.createElement(aN,{match:c,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:b})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?$.createElement(oN,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:E(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):E()},null)}function Vp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cN(t){let e=$.useContext($o);return ot(e,Vp(t)),e}function uN(t){let e=$.useContext(Od);return ot(e,Vp(t)),e}function dN(t){let e=$.useContext(Ar);return ot(e,Vp(t)),e}function Hp(t){let e=dN(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fN(){return Hp("useRouteId")}function hN(){var r;let t=$.useContext($p),e=uN("useRouteError"),n=Hp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function pN(){let{router:t}=cN("useNavigate"),e=Hp("useNavigate"),n=$.useRef(!1);return B1(()=>{n.current=!0}),$.useCallback(async(i,s={})=>{rr(n.current,C1),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Ym={};function P1(t,e,n){!e&&!Ym[t]&&(Ym[t]=!0,rr(!1,n))}$.memo(gN);function gN({routes:t,future:e,state:n}){return R1(t,void 0,n,e)}function An({to:t,replace:e,state:n,relative:r}){ot(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=$.useContext(or);rr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=$.useContext(Ar),{pathname:o}=ri(),a=Dp(),l=Lp(t,zp(s),o,r==="path"),c=JSON.stringify(l);return $.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function Jt(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){ot(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=$.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Lo(n));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:h="default"}=n,g=$.useMemo(()=>{let p=ei(l,o);return p==null?null:{location:{pathname:p,search:c,hash:d,state:f,key:h},navigationType:r}},[o,l,c,d,f,h,r]);return rr(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:$.createElement(or.Provider,{value:a},$.createElement(Al.Provider,{children:e,value:g}))}function O1({children:t,location:e}){return rN(a0(t),e)}function a0(t,e=[]){let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){n.push.apply(n,a0(r.props.children,s));return}ot(r.type===Jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=a0(r.props.children,s)),n.push(o)}),n}var Vc="get",Hc="application/x-www-form-urlencoded";function Fd(t){return t!=null&&typeof t.tagName=="string"}function yN(t){return Fd(t)&&t.tagName.toLowerCase()==="button"}function xN(t){return Fd(t)&&t.tagName.toLowerCase()==="form"}function bN(t){return Fd(t)&&t.tagName.toLowerCase()==="input"}function wN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _N(t,e){return t.button===0&&(!e||e==="_self")&&!wN(t)}var ic=null;function vN(){if(ic===null)try{new FormData(document.createElement("form"),0),ic=!1}catch{ic=!0}return ic}var EN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jf(t){return t!=null&&!EN.has(t)?(rr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):t}function SN(t,e){let n,r,i,s,o;if(xN(t)){let a=t.getAttribute("action");r=a?ei(a,e):null,n=t.getAttribute("method")||Vc,i=jf(t.getAttribute("enctype"))||Hc,s=new FormData(t)}else if(yN(t)||bN(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?ei(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Vc,i=jf(t.getAttribute("formenctype"))||jf(a.getAttribute("enctype"))||Hc,s=new FormData(a,t),!vN()){let{name:c,type:d,value:f}=t;if(d==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,f)}}else{if(Fd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vc,r=null,i=Hc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ei(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function NN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function AN(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await NN(s,n);return o.links?o.links():[]}return[]}));return RN(r.flat(1).filter(TN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Xm(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var f;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function jN(t,e,{includeHydrateFallback:n}={}){return CN(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function CN(t){return[...new Set(t)]}function BN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function RN(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(BN(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function F1(){let t=$.useContext($o);return Wp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function PN(){let t=$.useContext(Od);return Wp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qp=$.createContext(void 0);qp.displayName="FrameworkContext";function M1(){let t=$.useContext(qp);return Wp(t,"You must render this element inside a <HydratedRouter> element"),t}function ON(t,e){let n=$.useContext(qp),[r,i]=$.useState(!1),[s,o]=$.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=e,h=$.useRef(null);$.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=b=>{b.forEach(w=>{o(w.isIntersecting)})},E=new IntersectionObserver(v,{threshold:.5});return h.current&&E.observe(h.current),()=>{E.disconnect()}}},[t]),$.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let g=()=>{i(!0)},p=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:ta(a,g),onBlur:ta(l,p),onMouseEnter:ta(c,g),onMouseLeave:ta(d,p),onTouchStart:ta(f,g)}]:[!1,h,{}]}function ta(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function FN({page:t,...e}){let{router:n}=F1(),r=$.useMemo(()=>k1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?$.createElement(IN,{page:t,matches:r,...e}):null}function MN(t){let{manifest:e,routeModules:n}=M1(),[r,i]=$.useState([]);return $.useEffect(()=>{let s=!1;return AN(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function IN({page:t,matches:e,...n}){let r=ri(),{manifest:i,routeModules:s}=M1(),{basename:o}=F1(),{loaderData:a,matches:l}=PN(),c=$.useMemo(()=>Xm(t,e,l,i,r,"data"),[t,e,l,i,r]),d=$.useMemo(()=>Xm(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=$.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,v=!1;if(e.forEach(b=>{var S;let w=i.routes[b.route.id];!w||!w.hasLoader||(!c.some(R=>R.route.id===b.route.id)&&b.route.id in a&&((S=s[b.route.id])!=null&&S.shouldRevalidate)||w.hasClientLoader?v=!0:p.add(b.route.id))}),p.size===0)return[];let E=kN(t,o,"data");return v&&p.size>0&&E.searchParams.set("_routes",e.filter(b=>p.has(b.route.id)).map(b=>b.route.id).join(",")),[E.pathname+E.search]},[o,a,r,i,c,e,t,s]),h=$.useMemo(()=>jN(d,i),[d,i]),g=MN(d);return $.createElement($.Fragment,null,f.map(p=>$.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),h.map(p=>$.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),g.map(({key:p,link:v})=>$.createElement("link",{key:p,...v})))}function UN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var I1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I1&&(window.__reactRouterVersion="7.7.0")}catch{}function zN({basename:t,children:e,window:n}){let r=$.useRef();r.current==null&&(r.current=Ak({window:n,v5Compat:!0}));let i=r.current,[s,o]=$.useState({action:i.action,location:i.location}),a=$.useCallback(l=>{$.startTransition(()=>o(l))},[o]);return $.useLayoutEffect(()=>i.listen(a),[i,a]),$.createElement(mN,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var U1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gp=$.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...h},g){let{basename:p}=$.useContext(or),v=typeof c=="string"&&U1.test(c),E,b=!1;if(typeof c=="string"&&v&&(E=c,I1))try{let U=new URL(window.location.href),H=c.startsWith("//")?new URL(U.protocol+c):new URL(c),ie=ei(H.pathname,p);H.origin===U.origin&&ie!=null?c=ie+H.search+H.hash:b=!0}catch{rr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=tN(c,{relative:i}),[S,R,N]=ON(r,h),F=DN(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function C(U){e&&e(U),U.defaultPrevented||F(U)}let I=$.createElement("a",{...h,...N,href:E||w,onClick:b||s?e:C,ref:UN(g,R),target:l,"data-discover":!v&&n==="render"?"true":void 0});return S&&!v?$.createElement($.Fragment,null,I,$.createElement(FN,{page:w})):I});Gp.displayName="Link";var Kp=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let f=jl(o,{relative:c.relative}),h=ri(),g=$.useContext(Od),{navigator:p,basename:v}=$.useContext(or),E=g!=null&&GN(f)&&a===!0,b=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,w=h.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(w=w.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&v&&(S=ei(S,v)||S);const R=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let N=w===b||!i&&w.startsWith(b)&&w.charAt(R)==="/",F=S!=null&&(S===b||!i&&S.startsWith(b)&&S.charAt(b.length)==="/"),C={isActive:N,isPending:F,isTransitioning:E},I=N?e:void 0,U;typeof r=="function"?U=r(C):U=[r,N?"active":null,F?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(C):s;return $.createElement(Gp,{...c,"aria-current":I,className:U,ref:d,style:H,to:o,viewTransition:a},typeof l=="function"?l(C):l)});Kp.displayName="NavLink";var LN=$.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Vc,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...h},g)=>{let p=WN(),v=qN(a,{relative:c}),E=o.toLowerCase()==="get"?"get":"post",b=typeof a=="string"&&U1.test(a),w=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let R=S.nativeEvent.submitter,N=(R==null?void 0:R.getAttribute("formmethod"))||o;p(R||S.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:f})};return $.createElement("form",{ref:g,method:E,action:v,onSubmit:r?l:w,...h,"data-discover":!b&&t==="render"?"true":void 0})});LN.displayName="Form";function $N(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(t){let e=$.useContext($o);return ot(e,$N(t)),e}function DN(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Dp(),l=ri(),c=jl(t,{relative:s});return $.useCallback(d=>{if(_N(d,e)){d.preventDefault();let f=n!==void 0?n:ll(l)===ll(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var VN=0,HN=()=>`__${String(++VN)}__`;function WN(){let{router:t}=z1("useSubmit"),{basename:e}=$.useContext(or),n=fN();return $.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=SN(r,e);if(i.navigate===!1){let d=i.fetcherKey||HN();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function qN(t,{relative:e}={}){let{basename:n}=$.useContext(or),r=$.useContext(Ar);ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...jl(t||".",{relative:e})},o=ri();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Kr([n,s.pathname])),ll(s)}function GN(t,e={}){let n=$.useContext(j1);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=z1("useViewTransitionState"),i=jl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ku(i.pathname,o)!=null||Ku(i.pathname,s)!=null}var L1={},Cl={};Cl.byteLength=XN;Cl.toByteArray=QN;Cl.fromByteArray=t4;var wr=[],Cn=[],KN=typeof Uint8Array<"u"?Uint8Array:Array,Cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Is=0,YN=Cf.length;Is<YN;++Is)wr[Is]=Cf[Is],Cn[Cf.charCodeAt(Is)]=Is;Cn[45]=62;Cn[95]=63;function $1(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function XN(t){var e=$1(t),n=e[0],r=e[1];return(n+r)*3/4-r}function ZN(t,e,n){return(e+n)*3/4-n}function QN(t){var e,n=$1(t),r=n[0],i=n[1],s=new KN(ZN(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Cn[t.charCodeAt(l)]<<18|Cn[t.charCodeAt(l+1)]<<12|Cn[t.charCodeAt(l+2)]<<6|Cn[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Cn[t.charCodeAt(l)]<<2|Cn[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Cn[t.charCodeAt(l)]<<10|Cn[t.charCodeAt(l+1)]<<4|Cn[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function JN(t){return wr[t>>18&63]+wr[t>>12&63]+wr[t>>6&63]+wr[t&63]}function e4(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(JN(r));return i.join("")}function t4(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(e4(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(wr[e>>2]+wr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(wr[e>>10]+wr[e>>4&63]+wr[e<<2&63]+"=")),i.join("")}var Bl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Bl.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,d=-7,f=n?i-1:0,h=n?-1:1,g=t[e+f];for(f+=h,s=g&(1<<-d)-1,g>>=-d,d+=a;d>0;s=s*256+t[e+f],f+=h,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=r;d>0;o=o*256+t[e+f],f+=h,d-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(g?-1:1)*o*Math.pow(2,s-r)};Bl.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,d=(1<<c)-1,f=d>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:s-1,p=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=h/l:e+=h*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=d?(a=0,o=d):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+g]=a&255,g+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+g]=o&255,g+=p,o/=256,c-=8);t[n+g-p]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Cl,n=Bl,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const T=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(T,x),T.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const x=new Uint8Array(T);return Object.setPrototypeOf(x,a.prototype),x}function a(T,x,_){if(typeof T=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(T)}return l(T,x,_)}a.poolSize=8192;function l(T,x,_){if(typeof T=="string")return h(T,x);if(ArrayBuffer.isView(T))return p(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(te(T,ArrayBuffer)||T&&te(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(te(T,SharedArrayBuffer)||T&&te(T.buffer,SharedArrayBuffer)))return v(T,x,_);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const M=T.valueOf&&T.valueOf();if(M!=null&&M!==T)return a.from(M,x,_);const X=E(T);if(X)return X;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),x,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,x,_){return l(T,x,_)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function d(T,x,_){return c(T),T<=0?o(T):x!==void 0?typeof _=="string"?o(T).fill(x,_):o(T).fill(x):o(T)}a.alloc=function(T,x,_){return d(T,x,_)};function f(T){return c(T),o(T<0?0:b(T)|0)}a.allocUnsafe=function(T){return f(T)},a.allocUnsafeSlow=function(T){return f(T)};function h(T,x){if((typeof x!="string"||x==="")&&(x="utf8"),!a.isEncoding(x))throw new TypeError("Unknown encoding: "+x);const _=S(T,x)|0;let M=o(_);const X=M.write(T,x);return X!==_&&(M=M.slice(0,X)),M}function g(T){const x=T.length<0?0:b(T.length)|0,_=o(x);for(let M=0;M<x;M+=1)_[M]=T[M]&255;return _}function p(T){if(te(T,Uint8Array)){const x=new Uint8Array(T);return v(x.buffer,x.byteOffset,x.byteLength)}return g(T)}function v(T,x,_){if(x<0||T.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<x+(_||0))throw new RangeError('"length" is outside of buffer bounds');let M;return x===void 0&&_===void 0?M=new Uint8Array(T):_===void 0?M=new Uint8Array(T,x):M=new Uint8Array(T,x,_),Object.setPrototypeOf(M,a.prototype),M}function E(T){if(a.isBuffer(T)){const x=b(T.length)|0,_=o(x);return _.length===0||T.copy(_,0,0,x),_}if(T.length!==void 0)return typeof T.length!="number"||fe(T.length)?o(0):g(T);if(T.type==="Buffer"&&Array.isArray(T.data))return g(T.data)}function b(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function w(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==a.prototype},a.compare=function(x,_){if(te(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),te(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(x)||!a.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===_)return 0;let M=x.length,X=_.length;for(let re=0,ne=Math.min(M,X);re<ne;++re)if(x[re]!==_[re]){M=x[re],X=_[re];break}return M<X?-1:X<M?1:0},a.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(x,_){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return a.alloc(0);let M;if(_===void 0)for(_=0,M=0;M<x.length;++M)_+=x[M].length;const X=a.allocUnsafe(_);let re=0;for(M=0;M<x.length;++M){let ne=x[M];if(te(ne,Uint8Array))re+ne.length>X.length?(a.isBuffer(ne)||(ne=a.from(ne)),ne.copy(X,re)):Uint8Array.prototype.set.call(X,ne,re);else if(a.isBuffer(ne))ne.copy(X,re);else throw new TypeError('"list" argument must be an Array of Buffers');re+=ne.length}return X};function S(T,x){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||te(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const _=T.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&_===0)return 0;let X=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return m(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return P(T).length;default:if(X)return M?-1:m(T).length;x=(""+x).toLowerCase(),X=!0}}a.byteLength=S;function R(T,x,_){let M=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,x>>>=0,_<=x))return"";for(T||(T="utf8");;)switch(T){case"hex":return Y(this,x,_);case"utf8":case"utf-8":return W(this,x,_);case"ascii":return Z(this,x,_);case"latin1":case"binary":return G(this,x,_);case"base64":return z(this,x,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,x,_);default:if(M)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),M=!0}}a.prototype._isBuffer=!0;function N(T,x,_){const M=T[x];T[x]=T[_],T[_]=M}a.prototype.swap16=function(){const x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<x;_+=2)N(this,_,_+1);return this},a.prototype.swap32=function(){const x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<x;_+=4)N(this,_,_+3),N(this,_+1,_+2);return this},a.prototype.swap64=function(){const x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<x;_+=8)N(this,_,_+7),N(this,_+1,_+6),N(this,_+2,_+5),N(this,_+3,_+4);return this},a.prototype.toString=function(){const x=this.length;return x===0?"":arguments.length===0?W(this,0,x):R.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(x){if(!a.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:a.compare(this,x)===0},a.prototype.inspect=function(){let x="";const _=t.INSPECT_MAX_BYTES;return x=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(x+=" ... "),"<Buffer "+x+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(x,_,M,X,re){if(te(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(_===void 0&&(_=0),M===void 0&&(M=x?x.length:0),X===void 0&&(X=0),re===void 0&&(re=this.length),_<0||M>x.length||X<0||re>this.length)throw new RangeError("out of range index");if(X>=re&&_>=M)return 0;if(X>=re)return-1;if(_>=M)return 1;if(_>>>=0,M>>>=0,X>>>=0,re>>>=0,this===x)return 0;let ne=re-X,Te=M-_;const Oe=Math.min(ne,Te),Ce=this.slice(X,re),Ne=x.slice(_,M);for(let Ve=0;Ve<Oe;++Ve)if(Ce[Ve]!==Ne[Ve]){ne=Ce[Ve],Te=Ne[Ve];break}return ne<Te?-1:Te<ne?1:0};function F(T,x,_,M,X){if(T.length===0)return-1;if(typeof _=="string"?(M=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,fe(_)&&(_=X?0:T.length-1),_<0&&(_=T.length+_),_>=T.length){if(X)return-1;_=T.length-1}else if(_<0)if(X)_=0;else return-1;if(typeof x=="string"&&(x=a.from(x,M)),a.isBuffer(x))return x.length===0?-1:C(T,x,_,M,X);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(T,x,_):Uint8Array.prototype.lastIndexOf.call(T,x,_):C(T,[x],_,M,X);throw new TypeError("val must be string, number or Buffer")}function C(T,x,_,M,X){let re=1,ne=T.length,Te=x.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(T.length<2||x.length<2)return-1;re=2,ne/=2,Te/=2,_/=2}function Oe(Ne,Ve){return re===1?Ne[Ve]:Ne.readUInt16BE(Ve*re)}let Ce;if(X){let Ne=-1;for(Ce=_;Ce<ne;Ce++)if(Oe(T,Ce)===Oe(x,Ne===-1?0:Ce-Ne)){if(Ne===-1&&(Ne=Ce),Ce-Ne+1===Te)return Ne*re}else Ne!==-1&&(Ce-=Ce-Ne),Ne=-1}else for(_+Te>ne&&(_=ne-Te),Ce=_;Ce>=0;Ce--){let Ne=!0;for(let Ve=0;Ve<Te;Ve++)if(Oe(T,Ce+Ve)!==Oe(x,Ve)){Ne=!1;break}if(Ne)return Ce}return-1}a.prototype.includes=function(x,_,M){return this.indexOf(x,_,M)!==-1},a.prototype.indexOf=function(x,_,M){return F(this,x,_,M,!0)},a.prototype.lastIndexOf=function(x,_,M){return F(this,x,_,M,!1)};function I(T,x,_,M){_=Number(_)||0;const X=T.length-_;M?(M=Number(M),M>X&&(M=X)):M=X;const re=x.length;M>re/2&&(M=re/2);let ne;for(ne=0;ne<M;++ne){const Te=parseInt(x.substr(ne*2,2),16);if(fe(Te))return ne;T[_+ne]=Te}return ne}function U(T,x,_,M){return D(m(x,T.length-_),T,_,M)}function H(T,x,_,M){return D(y(x),T,_,M)}function ie(T,x,_,M){return D(P(x),T,_,M)}function oe(T,x,_,M){return D(A(x,T.length-_),T,_,M)}a.prototype.write=function(x,_,M,X){if(_===void 0)X="utf8",M=this.length,_=0;else if(M===void 0&&typeof _=="string")X=_,M=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(M)?(M=M>>>0,X===void 0&&(X="utf8")):(X=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const re=this.length-_;if((M===void 0||M>re)&&(M=re),x.length>0&&(M<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");let ne=!1;for(;;)switch(X){case"hex":return I(this,x,_,M);case"utf8":case"utf-8":return U(this,x,_,M);case"ascii":case"latin1":case"binary":return H(this,x,_,M);case"base64":return ie(this,x,_,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,x,_,M);default:if(ne)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),ne=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(T,x,_){return x===0&&_===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(x,_))}function W(T,x,_){_=Math.min(T.length,_);const M=[];let X=x;for(;X<_;){const re=T[X];let ne=null,Te=re>239?4:re>223?3:re>191?2:1;if(X+Te<=_){let Oe,Ce,Ne,Ve;switch(Te){case 1:re<128&&(ne=re);break;case 2:Oe=T[X+1],(Oe&192)===128&&(Ve=(re&31)<<6|Oe&63,Ve>127&&(ne=Ve));break;case 3:Oe=T[X+1],Ce=T[X+2],(Oe&192)===128&&(Ce&192)===128&&(Ve=(re&15)<<12|(Oe&63)<<6|Ce&63,Ve>2047&&(Ve<55296||Ve>57343)&&(ne=Ve));break;case 4:Oe=T[X+1],Ce=T[X+2],Ne=T[X+3],(Oe&192)===128&&(Ce&192)===128&&(Ne&192)===128&&(Ve=(re&15)<<18|(Oe&63)<<12|(Ce&63)<<6|Ne&63,Ve>65535&&Ve<1114112&&(ne=Ve))}}ne===null?(ne=65533,Te=1):ne>65535&&(ne-=65536,M.push(ne>>>10&1023|55296),ne=56320|ne&1023),M.push(ne),X+=Te}return Q(M)}const V=4096;function Q(T){const x=T.length;if(x<=V)return String.fromCharCode.apply(String,T);let _="",M=0;for(;M<x;)_+=String.fromCharCode.apply(String,T.slice(M,M+=V));return _}function Z(T,x,_){let M="";_=Math.min(T.length,_);for(let X=x;X<_;++X)M+=String.fromCharCode(T[X]&127);return M}function G(T,x,_){let M="";_=Math.min(T.length,_);for(let X=x;X<_;++X)M+=String.fromCharCode(T[X]);return M}function Y(T,x,_){const M=T.length;(!x||x<0)&&(x=0),(!_||_<0||_>M)&&(_=M);let X="";for(let re=x;re<_;++re)X+=be[T[re]];return X}function ce(T,x,_){const M=T.slice(x,_);let X="";for(let re=0;re<M.length-1;re+=2)X+=String.fromCharCode(M[re]+M[re+1]*256);return X}a.prototype.slice=function(x,_){const M=this.length;x=~~x,_=_===void 0?M:~~_,x<0?(x+=M,x<0&&(x=0)):x>M&&(x=M),_<0?(_+=M,_<0&&(_=0)):_>M&&(_=M),_<x&&(_=x);const X=this.subarray(x,_);return Object.setPrototypeOf(X,a.prototype),X};function se(T,x,_){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+x>_)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(x,_,M){x=x>>>0,_=_>>>0,M||se(x,_,this.length);let X=this[x],re=1,ne=0;for(;++ne<_&&(re*=256);)X+=this[x+ne]*re;return X},a.prototype.readUintBE=a.prototype.readUIntBE=function(x,_,M){x=x>>>0,_=_>>>0,M||se(x,_,this.length);let X=this[x+--_],re=1;for(;_>0&&(re*=256);)X+=this[x+--_]*re;return X},a.prototype.readUint8=a.prototype.readUInt8=function(x,_){return x=x>>>0,_||se(x,1,this.length),this[x]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(x,_){return x=x>>>0,_||se(x,2,this.length),this[x]|this[x+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(x,_){return x=x>>>0,_||se(x,2,this.length),this[x]<<8|this[x+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(x,_){return x=x>>>0,_||se(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(x,_){return x=x>>>0,_||se(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},a.prototype.readBigUInt64LE=_e(function(x){x=x>>>0,J(x,"offset");const _=this[x],M=this[x+7];(_===void 0||M===void 0)&&K(x,this.length-8);const X=_+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24,re=this[++x]+this[++x]*2**8+this[++x]*2**16+M*2**24;return BigInt(X)+(BigInt(re)<<BigInt(32))}),a.prototype.readBigUInt64BE=_e(function(x){x=x>>>0,J(x,"offset");const _=this[x],M=this[x+7];(_===void 0||M===void 0)&&K(x,this.length-8);const X=_*2**24+this[++x]*2**16+this[++x]*2**8+this[++x],re=this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+M;return(BigInt(X)<<BigInt(32))+BigInt(re)}),a.prototype.readIntLE=function(x,_,M){x=x>>>0,_=_>>>0,M||se(x,_,this.length);let X=this[x],re=1,ne=0;for(;++ne<_&&(re*=256);)X+=this[x+ne]*re;return re*=128,X>=re&&(X-=Math.pow(2,8*_)),X},a.prototype.readIntBE=function(x,_,M){x=x>>>0,_=_>>>0,M||se(x,_,this.length);let X=_,re=1,ne=this[x+--X];for(;X>0&&(re*=256);)ne+=this[x+--X]*re;return re*=128,ne>=re&&(ne-=Math.pow(2,8*_)),ne},a.prototype.readInt8=function(x,_){return x=x>>>0,_||se(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},a.prototype.readInt16LE=function(x,_){x=x>>>0,_||se(x,2,this.length);const M=this[x]|this[x+1]<<8;return M&32768?M|4294901760:M},a.prototype.readInt16BE=function(x,_){x=x>>>0,_||se(x,2,this.length);const M=this[x+1]|this[x]<<8;return M&32768?M|4294901760:M},a.prototype.readInt32LE=function(x,_){return x=x>>>0,_||se(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},a.prototype.readInt32BE=function(x,_){return x=x>>>0,_||se(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},a.prototype.readBigInt64LE=_e(function(x){x=x>>>0,J(x,"offset");const _=this[x],M=this[x+7];(_===void 0||M===void 0)&&K(x,this.length-8);const X=this[x+4]+this[x+5]*2**8+this[x+6]*2**16+(M<<24);return(BigInt(X)<<BigInt(32))+BigInt(_+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24)}),a.prototype.readBigInt64BE=_e(function(x){x=x>>>0,J(x,"offset");const _=this[x],M=this[x+7];(_===void 0||M===void 0)&&K(x,this.length-8);const X=(_<<24)+this[++x]*2**16+this[++x]*2**8+this[++x];return(BigInt(X)<<BigInt(32))+BigInt(this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+M)}),a.prototype.readFloatLE=function(x,_){return x=x>>>0,_||se(x,4,this.length),n.read(this,x,!0,23,4)},a.prototype.readFloatBE=function(x,_){return x=x>>>0,_||se(x,4,this.length),n.read(this,x,!1,23,4)},a.prototype.readDoubleLE=function(x,_){return x=x>>>0,_||se(x,8,this.length),n.read(this,x,!0,52,8)},a.prototype.readDoubleBE=function(x,_){return x=x>>>0,_||se(x,8,this.length),n.read(this,x,!1,52,8)};function ue(T,x,_,M,X,re){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>X||x<re)throw new RangeError('"value" argument is out of bounds');if(_+M>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(x,_,M,X){if(x=+x,_=_>>>0,M=M>>>0,!X){const Te=Math.pow(2,8*M)-1;ue(this,x,_,M,Te,0)}let re=1,ne=0;for(this[_]=x&255;++ne<M&&(re*=256);)this[_+ne]=x/re&255;return _+M},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(x,_,M,X){if(x=+x,_=_>>>0,M=M>>>0,!X){const Te=Math.pow(2,8*M)-1;ue(this,x,_,M,Te,0)}let re=M-1,ne=1;for(this[_+re]=x&255;--re>=0&&(ne*=256);)this[_+re]=x/ne&255;return _+M},a.prototype.writeUint8=a.prototype.writeUInt8=function(x,_,M){return x=+x,_=_>>>0,M||ue(this,x,_,1,255,0),this[_]=x&255,_+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(x,_,M){return x=+x,_=_>>>0,M||ue(this,x,_,2,65535,0),this[_]=x&255,this[_+1]=x>>>8,_+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(x,_,M){return x=+x,_=_>>>0,M||ue(this,x,_,2,65535,0),this[_]=x>>>8,this[_+1]=x&255,_+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(x,_,M){return x=+x,_=_>>>0,M||ue(this,x,_,4,4294967295,0),this[_+3]=x>>>24,this[_+2]=x>>>16,this[_+1]=x>>>8,this[_]=x&255,_+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(x,_,M){return x=+x,_=_>>>0,M||ue(this,x,_,4,4294967295,0),this[_]=x>>>24,this[_+1]=x>>>16,this[_+2]=x>>>8,this[_+3]=x&255,_+4};function ae(T,x,_,M,X){L(x,M,X,T,_,7);let re=Number(x&BigInt(4294967295));T[_++]=re,re=re>>8,T[_++]=re,re=re>>8,T[_++]=re,re=re>>8,T[_++]=re;let ne=Number(x>>BigInt(32)&BigInt(4294967295));return T[_++]=ne,ne=ne>>8,T[_++]=ne,ne=ne>>8,T[_++]=ne,ne=ne>>8,T[_++]=ne,_}function j(T,x,_,M,X){L(x,M,X,T,_,7);let re=Number(x&BigInt(4294967295));T[_+7]=re,re=re>>8,T[_+6]=re,re=re>>8,T[_+5]=re,re=re>>8,T[_+4]=re;let ne=Number(x>>BigInt(32)&BigInt(4294967295));return T[_+3]=ne,ne=ne>>8,T[_+2]=ne,ne=ne>>8,T[_+1]=ne,ne=ne>>8,T[_]=ne,_+8}a.prototype.writeBigUInt64LE=_e(function(x,_=0){return ae(this,x,_,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=_e(function(x,_=0){return j(this,x,_,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(x,_,M,X){if(x=+x,_=_>>>0,!X){const Oe=Math.pow(2,8*M-1);ue(this,x,_,M,Oe-1,-Oe)}let re=0,ne=1,Te=0;for(this[_]=x&255;++re<M&&(ne*=256);)x<0&&Te===0&&this[_+re-1]!==0&&(Te=1),this[_+re]=(x/ne>>0)-Te&255;return _+M},a.prototype.writeIntBE=function(x,_,M,X){if(x=+x,_=_>>>0,!X){const Oe=Math.pow(2,8*M-1);ue(this,x,_,M,Oe-1,-Oe)}let re=M-1,ne=1,Te=0;for(this[_+re]=x&255;--re>=0&&(ne*=256);)x<0&&Te===0&&this[_+re+1]!==0&&(Te=1),this[_+re]=(x/ne>>0)-Te&255;return _+M},a.prototype.writeInt8=function(x,_,M){return x=+x,_=_>>>0,M||ue(this,x,_,1,127,-128),x<0&&(x=255+x+1),this[_]=x&255,_+1},a.prototype.writeInt16LE=function(x,_,M){return x=+x,_=_>>>0,M||ue(this,x,_,2,32767,-32768),this[_]=x&255,this[_+1]=x>>>8,_+2},a.prototype.writeInt16BE=function(x,_,M){return x=+x,_=_>>>0,M||ue(this,x,_,2,32767,-32768),this[_]=x>>>8,this[_+1]=x&255,_+2},a.prototype.writeInt32LE=function(x,_,M){return x=+x,_=_>>>0,M||ue(this,x,_,4,2147483647,-2147483648),this[_]=x&255,this[_+1]=x>>>8,this[_+2]=x>>>16,this[_+3]=x>>>24,_+4},a.prototype.writeInt32BE=function(x,_,M){return x=+x,_=_>>>0,M||ue(this,x,_,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[_]=x>>>24,this[_+1]=x>>>16,this[_+2]=x>>>8,this[_+3]=x&255,_+4},a.prototype.writeBigInt64LE=_e(function(x,_=0){return ae(this,x,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=_e(function(x,_=0){return j(this,x,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function le(T,x,_,M,X,re){if(_+M>T.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function he(T,x,_,M,X){return x=+x,_=_>>>0,X||le(T,x,_,4),n.write(T,x,_,M,23,4),_+4}a.prototype.writeFloatLE=function(x,_,M){return he(this,x,_,!0,M)},a.prototype.writeFloatBE=function(x,_,M){return he(this,x,_,!1,M)};function me(T,x,_,M,X){return x=+x,_=_>>>0,X||le(T,x,_,8),n.write(T,x,_,M,52,8),_+8}a.prototype.writeDoubleLE=function(x,_,M){return me(this,x,_,!0,M)},a.prototype.writeDoubleBE=function(x,_,M){return me(this,x,_,!1,M)},a.prototype.copy=function(x,_,M,X){if(!a.isBuffer(x))throw new TypeError("argument should be a Buffer");if(M||(M=0),!X&&X!==0&&(X=this.length),_>=x.length&&(_=x.length),_||(_=0),X>0&&X<M&&(X=M),X===M||x.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),x.length-_<X-M&&(X=x.length-_+M);const re=X-M;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,M,X):Uint8Array.prototype.set.call(x,this.subarray(M,X),_),re},a.prototype.fill=function(x,_,M,X){if(typeof x=="string"){if(typeof _=="string"?(X=_,_=0,M=this.length):typeof M=="string"&&(X=M,M=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!a.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(x.length===1){const ne=x.charCodeAt(0);(X==="utf8"&&ne<128||X==="latin1")&&(x=ne)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(_<0||this.length<_||this.length<M)throw new RangeError("Out of range index");if(M<=_)return this;_=_>>>0,M=M===void 0?this.length:M>>>0,x||(x=0);let re;if(typeof x=="number")for(re=_;re<M;++re)this[re]=x;else{const ne=a.isBuffer(x)?x:a.from(x,X),Te=ne.length;if(Te===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(re=0;re<M-_;++re)this[re+_]=ne[re%Te]}return this};const de={};function ge(T,x,_){de[T]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(X){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:X,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(T,x){return`The "${T}" argument must be of type number. Received type ${typeof x}`},TypeError),ge("ERR_OUT_OF_RANGE",function(T,x,_){let M=`The value of "${T}" is out of range.`,X=_;return Number.isInteger(_)&&Math.abs(_)>2**32?X=B(String(_)):typeof _=="bigint"&&(X=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(X=B(X)),X+="n"),M+=` It must be ${x}. Received ${X}`,M},RangeError);function B(T){let x="",_=T.length;const M=T[0]==="-"?1:0;for(;_>=M+4;_-=3)x=`_${T.slice(_-3,_)}${x}`;return`${T.slice(0,_)}${x}`}function O(T,x,_){J(x,"offset"),(T[x]===void 0||T[x+_]===void 0)&&K(x,T.length-(_+1))}function L(T,x,_,M,X,re){if(T>_||T<x){const ne=typeof x=="bigint"?"n":"";let Te;throw x===0||x===BigInt(0)?Te=`>= 0${ne} and < 2${ne} ** ${(re+1)*8}${ne}`:Te=`>= -(2${ne} ** ${(re+1)*8-1}${ne}) and < 2 ** ${(re+1)*8-1}${ne}`,new de.ERR_OUT_OF_RANGE("value",Te,T)}O(M,X,re)}function J(T,x){if(typeof T!="number")throw new de.ERR_INVALID_ARG_TYPE(x,"number",T)}function K(T,x,_){throw Math.floor(T)!==T?(J(T,_),new de.ERR_OUT_OF_RANGE("offset","an integer",T)):x<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${x}`,T)}const ee=/[^+/0-9A-Za-z-_]/g;function k(T){if(T=T.split("=")[0],T=T.trim().replace(ee,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function m(T,x){x=x||1/0;let _;const M=T.length;let X=null;const re=[];for(let ne=0;ne<M;++ne){if(_=T.charCodeAt(ne),_>55295&&_<57344){if(!X){if(_>56319){(x-=3)>-1&&re.push(239,191,189);continue}else if(ne+1===M){(x-=3)>-1&&re.push(239,191,189);continue}X=_;continue}if(_<56320){(x-=3)>-1&&re.push(239,191,189),X=_;continue}_=(X-55296<<10|_-56320)+65536}else X&&(x-=3)>-1&&re.push(239,191,189);if(X=null,_<128){if((x-=1)<0)break;re.push(_)}else if(_<2048){if((x-=2)<0)break;re.push(_>>6|192,_&63|128)}else if(_<65536){if((x-=3)<0)break;re.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((x-=4)<0)break;re.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return re}function y(T){const x=[];for(let _=0;_<T.length;++_)x.push(T.charCodeAt(_)&255);return x}function A(T,x){let _,M,X;const re=[];for(let ne=0;ne<T.length&&!((x-=2)<0);++ne)_=T.charCodeAt(ne),M=_>>8,X=_%256,re.push(X),re.push(M);return re}function P(T){return e.toByteArray(k(T))}function D(T,x,_,M){let X;for(X=0;X<M&&!(X+_>=x.length||X>=T.length);++X)x[X+_]=T[X];return X}function te(T,x){return T instanceof x||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===x.name}function fe(T){return T!==T}const be=function(){const T="0123456789abcdef",x=new Array(256);for(let _=0;_<16;++_){const M=_*16;for(let X=0;X<16;++X)x[M+X]=T[_]+T[X]}return x}();function _e(T){return typeof BigInt>"u"?Ae:T}function Ae(){throw new Error("BigInt not supported")}})(L1);var l0;(function(t){t[t.SysFatal=1]="SysFatal",t[t.SysTransient=2]="SysTransient",t[t.DestinationInvalid=3]="DestinationInvalid",t[t.CanisterReject=4]="CanisterReject",t[t.CanisterError=5]="CanisterError"})(l0||(l0={}));const n4="modulepreload",r4=function(t,e){return new URL(t,e).href},Zm={},i4=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=r4(c,r),c in Zm)return;Zm[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!r)for(let p=o.length-1;p>=0;p--){const v=o[p];if(v.href===c&&(!d||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":n4,d||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((p,v)=>{g.addEventListener("load",p),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Yu="abcdefghijklmnopqrstuvwxyz234567",Bo=Object.create(null);for(let t=0;t<Yu.length;t++)Bo[Yu[t]]=t;Bo[0]=Bo.o;Bo[1]=Bo.i;function s4(t){let e=0,n=0,r="";function i(s){return e<0?n|=s>>-e:n=s<<e&248,e>3?(e-=8,1):(e<4&&(r+=Yu[n>>3],e+=5),0)}for(let s=0;s<t.length;)s+=i(t[s]);return r+(e<0?Yu[n>>3]:"")}function o4(t){let e=0,n=0;const r=new Uint8Array(t.length*4/3|0);let i=0;function s(o){let a=Bo[o.toLowerCase()];if(a===void 0)throw new Error(`Invalid character: ${JSON.stringify(o)}`);a<<=3,n|=a>>>e,e+=5,e>=8&&(r[i++]=n,e-=8,e>0?n=a<<5-e&255:n=0)}for(const o of t)s(o);return r.slice(0,i)}const a4=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function l4(t){const e=new Uint8Array(t);let n=-1;for(let r=0;r<e.length;r++){const s=(e[r]^n)&255;n=a4[s]^n>>>8}return(n^-1)>>>0}function c4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function D1(t,...e){if(!c4(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Qm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function u4(t,e){D1(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Us=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Bf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function lr(t,e){return t<<32-e|t>>>e}function d4(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function V1(t){return typeof t=="string"&&(t=d4(t)),D1(t),t}class f4{clone(){return this._cloneInto()}}function Yp(t){const e=r=>t().update(V1(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function H1(t=32){if(Us&&typeof Us.getRandomValues=="function")return Us.getRandomValues(new Uint8Array(t));if(Us&&typeof Us.randomBytes=="function")return Us.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function h4(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function p4(t,e,n){return t&e^~t&n}function g4(t,e,n){return t&e^t&n^e&n}class W1 extends f4{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Bf(this.buffer)}update(e){Qm(this);const{view:n,buffer:r,blockLen:i}=this;e=V1(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Bf(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Qm(this),u4(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;h4(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Bf(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const m4=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),si=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oi=new Uint32Array(64);class q1 extends W1{constructor(){super(64,32,8,!1),this.A=si[0]|0,this.B=si[1]|0,this.C=si[2]|0,this.D=si[3]|0,this.E=si[4]|0,this.F=si[5]|0,this.G=si[6]|0,this.H=si[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)oi[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=oi[f-15],g=oi[f-2],p=lr(h,7)^lr(h,18)^h>>>3,v=lr(g,17)^lr(g,19)^g>>>10;oi[f]=v+oi[f-7]+p+oi[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:d}=this;for(let f=0;f<64;f++){const h=lr(a,6)^lr(a,11)^lr(a,25),g=d+h+p4(a,l,c)+m4[f]+oi[f]|0,v=(lr(r,2)^lr(r,13)^lr(r,22))+g4(r,i,s)|0;d=c,c=l,l=a,a=o+g|0,o=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,l,c,d)}roundClean(){oi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class y4 extends q1{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Xp=Yp(()=>new q1),x4=Yp(()=>new y4);function b4(t){return x4.create().update(new Uint8Array(t)).digest()}const sc="__principal__",w4=2,Jm=4,_4="aaaaa-aa",v4=t=>{var e;return new Uint8Array(((e=t.match(/.{1,2}/g))!==null&&e!==void 0?e:[]).map(n=>parseInt(n,16)))},E4=t=>t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"");let Re=class Wc{constructor(e){this._arr=e,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([Jm]))}static managementCanister(){return this.fromHex(_4)}static selfAuthenticating(e){const n=b4(e);return new this(new Uint8Array([...n,w4]))}static from(e){if(typeof e=="string")return Wc.fromText(e);if(Object.getPrototypeOf(e)===Uint8Array.prototype)return new Wc(e);if(typeof e=="object"&&e!==null&&e._isPrincipal===!0)return new Wc(e._arr);throw new Error(`Impossible to convert ${JSON.stringify(e)} to Principal.`)}static fromHex(e){return new this(v4(e))}static fromText(e){let n=e;if(e.includes(sc)){const o=JSON.parse(e);sc in o&&(n=o[sc])}const r=n.toLowerCase().replace(/-/g,"");let i=o4(r);i=i.slice(4,i.length);const s=new this(i);if(s.toText()!==n)throw new Error(`Principal "${s.toText()}" does not have a valid checksum (original value "${n}" may not be a valid Principal ID).`);return s}static fromUint8Array(e){return new this(e)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===Jm}toUint8Array(){return this._arr}toHex(){return E4(this._arr).toUpperCase()}toText(){const e=new ArrayBuffer(4);new DataView(e).setUint32(0,l4(this._arr));const r=new Uint8Array(e),i=Uint8Array.from(this._arr),s=new Uint8Array([...r,...i]),a=s4(s).match(/.{1,5}/g);if(!a)throw new Error;return a.join("-")}toString(){return this.toText()}toJSON(){return{[sc]:this.toText()}}compareTo(e){for(let n=0;n<Math.min(this._arr.length,e._arr.length);n++){if(this._arr[n]<e._arr[n])return"lt";if(this._arr[n]>e._arr[n])return"gt"}return this._arr.length<e._arr.length?"lt":this._arr.length>e._arr.length?"gt":"eq"}ltEq(e){const n=this.compareTo(e);return n=="lt"||n=="eq"}gtEq(e){const n=this.compareTo(e);return n=="gt"||n=="eq"}};function tr(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.byteLength,0));let n=0;for(const r of t)e.set(new Uint8Array(r),n),n+=r.byteLength;return e.buffer}function Ut(t){return[...new Uint8Array(t)].map(e=>e.toString(16).padStart(2,"0")).join("")}const S4=new RegExp(/^[0-9a-fA-F]+$/);function Yr(t){if(!S4.test(t))throw new Error("Invalid hexadecimal string.");const e=[...t].reduce((n,r,i)=>(n[i/2|0]=(n[i/2|0]||"")+r,n),[]).map(n=>Number.parseInt(n,16));return new Uint8Array(e).buffer}function G1(t,e){if(t.byteLength!==e.byteLength)return t.byteLength-e.byteLength;const n=new Uint8Array(t),r=new Uint8Array(e);for(let i=0;i<n.length;i++)if(n[i]!==r[i])return n[i]-r[i];return 0}function Md(t,e){return G1(t,e)===0}function Fa(t){return new DataView(t.buffer,t.byteOffset,t.byteLength).buffer}function Zp(t){return t instanceof Uint8Array?Fa(t):t instanceof ArrayBuffer?t:Array.isArray(t)?Fa(new Uint8Array(t)):"buffer"in t?Zp(t.buffer):Fa(new Uint8Array(t))}class kt extends Error{constructor(e){super(e),this.message=e,this.name="AgentError",this.__proto__=kt.prototype,Object.setPrototypeOf(this,kt.prototype)}}function Ge(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.byteLength,0));let n=0;for(const r of t)e.set(new Uint8Array(r),n),n+=r.byteLength;return e}class Vo{constructor(e,n=(e==null?void 0:e.byteLength)||0){this._buffer=Xu(e||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,n)}get buffer(){return Xu(this._view.slice())}get byteLength(){return this._view.byteLength}read(e){const n=this._view.subarray(0,e);return this._view=this._view.subarray(e),n.slice().buffer}readUint8(){const e=this._view[0];return this._view=this._view.subarray(1),e}write(e){const n=new Uint8Array(e),r=this._view.byteLength;this._view.byteOffset+this._view.byteLength+n.byteLength>=this._buffer.byteLength?this.alloc(n.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+n.byteLength),this._view.set(n,r)}get end(){return this._view.byteLength===0}alloc(e){const n=new ArrayBuffer((this._buffer.byteLength+e)*1.2|0),r=new Uint8Array(n,0,this._view.byteLength+e);r.set(this._view),this._buffer=n,this._view=r}}function Rf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength).buffer}function Xu(t){return t instanceof Uint8Array?Rf(t):t instanceof ArrayBuffer?t:Array.isArray(t)?Rf(new Uint8Array(t)):"buffer"in t?Xu(t.buffer):Rf(new Uint8Array(t))}function k4(t){const n=new TextEncoder().encode(t);let r=0;for(const i of n)r=(r*223+i)%2**32;return r}function _r(t){if(/^_\d+_$/.test(t)||/^_0x[0-9a-fA-F]+_$/.test(t)){const e=+t.slice(1,-1);if(Number.isSafeInteger(e)&&e>=0&&e<2**32)return e}return k4(t)}function K1(){throw new Error("unexpected end of buffer")}function Ts(t,e){return t.byteLength<e&&K1(),t.read(e)}function As(t){const e=t.readUint8();return e===void 0&&K1(),e}function ht(t){if(typeof t=="number"&&(t=BigInt(t)),t<BigInt(0))throw new Error("Cannot leb encode negative values.");const e=(t===BigInt(0)?0:Math.ceil(Math.log2(Number(t))))+1,n=new Vo(new ArrayBuffer(e),0);for(;;){const r=Number(t&BigInt(127));if(t/=BigInt(128),t===BigInt(0)){n.write(new Uint8Array([r]));break}else n.write(new Uint8Array([r|128]))}return n.buffer}function Ct(t){let e=BigInt(1),n=BigInt(0),r;do r=As(t),n+=BigInt(r&127).valueOf()*e,e*=BigInt(128);while(r>=128);return n}function Tt(t){typeof t=="number"&&(t=BigInt(t));const e=t<BigInt(0);e&&(t=-t-BigInt(1));const n=(t===BigInt(0)?0:Math.ceil(Math.log2(Number(t))))+1,r=new Vo(new ArrayBuffer(n),0);for(;;){const s=i(t);if(t/=BigInt(128),e&&t===BigInt(0)&&s&64||!e&&t===BigInt(0)&&!(s&64)){r.write(new Uint8Array([s]));break}else r.write(new Uint8Array([s|128]))}function i(s){const o=s%BigInt(128);return Number(e?BigInt(128)-o-BigInt(1):o)}return r.buffer}function di(t){const e=new Uint8Array(t.buffer);let n=0;for(;n<e.byteLength;n++)if(e[n]<128){if(!(e[n]&64))return Ct(t);break}const r=new Uint8Array(Ts(t,n+1));let i=BigInt(0);for(let s=r.byteLength-1;s>=0;s--)i=i*BigInt(128)+BigInt(128-(r[s]&127)-1);return-i-BigInt(1)}function N4(t,e){if(BigInt(t)<BigInt(0))throw new Error("Cannot write negative values.");return Y1(t,e)}function Y1(t,e){t=BigInt(t);const n=new Vo(new ArrayBuffer(Math.min(1,e)),0);let r=0,i=BigInt(256),s=BigInt(0),o=Number(t%i);for(n.write(new Uint8Array([o]));++r<e;)t<0&&s===BigInt(0)&&o!==0&&(s=BigInt(1)),o=Number((t/i-s)%BigInt(256)),n.write(new Uint8Array([o])),i*=BigInt(256);return n.buffer}function X1(t,e){let n=BigInt(As(t)),r=BigInt(1),i=0;for(;++i<e;){r*=BigInt(256);const s=BigInt(As(t));n=n+r*s}return n}function T4(t,e){let n=X1(t,e);const r=BigInt(2)**(BigInt(8)*BigInt(e-1)+BigInt(7));return n>=r&&(n-=r*BigInt(2)),n}function c0(t){const e=BigInt(t);if(t<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<e}const qc="DIDL",ey=400;function cl(t,e,n){return t.map((r,i)=>n(r,e[i]))}class A4{constructor(){this._typs=[],this._idx=new Map}has(e){return this._idx.has(e.name)}add(e,n){const r=this._typs.length;this._idx.set(e.name,r),this._typs.push(n)}merge(e,n){const r=this._idx.get(e.name),i=this._idx.get(n);if(r===void 0)throw new Error("Missing type index for "+e);if(i===void 0)throw new Error("Missing type index for "+n);this._typs[r]=this._typs[i],this._typs.splice(i,1),this._idx.delete(n)}encode(){const e=ht(this._typs.length),n=Ge(...this._typs);return Ge(e,n)}indexOf(e){if(!this._idx.has(e))throw new Error("Missing type index for "+e);return Tt(this._idx.get(e)||0)}}class j4{visitType(e,n){throw new Error("Not implemented")}visitPrimitive(e,n){return this.visitType(e,n)}visitEmpty(e,n){return this.visitPrimitive(e,n)}visitBool(e,n){return this.visitPrimitive(e,n)}visitNull(e,n){return this.visitPrimitive(e,n)}visitReserved(e,n){return this.visitPrimitive(e,n)}visitText(e,n){return this.visitPrimitive(e,n)}visitNumber(e,n){return this.visitPrimitive(e,n)}visitInt(e,n){return this.visitNumber(e,n)}visitNat(e,n){return this.visitNumber(e,n)}visitFloat(e,n){return this.visitPrimitive(e,n)}visitFixedInt(e,n){return this.visitNumber(e,n)}visitFixedNat(e,n){return this.visitNumber(e,n)}visitPrincipal(e,n){return this.visitPrimitive(e,n)}visitConstruct(e,n){return this.visitType(e,n)}visitVec(e,n,r){return this.visitConstruct(e,r)}visitOpt(e,n,r){return this.visitConstruct(e,r)}visitRecord(e,n,r){return this.visitConstruct(e,r)}visitTuple(e,n,r){const i=n.map((s,o)=>[`_${o}_`,s]);return this.visitRecord(e,i,r)}visitVariant(e,n,r){return this.visitConstruct(e,r)}visitRec(e,n,r){return this.visitConstruct(n,r)}visitFunc(e,n){return this.visitConstruct(e,n)}visitService(e,n){return this.visitConstruct(e,n)}}class Id{display(){return this.name}valueToString(e){return xt(e)}buildTypeTable(e){e.has(this)||this._buildTypeTableImpl(e)}}class $n extends Id{checkType(e){if(this.name!==e.name)throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`);return e}_buildTypeTableImpl(e){}}class Qi extends Id{checkType(e){if(e instanceof Ji){const n=e.getType();if(typeof n>"u")throw new Error("type mismatch with uninitialized type");return n}throw new Error(`type mismatch: type on the wire ${e.name}, expect type ${this.name}`)}encodeType(e){return e.indexOf(this.name)}}class Z1 extends $n{accept(e,n){return e.visitEmpty(this,n)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return Tt(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class Q1 extends Id{checkType(e){throw new Error("Method not implemented for unknown.")}accept(e,n){throw e.visitType(this,n)}covariant(e){throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(e,n){let r=n.decodeValue(e,n);Object(r)!==r&&(r=Object(r));let i;return n instanceof Ji?i=()=>n.getType():i=()=>n,Object.defineProperty(r,"type",{value:i,writable:!0,enumerable:!1,configurable:!0}),r}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class J1 extends $n{accept(e,n){return e.visitBool(this,n)}covariant(e){if(typeof e=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return new Uint8Array([e?1:0])}encodeType(){return Tt(-2)}decodeValue(e,n){switch(this.checkType(n),As(e)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class e_ extends $n{accept(e,n){return e.visitNull(this,n)}covariant(e){if(e===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Tt(-1)}decodeValue(e,n){return this.checkType(n),null}get name(){return"null"}}class Zu extends $n{accept(e,n){return e.visitReserved(this,n)}covariant(e){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Tt(-16)}decodeValue(e,n){return n.name!==this.name&&n.decodeValue(e,n),null}get name(){return"reserved"}}class t_ extends $n{accept(e,n){return e.visitText(this,n)}covariant(e){if(typeof e=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=new TextEncoder().encode(e),r=ht(n.byteLength);return Ge(r,n)}encodeType(){return Tt(-15)}decodeValue(e,n){this.checkType(n);const r=Ct(e),i=Ts(e,Number(r));return new TextDecoder("utf8",{fatal:!0}).decode(i)}get name(){return"text"}valueToString(e){return'"'+e+'"'}}class n_ extends $n{accept(e,n){return e.visitInt(this,n)}covariant(e){if(typeof e=="bigint"||Number.isInteger(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return Tt(e)}encodeType(){return Tt(-4)}decodeValue(e,n){return this.checkType(n),di(e)}get name(){return"int"}valueToString(e){return e.toString()}}class r_ extends $n{accept(e,n){return e.visitNat(this,n)}covariant(e){if(typeof e=="bigint"&&e>=BigInt(0)||Number.isInteger(e)&&e>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return ht(e)}encodeType(){return Tt(-3)}decodeValue(e,n){return this.checkType(n),Ct(e)}get name(){return"nat"}valueToString(e){return e.toString()}}class Qp extends $n{constructor(e){if(super(),this._bits=e,e!==32&&e!==64)throw new Error("not a valid float type")}accept(e,n){return e.visitFloat(this,n)}covariant(e){if(typeof e=="number"||e instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=new ArrayBuffer(this._bits/8),r=new DataView(n);return this._bits===32?r.setFloat32(0,e,!0):r.setFloat64(0,e,!0),n}encodeType(){const e=this._bits===32?-13:-14;return Tt(e)}decodeValue(e,n){this.checkType(n);const r=Ts(e,this._bits/8),i=new DataView(r);return this._bits===32?i.getFloat32(0,!0):i.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(e){return e.toString()}}class js extends $n{constructor(e){super(),this._bits=e}accept(e,n){return e.visitFixedInt(this,n)}covariant(e){const n=c0(this._bits-1)*BigInt(-1),r=c0(this._bits-1)-BigInt(1);let i=!1;if(typeof e=="bigint")i=e>=n&&e<=r;else if(Number.isInteger(e)){const s=BigInt(e);i=s>=n&&s<=r}else i=!1;if(i)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return Y1(e,this._bits/8)}encodeType(){const e=Math.log2(this._bits)-3;return Tt(-9-e)}decodeValue(e,n){this.checkType(n);const r=T4(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`int${this._bits}`}valueToString(e){return e.toString()}}class zi extends $n{constructor(e){super(),this._bits=e}accept(e,n){return e.visitFixedNat(this,n)}covariant(e){const n=c0(this._bits);let r=!1;if(typeof e=="bigint"&&e>=BigInt(0)?r=e<n:Number.isInteger(e)&&e>=0?r=BigInt(e)<n:r=!1,r)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return N4(e,this._bits/8)}encodeType(){const e=Math.log2(this._bits)-3;return Tt(-5-e)}decodeValue(e,n){this.checkType(n);const r=X1(e,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(e){return e.toString()}}class Ud extends Qi{constructor(e){super(),this._type=e,this._blobOptimization=!1,e instanceof zi&&e._bits===8&&(this._blobOptimization=!0)}accept(e,n){return e.visitVec(this,this._type,n)}covariant(e){const n=this._type instanceof zi?this._type._bits:this._type instanceof js?this._type._bits:0;if(ArrayBuffer.isView(e)&&n==e.BYTES_PER_ELEMENT*8||Array.isArray(e)&&e.every((r,i)=>{try{return this._type.covariant(r)}catch(s){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${s.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=ht(e.length);if(this._blobOptimization)return Ge(n,new Uint8Array(e));if(ArrayBuffer.isView(e))return Ge(n,new Uint8Array(e.buffer));const r=new Vo(new ArrayBuffer(n.byteLength+e.length),0);r.write(n);for(const i of e){const s=this._type.encodeValue(i);r.write(new Uint8Array(s))}return r.buffer}_buildTypeTableImpl(e){this._type.buildTypeTable(e);const n=Tt(-19),r=this._type.encodeType(e);e.add(this,Ge(n,r))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Ud))throw new Error("Not a vector type");const i=Number(Ct(e));if(this._type instanceof zi){if(this._type._bits==8)return new Uint8Array(e.read(i));if(this._type._bits==16)return new Uint16Array(e.read(i*2));if(this._type._bits==32)return new Uint32Array(e.read(i*4));if(this._type._bits==64)return new BigUint64Array(e.read(i*8))}if(this._type instanceof js){if(this._type._bits==8)return new Int8Array(e.read(i));if(this._type._bits==16)return new Int16Array(e.read(i*2));if(this._type._bits==32)return new Int32Array(e.read(i*4));if(this._type._bits==64)return new BigInt64Array(e.read(i*8))}const s=[];for(let o=0;o<i;o++)s.push(this._type.decodeValue(e,r._type));return s}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(e){return"vec {"+e.map(r=>this._type.valueToString(r)).join("; ")+"}"}}class Ro extends Qi{constructor(e){super(),this._type=e}accept(e,n){return e.visitOpt(this,this._type,n)}covariant(e){try{if(Array.isArray(e)&&(e.length===0||e.length===1&&this._type.covariant(e[0])))return!0}catch(n){throw new Error(`Invalid ${this.display()} argument: ${xt(e)} 

-> ${n.message}`)}throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){return e.length===0?new Uint8Array([0]):Ge(new Uint8Array([1]),this._type.encodeValue(e[0]))}_buildTypeTableImpl(e){this._type.buildTypeTable(e);const n=Tt(-18),r=this._type.encodeType(e);e.add(this,Ge(n,r))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Ro))throw new Error("Not an option type");switch(As(e)){case 0:return[];case 1:return[this._type.decodeValue(e,r._type)];default:throw new Error("Not an option value")}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(e){return e.length===0?"null":`opt ${this._type.valueToString(e[0])}`}}class Rl extends Qi{constructor(e={}){super(),this._fields=Object.entries(e).sort((n,r)=>_r(n[0])-_r(r[0]))}accept(e,n){return e.visitRecord(this,this._fields,n)}tryAsTuple(){const e=[];for(let n=0;n<this._fields.length;n++){const[r,i]=this._fields[n];if(r!==`_${n}_`)return null;e.push(i)}return e}covariant(e){if(typeof e=="object"&&this._fields.every(([n,r])=>{if(!e.hasOwnProperty(n))throw new Error(`Record is missing key "${n}".`);try{return r.covariant(e[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

field ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=this._fields.map(([i])=>e[i]),r=cl(this._fields,n,([,i],s)=>i.encodeValue(s));return Ge(...r)}_buildTypeTableImpl(e){this._fields.forEach(([s,o])=>o.buildTypeTable(e));const n=Tt(-20),r=ht(this._fields.length),i=this._fields.map(([s,o])=>Ge(ht(_r(s)),o.encodeType(e)));e.add(this,Ge(n,r,Ge(...i)))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Rl))throw new Error("Not a record type");const i={};let s=0,o=0;for(;o<r._fields.length;){const[a,l]=r._fields[o];if(s>=this._fields.length){l.decodeValue(e,l),o++;continue}const[c,d]=this._fields[s],f=_r(this._fields[s][0]),h=_r(a);if(f===h)i[c]=d.decodeValue(e,l),s++,o++;else if(h>f)if(d instanceof Ro||d instanceof Zu)i[c]=[],s++;else throw new Error("Cannot find required field "+c);else l.decodeValue(e,l),o++}for(const[a,l]of this._fields.slice(s))if(l instanceof Ro||l instanceof Zu)i[a]=[];else throw new Error("Cannot find required field "+a);return i}get name(){return`record {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`record {${this._fields.map(([n,r])=>n+":"+r.display()).join("; ")}}`}valueToString(e){const n=this._fields.map(([i])=>e[i]);return`record {${cl(this._fields,n,([i,s],o)=>i+"="+s.valueToString(o)).join("; ")}}`}}class zd extends Rl{constructor(e){const n={};e.forEach((r,i)=>n["_"+i+"_"]=r),super(n),this._components=e}accept(e,n){return e.visitTuple(this,this._components,n)}covariant(e){if(Array.isArray(e)&&e.length>=this._fields.length&&this._components.every((n,r)=>{try{return n.covariant(e[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=cl(this._components,e,(r,i)=>r.encodeValue(i));return Ge(...n)}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof zd))throw new Error("not a tuple type");if(r._components.length<this._components.length)throw new Error("tuple mismatch");const i=[];for(const[s,o]of r._components.entries())s>=this._components.length?o.decodeValue(e,o):i.push(this._components[s].decodeValue(e,o));return i}display(){return`record {${this._components.map(n=>n.display()).join("; ")}}`}valueToString(e){return`record {${cl(this._components,e,(r,i)=>r.valueToString(i)).join("; ")}}`}}class Ld extends Qi{constructor(e={}){super(),this._fields=Object.entries(e).sort((n,r)=>_r(n[0])-_r(r[0]))}accept(e,n){return e.visitVariant(this,this._fields,n)}covariant(e){if(typeof e=="object"&&Object.entries(e).length===1&&this._fields.every(([n,r])=>{try{return!e.hasOwnProperty(n)||r.covariant(e[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

variant ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){for(let n=0;n<this._fields.length;n++){const[r,i]=this._fields[n];if(e.hasOwnProperty(r)){const s=ht(n),o=i.encodeValue(e[r]);return Ge(s,o)}}throw Error("Variant has no data: "+e)}_buildTypeTableImpl(e){this._fields.forEach(([,s])=>{s.buildTypeTable(e)});const n=Tt(-21),r=ht(this._fields.length),i=this._fields.map(([s,o])=>Ge(ht(_r(s)),o.encodeType(e)));e.add(this,Ge(n,r,...i))}decodeValue(e,n){const r=this.checkType(n);if(!(r instanceof Ld))throw new Error("Not a variant type");const i=Number(Ct(e));if(i>=r._fields.length)throw Error("Invalid variant index: "+i);const[s,o]=r._fields[i];for(const[a,l]of this._fields)if(_r(s)===_r(a)){const c=l.decodeValue(e,o);return{[a]:c}}throw new Error("Cannot find field hash "+s)}get name(){return`variant {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`variant {${this._fields.map(([n,r])=>n+(r.name==="null"?"":`:${r.display()}`)).join("; ")}}`}valueToString(e){for(const[n,r]of this._fields)if(e.hasOwnProperty(n)){const i=r.valueToString(e[n]);return i==="null"?`variant {${n}}`:`variant {${n}=${i}}`}throw new Error("Variant has no data: "+e)}}class Ji extends Qi{constructor(){super(...arguments),this._id=Ji._counter++,this._type=void 0}accept(e,n){if(!this._type)throw Error("Recursive type uninitialized.");return e.visitRec(this,this._type,n)}fill(e){this._type=e}getType(){return this._type}covariant(e){if(this._type&&this._type.covariant(e))return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(e)}_buildTypeTableImpl(e){if(!this._type)throw Error("Recursive type uninitialized.");e.add(this,new Uint8Array([])),this._type.buildTypeTable(e),e.merge(this,this._type.name)}decodeValue(e,n){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(e,n)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(e){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(e)}}Ji._counter=0;function Jp(t){if(As(t)!==1)throw new Error("Cannot decode principal");const n=Number(Ct(t));return Re.fromUint8Array(new Uint8Array(Ts(t,n)))}class i_ extends $n{accept(e,n){return e.visitPrincipal(this,n)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=e.toUint8Array(),r=ht(n.byteLength);return Ge(new Uint8Array([1]),r,n)}encodeType(){return Tt(-24)}decodeValue(e,n){return this.checkType(n),Jp(e)}get name(){return"principal"}valueToString(e){return`${this.name} "${e.toText()}"`}}class eg extends Qi{constructor(e,n,r=[]){super(),this.argTypes=e,this.retTypes=n,this.annotations=r}static argsToString(e,n){if(e.length!==n.length)throw new Error("arity mismatch");return"("+e.map((r,i)=>r.valueToString(n[i])).join(", ")+")"}accept(e,n){return e.visitFunc(this,n)}covariant(e){if(Array.isArray(e)&&e.length===2&&e[0]&&e[0]._isPrincipal&&typeof e[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue([e,n]){const r=e.toUint8Array(),i=ht(r.byteLength),s=Ge(new Uint8Array([1]),i,r),o=new TextEncoder().encode(n),a=ht(o.byteLength);return Ge(new Uint8Array([1]),s,a,o)}_buildTypeTableImpl(e){this.argTypes.forEach(c=>c.buildTypeTable(e)),this.retTypes.forEach(c=>c.buildTypeTable(e));const n=Tt(-22),r=ht(this.argTypes.length),i=Ge(...this.argTypes.map(c=>c.encodeType(e))),s=ht(this.retTypes.length),o=Ge(...this.retTypes.map(c=>c.encodeType(e))),a=ht(this.annotations.length),l=Ge(...this.annotations.map(c=>this.encodeAnnotation(c)));e.add(this,Ge(n,r,i,s,o,a,l))}decodeValue(e){if(As(e)!==1)throw new Error("Cannot decode function reference");const r=Jp(e),i=Number(Ct(e)),s=Ts(e,i),a=new TextDecoder("utf8",{fatal:!0}).decode(s);return[r,a]}get name(){const e=this.argTypes.map(i=>i.name).join(", "),n=this.retTypes.map(i=>i.name).join(", "),r=" "+this.annotations.join(" ");return`(${e}) -> (${n})${r}`}valueToString([e,n]){return`func "${e.toText()}".${n}`}display(){const e=this.argTypes.map(i=>i.display()).join(", "),n=this.retTypes.map(i=>i.display()).join(", "),r=" "+this.annotations.join(" ");return`(${e}) → (${n})${r}`}encodeAnnotation(e){if(e==="query")return new Uint8Array([1]);if(e==="oneway")return new Uint8Array([2]);if(e==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class s_ extends Qi{constructor(e){super(),this._fields=Object.entries(e).sort((n,r)=>n[0]<r[0]?-1:n[0]>r[0]?1:0)}accept(e,n){return e.visitService(this,n)}covariant(e){if(e&&e._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${xt(e)}`)}encodeValue(e){const n=e.toUint8Array(),r=ht(n.length);return Ge(new Uint8Array([1]),r,n)}_buildTypeTableImpl(e){this._fields.forEach(([s,o])=>o.buildTypeTable(e));const n=Tt(-23),r=ht(this._fields.length),i=this._fields.map(([s,o])=>{const a=new TextEncoder().encode(s),l=ht(a.length);return Ge(l,a,o.encodeType(e))});e.add(this,Ge(n,r,...i))}decodeValue(e){return Jp(e)}get name(){return`service {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}valueToString(e){return`service "${e.toText()}"`}}function xt(t){const e=JSON.stringify(t,(n,r)=>typeof r=="bigint"?`BigInt(${r})`:r);return e&&e.length>ey?e.substring(0,ey-3)+"...":e}function u0(t,e){if(e.length<t.length)throw Error("Wrong number of message arguments");const n=new A4;t.forEach(l=>l.buildTypeTable(n));const r=new TextEncoder().encode(qc),i=n.encode(),s=ht(e.length),o=Ge(...t.map(l=>l.encodeType(n))),a=Ge(...cl(t,e,(l,c)=>{try{l.covariant(c)}catch(d){throw new Error(d.message+`

`)}return l.encodeValue(c)}));return Ge(r,i,s,o,a)}function o_(t,e){const n=new Vo(e);if(e.byteLength<qc.length)throw new Error("Message length smaller than magic number");const r=Ts(n,qc.length),i=new TextDecoder().decode(r);if(i!==qc)throw new Error("Wrong magic number: "+JSON.stringify(i));function s(g){const p=[],v=Number(Ct(g));for(let w=0;w<v;w++){const S=Number(di(g));switch(S){case-18:case-19:{const R=Number(di(g));p.push([S,R]);break}case-20:case-21:{const R=[];let N=Number(Ct(g)),F;for(;N--;){const C=Number(Ct(g));if(C>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof F=="number"&&F>=C)throw new Error("field id collision or not sorted");F=C;const I=Number(di(g));R.push([C,I])}p.push([S,R]);break}case-22:{const R=[];let N=Number(Ct(g));for(;N--;)R.push(Number(di(g)));const F=[];let C=Number(Ct(g));for(;C--;)F.push(Number(di(g)));const I=[];let U=Number(Ct(g));for(;U--;)switch(Number(Ct(g))){case 1:{I.push("query");break}case 2:{I.push("oneway");break}case 3:{I.push("composite_query");break}default:throw new Error("unknown annotation")}p.push([S,[R,F,I]]);break}case-23:{let R=Number(Ct(g));const N=[];for(;R--;){const F=Number(Ct(g)),C=new TextDecoder().decode(Ts(g,F)),I=di(g);N.push([C,I])}p.push([S,N]);break}default:throw new Error("Illegal op_code: "+S)}}const E=[],b=Number(Ct(g));for(let w=0;w<b;w++)E.push(Number(di(g)));return[p,E]}const[o,a]=s(n);if(a.length<t.length)throw new Error("Wrong number of return values");const l=o.map(g=>C_());function c(g){if(g<-24)throw new Error("future value not supported");if(g<0)switch(g){case-1:return u_;case-2:return c_;case-3:return h_;case-4:return f_;case-5:return w_;case-6:return __;case-7:return v_;case-8:return E_;case-9:return m_;case-10:return y_;case-11:return x_;case-12:return b_;case-13:return p_;case-14:return g_;case-15:return d_;case-16:return l_;case-17:return a_;case-24:return S_;default:throw new Error("Illegal op_code: "+g)}if(g>=o.length)throw new Error("type index out of range");return l[g]}function d(g){switch(g[0]){case-19:{const p=c(g[1]);return N_(p)}case-18:{const p=c(g[1]);return T_(p)}case-20:{const p={};for(const[b,w]of g[1]){const S=`_${b}_`;p[S]=c(w)}const v=A_(p),E=v.tryAsTuple();return Array.isArray(E)?k_(...E):v}case-21:{const p={};for(const[v,E]of g[1]){const b=`_${v}_`;p[b]=c(E)}return j_(p)}case-22:{const[p,v,E]=g[1];return B_(p.map(b=>c(b)),v.map(b=>c(b)),E)}case-23:{const p={},v=g[1];for(const[E,b]of v){let w=c(b);if(w instanceof Ji&&(w=w.getType()),!(w instanceof eg))throw new Error("Illegal service definition: services can only contain functions");p[E]=w}return R_(p)}default:throw new Error("Illegal op_code: "+g[0])}}o.forEach((g,p)=>{if(g[0]===-22){const v=d(g);l[p].fill(v)}}),o.forEach((g,p)=>{if(g[0]!==-22){const v=d(g);l[p].fill(v)}});const f=a.map(g=>c(g)),h=t.map((g,p)=>g.decodeValue(n,f[p]));for(let g=t.length;g<f.length;g++)f[g].decodeValue(n,f[g]);if(n.byteLength>0)throw new Error("decode: Left-over bytes");return h}const a_=new Z1,l_=new Zu,C4=new Q1,c_=new J1,u_=new e_,d_=new t_,f_=new n_,h_=new r_,p_=new Qp(32),g_=new Qp(64),m_=new js(8),y_=new js(16),x_=new js(32),b_=new js(64),w_=new zi(8),__=new zi(16),v_=new zi(32),E_=new zi(64),S_=new i_;function k_(...t){return new zd(t)}function N_(t){return new Ud(t)}function T_(t){return new Ro(t)}function A_(t){return new Rl(t)}function j_(t){return new Ld(t)}function C_(){return new Ji}function B_(t,e,n=[]){return new eg(t,e,n)}function R_(t){return new s_(t)}const B4=Object.freeze(Object.defineProperty({__proto__:null,Bool:c_,BoolClass:J1,ConstructType:Qi,Empty:a_,EmptyClass:Z1,FixedIntClass:js,FixedNatClass:zi,Float32:p_,Float64:g_,FloatClass:Qp,Func:B_,FuncClass:eg,Int:f_,Int16:y_,Int32:x_,Int64:b_,Int8:m_,IntClass:n_,Nat:h_,Nat16:__,Nat32:v_,Nat64:E_,Nat8:w_,NatClass:r_,Null:u_,NullClass:e_,Opt:T_,OptClass:Ro,PrimitiveType:$n,Principal:S_,PrincipalClass:i_,Rec:C_,RecClass:Ji,Record:A_,RecordClass:Rl,Reserved:l_,ReservedClass:Zu,Service:R_,ServiceClass:s_,Text:d_,TextClass:t_,Tuple:k_,TupleClass:zd,Type:Id,Unknown:C4,UnknownClass:Q1,Variant:j_,VariantClass:Ld,Vec:N_,VecClass:Ud,Visitor:j4,decode:o_,encode:u0},Symbol.toStringTag,{value:"Module"}));var P_={},Pl={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=Cl,n=Bl,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var k=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(k,m),k.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(k){if(k>i)throw new RangeError('The value "'+k+'" is invalid for option "size"');var m=new Uint8Array(k);return Object.setPrototypeOf(m,a.prototype),m}function a(k,m,y){if(typeof k=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(k)}return l(k,m,y)}a.poolSize=8192;function l(k,m,y){if(typeof k=="string")return h(k,m);if(ArrayBuffer.isView(k))return p(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(J(k,ArrayBuffer)||k&&J(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(J(k,SharedArrayBuffer)||k&&J(k.buffer,SharedArrayBuffer)))return v(k,m,y);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var A=k.valueOf&&k.valueOf();if(A!=null&&A!==k)return a.from(A,m,y);var P=E(k);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return a.from(k[Symbol.toPrimitive]("string"),m,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}a.from=function(k,m,y){return l(k,m,y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function d(k,m,y){return c(k),k<=0?o(k):m!==void 0?typeof y=="string"?o(k).fill(m,y):o(k).fill(m):o(k)}a.alloc=function(k,m,y){return d(k,m,y)};function f(k){return c(k),o(k<0?0:b(k)|0)}a.allocUnsafe=function(k){return f(k)},a.allocUnsafeSlow=function(k){return f(k)};function h(k,m){if((typeof m!="string"||m==="")&&(m="utf8"),!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);var y=S(k,m)|0,A=o(y),P=A.write(k,m);return P!==y&&(A=A.slice(0,P)),A}function g(k){for(var m=k.length<0?0:b(k.length)|0,y=o(m),A=0;A<m;A+=1)y[A]=k[A]&255;return y}function p(k){if(J(k,Uint8Array)){var m=new Uint8Array(k);return v(m.buffer,m.byteOffset,m.byteLength)}return g(k)}function v(k,m,y){if(m<0||k.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<m+(y||0))throw new RangeError('"length" is outside of buffer bounds');var A;return m===void 0&&y===void 0?A=new Uint8Array(k):y===void 0?A=new Uint8Array(k,m):A=new Uint8Array(k,m,y),Object.setPrototypeOf(A,a.prototype),A}function E(k){if(a.isBuffer(k)){var m=b(k.length)|0,y=o(m);return y.length===0||k.copy(y,0,0,m),y}if(k.length!==void 0)return typeof k.length!="number"||K(k.length)?o(0):g(k);if(k.type==="Buffer"&&Array.isArray(k.data))return g(k.data)}function b(k){if(k>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return k|0}function w(k){return+k!=k&&(k=0),a.alloc(+k)}a.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==a.prototype},a.compare=function(m,y){if(J(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),J(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),!a.isBuffer(m)||!a.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===y)return 0;for(var A=m.length,P=y.length,D=0,te=Math.min(A,P);D<te;++D)if(m[D]!==y[D]){A=m[D],P=y[D];break}return A<P?-1:P<A?1:0},a.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(m,y){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return a.alloc(0);var A;if(y===void 0)for(y=0,A=0;A<m.length;++A)y+=m[A].length;var P=a.allocUnsafe(y),D=0;for(A=0;A<m.length;++A){var te=m[A];if(J(te,Uint8Array))D+te.length>P.length?a.from(te).copy(P,D):Uint8Array.prototype.set.call(P,te,D);else if(a.isBuffer(te))te.copy(P,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=te.length}return P};function S(k,m){if(a.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||J(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);var y=k.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&y===0)return 0;for(var P=!1;;)switch(m){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return de(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return O(k).length;default:if(P)return A?-1:de(k).length;m=(""+m).toLowerCase(),P=!0}}a.byteLength=S;function R(k,m,y){var A=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,m>>>=0,y<=m))return"";for(k||(k="utf8");;)switch(k){case"hex":return Y(this,m,y);case"utf8":case"utf-8":return W(this,m,y);case"ascii":return Z(this,m,y);case"latin1":case"binary":return G(this,m,y);case"base64":return z(this,m,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,m,y);default:if(A)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),A=!0}}a.prototype._isBuffer=!0;function N(k,m,y){var A=k[m];k[m]=k[y],k[y]=A}a.prototype.swap16=function(){var m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var y=0;y<m;y+=2)N(this,y,y+1);return this},a.prototype.swap32=function(){var m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<m;y+=4)N(this,y,y+3),N(this,y+1,y+2);return this},a.prototype.swap64=function(){var m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<m;y+=8)N(this,y,y+7),N(this,y+1,y+6),N(this,y+2,y+5),N(this,y+3,y+4);return this},a.prototype.toString=function(){var m=this.length;return m===0?"":arguments.length===0?W(this,0,m):R.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(m){if(!a.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:a.compare(this,m)===0},a.prototype.inspect=function(){var m="",y=t.INSPECT_MAX_BYTES;return m=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(m+=" ... "),"<Buffer "+m+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(m,y,A,P,D){if(J(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(y===void 0&&(y=0),A===void 0&&(A=m?m.length:0),P===void 0&&(P=0),D===void 0&&(D=this.length),y<0||A>m.length||P<0||D>this.length)throw new RangeError("out of range index");if(P>=D&&y>=A)return 0;if(P>=D)return-1;if(y>=A)return 1;if(y>>>=0,A>>>=0,P>>>=0,D>>>=0,this===m)return 0;for(var te=D-P,fe=A-y,be=Math.min(te,fe),_e=this.slice(P,D),Ae=m.slice(y,A),T=0;T<be;++T)if(_e[T]!==Ae[T]){te=_e[T],fe=Ae[T];break}return te<fe?-1:fe<te?1:0};function F(k,m,y,A,P){if(k.length===0)return-1;if(typeof y=="string"?(A=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,K(y)&&(y=P?0:k.length-1),y<0&&(y=k.length+y),y>=k.length){if(P)return-1;y=k.length-1}else if(y<0)if(P)y=0;else return-1;if(typeof m=="string"&&(m=a.from(m,A)),a.isBuffer(m))return m.length===0?-1:C(k,m,y,A,P);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(k,m,y):Uint8Array.prototype.lastIndexOf.call(k,m,y):C(k,[m],y,A,P);throw new TypeError("val must be string, number or Buffer")}function C(k,m,y,A,P){var D=1,te=k.length,fe=m.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(k.length<2||m.length<2)return-1;D=2,te/=2,fe/=2,y/=2}function be(_,M){return D===1?_[M]:_.readUInt16BE(M*D)}var _e;if(P){var Ae=-1;for(_e=y;_e<te;_e++)if(be(k,_e)===be(m,Ae===-1?0:_e-Ae)){if(Ae===-1&&(Ae=_e),_e-Ae+1===fe)return Ae*D}else Ae!==-1&&(_e-=_e-Ae),Ae=-1}else for(y+fe>te&&(y=te-fe),_e=y;_e>=0;_e--){for(var T=!0,x=0;x<fe;x++)if(be(k,_e+x)!==be(m,x)){T=!1;break}if(T)return _e}return-1}a.prototype.includes=function(m,y,A){return this.indexOf(m,y,A)!==-1},a.prototype.indexOf=function(m,y,A){return F(this,m,y,A,!0)},a.prototype.lastIndexOf=function(m,y,A){return F(this,m,y,A,!1)};function I(k,m,y,A){y=Number(y)||0;var P=k.length-y;A?(A=Number(A),A>P&&(A=P)):A=P;var D=m.length;A>D/2&&(A=D/2);for(var te=0;te<A;++te){var fe=parseInt(m.substr(te*2,2),16);if(K(fe))return te;k[y+te]=fe}return te}function U(k,m,y,A){return L(de(m,k.length-y),k,y,A)}function H(k,m,y,A){return L(ge(m),k,y,A)}function ie(k,m,y,A){return L(O(m),k,y,A)}function oe(k,m,y,A){return L(B(m,k.length-y),k,y,A)}a.prototype.write=function(m,y,A,P){if(y===void 0)P="utf8",A=this.length,y=0;else if(A===void 0&&typeof y=="string")P=y,A=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(A)?(A=A>>>0,P===void 0&&(P="utf8")):(P=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var D=this.length-y;if((A===void 0||A>D)&&(A=D),m.length>0&&(A<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");for(var te=!1;;)switch(P){case"hex":return I(this,m,y,A);case"utf8":case"utf-8":return U(this,m,y,A);case"ascii":case"latin1":case"binary":return H(this,m,y,A);case"base64":return ie(this,m,y,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,m,y,A);default:if(te)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(k,m,y){return m===0&&y===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(m,y))}function W(k,m,y){y=Math.min(k.length,y);for(var A=[],P=m;P<y;){var D=k[P],te=null,fe=D>239?4:D>223?3:D>191?2:1;if(P+fe<=y){var be,_e,Ae,T;switch(fe){case 1:D<128&&(te=D);break;case 2:be=k[P+1],(be&192)===128&&(T=(D&31)<<6|be&63,T>127&&(te=T));break;case 3:be=k[P+1],_e=k[P+2],(be&192)===128&&(_e&192)===128&&(T=(D&15)<<12|(be&63)<<6|_e&63,T>2047&&(T<55296||T>57343)&&(te=T));break;case 4:be=k[P+1],_e=k[P+2],Ae=k[P+3],(be&192)===128&&(_e&192)===128&&(Ae&192)===128&&(T=(D&15)<<18|(be&63)<<12|(_e&63)<<6|Ae&63,T>65535&&T<1114112&&(te=T))}}te===null?(te=65533,fe=1):te>65535&&(te-=65536,A.push(te>>>10&1023|55296),te=56320|te&1023),A.push(te),P+=fe}return Q(A)}var V=4096;function Q(k){var m=k.length;if(m<=V)return String.fromCharCode.apply(String,k);for(var y="",A=0;A<m;)y+=String.fromCharCode.apply(String,k.slice(A,A+=V));return y}function Z(k,m,y){var A="";y=Math.min(k.length,y);for(var P=m;P<y;++P)A+=String.fromCharCode(k[P]&127);return A}function G(k,m,y){var A="";y=Math.min(k.length,y);for(var P=m;P<y;++P)A+=String.fromCharCode(k[P]);return A}function Y(k,m,y){var A=k.length;(!m||m<0)&&(m=0),(!y||y<0||y>A)&&(y=A);for(var P="",D=m;D<y;++D)P+=ee[k[D]];return P}function ce(k,m,y){for(var A=k.slice(m,y),P="",D=0;D<A.length-1;D+=2)P+=String.fromCharCode(A[D]+A[D+1]*256);return P}a.prototype.slice=function(m,y){var A=this.length;m=~~m,y=y===void 0?A:~~y,m<0?(m+=A,m<0&&(m=0)):m>A&&(m=A),y<0?(y+=A,y<0&&(y=0)):y>A&&(y=A),y<m&&(y=m);var P=this.subarray(m,y);return Object.setPrototypeOf(P,a.prototype),P};function se(k,m,y){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+m>y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(m,y,A){m=m>>>0,y=y>>>0,A||se(m,y,this.length);for(var P=this[m],D=1,te=0;++te<y&&(D*=256);)P+=this[m+te]*D;return P},a.prototype.readUintBE=a.prototype.readUIntBE=function(m,y,A){m=m>>>0,y=y>>>0,A||se(m,y,this.length);for(var P=this[m+--y],D=1;y>0&&(D*=256);)P+=this[m+--y]*D;return P},a.prototype.readUint8=a.prototype.readUInt8=function(m,y){return m=m>>>0,y||se(m,1,this.length),this[m]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(m,y){return m=m>>>0,y||se(m,2,this.length),this[m]|this[m+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(m,y){return m=m>>>0,y||se(m,2,this.length),this[m]<<8|this[m+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(m,y){return m=m>>>0,y||se(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(m,y){return m=m>>>0,y||se(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},a.prototype.readIntLE=function(m,y,A){m=m>>>0,y=y>>>0,A||se(m,y,this.length);for(var P=this[m],D=1,te=0;++te<y&&(D*=256);)P+=this[m+te]*D;return D*=128,P>=D&&(P-=Math.pow(2,8*y)),P},a.prototype.readIntBE=function(m,y,A){m=m>>>0,y=y>>>0,A||se(m,y,this.length);for(var P=y,D=1,te=this[m+--P];P>0&&(D*=256);)te+=this[m+--P]*D;return D*=128,te>=D&&(te-=Math.pow(2,8*y)),te},a.prototype.readInt8=function(m,y){return m=m>>>0,y||se(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},a.prototype.readInt16LE=function(m,y){m=m>>>0,y||se(m,2,this.length);var A=this[m]|this[m+1]<<8;return A&32768?A|4294901760:A},a.prototype.readInt16BE=function(m,y){m=m>>>0,y||se(m,2,this.length);var A=this[m+1]|this[m]<<8;return A&32768?A|4294901760:A},a.prototype.readInt32LE=function(m,y){return m=m>>>0,y||se(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},a.prototype.readInt32BE=function(m,y){return m=m>>>0,y||se(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},a.prototype.readFloatLE=function(m,y){return m=m>>>0,y||se(m,4,this.length),n.read(this,m,!0,23,4)},a.prototype.readFloatBE=function(m,y){return m=m>>>0,y||se(m,4,this.length),n.read(this,m,!1,23,4)},a.prototype.readDoubleLE=function(m,y){return m=m>>>0,y||se(m,8,this.length),n.read(this,m,!0,52,8)},a.prototype.readDoubleBE=function(m,y){return m=m>>>0,y||se(m,8,this.length),n.read(this,m,!1,52,8)};function ue(k,m,y,A,P,D){if(!a.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>P||m<D)throw new RangeError('"value" argument is out of bounds');if(y+A>k.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(m,y,A,P){if(m=+m,y=y>>>0,A=A>>>0,!P){var D=Math.pow(2,8*A)-1;ue(this,m,y,A,D,0)}var te=1,fe=0;for(this[y]=m&255;++fe<A&&(te*=256);)this[y+fe]=m/te&255;return y+A},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(m,y,A,P){if(m=+m,y=y>>>0,A=A>>>0,!P){var D=Math.pow(2,8*A)-1;ue(this,m,y,A,D,0)}var te=A-1,fe=1;for(this[y+te]=m&255;--te>=0&&(fe*=256);)this[y+te]=m/fe&255;return y+A},a.prototype.writeUint8=a.prototype.writeUInt8=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,1,255,0),this[y]=m&255,y+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,2,65535,0),this[y]=m&255,this[y+1]=m>>>8,y+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,2,65535,0),this[y]=m>>>8,this[y+1]=m&255,y+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,4,4294967295,0),this[y+3]=m>>>24,this[y+2]=m>>>16,this[y+1]=m>>>8,this[y]=m&255,y+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,4,4294967295,0),this[y]=m>>>24,this[y+1]=m>>>16,this[y+2]=m>>>8,this[y+3]=m&255,y+4},a.prototype.writeIntLE=function(m,y,A,P){if(m=+m,y=y>>>0,!P){var D=Math.pow(2,8*A-1);ue(this,m,y,A,D-1,-D)}var te=0,fe=1,be=0;for(this[y]=m&255;++te<A&&(fe*=256);)m<0&&be===0&&this[y+te-1]!==0&&(be=1),this[y+te]=(m/fe>>0)-be&255;return y+A},a.prototype.writeIntBE=function(m,y,A,P){if(m=+m,y=y>>>0,!P){var D=Math.pow(2,8*A-1);ue(this,m,y,A,D-1,-D)}var te=A-1,fe=1,be=0;for(this[y+te]=m&255;--te>=0&&(fe*=256);)m<0&&be===0&&this[y+te+1]!==0&&(be=1),this[y+te]=(m/fe>>0)-be&255;return y+A},a.prototype.writeInt8=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,1,127,-128),m<0&&(m=255+m+1),this[y]=m&255,y+1},a.prototype.writeInt16LE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,2,32767,-32768),this[y]=m&255,this[y+1]=m>>>8,y+2},a.prototype.writeInt16BE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,2,32767,-32768),this[y]=m>>>8,this[y+1]=m&255,y+2},a.prototype.writeInt32LE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,4,2147483647,-2147483648),this[y]=m&255,this[y+1]=m>>>8,this[y+2]=m>>>16,this[y+3]=m>>>24,y+4},a.prototype.writeInt32BE=function(m,y,A){return m=+m,y=y>>>0,A||ue(this,m,y,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[y]=m>>>24,this[y+1]=m>>>16,this[y+2]=m>>>8,this[y+3]=m&255,y+4};function ae(k,m,y,A,P,D){if(y+A>k.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function j(k,m,y,A,P){return m=+m,y=y>>>0,P||ae(k,m,y,4),n.write(k,m,y,A,23,4),y+4}a.prototype.writeFloatLE=function(m,y,A){return j(this,m,y,!0,A)},a.prototype.writeFloatBE=function(m,y,A){return j(this,m,y,!1,A)};function le(k,m,y,A,P){return m=+m,y=y>>>0,P||ae(k,m,y,8),n.write(k,m,y,A,52,8),y+8}a.prototype.writeDoubleLE=function(m,y,A){return le(this,m,y,!0,A)},a.prototype.writeDoubleBE=function(m,y,A){return le(this,m,y,!1,A)},a.prototype.copy=function(m,y,A,P){if(!a.isBuffer(m))throw new TypeError("argument should be a Buffer");if(A||(A=0),!P&&P!==0&&(P=this.length),y>=m.length&&(y=m.length),y||(y=0),P>0&&P<A&&(P=A),P===A||m.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),m.length-y<P-A&&(P=m.length-y+A);var D=P-A;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,A,P):Uint8Array.prototype.set.call(m,this.subarray(A,P),y),D},a.prototype.fill=function(m,y,A,P){if(typeof m=="string"){if(typeof y=="string"?(P=y,y=0,A=this.length):typeof A=="string"&&(P=A,A=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!a.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(m.length===1){var D=m.charCodeAt(0);(P==="utf8"&&D<128||P==="latin1")&&(m=D)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(y<0||this.length<y||this.length<A)throw new RangeError("Out of range index");if(A<=y)return this;y=y>>>0,A=A===void 0?this.length:A>>>0,m||(m=0);var te;if(typeof m=="number")for(te=y;te<A;++te)this[te]=m;else{var fe=a.isBuffer(m)?m:a.from(m,P),be=fe.length;if(be===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(te=0;te<A-y;++te)this[te+y]=fe[te%be]}return this};var he=/[^+/0-9A-Za-z-_]/g;function me(k){if(k=k.split("=")[0],k=k.trim().replace(he,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function de(k,m){m=m||1/0;for(var y,A=k.length,P=null,D=[],te=0;te<A;++te){if(y=k.charCodeAt(te),y>55295&&y<57344){if(!P){if(y>56319){(m-=3)>-1&&D.push(239,191,189);continue}else if(te+1===A){(m-=3)>-1&&D.push(239,191,189);continue}P=y;continue}if(y<56320){(m-=3)>-1&&D.push(239,191,189),P=y;continue}y=(P-55296<<10|y-56320)+65536}else P&&(m-=3)>-1&&D.push(239,191,189);if(P=null,y<128){if((m-=1)<0)break;D.push(y)}else if(y<2048){if((m-=2)<0)break;D.push(y>>6|192,y&63|128)}else if(y<65536){if((m-=3)<0)break;D.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((m-=4)<0)break;D.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return D}function ge(k){for(var m=[],y=0;y<k.length;++y)m.push(k.charCodeAt(y)&255);return m}function B(k,m){for(var y,A,P,D=[],te=0;te<k.length&&!((m-=2)<0);++te)y=k.charCodeAt(te),A=y>>8,P=y%256,D.push(P),D.push(A);return D}function O(k){return e.toByteArray(me(k))}function L(k,m,y,A){for(var P=0;P<A&&!(P+y>=m.length||P>=k.length);++P)m[P+y]=k[P];return P}function J(k,m){return k instanceof m||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===m.name}function K(k){return k!==k}var ee=function(){for(var k="0123456789abcdef",m=new Array(256),y=0;y<16;++y)for(var A=y*16,P=0;P<16;++P)m[A+P]=k[y]+k[P];return m}()})(Pl);var O_={exports:{}};(function(t){(function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,g=1e9;function p(F){var C,I,U,H=j.prototype={constructor:j,toString:null,valueOf:null},ie=new j(1),oe=20,z=4,W=-7,V=21,Q=-1e7,Z=1e7,G=!1,Y=1,ce=0,se={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},ue="0123456789abcdefghijklmnopqrstuvwxyz",ae=!0;function j(B,O){var L,J,K,ee,k,m,y,A,P=this;if(!(P instanceof j))return new j(B,O);if(O==null){if(B&&B._isBigNumber===!0){P.s=B.s,!B.c||B.e>Z?P.c=P.e=null:B.e<Q?P.c=[P.e=0]:(P.e=B.e,P.c=B.c.slice());return}if((m=typeof B=="number")&&B*0==0){if(P.s=1/B<0?(B=-B,-1):1,B===~~B){for(ee=0,k=B;k>=10;k/=10,ee++);ee>Z?P.c=P.e=null:(P.e=ee,P.c=[B]);return}A=String(B)}else{if(!r.test(A=String(B)))return U(P,A,m);P.s=A.charCodeAt(0)==45?(A=A.slice(1),-1):1}(ee=A.indexOf("."))>-1&&(A=A.replace(".","")),(k=A.search(/e/i))>0?(ee<0&&(ee=k),ee+=+A.slice(k+1),A=A.substring(0,k)):ee<0&&(ee=A.length)}else{if(w(O,2,ue.length,"Base"),O==10&&ae)return P=new j(B),de(P,oe+P.e+1,z);if(A=String(B),m=typeof B=="number"){if(B*0!=0)return U(P,A,m,O);if(P.s=1/B<0?(A=A.slice(1),-1):1,j.DEBUG&&A.replace(/^0\.0*|\./,"").length>15)throw Error(a+B)}else P.s=A.charCodeAt(0)===45?(A=A.slice(1),-1):1;for(L=ue.slice(0,O),ee=k=0,y=A.length;k<y;k++)if(L.indexOf(J=A.charAt(k))<0){if(J=="."){if(k>ee){ee=y;continue}}else if(!K&&(A==A.toUpperCase()&&(A=A.toLowerCase())||A==A.toLowerCase()&&(A=A.toUpperCase()))){K=!0,k=-1,ee=0;continue}return U(P,String(B),m,O)}m=!1,A=I(A,O,10,P.s),(ee=A.indexOf("."))>-1?A=A.replace(".",""):ee=A.length}for(k=0;A.charCodeAt(k)===48;k++);for(y=A.length;A.charCodeAt(--y)===48;);if(A=A.slice(k,++y)){if(y-=k,m&&j.DEBUG&&y>15&&(B>d||B!==s(B)))throw Error(a+P.s*B);if((ee=ee-k-1)>Z)P.c=P.e=null;else if(ee<Q)P.c=[P.e=0];else{if(P.e=ee,P.c=[],k=(ee+1)%c,ee<0&&(k+=c),k<y){for(k&&P.c.push(+A.slice(0,k)),y-=c;k<y;)P.c.push(+A.slice(k,k+=c));k=c-(A=A.slice(k)).length}else k-=y;for(;k--;A+="0");P.c.push(+A)}}else P.c=[P.e=0]}j.clone=p,j.ROUND_UP=0,j.ROUND_DOWN=1,j.ROUND_CEIL=2,j.ROUND_FLOOR=3,j.ROUND_HALF_UP=4,j.ROUND_HALF_DOWN=5,j.ROUND_HALF_EVEN=6,j.ROUND_HALF_CEIL=7,j.ROUND_HALF_FLOOR=8,j.EUCLID=9,j.config=j.set=function(B){var O,L;if(B!=null)if(typeof B=="object"){if(B.hasOwnProperty(O="DECIMAL_PLACES")&&(L=B[O],w(L,0,g,O),oe=L),B.hasOwnProperty(O="ROUNDING_MODE")&&(L=B[O],w(L,0,8,O),z=L),B.hasOwnProperty(O="EXPONENTIAL_AT")&&(L=B[O],L&&L.pop?(w(L[0],-1e9,0,O),w(L[1],0,g,O),W=L[0],V=L[1]):(w(L,-1e9,g,O),W=-(V=L<0?-L:L))),B.hasOwnProperty(O="RANGE"))if(L=B[O],L&&L.pop)w(L[0],-1e9,-1,O),w(L[1],1,g,O),Q=L[0],Z=L[1];else if(w(L,-1e9,g,O),L)Q=-(Z=L<0?-L:L);else throw Error(o+O+" cannot be zero: "+L);if(B.hasOwnProperty(O="CRYPTO"))if(L=B[O],L===!!L)if(L)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))G=L;else throw G=!L,Error(o+"crypto unavailable");else G=L;else throw Error(o+O+" not true or false: "+L);if(B.hasOwnProperty(O="MODULO_MODE")&&(L=B[O],w(L,0,9,O),Y=L),B.hasOwnProperty(O="POW_PRECISION")&&(L=B[O],w(L,0,g,O),ce=L),B.hasOwnProperty(O="FORMAT"))if(L=B[O],typeof L=="object")se=L;else throw Error(o+O+" not an object: "+L);if(B.hasOwnProperty(O="ALPHABET"))if(L=B[O],typeof L=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(L))ae=L.slice(0,10)=="0123456789",ue=L;else throw Error(o+O+" invalid: "+L)}else throw Error(o+"Object expected: "+B);return{DECIMAL_PLACES:oe,ROUNDING_MODE:z,EXPONENTIAL_AT:[W,V],RANGE:[Q,Z],CRYPTO:G,MODULO_MODE:Y,POW_PRECISION:ce,FORMAT:se,ALPHABET:ue}},j.isBigNumber=function(B){if(!B||B._isBigNumber!==!0)return!1;if(!j.DEBUG)return!0;var O,L,J=B.c,K=B.e,ee=B.s;e:if({}.toString.call(J)=="[object Array]"){if((ee===1||ee===-1)&&K>=-1e9&&K<=g&&K===s(K)){if(J[0]===0){if(K===0&&J.length===1)return!0;break e}if(O=(K+1)%c,O<1&&(O+=c),String(J[0]).length==O){for(O=0;O<J.length;O++)if(L=J[O],L<0||L>=l||L!==s(L))break e;if(L!==0)return!0}}}else if(J===null&&K===null&&(ee===null||ee===1||ee===-1))return!0;throw Error(o+"Invalid BigNumber: "+B)},j.maximum=j.max=function(){return he(arguments,-1)},j.minimum=j.min=function(){return he(arguments,1)},j.random=function(){var B=9007199254740992,O=Math.random()*B&2097151?function(){return s(Math.random()*B)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(L){var J,K,ee,k,m,y=0,A=[],P=new j(ie);if(L==null?L=oe:w(L,0,g),k=i(L/c),G)if(crypto.getRandomValues){for(J=crypto.getRandomValues(new Uint32Array(k*=2));y<k;)m=J[y]*131072+(J[y+1]>>>11),m>=9e15?(K=crypto.getRandomValues(new Uint32Array(2)),J[y]=K[0],J[y+1]=K[1]):(A.push(m%1e14),y+=2);y=k/2}else if(crypto.randomBytes){for(J=crypto.randomBytes(k*=7);y<k;)m=(J[y]&31)*281474976710656+J[y+1]*1099511627776+J[y+2]*4294967296+J[y+3]*16777216+(J[y+4]<<16)+(J[y+5]<<8)+J[y+6],m>=9e15?crypto.randomBytes(7).copy(J,y):(A.push(m%1e14),y+=7);y=k/7}else throw G=!1,Error(o+"crypto unavailable");if(!G)for(;y<k;)m=O(),m<9e15&&(A[y++]=m%1e14);for(k=A[--y],L%=c,k&&L&&(m=f[c-L],A[y]=s(k/m)*m);A[y]===0;A.pop(),y--);if(y<0)A=[ee=0];else{for(ee=-1;A[0]===0;A.splice(0,1),ee-=c);for(y=1,m=A[0];m>=10;m/=10,y++);y<c&&(ee-=c-y)}return P.e=ee,P.c=A,P}}(),j.sum=function(){for(var B=1,O=arguments,L=new j(O[0]);B<O.length;)L=L.plus(O[B++]);return L},I=function(){var B="0123456789";function O(L,J,K,ee){for(var k,m=[0],y,A=0,P=L.length;A<P;){for(y=m.length;y--;m[y]*=J);for(m[0]+=ee.indexOf(L.charAt(A++)),k=0;k<m.length;k++)m[k]>K-1&&(m[k+1]==null&&(m[k+1]=0),m[k+1]+=m[k]/K|0,m[k]%=K)}return m.reverse()}return function(L,J,K,ee,k){var m,y,A,P,D,te,fe,be,_e=L.indexOf("."),Ae=oe,T=z;for(_e>=0&&(P=ce,ce=0,L=L.replace(".",""),be=new j(J),te=be.pow(L.length-_e),ce=P,be.c=O(N(E(te.c),te.e,"0"),10,K,B),be.e=be.c.length),fe=O(L,J,K,k?(m=ue,B):(m=B,ue)),A=P=fe.length;fe[--P]==0;fe.pop());if(!fe[0])return m.charAt(0);if(_e<0?--A:(te.c=fe,te.e=A,te.s=ee,te=C(te,be,Ae,T,K),fe=te.c,D=te.r,A=te.e),y=A+Ae+1,_e=fe[y],P=K/2,D=D||y<0||fe[y+1]!=null,D=T<4?(_e!=null||D)&&(T==0||T==(te.s<0?3:2)):_e>P||_e==P&&(T==4||D||T==6&&fe[y-1]&1||T==(te.s<0?8:7)),y<1||!fe[0])L=D?N(m.charAt(1),-Ae,m.charAt(0)):m.charAt(0);else{if(fe.length=y,D)for(--K;++fe[--y]>K;)fe[y]=0,y||(++A,fe=[1].concat(fe));for(P=fe.length;!fe[--P];);for(_e=0,L="";_e<=P;L+=m.charAt(fe[_e++]));L=N(L,A,m.charAt(0))}return L}}(),C=function(){function B(J,K,ee){var k,m,y,A,P=0,D=J.length,te=K%h,fe=K/h|0;for(J=J.slice();D--;)y=J[D]%h,A=J[D]/h|0,k=fe*y+A*te,m=te*y+k%h*h+P,P=(m/ee|0)+(k/h|0)+fe*A,J[D]=m%ee;return P&&(J=[P].concat(J)),J}function O(J,K,ee,k){var m,y;if(ee!=k)y=ee>k?1:-1;else for(m=y=0;m<ee;m++)if(J[m]!=K[m]){y=J[m]>K[m]?1:-1;break}return y}function L(J,K,ee,k){for(var m=0;ee--;)J[ee]-=m,m=J[ee]<K[ee]?1:0,J[ee]=m*k+J[ee]-K[ee];for(;!J[0]&&J.length>1;J.splice(0,1));}return function(J,K,ee,k,m){var y,A,P,D,te,fe,be,_e,Ae,T,x,_,M,X,re,ne,Te,Oe=J.s==K.s?1:-1,Ce=J.c,Ne=K.c;if(!Ce||!Ce[0]||!Ne||!Ne[0])return new j(!J.s||!K.s||(Ce?Ne&&Ce[0]==Ne[0]:!Ne)?NaN:Ce&&Ce[0]==0||!Ne?Oe*0:Oe/0);for(_e=new j(Oe),Ae=_e.c=[],A=J.e-K.e,Oe=ee+A+1,m||(m=l,A=v(J.e/c)-v(K.e/c),Oe=Oe/c|0),P=0;Ne[P]==(Ce[P]||0);P++);if(Ne[P]>(Ce[P]||0)&&A--,Oe<0)Ae.push(1),D=!0;else{for(X=Ce.length,ne=Ne.length,P=0,Oe+=2,te=s(m/(Ne[0]+1)),te>1&&(Ne=B(Ne,te,m),Ce=B(Ce,te,m),ne=Ne.length,X=Ce.length),M=ne,T=Ce.slice(0,ne),x=T.length;x<ne;T[x++]=0);Te=Ne.slice(),Te=[0].concat(Te),re=Ne[0],Ne[1]>=m/2&&re++;do{if(te=0,y=O(Ne,T,ne,x),y<0){if(_=T[0],ne!=x&&(_=_*m+(T[1]||0)),te=s(_/re),te>1)for(te>=m&&(te=m-1),fe=B(Ne,te,m),be=fe.length,x=T.length;O(fe,T,be,x)==1;)te--,L(fe,ne<be?Te:Ne,be,m),be=fe.length,y=1;else te==0&&(y=te=1),fe=Ne.slice(),be=fe.length;if(be<x&&(fe=[0].concat(fe)),L(T,fe,x,m),x=T.length,y==-1)for(;O(Ne,T,ne,x)<1;)te++,L(T,ne<x?Te:Ne,x,m),x=T.length}else y===0&&(te++,T=[0]);Ae[P++]=te,T[0]?T[x++]=Ce[M]||0:(T=[Ce[M]],x=1)}while((M++<X||T[0]!=null)&&Oe--);D=T[0]!=null,Ae[0]||Ae.splice(0,1)}if(m==l){for(P=1,Oe=Ae[0];Oe>=10;Oe/=10,P++);de(_e,ee+(_e.e=P+A*c-1)+1,k,D)}else _e.e=A,_e.r=+D;return _e}}();function le(B,O,L,J){var K,ee,k,m,y;if(L==null?L=z:w(L,0,8),!B.c)return B.toString();if(K=B.c[0],k=B.e,O==null)y=E(B.c),y=J==1||J==2&&(k<=W||k>=V)?R(y,k):N(y,k,"0");else if(B=de(new j(B),O,L),ee=B.e,y=E(B.c),m=y.length,J==1||J==2&&(O<=ee||ee<=W)){for(;m<O;y+="0",m++);y=R(y,ee)}else if(O-=k,y=N(y,ee,"0"),ee+1>m){if(--O>0)for(y+=".";O--;y+="0");}else if(O+=ee-m,O>0)for(ee+1==m&&(y+=".");O--;y+="0");return B.s<0&&K?"-"+y:y}function he(B,O){for(var L,J,K=1,ee=new j(B[0]);K<B.length;K++)J=new j(B[K]),(!J.s||(L=b(ee,J))===O||L===0&&ee.s===O)&&(ee=J);return ee}function me(B,O,L){for(var J=1,K=O.length;!O[--K];O.pop());for(K=O[0];K>=10;K/=10,J++);return(L=J+L*c-1)>Z?B.c=B.e=null:L<Q?B.c=[B.e=0]:(B.e=L,B.c=O),B}U=function(){var B=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,L=/^\.([^.]+)$/,J=/^-?(Infinity|NaN)$/,K=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ee,k,m,y){var A,P=m?k:k.replace(K,"");if(J.test(P))ee.s=isNaN(P)?null:P<0?-1:1;else{if(!m&&(P=P.replace(B,function(D,te,fe){return A=(fe=fe.toLowerCase())=="x"?16:fe=="b"?2:8,!y||y==A?te:D}),y&&(A=y,P=P.replace(O,"$1").replace(L,"0.$1")),k!=P))return new j(P,A);if(j.DEBUG)throw Error(o+"Not a"+(y?" base "+y:"")+" number: "+k);ee.s=null}ee.c=ee.e=null}}();function de(B,O,L,J){var K,ee,k,m,y,A,P,D=B.c,te=f;if(D){e:{for(K=1,m=D[0];m>=10;m/=10,K++);if(ee=O-K,ee<0)ee+=c,k=O,y=D[A=0],P=s(y/te[K-k-1]%10);else if(A=i((ee+1)/c),A>=D.length)if(J){for(;D.length<=A;D.push(0));y=P=0,K=1,ee%=c,k=ee-c+1}else break e;else{for(y=m=D[A],K=1;m>=10;m/=10,K++);ee%=c,k=ee-c+K,P=k<0?0:s(y/te[K-k-1]%10)}if(J=J||O<0||D[A+1]!=null||(k<0?y:y%te[K-k-1]),J=L<4?(P||J)&&(L==0||L==(B.s<0?3:2)):P>5||P==5&&(L==4||J||L==6&&(ee>0?k>0?y/te[K-k]:0:D[A-1])%10&1||L==(B.s<0?8:7)),O<1||!D[0])return D.length=0,J?(O-=B.e+1,D[0]=te[(c-O%c)%c],B.e=-O||0):D[0]=B.e=0,B;if(ee==0?(D.length=A,m=1,A--):(D.length=A+1,m=te[c-ee],D[A]=k>0?s(y/te[K-k]%te[k])*m:0),J)for(;;)if(A==0){for(ee=1,k=D[0];k>=10;k/=10,ee++);for(k=D[0]+=m,m=1;k>=10;k/=10,m++);ee!=m&&(B.e++,D[0]==l&&(D[0]=1));break}else{if(D[A]+=m,D[A]!=l)break;D[A--]=0,m=1}for(ee=D.length;D[--ee]===0;D.pop());}B.e>Z?B.c=B.e=null:B.e<Q&&(B.c=[B.e=0])}return B}function ge(B){var O,L=B.e;return L===null?B.toString():(O=E(B.c),O=L<=W||L>=V?R(O,L):N(O,L,"0"),B.s<0?"-"+O:O)}return H.absoluteValue=H.abs=function(){var B=new j(this);return B.s<0&&(B.s=1),B},H.comparedTo=function(B,O){return b(this,new j(B,O))},H.decimalPlaces=H.dp=function(B,O){var L,J,K,ee=this;if(B!=null)return w(B,0,g),O==null?O=z:w(O,0,8),de(new j(ee),B+ee.e+1,O);if(!(L=ee.c))return null;if(J=((K=L.length-1)-v(this.e/c))*c,K=L[K])for(;K%10==0;K/=10,J--);return J<0&&(J=0),J},H.dividedBy=H.div=function(B,O){return C(this,new j(B,O),oe,z)},H.dividedToIntegerBy=H.idiv=function(B,O){return C(this,new j(B,O),0,1)},H.exponentiatedBy=H.pow=function(B,O){var L,J,K,ee,k,m,y,A,P,D=this;if(B=new j(B),B.c&&!B.isInteger())throw Error(o+"Exponent not an integer: "+ge(B));if(O!=null&&(O=new j(O)),m=B.e>14,!D.c||!D.c[0]||D.c[0]==1&&!D.e&&D.c.length==1||!B.c||!B.c[0])return P=new j(Math.pow(+ge(D),m?B.s*(2-S(B)):+ge(B))),O?P.mod(O):P;if(y=B.s<0,O){if(O.c?!O.c[0]:!O.s)return new j(NaN);J=!y&&D.isInteger()&&O.isInteger(),J&&(D=D.mod(O))}else{if(B.e>9&&(D.e>0||D.e<-1||(D.e==0?D.c[0]>1||m&&D.c[1]>=24e7:D.c[0]<8e13||m&&D.c[0]<=9999975e7)))return ee=D.s<0&&S(B)?-0:0,D.e>-1&&(ee=1/ee),new j(y?1/ee:ee);ce&&(ee=i(ce/c+2))}for(m?(L=new j(.5),y&&(B.s=1),A=S(B)):(K=Math.abs(+ge(B)),A=K%2),P=new j(ie);;){if(A){if(P=P.times(D),!P.c)break;ee?P.c.length>ee&&(P.c.length=ee):J&&(P=P.mod(O))}if(K){if(K=s(K/2),K===0)break;A=K%2}else if(B=B.times(L),de(B,B.e+1,1),B.e>14)A=S(B);else{if(K=+ge(B),K===0)break;A=K%2}D=D.times(D),ee?D.c&&D.c.length>ee&&(D.c.length=ee):J&&(D=D.mod(O))}return J?P:(y&&(P=ie.div(P)),O?P.mod(O):ee?de(P,ce,z,k):P)},H.integerValue=function(B){var O=new j(this);return B==null?B=z:w(B,0,8),de(O,O.e+1,B)},H.isEqualTo=H.eq=function(B,O){return b(this,new j(B,O))===0},H.isFinite=function(){return!!this.c},H.isGreaterThan=H.gt=function(B,O){return b(this,new j(B,O))>0},H.isGreaterThanOrEqualTo=H.gte=function(B,O){return(O=b(this,new j(B,O)))===1||O===0},H.isInteger=function(){return!!this.c&&v(this.e/c)>this.c.length-2},H.isLessThan=H.lt=function(B,O){return b(this,new j(B,O))<0},H.isLessThanOrEqualTo=H.lte=function(B,O){return(O=b(this,new j(B,O)))===-1||O===0},H.isNaN=function(){return!this.s},H.isNegative=function(){return this.s<0},H.isPositive=function(){return this.s>0},H.isZero=function(){return!!this.c&&this.c[0]==0},H.minus=function(B,O){var L,J,K,ee,k=this,m=k.s;if(B=new j(B,O),O=B.s,!m||!O)return new j(NaN);if(m!=O)return B.s=-O,k.plus(B);var y=k.e/c,A=B.e/c,P=k.c,D=B.c;if(!y||!A){if(!P||!D)return P?(B.s=-O,B):new j(D?k:NaN);if(!P[0]||!D[0])return D[0]?(B.s=-O,B):new j(P[0]?k:z==3?-0:0)}if(y=v(y),A=v(A),P=P.slice(),m=y-A){for((ee=m<0)?(m=-m,K=P):(A=y,K=D),K.reverse(),O=m;O--;K.push(0));K.reverse()}else for(J=(ee=(m=P.length)<(O=D.length))?m:O,m=O=0;O<J;O++)if(P[O]!=D[O]){ee=P[O]<D[O];break}if(ee&&(K=P,P=D,D=K,B.s=-B.s),O=(J=D.length)-(L=P.length),O>0)for(;O--;P[L++]=0);for(O=l-1;J>m;){if(P[--J]<D[J]){for(L=J;L&&!P[--L];P[L]=O);--P[L],P[J]+=l}P[J]-=D[J]}for(;P[0]==0;P.splice(0,1),--A);return P[0]?me(B,P,A):(B.s=z==3?-1:1,B.c=[B.e=0],B)},H.modulo=H.mod=function(B,O){var L,J,K=this;return B=new j(B,O),!K.c||!B.s||B.c&&!B.c[0]?new j(NaN):!B.c||K.c&&!K.c[0]?new j(K):(Y==9?(J=B.s,B.s=1,L=C(K,B,0,3),B.s=J,L.s*=J):L=C(K,B,0,Y),B=K.minus(L.times(B)),!B.c[0]&&Y==1&&(B.s=K.s),B)},H.multipliedBy=H.times=function(B,O){var L,J,K,ee,k,m,y,A,P,D,te,fe,be,_e,Ae,T=this,x=T.c,_=(B=new j(B,O)).c;if(!x||!_||!x[0]||!_[0])return!T.s||!B.s||x&&!x[0]&&!_||_&&!_[0]&&!x?B.c=B.e=B.s=null:(B.s*=T.s,!x||!_?B.c=B.e=null:(B.c=[0],B.e=0)),B;for(J=v(T.e/c)+v(B.e/c),B.s*=T.s,y=x.length,D=_.length,y<D&&(be=x,x=_,_=be,K=y,y=D,D=K),K=y+D,be=[];K--;be.push(0));for(_e=l,Ae=h,K=D;--K>=0;){for(L=0,te=_[K]%Ae,fe=_[K]/Ae|0,k=y,ee=K+k;ee>K;)A=x[--k]%Ae,P=x[k]/Ae|0,m=fe*A+P*te,A=te*A+m%Ae*Ae+be[ee]+L,L=(A/_e|0)+(m/Ae|0)+fe*P,be[ee--]=A%_e;be[ee]=L}return L?++J:be.splice(0,1),me(B,be,J)},H.negated=function(){var B=new j(this);return B.s=-B.s||null,B},H.plus=function(B,O){var L,J=this,K=J.s;if(B=new j(B,O),O=B.s,!K||!O)return new j(NaN);if(K!=O)return B.s=-O,J.minus(B);var ee=J.e/c,k=B.e/c,m=J.c,y=B.c;if(!ee||!k){if(!m||!y)return new j(K/0);if(!m[0]||!y[0])return y[0]?B:new j(m[0]?J:K*0)}if(ee=v(ee),k=v(k),m=m.slice(),K=ee-k){for(K>0?(k=ee,L=y):(K=-K,L=m),L.reverse();K--;L.push(0));L.reverse()}for(K=m.length,O=y.length,K-O<0&&(L=y,y=m,m=L,O=K),K=0;O;)K=(m[--O]=m[O]+y[O]+K)/l|0,m[O]=l===m[O]?0:m[O]%l;return K&&(m=[K].concat(m),++k),me(B,m,k)},H.precision=H.sd=function(B,O){var L,J,K,ee=this;if(B!=null&&B!==!!B)return w(B,1,g),O==null?O=z:w(O,0,8),de(new j(ee),B,O);if(!(L=ee.c))return null;if(K=L.length-1,J=K*c+1,K=L[K]){for(;K%10==0;K/=10,J--);for(K=L[0];K>=10;K/=10,J++);}return B&&ee.e+1>J&&(J=ee.e+1),J},H.shiftedBy=function(B){return w(B,-9007199254740991,d),this.times("1e"+B)},H.squareRoot=H.sqrt=function(){var B,O,L,J,K,ee=this,k=ee.c,m=ee.s,y=ee.e,A=oe+4,P=new j("0.5");if(m!==1||!k||!k[0])return new j(!m||m<0&&(!k||k[0])?NaN:k?ee:1/0);if(m=Math.sqrt(+ge(ee)),m==0||m==1/0?(O=E(k),(O.length+y)%2==0&&(O+="0"),m=Math.sqrt(+O),y=v((y+1)/2)-(y<0||y%2),m==1/0?O="5e"+y:(O=m.toExponential(),O=O.slice(0,O.indexOf("e")+1)+y),L=new j(O)):L=new j(m+""),L.c[0]){for(y=L.e,m=y+A,m<3&&(m=0);;)if(K=L,L=P.times(K.plus(C(ee,K,A,1))),E(K.c).slice(0,m)===(O=E(L.c)).slice(0,m))if(L.e<y&&--m,O=O.slice(m-3,m+1),O=="9999"||!J&&O=="4999"){if(!J&&(de(K,K.e+oe+2,0),K.times(K).eq(ee))){L=K;break}A+=4,m+=4,J=1}else{(!+O||!+O.slice(1)&&O.charAt(0)=="5")&&(de(L,L.e+oe+2,1),B=!L.times(L).eq(ee));break}}return de(L,L.e+oe+1,z,B)},H.toExponential=function(B,O){return B!=null&&(w(B,0,g),B++),le(this,B,O,1)},H.toFixed=function(B,O){return B!=null&&(w(B,0,g),B=B+this.e+1),le(this,B,O)},H.toFormat=function(B,O,L){var J,K=this;if(L==null)B!=null&&O&&typeof O=="object"?(L=O,O=null):B&&typeof B=="object"?(L=B,B=O=null):L=se;else if(typeof L!="object")throw Error(o+"Argument not an object: "+L);if(J=K.toFixed(B,O),K.c){var ee,k=J.split("."),m=+L.groupSize,y=+L.secondaryGroupSize,A=L.groupSeparator||"",P=k[0],D=k[1],te=K.s<0,fe=te?P.slice(1):P,be=fe.length;if(y&&(ee=m,m=y,y=ee,be-=ee),m>0&&be>0){for(ee=be%m||m,P=fe.substr(0,ee);ee<be;ee+=m)P+=A+fe.substr(ee,m);y>0&&(P+=A+fe.slice(ee)),te&&(P="-"+P)}J=D?P+(L.decimalSeparator||"")+((y=+L.fractionGroupSize)?D.replace(new RegExp("\\d{"+y+"}\\B","g"),"$&"+(L.fractionGroupSeparator||"")):D):P}return(L.prefix||"")+J+(L.suffix||"")},H.toFraction=function(B){var O,L,J,K,ee,k,m,y,A,P,D,te,fe=this,be=fe.c;if(B!=null&&(m=new j(B),!m.isInteger()&&(m.c||m.s!==1)||m.lt(ie)))throw Error(o+"Argument "+(m.isInteger()?"out of range: ":"not an integer: ")+ge(m));if(!be)return new j(fe);for(O=new j(ie),A=L=new j(ie),J=y=new j(ie),te=E(be),ee=O.e=te.length-fe.e-1,O.c[0]=f[(k=ee%c)<0?c+k:k],B=!B||m.comparedTo(O)>0?ee>0?O:A:m,k=Z,Z=1/0,m=new j(te),y.c[0]=0;P=C(m,O,0,1),K=L.plus(P.times(J)),K.comparedTo(B)!=1;)L=J,J=K,A=y.plus(P.times(K=A)),y=K,O=m.minus(P.times(K=O)),m=K;return K=C(B.minus(L),J,0,1),y=y.plus(K.times(A)),L=L.plus(K.times(J)),y.s=A.s=fe.s,ee=ee*2,D=C(A,J,ee,z).minus(fe).abs().comparedTo(C(y,L,ee,z).minus(fe).abs())<1?[A,J]:[y,L],Z=k,D},H.toNumber=function(){return+ge(this)},H.toPrecision=function(B,O){return B!=null&&w(B,1,g),le(this,B,O,2)},H.toString=function(B){var O,L=this,J=L.s,K=L.e;return K===null?J?(O="Infinity",J<0&&(O="-"+O)):O="NaN":(B==null?O=K<=W||K>=V?R(E(L.c),K):N(E(L.c),K,"0"):B===10&&ae?(L=de(new j(L),oe+K+1,z),O=N(E(L.c),L.e,"0")):(w(B,2,ue.length,"Base"),O=I(N(E(L.c),K,"0"),10,B,J,!0)),J<0&&L.c[0]&&(O="-"+O)),O},H.valueOf=H.toJSON=function(){return ge(this)},H._isBigNumber=!0,F!=null&&j.set(F),j}function v(F){var C=F|0;return F>0||F===C?C:C-1}function E(F){for(var C,I,U=1,H=F.length,ie=F[0]+"";U<H;){for(C=F[U++]+"",I=c-C.length;I--;C="0"+C);ie+=C}for(H=ie.length;ie.charCodeAt(--H)===48;);return ie.slice(0,H+1||1)}function b(F,C){var I,U,H=F.c,ie=C.c,oe=F.s,z=C.s,W=F.e,V=C.e;if(!oe||!z)return null;if(I=H&&!H[0],U=ie&&!ie[0],I||U)return I?U?0:-z:oe;if(oe!=z)return oe;if(I=oe<0,U=W==V,!H||!ie)return U?0:!H^I?1:-1;if(!U)return W>V^I?1:-1;for(z=(W=H.length)<(V=ie.length)?W:V,oe=0;oe<z;oe++)if(H[oe]!=ie[oe])return H[oe]>ie[oe]^I?1:-1;return W==V?0:W>V^I?1:-1}function w(F,C,I,U){if(F<C||F>I||F!==s(F))throw Error(o+(U||"Argument")+(typeof F=="number"?F<C||F>I?" out of range: ":" not an integer: ":" not a primitive number: ")+String(F))}function S(F){var C=F.c.length-1;return v(F.e/c)==C&&F.c[C]%2!=0}function R(F,C){return(F.length>1?F.charAt(0)+"."+F.slice(1):F)+(C<0?"e":"e+")+C}function N(F,C,I){var U,H;if(C<0){for(H=I+".";++C;H+=I);F=H+F}else if(U=F.length,++C>U){for(H=I,C-=U;--C;H+=I);F+=H}else C<U&&(F=F.slice(0,C)+"."+F.slice(C));return F}n=p(),n.default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(Eo)})(O_);var $d=O_.exports,R4=function(e,n,r){var i=new e.Uint8Array(r),s=n.pushInt,o=n.pushInt32,a=n.pushInt32Neg,l=n.pushInt64,c=n.pushInt64Neg,d=n.pushFloat,f=n.pushFloatSingle,h=n.pushFloatDouble,g=n.pushTrue,p=n.pushFalse,v=n.pushUndefined,E=n.pushNull,b=n.pushInfinity,w=n.pushInfinityNeg,S=n.pushNaN,R=n.pushNaNNeg,N=n.pushArrayStart,F=n.pushArrayStartFixed,C=n.pushArrayStartFixed32,I=n.pushArrayStartFixed64,U=n.pushObjectStart,H=n.pushObjectStartFixed,ie=n.pushObjectStartFixed32,oe=n.pushObjectStartFixed64,z=n.pushByteString,W=n.pushByteStringStart,V=n.pushUtf8String,Q=n.pushUtf8StringStart,Z=n.pushSimpleUnassigned,G=n.pushTagStart,Y=n.pushTagStart4,ce=n.pushTagStart8,se=n.pushTagUnassigned,ue=n.pushBreak,ae=e.Math.pow,j=0,le=0,he=0;function me(q){for(q=q|0,j=0,le=q;(j|0)<(le|0)&&(he=eE[i[j]&255](i[j]|0)|0,!((he|0)>0)););return he|0}function de(q){return q=q|0,((j|0)+(q|0)|0)<(le|0)?0:1}function ge(q){return q=q|0,i[q|0]<<8|i[q+1|0]|0}function B(q){return q=q|0,i[q|0]<<24|i[q+1|0]<<16|i[q+2|0]<<8|i[q+3|0]|0}function O(q){return q=q|0,s(q|0),j=j+1|0,0}function L(q){return q=q|0,de(1)|0?1:(s(i[j+1|0]|0),j=j+2|0,0)}function J(q){return q=q|0,de(2)|0?1:(s(ge(j+1|0)|0),j=j+3|0,0)}function K(q){return q=q|0,de(4)|0?1:(o(ge(j+1|0)|0,ge(j+3|0)|0),j=j+5|0,0)}function ee(q){return q=q|0,de(8)|0?1:(l(ge(j+1|0)|0,ge(j+3|0)|0,ge(j+5|0)|0,ge(j+7|0)|0),j=j+9|0,0)}function k(q){return q=q|0,s(-1-(q-32|0)|0),j=j+1|0,0}function m(q){return q=q|0,de(1)|0?1:(s(-1-(i[j+1|0]|0)|0),j=j+2|0,0)}function y(q){q=q|0;var Ue=0;return de(2)|0?1:(Ue=ge(j+1|0)|0,s(-1-(Ue|0)|0),j=j+3|0,0)}function A(q){return q=q|0,de(4)|0?1:(a(ge(j+1|0)|0,ge(j+3|0)|0),j=j+5|0,0)}function P(q){return q=q|0,de(8)|0?1:(c(ge(j+1|0)|0,ge(j+3|0)|0,ge(j+5|0)|0,ge(j+7|0)|0),j=j+9|0,0)}function D(q){q=q|0;var Ue=0,ze=0,Me=0;return Me=q-64|0,de(Me|0)|0?1:(Ue=j+1|0,ze=(j+1|0)+(Me|0)|0,z(Ue|0,ze|0),j=ze|0,0)}function te(q){q=q|0;var Ue=0,ze=0,Me=0;return de(1)|0||(Me=i[j+1|0]|0,Ue=j+2|0,ze=(j+2|0)+(Me|0)|0,de(Me+1|0)|0)?1:(z(Ue|0,ze|0),j=ze|0,0)}function fe(q){q=q|0;var Ue=0,ze=0,Me=0;return de(2)|0||(Me=ge(j+1|0)|0,Ue=j+3|0,ze=(j+3|0)+(Me|0)|0,de(Me+2|0)|0)?1:(z(Ue|0,ze|0),j=ze|0,0)}function be(q){q=q|0;var Ue=0,ze=0,Me=0;return de(4)|0||(Me=B(j+1|0)|0,Ue=j+5|0,ze=(j+5|0)+(Me|0)|0,de(Me+4|0)|0)?1:(z(Ue|0,ze|0),j=ze|0,0)}function _e(q){return q=q|0,1}function Ae(q){return q=q|0,W(),j=j+1|0,0}function T(q){q=q|0;var Ue=0,ze=0,Me=0;return Me=q-96|0,de(Me|0)|0?1:(Ue=j+1|0,ze=(j+1|0)+(Me|0)|0,V(Ue|0,ze|0),j=ze|0,0)}function x(q){q=q|0;var Ue=0,ze=0,Me=0;return de(1)|0||(Me=i[j+1|0]|0,Ue=j+2|0,ze=(j+2|0)+(Me|0)|0,de(Me+1|0)|0)?1:(V(Ue|0,ze|0),j=ze|0,0)}function _(q){q=q|0;var Ue=0,ze=0,Me=0;return de(2)|0||(Me=ge(j+1|0)|0,Ue=j+3|0,ze=(j+3|0)+(Me|0)|0,de(Me+2|0)|0)?1:(V(Ue|0,ze|0),j=ze|0,0)}function M(q){q=q|0;var Ue=0,ze=0,Me=0;return de(4)|0||(Me=B(j+1|0)|0,Ue=j+5|0,ze=(j+5|0)+(Me|0)|0,de(Me+4|0)|0)?1:(V(Ue|0,ze|0),j=ze|0,0)}function X(q){return q=q|0,1}function re(q){return q=q|0,Q(),j=j+1|0,0}function ne(q){return q=q|0,F(q-128|0),j=j+1|0,0}function Te(q){return q=q|0,de(1)|0?1:(F(i[j+1|0]|0),j=j+2|0,0)}function Oe(q){return q=q|0,de(2)|0?1:(F(ge(j+1|0)|0),j=j+3|0,0)}function Ce(q){return q=q|0,de(4)|0?1:(C(ge(j+1|0)|0,ge(j+3|0)|0),j=j+5|0,0)}function Ne(q){return q=q|0,de(8)|0?1:(I(ge(j+1|0)|0,ge(j+3|0)|0,ge(j+5|0)|0,ge(j+7|0)|0),j=j+9|0,0)}function Ve(q){return q=q|0,N(),j=j+1|0,0}function Qe(q){q=q|0;var Ue=0;return Ue=q-160|0,de(Ue|0)|0?1:(H(Ue|0),j=j+1|0,0)}function Qd(q){return q=q|0,de(1)|0?1:(H(i[j+1|0]|0),j=j+2|0,0)}function Jd(q){return q=q|0,de(2)|0?1:(H(ge(j+1|0)|0),j=j+3|0,0)}function ef(q){return q=q|0,de(4)|0?1:(ie(ge(j+1|0)|0,ge(j+3|0)|0),j=j+5|0,0)}function z2(q){return q=q|0,de(8)|0?1:(oe(ge(j+1|0)|0,ge(j+3|0)|0,ge(j+5|0)|0,ge(j+7|0)|0),j=j+9|0,0)}function L2(q){return q=q|0,U(),j=j+1|0,0}function Fs(q){return q=q|0,G(q-192|0|0),j=j+1|0,0}function jB(q){return q=q|0,G(q|0),j=j+1|0,0}function CB(q){return q=q|0,G(q|0),j=j+1|0,0}function BB(q){return q=q|0,G(q|0),j=j+1|0,0}function RB(q){return q=q|0,G(q|0),j=j+1|0,0}function jt(q){return q=q|0,G(q-192|0|0),j=j+1|0,0}function PB(q){return q=q|0,G(q|0),j=j+1|0,0}function OB(q){return q=q|0,G(q|0),j=j+1|0,0}function FB(q){return q=q|0,G(q|0),j=j+1|0,0}function $2(q){return q=q|0,de(1)|0?1:(G(i[j+1|0]|0),j=j+2|0,0)}function D2(q){return q=q|0,de(2)|0?1:(G(ge(j+1|0)|0),j=j+3|0,0)}function V2(q){return q=q|0,de(4)|0?1:(Y(ge(j+1|0)|0,ge(j+3|0)|0),j=j+5|0,0)}function H2(q){return q=q|0,de(8)|0?1:(ce(ge(j+1|0)|0,ge(j+3|0)|0,ge(j+5|0)|0,ge(j+7|0)|0),j=j+9|0,0)}function bt(q){return q=q|0,Z((q|0)-224|0),j=j+1|0,0}function W2(q){return q=q|0,p(),j=j+1|0,0}function q2(q){return q=q|0,g(),j=j+1|0,0}function G2(q){return q=q|0,E(),j=j+1|0,0}function K2(q){return q=q|0,v(),j=j+1|0,0}function Y2(q){return q=q|0,de(1)|0?1:(Z(i[j+1|0]|0),j=j+2|0,0)}function X2(q){q=q|0;var Ue=0,ze=0,Me=1,Ll=0,qo=0,MB=0;return de(2)|0?1:(Ue=i[j+1|0]|0,ze=i[j+2|0]|0,(Ue|0)&128&&(Me=-1),Ll=+(((Ue|0)&124)>>2),qo=+(((Ue|0)&3)<<8|ze),+Ll==0?d(+(+Me*5960464477539063e-23*+qo)):+Ll==31?+Me==1?+qo>0?S():b():+qo>0?R():w():d(+(+Me*ae(2,+(+Ll-25))*+(1024+qo))),j=j+3|0,0)}function Z2(q){return q=q|0,de(4)|0?1:(f(i[j+1|0]|0,i[j+2|0]|0,i[j+3|0]|0,i[j+4|0]|0),j=j+5|0,0)}function Q2(q){return q=q|0,de(8)|0?1:(h(i[j+1|0]|0,i[j+2|0]|0,i[j+3|0]|0,i[j+4|0]|0,i[j+5|0]|0,i[j+6|0]|0,i[j+7|0]|0,i[j+8|0]|0),j=j+9|0,0)}function Xe(q){return q=q|0,1}function J2(q){return q=q|0,ue(),j=j+1|0,0}var eE=[O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,L,J,K,ee,Xe,Xe,Xe,Xe,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,m,y,A,P,Xe,Xe,Xe,Xe,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,te,fe,be,_e,Xe,Xe,Xe,Ae,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,x,_,M,X,Xe,Xe,Xe,re,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,Te,Oe,Ce,Ne,Xe,Xe,Xe,Ve,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qe,Qd,Jd,ef,z2,Xe,Xe,Xe,L2,Fs,Fs,Fs,Fs,Fs,Fs,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,jt,$2,D2,V2,H2,Xe,Xe,Xe,Xe,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,W2,q2,G2,K2,Y2,X2,Z2,Q2,Xe,Xe,Xe,J2];return{parse:me}},Dd={},Yt={};const tg=$d.BigNumber;Yt.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Yt.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Yt.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Yt.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Yt.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Yt.SHIFT32=Math.pow(2,32);Yt.SHIFT16=Math.pow(2,16);Yt.MAX_SAFE_HIGH=2097151;Yt.NEG_ONE=new tg(-1);Yt.TEN=new tg(10);Yt.TWO=new tg(2);Yt.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(t){const{Buffer:e}=Pl,n=$d.BigNumber,r=Yt,i=r.SHIFT32,s=r.SHIFT16,o=2097151;t.parseHalf=function(c){var d,f,h;return h=c[0]&128?-1:1,d=(c[0]&124)>>2,f=(c[0]&3)<<8|c[1],d?d===31?h*(f?NaN:1/0):h*Math.pow(2,d-25)*(1024+f):h*5960464477539063e-23*f};function a(l){return l<16?"0"+l.toString(16):l.toString(16)}t.arrayBufferToBignumber=function(l){const c=l.byteLength;let d="";for(let f=0;f<c;f++)d+=a(l[f]);return new n(d,16)},t.buildMap=l=>{const c=new Map,d=Object.keys(l),f=d.length;for(let h=0;h<f;h++)c.set(d[h],l[d[h]]);return c},t.buildInt32=(l,c)=>l*s+c,t.buildInt64=(l,c,d,f)=>{const h=t.buildInt32(l,c),g=t.buildInt32(d,f);return h>o?new n(h).times(i).plus(g):h*i+g},t.writeHalf=function(c,d){const f=e.allocUnsafe(4);f.writeFloatBE(d,0);const h=f.readUInt32BE(0);if(h&8191)return!1;var g=h>>16&32768;const p=h>>23&255,v=h&8388607;if(p>=113&&p<=142)g+=(p-112<<10)+(v>>13);else if(p>=103&&p<113){if(v&(1<<126-p)-1)return!1;g+=v+8388608>>126-p}else return!1;return c.writeUInt16BE(g,0),!0},t.keySorter=function(l,c){var d=l[0].byteLength,f=c[0].byteLength;return d>f?1:f>d?-1:l[0].compare(c[0])},t.isNegativeZero=l=>l===0&&1/l<0,t.nextPowerOf2=l=>{let c=0;if(l&&!(l&l-1))return l;for(;l!==0;)l>>=1,c+=1;return 1<<c}})(Dd);const ng=Yt,P4=ng.MT,oc=ng.SIMPLE,Pf=ng.SYMS;let O4=class d0{constructor(e){if(typeof e!="number")throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(e|0)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,P4.SIMPLE_FLOAT)}static isSimple(e){return e instanceof d0}static decode(e,n){switch(n==null&&(n=!0),e){case oc.FALSE:return!1;case oc.TRUE:return!0;case oc.NULL:return n?null:Pf.NULL;case oc.UNDEFINED:return n?void 0:Pf.UNDEFINED;case-1:if(!n)throw new Error("Invalid BREAK");return Pf.BREAK;default:return new d0(e)}}};var F_=O4;let F4=class f0{constructor(e,n,r){if(this.tag=e,this.value=n,this.err=r,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var n,r;if(r=e!=null?e[this.tag]:void 0,typeof r!="function"&&(r=f0["_tag"+this.tag],typeof r!="function"))return this;try{return r.call(f0,this.value)}catch(i){return n=i,this.err=n,this}}};var M_=F4;const I_=self.location?self.location.protocol+"//"+self.location.host:"",h0=self.URL;let M4=class{constructor(e="",n=I_){this.super=new h0(e,n),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function I4(t){if(typeof t=="string")return new h0(t).toString();if(!(t instanceof h0)){const e=t.username&&t.password?`${t.username}:${t.password}@`:"",n=t.auth?t.auth+"@":"",r=t.port?":"+t.port:"",i=t.protocol?t.protocol+"//":"",s=t.host||"",o=t.hostname||"",a=t.search||(t.query?"?"+t.query:""),l=t.hash||"",c=t.pathname||"",d=t.path||c+a;return`${i}${e||n}${s||o+r}${d}${l}`}}var U_={URLWithLegacySupport:M4,URLSearchParams:self.URLSearchParams,defaultBase:I_,format:I4};const{URLWithLegacySupport:ty,format:U4}=U_;var z4=(t,e={},n={},r)=>{let i=e.protocol?e.protocol.replace(":",""):"http";i=(n[i]||r||i)+":";let s;try{s=new ty(t)}catch{s={}}const o=Object.assign({},e,{protocol:i||s.protocol,host:e.host||s.host});return new ty(t,U4(o)).toString()};const{URLWithLegacySupport:L4,format:$4,URLSearchParams:D4,defaultBase:V4}=U_,H4=z4;var z_={URL:L4,URLSearchParams:D4,format:$4,relative:H4,defaultBase:V4};const{Buffer:zs}=Pl,ny=Bl,W4=$d.BigNumber,q4=R4,Xt=Dd,Ye=Yt,G4=F_,K4=M_,{URL:Y4}=z_;let p0=class g0{constructor(e){e=e||{},!e.size||e.size<65536?e.size=65536:e.size=Xt.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=zs.from(this._heap),this._reset(),this._knownTags=Object.assign({0:n=>new Date(n),1:n=>new Date(n*1e3),2:n=>Xt.arrayBufferToBignumber(n),3:n=>Ye.NEG_ONE.minus(Xt.arrayBufferToBignumber(n)),4:n=>Ye.TEN.pow(n[0]).times(n[1]),5:n=>Ye.TWO.pow(n[0]).times(n[1]),32:n=>new Y4(n),35:n=>new RegExp(n)},e.tags),this.parser=q4(Eo,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case Ye.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case Ye.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case Ye.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case Ye.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case Ye.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case Ye.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length));break}this._currentParent&&this._currentParent.type===Ye.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,e.length===0&&this._closeParent())}_push(e,n){const r=this._currentParent;switch(r.values++,r.type){case Ye.PARENT.ARRAY:case Ye.PARENT.BYTE_STRING:case Ye.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=e:this._ref.push(e),this._dec();break;case Ye.PARENT.OBJECT:r.tmpKey!=null?(this._ref[r.tmpKey]=e,r.tmpKey=null,this._dec()):(r.tmpKey=e,typeof r.tmpKey!="string"&&(r.type=Ye.PARENT.MAP,r.ref=Xt.buildMap(r.ref)));break;case Ye.PARENT.MAP:r.tmpKey!=null?(this._ref.set(r.tmpKey,e),r.tmpKey=null,this._dec()):r.tmpKey=e;break;case Ye.PARENT.TAG:this._ref.push(e),n||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,n,r){this._parents[this._depth]={type:n,length:r,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Ye.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,n){const r=this._knownTags[e];return r?r(n):new K4(e,n)}createMap(e,n){return e}createObject(e,n){return e}createArray(e,n){return e}createByteString(e,n){return zs.concat(e)}createByteStringFromHeap(e,n){return e===n?zs.alloc(0):zs.from(this._heap.slice(e,n))}createInt(e){return e}createInt32(e,n){return Xt.buildInt32(e,n)}createInt64(e,n,r,i){return Xt.buildInt64(e,n,r,i)}createFloat(e){return e}createFloatSingle(e,n,r,i){return ny.read([e,n,r,i],0,!1,23,4)}createFloatDouble(e,n,r,i,s,o,a,l){return ny.read([e,n,r,i,s,o,a,l],0,!1,52,8)}createInt32Neg(e,n){return-1-Xt.buildInt32(e,n)}createInt64Neg(e,n,r,i){const s=Xt.buildInt32(e,n),o=Xt.buildInt32(r,i);return s>Ye.MAX_SAFE_HIGH?Ye.NEG_ONE.minus(new W4(s).times(Ye.SHIFT32).plus(o)):-1-(s*Ye.SHIFT32+o)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,n){return e.join("")}createUtf8StringFromHeap(e,n){return e===n?"":this._buffer.toString("utf8",e,n)}createSimpleUnassigned(e){return new G4(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,n){this._push(this.createInt32(e,n))}pushInt64(e,n,r,i){this._push(this.createInt64(e,n,r,i))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,n,r,i){this._push(this.createFloatSingle(e,n,r,i))}pushFloatDouble(e,n,r,i,s,o,a,l){this._push(this.createFloatDouble(e,n,r,i,s,o,a,l))}pushInt32Neg(e,n){this._push(this.createInt32Neg(e,n))}pushInt64Neg(e,n,r,i){this._push(this.createInt64Neg(e,n,r,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Ye.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,n){const r=Xt.buildInt32(e,n);this._createArrayStartFixed(r)}pushArrayStartFixed64(e,n,r,i){const s=Xt.buildInt64(e,n,r,i);this._createArrayStartFixed(s)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,n){const r=Xt.buildInt32(e,n);this._createObjectStartFixed(r)}pushObjectStartFixed64(e,n,r,i){const s=Xt.buildInt64(e,n,r,i);this._createObjectStartFixed(s)}pushByteStringStart(){this._parents[this._depth]={type:Ye.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,n){this._push(this.createByteStringFromHeap(e,n))}pushUtf8StringStart(){this._parents[this._depth]={type:Ye.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,n){this._push(this.createUtf8StringFromHeap(e,n))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:Ye.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,n){this.pushTagStart(Xt.buildInt32(e,n))}pushTagStart8(e,n,r,i){this.pushTagStart(Xt.buildInt64(e,n,r,i))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){if(e===0){this._push(this.createObject({}));return}this._createParent({},Ye.PARENT.OBJECT,e)}_createArrayStartFixed(e){if(e===0){this._push(this.createArray([]));return}this._createParent(new Array(e),Ye.PARENT.ARRAY,e)}_decode(e){if(e.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(e);const n=this.parser.parse(e.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(n>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,n){return typeof e=="string"&&(e=zs.from(e,n||"hex")),new g0({size:e.length}).decodeFirst(e)}static decodeAll(e,n){return typeof e=="string"&&(e=zs.from(e,n||"hex")),new g0({size:e.length}).decodeAll(e)}};p0.decodeFirst=p0.decode;var L_=p0;const{Buffer:Of}=Pl,X4=L_,Z4=Dd;class rg extends X4{createTag(e,n){return`${e}(${n})`}createInt(e){return super.createInt(e).toString()}createInt32(e,n){return super.createInt32(e,n).toString()}createInt64(e,n,r,i){return super.createInt64(e,n,r,i).toString()}createInt32Neg(e,n){return super.createInt32Neg(e,n).toString()}createInt64Neg(e,n,r,i){return super.createInt64Neg(e,n,r,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const n=super.createFloat(e);return Z4.isNegativeZero(e)?"-0_1":`${n}_1`}createFloatSingle(e,n,r,i){return`${super.createFloatSingle(e,n,r,i)}_2`}createFloatDouble(e,n,r,i,s,o,a,l){return`${super.createFloatDouble(e,n,r,i,s,o,a,l)}_3`}createByteString(e,n){const r=e.join(", ");return n===-1?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(e,n){return`h'${Of.from(super.createByteStringFromHeap(e,n)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,n){const r=super.createArray(e,n);return n===-1?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(e,n){const r=super.createMap(e),i=Array.from(r.keys()).reduce(ry(r),"");return n===-1?`{_ ${i}}`:`{${i}}`}createObject(e,n){const r=super.createObject(e),i=Object.keys(r).reduce(ry(r),"");return n===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(e,n){const r=e.join(", ");return n===-1?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(e,n){return`"${Of.from(super.createUtf8StringFromHeap(e,n)).toString("utf8")}"`}static diagnose(e,n){return typeof e=="string"&&(e=Of.from(e,n||"hex")),new rg().decodeFirst(e)}}var Q4=rg;function ry(t){return(e,n)=>e?`${e}, ${n}: ${t[n]}`:`${n}: ${t[n]}`}const{Buffer:yr}=Pl,{URL:J4}=z_,m0=$d.BigNumber,Ff=Dd,At=Yt,Vn=At.MT,ac=At.NUMBYTES,iy=At.SHIFT32,sy=At.SYMS,Ls=At.TAG,e3=At.MT.SIMPLE_FLOAT<<5|At.NUMBYTES.TWO,t3=At.MT.SIMPLE_FLOAT<<5|At.NUMBYTES.FOUR,n3=At.MT.SIMPLE_FLOAT<<5|At.NUMBYTES.EIGHT,r3=At.MT.SIMPLE_FLOAT<<5|At.SIMPLE.TRUE,i3=At.MT.SIMPLE_FLOAT<<5|At.SIMPLE.FALSE,s3=At.MT.SIMPLE_FLOAT<<5|At.SIMPLE.UNDEFINED,oy=At.MT.SIMPLE_FLOAT<<5|At.SIMPLE.NULL,o3=new m0("0x20000000000000"),a3=yr.from("f97e00","hex"),l3=yr.from("f9fc00","hex"),c3=yr.from("f97c00","hex");function u3(t){return{}.toString.call(t).slice(8,-1)}class Qu{constructor(e){e=e||{},this.streaming=typeof e.stream=="function",this.onData=e.stream,this.semanticTypes=[[J4,this._pushUrl],[m0,this._pushBigNumber]];const n=e.genTypes||[],r=n.length;for(let i=0;i<r;i++)this.addSemanticType(n[i][0],n[i][1]);this._reset()}addSemanticType(e,n){const r=this.semanticTypes.length;for(let i=0;i<r;i++)if(this.semanticTypes[i][0]===e){const o=this.semanticTypes[i][1];return this.semanticTypes[i][1]=n,o}return this.semanticTypes.push([e,n]),null}push(e){return e&&(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(e,n,r){return this.result[this.offset]=e,this.resultMethod[this.offset]=n,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(a3)}_pushInfinity(e){const n=e<0?l3:c3;return this.push(n)}_pushFloat(e){const n=yr.allocUnsafe(2);if(Ff.writeHalf(n,e)&&Ff.parseHalf(n)===e)return this._pushUInt8(e3)&&this.push(n);const r=yr.allocUnsafe(4);return r.writeFloatBE(e,0),r.readFloatBE(0)===e?this._pushUInt8(t3)&&this.push(r):this._pushUInt8(n3)&&this._pushDoubleBE(e)}_pushInt(e,n,r){const i=n<<5;return e<24?this._pushUInt8(i|e):e<=255?this._pushUInt8(i|ac.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(i|ac.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(i|ac.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|ac.EIGHT)&&this._pushUInt32BE(Math.floor(e/iy))&&this._pushUInt32BE(e%iy):n===Vn.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,Vn.NEG_INT,e):this._pushInt(e,Vn.POS_INT)}_pushNumber(e){switch(!1){case e===e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!==0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const n=yr.byteLength(e,"utf8");return this._pushInt(n,Vn.UTF8_STRING)&&this.pushWrite(e,5,n)}_pushBoolean(e){return this._pushUInt8(e?r3:i3)}_pushUndefined(e){return this._pushUInt8(s3)}_pushArray(e,n){const r=n.length;if(!e._pushInt(r,Vn.ARRAY))return!1;for(let i=0;i<r;i++)if(!e.pushAny(n[i]))return!1;return!0}_pushTag(e){return this._pushInt(e,Vn.TAG)}_pushDate(e,n){return e._pushTag(Ls.DATE_EPOCH)&&e.pushAny(Math.round(n/1e3))}_pushBuffer(e,n){return e._pushInt(n.length,Vn.BYTE_STRING)&&e.push(n)}_pushNoFilter(e,n){return e._pushBuffer(e,n.slice())}_pushRegexp(e,n){return e._pushTag(Ls.REGEXP)&&e.pushAny(n.source)}_pushSet(e,n){if(!e._pushInt(n.size,Vn.ARRAY))return!1;for(const r of n)if(!e.pushAny(r))return!1;return!0}_pushUrl(e,n){return e._pushTag(Ls.URI)&&e.pushAny(n.format())}_pushBigint(e){let n=Ls.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),n=Ls.NEG_BIGINT);let r=e.toString(16);r.length%2&&(r="0"+r);const i=yr.from(r,"hex");return this._pushTag(n)&&this._pushBuffer(this,i)}_pushBigNumber(e,n){if(n.isNaN())return e._pushNaN();if(!n.isFinite())return e._pushInfinity(n.isNegative()?-1/0:1/0);if(n.isInteger())return e._pushBigint(n);if(!(e._pushTag(Ls.DECIMAL_FRAC)&&e._pushInt(2,Vn.ARRAY)))return!1;const r=n.decimalPlaces(),i=n.multipliedBy(new m0(10).pow(r));return e._pushIntNum(-r)?i.abs().isLessThan(o3)?e._pushIntNum(i.toNumber()):e._pushBigint(i):!1}_pushMap(e,n){return e._pushInt(n.size,Vn.MAP)?this._pushRawMap(n.size,Array.from(n)):!1}_pushObject(e){if(!e)return this._pushUInt8(oy);for(var n=this.semanticTypes.length,r=0;r<n;r++)if(e instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(e,this,e);var i=e.encodeCBOR;if(typeof i=="function")return i.call(e,this);var s=Object.keys(e),o=s.length;return this._pushInt(o,Vn.MAP)?this._pushRawMap(o,s.map(a=>[a,e[a]])):!1}_pushRawMap(e,n){n=n.map(function(i){return i[0]=Qu.encode(i[0]),i}).sort(Ff.keySorter);for(var r=0;r<e;r++)if(!this.push(n[r][0])||!this.pushAny(n[r][1]))return!1;return!0}write(e){return this.pushAny(e)}pushAny(e){var n=u3(e);switch(n){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,yr.isBuffer(e)?e:yr.from(e));case"Null":return this._pushUInt8(oy);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case sy.NULL:return this._pushObject(null);case sy.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(this.offset===0)return null;for(var e=this.result,n=this.resultLength,r=this.resultMethod,i=this.offset,s=0,o=0;o<i;o++)s+=n[o];var a=yr.allocUnsafe(s),l=0,c=0;for(o=0;o<i;o++){switch(c=n[o],r[o]){case 0:e[o].copy(a,l);break;case 1:a.writeUInt8(e[o],l,!0);break;case 2:a.writeUInt16BE(e[o],l,!0);break;case 3:a.writeUInt32BE(e[o],l,!0);break;case 4:a.writeDoubleBE(e[o],l,!0);break;case 5:a.write(e[o],l,c,"utf8");break;default:throw new Error("unkown method")}l+=c}var d=a;return this._reset(),d}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const n=new Qu;if(!n.pushAny(e))throw new Error("Failed to encode input");return n.finalize()}}var d3=Qu;(function(t){t.Diagnose=Q4,t.Decoder=L_,t.Encoder=d3,t.Simple=F_,t.Tagged=M_,t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.decode=t.Decoder.decode,t.leveldb={decode:t.Decoder.decodeAll,encode:t.Encoder.encode,buffer:!0,name:"cbor"}})(P_);const $_=fb(P_);function Qn(t){return Fa(Xp.create().update(new Uint8Array(t)).digest())}function Gc(t){if(t instanceof $_.Tagged)return Gc(t.value);if(typeof t=="string")return D_(t);if(typeof t=="number")return Qn(ht(t));if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))return Qn(t);if(Array.isArray(t)){const e=t.map(Gc);return Qn(tr(...e))}else{if(t&&typeof t=="object"&&t._isPrincipal)return Qn(t.toUint8Array());if(typeof t=="object"&&t!==null&&typeof t.toHash=="function")return Gc(t.toHash());if(typeof t=="object")return Ju(t);if(typeof t=="bigint")return Qn(ht(t))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${t}`),{value:t})}const D_=t=>{const e=new TextEncoder().encode(t);return Qn(e)};function ul(t){return Ju(t)}function Ju(t){const r=Object.entries(t).filter(([,o])=>o!==void 0).map(([o,a])=>{const l=D_(o),c=Gc(a);return[l,c]}).sort(([o],[a])=>G1(o,a)),i=tr(...r.map(o=>tr(...o)));return Qn(i)}var f3=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const h3=new TextEncoder().encode(`
ic-request`);class ig{getPrincipal(){return this._principal||(this._principal=Re.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(e){const{body:n}=e,r=f3(e,["body"]),i=ul(n);return Object.assign(Object.assign({},r),{body:{content:n,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(tr(h3,i))}})}}class y0{getPrincipal(){return Re.anonymous()}async transformRequest(e){return Object.assign(Object.assign({},e),{body:{content:e.body}})}}var fn={},Ho={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});const p3=9007199254740992;function ti(t,...e){const n=new Uint8Array(t.byteLength+e.reduce((i,s)=>i+s.byteLength,0));n.set(new Uint8Array(t),0);let r=t.byteLength;for(const i of e)n.set(new Uint8Array(i),r),r+=i.byteLength;return n.buffer}function ir(t,e,n){n=n.replace(/[^0-9a-fA-F]/g,"");const r=2**(e-24);n=n.slice(-r*2).padStart(r*2,"0");const i=[(t<<5)+e].concat(n.match(/../g).map(s=>parseInt(s,16)));return new Uint8Array(i).buffer}function Vd(t,e){if(e<24)return new Uint8Array([(t<<5)+e]).buffer;{const n=e<=255?24:e<=65535?25:e<=4294967295?26:27;return ir(t,n,e.toString(16))}}function V_(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|r&63):r<55296||r>=57344?e.push(224|r>>12,128|r>>6&63,128|r&63):(n++,r=(r&1023)<<10|t.charCodeAt(n)&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63))}return ti(new Uint8Array(Vd(3,t.length)),new Uint8Array(e))}function g3(t,e){if(t==14277111)return ti(new Uint8Array([217,217,247]),e);if(t<24)return ti(new Uint8Array([192+t]),e);{const n=t<=255?24:t<=65535?25:t<=4294967295?26:27,r=2**(n-24),i=t.toString(16).slice(-r*2).padStart(r*2,"0"),s=[192+n].concat(i.match(/../g).map(o=>parseInt(o,16)));return new Uint8Array(s).buffer}}Ze.tagged=g3;function Ol(t){return new Uint8Array(t).buffer}Ze.raw=Ol;function sg(t){if(isNaN(t))throw new RangeError("Invalid number.");t=Math.min(Math.max(0,t),23);const e=[0+t];return new Uint8Array(e).buffer}Ze.uSmall=sg;function H_(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),255),t=t.toString(16),ir(0,24,t)}Ze.u8=H_;function W_(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),65535),t=t.toString(16),ir(0,25,t)}Ze.u16=W_;function q_(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),4294967295),t=t.toString(16),ir(0,26,t)}Ze.u32=q_;function og(t,e){if(typeof t=="string"&&e==16){if(t.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return ir(0,27,t)}if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,t),p3),t=t.toString(16),ir(0,27,t)}Ze.u64=og;function G_(t){if(isNaN(t))throw new RangeError("Invalid number.");if(t===0)return sg(0);t=Math.min(Math.max(0,-t),24)-1;const e=[32+t];return new Uint8Array(e).buffer}Ze.iSmall=G_;function K_(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),255),t=t.toString(16),ir(1,24,t)}Ze.i8=K_;function Y_(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),65535),t=t.toString(16),ir(1,25,t)}Ze.i16=Y_;function X_(t,e){if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),4294967295),t=t.toString(16),ir(1,26,t)}Ze.i32=X_;function Z_(t,e){if(typeof t=="string"&&e==16){if(t.startsWith("-")?t=t.slice(1):t="0",t.match(/[^0-9a-fA-F]/)||t.length>16)throw new RangeError("Invalid number.");let n=!1,r=t.split("").reduceRight((i,s)=>{if(n)return s+i;let o=parseInt(s,16)-1;return o>=0?(n=!0,o.toString(16)+i):"f"+i},"");return n?ir(1,27,r):og(0)}if(t=parseInt(""+t,e),isNaN(t))throw new RangeError("Invalid number.");return t=Math.min(Math.max(0,-t-1),9007199254740992),t=t.toString(16),ir(1,27,t)}Ze.i64=Z_;function m3(t){return t>=0?t<24?sg(t):t<=255?H_(t):t<=65535?W_(t):t<=4294967295?q_(t):og(t):t>=-24?G_(t):t>=-255?K_(t):t>=-65535?Y_(t):t>=-4294967295?X_(t):Z_(t)}Ze.number=m3;function y3(t){return ti(Vd(2,t.byteLength),t)}Ze.bytes=y3;function x3(t){return V_(t)}Ze.string=x3;function b3(t){return ti(Vd(4,t.length),...t)}Ze.array=b3;function w3(t,e=!1){t instanceof Map||(t=new Map(Object.entries(t)));let n=Array.from(t.entries());return e&&(n=n.sort(([r],[i])=>r.localeCompare(i))),ti(Vd(5,t.size),...n.map(([r,i])=>ti(V_(r),i)))}Ze.map=w3;function _3(t){const e=new Float32Array([t]);return ti(new Uint8Array([250]),new Uint8Array(e.buffer))}Ze.singleFloat=_3;function v3(t){const e=new Float64Array([t]);return ti(new Uint8Array([251]),new Uint8Array(e.buffer))}Ze.doubleFloat=v3;function E3(t){return t?Q_():J_()}Ze.bool=E3;function Q_(){return Ol(new Uint8Array([245]))}Ze.true_=Q_;function J_(){return Ol(new Uint8Array([244]))}Ze.false_=J_;function S3(){return Ol(new Uint8Array([246]))}Ze.null_=S3;function k3(){return Ol(new Uint8Array([247]))}Ze.undefined_=k3;var N3=Eo&&Eo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(Ho,"__esModule",{value:!0});const Wn=N3(Ze),T3=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class ev{constructor(e,n=!1){this._serializer=e,this._stable=n,this.name="jsonDefault",this.priority=-100}match(e){return["undefined","boolean","number","string","object"].indexOf(typeof e)!=-1}encode(e){switch(typeof e){case"undefined":return Wn.undefined_();case"boolean":return Wn.bool(e);case"number":return Math.floor(e)===e?Wn.number(e):Wn.doubleFloat(e);case"string":return Wn.string(e);case"object":if(e===null)return Wn.null_();if(Array.isArray(e))return Wn.array(e.map(n=>this._serializer.serializeValue(n)));if(T3.find(n=>e instanceof n))return Wn.bytes(e.buffer);if(Object.getOwnPropertyNames(e).indexOf("toJSON")!==-1)return this.encode(e.toJSON());if(e instanceof Map){const n=new Map;for(const[r,i]of e.entries())n.set(r,this._serializer.serializeValue(i));return Wn.map(n,this._stable)}else{const n=new Map;for(const[r,i]of Object.entries(e))n.set(r,this._serializer.serializeValue(i));return Wn.map(n,this._stable)}default:throw new Error("Invalid value.")}}}Ho.JsonDefaultCborEncoder=ev;class tv{constructor(){this.name="cborEncoder",this.priority=-90}match(e){return typeof e=="object"&&typeof e.toCBOR=="function"}encode(e){return e.toCBOR()}}Ho.ToCborEncoder=tv;class nv{constructor(){this._encoders=new Set}static withDefaultEncoders(e=!1){const n=new this;return n.addEncoder(new ev(n,e)),n.addEncoder(new tv),n}removeEncoder(e){for(const n of this._encoders.values())n.name==e&&this._encoders.delete(n)}addEncoder(e){this._encoders.add(e)}getEncoderFor(e){let n=null;for(const r of this._encoders)(!n||r.priority>n.priority)&&r.match(e)&&(n=r);if(n===null)throw new Error("Could not find an encoder for value.");return n}serializeValue(e){return this.getEncoderFor(e).encode(e)}serialize(e){return this.serializeValue(e)}}Ho.CborSerializer=nv;class A3 extends nv{serialize(e){return Wn.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(e))]))}}Ho.SelfDescribeCborSerializer=A3;(function(t){function e(i){for(var s in i)t.hasOwnProperty(s)||(t[s]=i[s])}var n=Eo&&Eo.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var o in i)Object.hasOwnProperty.call(i,o)&&(s[o]=i[o]);return s.default=i,s};Object.defineProperty(t,"__esModule",{value:!0}),e(Ho);const r=n(Ze);t.value=r})(fn);class j3{get name(){return"Principal"}get priority(){return 0}match(e){return e&&e._isPrincipal===!0}encode(e){return fn.value.bytes(e.toUint8Array())}}class C3{get name(){return"Buffer"}get priority(){return 1}match(e){return e instanceof ArrayBuffer||ArrayBuffer.isView(e)}encode(e){return fn.value.bytes(new Uint8Array(e))}}class B3{get name(){return"BigInt"}get priority(){return 1}match(e){return typeof e=="bigint"}encode(e){return e>BigInt(0)?fn.value.tagged(2,fn.value.bytes(Yr(e.toString(16)))):fn.value.tagged(3,fn.value.bytes(Yr((BigInt("-1")*e).toString(16))))}}const Hd=fn.SelfDescribeCborSerializer.withDefaultEncoders(!0);Hd.addEncoder(new j3);Hd.addEncoder(new C3);Hd.addEncoder(new B3);var x0;(function(t){t[t.Uint64LittleEndian=71]="Uint64LittleEndian",t[t.Semantic=55799]="Semantic"})(x0||(x0={}));function Mf(t){return Hd.serialize(t)}function ay(t){const e=t.byteLength;let n=BigInt(0);for(let r=0;r<e;r++)n=n*BigInt(256)+BigInt(t[r]);return n}class R3 extends $_.Decoder{createByteString(e){return tr(...e)}createByteStringFromHeap(e,n){return e===n?new ArrayBuffer(0):new Uint8Array(this._heap.slice(e,n))}}function Vr(t){const e=new Uint8Array(t),n=new R3({size:e.byteLength,tags:{2:r=>ay(r),3:r=>-ay(r),[x0.Semantic]:r=>r}});try{return n.decodeFirst(e)}catch(r){throw new Error(`Failed to decode CBOR: ${r}, input: ${Ut(e)}`)}}const lc=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const t=new Uint32Array(1);return window.crypto.getRandomValues(t),t[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var b0;(function(t){t.Call="call"})(b0||(b0={}));function w0(){const t=new ArrayBuffer(16),e=new DataView(t),n=lc(),r=lc(),i=lc(),s=lc();return e.setUint32(0,n),e.setUint32(4,r),e.setUint32(8,i),e.setUint32(12,s),t}const ly=BigInt(1e6),P3=60*1e3;class qs{constructor(e){if(e<90*1e3){const a=BigInt(Date.now()+e)*ly/BigInt(1e9);this._value=a*BigInt(1e9);return}const s=BigInt(Math.floor(Date.now()+e-P3))*ly/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=s}toCBOR(){return fn.value.u64(this._value.toString(16),16)}toHash(){return ht(this._value)}}function cy(t=w0){return async e=>{const n=e.request.headers;e.request.headers=n,e.endpoint==="call"&&(e.body.nonce=t())}}function ha(t){const e=[];return t.forEach((n,r)=>{e.push([r,n])}),e}class If extends kt{constructor(e,n){super(e),this.response=n,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ag=BigInt(0),lg=BigInt(1),O3=BigInt(2);function Wd(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function qi(t){if(!Wd(t))throw new Error("Uint8Array expected")}function Ma(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const F3=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Cs(t){qi(t);let e="";for(let n=0;n<t.length;n++)e+=F3[t[n]];return e}function rv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?ag:BigInt("0x"+t)}const jr={_0:48,_9:57,A:65,F:70,a:97,f:102};function uy(t){if(t>=jr._0&&t<=jr._9)return t-jr._0;if(t>=jr.A&&t<=jr.F)return t-(jr.A-10);if(t>=jr.a&&t<=jr.f)return t-(jr.a-10)}function iv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=uy(t.charCodeAt(s)),a=uy(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function Xn(t){return rv(Cs(t))}function Ia(t){return qi(t),rv(Cs(Uint8Array.from(t).reverse()))}function Mt(t,e){return iv(t.toString(16).padStart(e*2,"0"))}function ed(t,e){return Mt(t,e).reverse()}function nn(t,e,n){let r;if(typeof e=="string")try{r=iv(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Wd(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function wt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];qi(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function cg(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Uf=t=>typeof t=="bigint"&&ag<=t;function sv(t,e,n){return Uf(t)&&Uf(e)&&Uf(n)&&e<=t&&t<n}function vi(t,e,n,r){if(!sv(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Ua(t){let e;for(e=0;t>ag;t>>=lg,e+=1);return e}function M3(t,e){return t>>BigInt(e)&lg}const Kc=t=>(O3<<BigInt(t-1))-lg,I3={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Wd(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Fl(t,e,n={}){const r=(i,s,o)=>{const a=I3[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const dy=()=>{throw new Error("not implemented")};function dl(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pt=BigInt(0),it=BigInt(1),Ei=BigInt(2),U3=BigInt(3),_0=BigInt(4),fy=BigInt(5),hy=BigInt(8);function ft(t,e){const n=t%e;return n>=Pt?n:e+n}function z3(t,e,n){if(e<Pt)throw new Error("invalid exponent, negatives unsupported");if(n<=Pt)throw new Error("invalid modulus");if(n===it)return Pt;let r=it;for(;e>Pt;)e&it&&(r=r*t%n),t=t*t%n,e>>=it;return r}function cr(t,e,n){let r=t;for(;e-- >Pt;)r*=r,r%=n;return r}function py(t,e){if(t===Pt)throw new Error("invert: expected non-zero number");if(e<=Pt)throw new Error("invert: expected positive modulus, got "+e);let n=ft(t,e),r=e,i=Pt,s=it;for(;n!==Pt;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==it)throw new Error("invert: does not exist");return ft(i,e)}function L3(t){const e=(t-it)/Ei;let n,r,i;for(n=t-it,r=0;n%Ei===Pt;n/=Ei,r++);for(i=Ei;i<t&&z3(i,e,t)!==t-it;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+it)/_0;return function(l,c){const d=l.pow(c,o);if(!l.eql(l.sqr(d),c))throw new Error("Cannot find square root");return d}}const s=(n+it)/Ei;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,d=a.pow(a.mul(a.ONE,i),n),f=a.pow(l,s),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let g=1;for(let v=a.sqr(h);g<c&&!a.eql(v,a.ONE);g++)v=a.sqr(v);const p=a.pow(d,it<<BigInt(c-g-1));d=a.sqr(p),f=a.mul(f,p),h=a.mul(h,d),c=g}return f}}function $3(t){if(t%_0===U3){const e=(t+it)/_0;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%hy===fy){const e=(t-fy)/hy;return function(r,i){const s=r.mul(i,Ei),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,Ei),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return L3(t)}const D3=(t,e)=>(ft(t,e)&it)===it,V3=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ov(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=V3.reduce((r,i)=>(r[i]="function",r),e);return Fl(t,n)}function Yc(t,e,n){if(n<Pt)throw new Error("invalid exponent, negatives unsupported");if(n===Pt)return t.ONE;if(n===it)return e;let r=t.ONE,i=e;for(;n>Pt;)n&it&&(r=t.mul(r,i)),i=t.sqr(i),n>>=it;return r}function Xc(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function H3(t){const e=(t-it)/Ei;return(n,r)=>n.pow(r,e)}function av(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ml(t,e,n=!1,r={}){if(t<=Pt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=av(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Kc(i),ZERO:Pt,ONE:it,create:l=>ft(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Pt<=l&&l<t},is0:l=>l===Pt,isOdd:l=>(l&it)===it,neg:l=>ft(-l,t),eql:(l,c)=>l===c,sqr:l=>ft(l*l,t),add:(l,c)=>ft(l+c,t),sub:(l,c)=>ft(l-c,t),mul:(l,c)=>ft(l*c,t),pow:(l,c)=>Yc(a,l,c),div:(l,c)=>ft(l*py(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>py(l,t),sqrt:r.sqrt||(l=>(o||(o=$3(t)),o(a,l))),invertBatch:l=>Xc(a,l),cmov:(l,c,d)=>d?c:l,toBytes:l=>n?ed(l,s):Mt(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?Ia(l):Xn(l)}});return Object.freeze(a)}function lv(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function cv(t){const e=lv(t);return e+Math.ceil(e/2)}function W3(t,e,n=!1){const r=t.length,i=lv(e),s=cv(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Ia(t):Xn(t),a=ft(o,e-it)+it;return n?ed(a,i):Mt(a,i)}const q3=Xn;function gi(t,e){if(fl(t),fl(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=t&255,t>>>=8;return new Uint8Array(n)}function G3(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function fl(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function K3(t,e,n,r){qi(t),qi(e),fl(n),e.length>255&&(e=r(wt(cg("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:s}=r,o=Math.ceil(n/i);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=wt(e,gi(e.length,1)),l=gi(0,s),c=gi(n,2),d=new Array(o),f=r(wt(l,t,c,gi(0,1),a));d[0]=r(wt(f,gi(1,1),a));for(let g=1;g<=o;g++){const p=[G3(f,d[g-1]),gi(g+1,1),a];d[g]=r(wt(...p))}return wt(...d).slice(0,n)}function Y3(t,e,n,r,i){if(qi(t),qi(e),fl(n),e.length>255){const s=Math.ceil(2*r/8);e=i.create({dkLen:s}).update(cg("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(gi(n,2)).update(e).update(gi(e.length,1)).digest()}function gy(t,e,n){Fl(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:s,hash:o,expand:a,DST:l}=n;qi(t),fl(e);const c=typeof l=="string"?cg(l):l,d=r.toString(2).length,f=Math.ceil((d+i)/8),h=e*s*f;let g;if(a==="xmd")g=K3(t,c,h,o);else if(a==="xof")g=Y3(t,c,h,i,o);else if(a==="_internal_pass")g=t;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(e);for(let v=0;v<e;v++){const E=new Array(s);for(let b=0;b<s;b++){const w=f*(b+v*s),S=g.subarray(w,w+f);E[b]=ft(q3(S),r)}p[v]=E}return p}function uv(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[s,o,a,l]=n.map(c=>c.reduce((d,f)=>t.add(t.mul(d,r),f)));return r=t.div(s,o),i=t.mul(i,t.div(a,l)),{x:r,y:i}}}function my(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const s=gy(r,2,{...n,DST:n.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),l=o.add(a).clearCofactor();return l.assertValidity(),l},encodeToCurve(r,i){const s=gy(r,1,{...n,DST:n.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const s of r)if(typeof s!="bigint")throw new Error("mapToCurve: expected array of bigints");const i=t.fromAffine(e(r)).clearCofactor();return i.assertValidity(),i}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yy=BigInt(0),cc=BigInt(1);function zf(t,e){const n=e.negate();return t?n:e}function dv(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Lf(t,e){dv(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function X3(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Z3(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const $f=new WeakMap,fv=new WeakMap;function Df(t){return fv.get(t)||1}function hv(t,e){return{constTimeNegate:zf,hasPrecomputes(n){return Df(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>yy;)r&cc&&(i=i.add(s)),s=s.double(),r>>=cc;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Lf(r,e),o=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let d=1;d<s;d++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Lf(n,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**n-1),d=2**n,f=BigInt(n);for(let h=0;h<s;h++){const g=h*o;let p=Number(i&c);i>>=f,p>o&&(p-=d,i+=cc);const v=g,E=g+Math.abs(p)-1,b=h%2!==0,w=p<0;p===0?l=l.add(zf(b,r[v])):a=a.add(zf(w,r[E]))}return{p:a,f:l}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=Lf(n,e),l=BigInt(2**n-1),c=2**n,d=BigInt(n);for(let f=0;f<o;f++){const h=f*a;if(i===yy)break;let g=Number(i&l);if(i>>=d,g>a&&(g-=c,i+=cc),g===0)continue;let p=r[h+Math.abs(g)-1];g<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(n,r,i){let s=$f.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&$f.set(r,i(s))),s},wNAFCached(n,r,i){const s=Df(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Df(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){dv(r,e),fv.set(n,r),$f.delete(n)}}}function pv(t,e,n,r){if(X3(n,t),Z3(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Ua(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let d=i;for(let f=c;f>=0;f-=o){l.fill(i);for(let g=0;g<r.length;g++){const p=r[g],v=Number(p>>BigInt(f)&BigInt(a));l[v]=l[v].add(n[g])}let h=i;for(let g=l.length-1,p=i;g>0;g--)p=p.add(l[g]),h=h.add(p);if(d=d.add(h),f!==0)for(let g=0;g<o;g++)d=d.double()}return d}function gv(t){return ov(t.Fp),Fl(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...av(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Q3(t){const e=gv(t);Fl(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const ds=BigInt(0),gt=BigInt(1),ai=BigInt(2),td=BigInt(3),xy=BigInt(4);function by(t){const e=Q3(t),{Fp:n}=e,r=Ml(e.n,e.nBitLength),i=e.toBytes||((v,E,b)=>{const w=E.toAffine();return wt(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),s=e.fromBytes||(v=>{const E=v.subarray(1),b=n.fromBytes(E.subarray(0,n.BYTES)),w=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:b,y:w}});function o(v){const{a:E,b}=e,w=n.sqr(v),S=n.mul(w,v);return n.add(n.add(S,n.mul(v,E)),b)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(v){return sv(v,gt,e.n)}function l(v){const{allowedPrivateKeyLengths:E,nByteLength:b,wrapPrivateKey:w,n:S}=e;if(E&&typeof v!="bigint"){if(Wd(v)&&(v=Cs(v)),typeof v!="string"||!E.includes(v.length))throw new Error("invalid private key");v=v.padStart(b*2,"0")}let R;try{R=typeof v=="bigint"?v:Xn(nn("private key",v,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof v)}return w&&(R=ft(R,S)),vi("private key",R,gt,S),R}function c(v){if(!(v instanceof h))throw new Error("ProjectivePoint expected")}const d=dl((v,E)=>{const{px:b,py:w,pz:S}=v;if(n.eql(S,n.ONE))return{x:b,y:w};const R=v.is0();E==null&&(E=R?n.ONE:n.inv(S));const N=n.mul(b,E),F=n.mul(w,E),C=n.mul(S,E);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:N,y:F}}),f=dl(v=>{if(v.is0()){if(e.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:E,y:b}=v.toAffine();if(!n.isValid(E)||!n.isValid(b))throw new Error("bad point: x or y not FE");const w=n.sqr(b),S=o(E);if(!n.eql(w,S))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(E,b,w){if(this.px=E,this.py=b,this.pz=w,E==null||!n.isValid(E))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required");Object.freeze(this)}static fromAffine(E){const{x:b,y:w}=E||{};if(!E||!n.isValid(b)||!n.isValid(w))throw new Error("invalid affine point");if(E instanceof h)throw new Error("projective point not allowed");const S=R=>n.eql(R,n.ZERO);return S(b)&&S(w)?h.ZERO:new h(b,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const b=n.invertBatch(E.map(w=>w.pz));return E.map((w,S)=>w.toAffine(b[S])).map(h.fromAffine)}static fromHex(E){const b=h.fromAffine(s(nn("pointHex",E)));return b.assertValidity(),b}static fromPrivateKey(E){return h.BASE.multiply(l(E))}static msm(E,b){return pv(h,r,E,b)}_setWindowSize(E){p.setWindowSize(this,E)}assertValidity(){f(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){c(E);const{px:b,py:w,pz:S}=this,{px:R,py:N,pz:F}=E,C=n.eql(n.mul(b,F),n.mul(R,S)),I=n.eql(n.mul(w,F),n.mul(N,S));return C&&I}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b}=e,w=n.mul(b,td),{px:S,py:R,pz:N}=this;let F=n.ZERO,C=n.ZERO,I=n.ZERO,U=n.mul(S,S),H=n.mul(R,R),ie=n.mul(N,N),oe=n.mul(S,R);return oe=n.add(oe,oe),I=n.mul(S,N),I=n.add(I,I),F=n.mul(E,I),C=n.mul(w,ie),C=n.add(F,C),F=n.sub(H,C),C=n.add(H,C),C=n.mul(F,C),F=n.mul(oe,F),I=n.mul(w,I),ie=n.mul(E,ie),oe=n.sub(U,ie),oe=n.mul(E,oe),oe=n.add(oe,I),I=n.add(U,U),U=n.add(I,U),U=n.add(U,ie),U=n.mul(U,oe),C=n.add(C,U),ie=n.mul(R,N),ie=n.add(ie,ie),U=n.mul(ie,oe),F=n.sub(F,U),I=n.mul(ie,H),I=n.add(I,I),I=n.add(I,I),new h(F,C,I)}add(E){c(E);const{px:b,py:w,pz:S}=this,{px:R,py:N,pz:F}=E;let C=n.ZERO,I=n.ZERO,U=n.ZERO;const H=e.a,ie=n.mul(e.b,td);let oe=n.mul(b,R),z=n.mul(w,N),W=n.mul(S,F),V=n.add(b,w),Q=n.add(R,N);V=n.mul(V,Q),Q=n.add(oe,z),V=n.sub(V,Q),Q=n.add(b,S);let Z=n.add(R,F);return Q=n.mul(Q,Z),Z=n.add(oe,W),Q=n.sub(Q,Z),Z=n.add(w,S),C=n.add(N,F),Z=n.mul(Z,C),C=n.add(z,W),Z=n.sub(Z,C),U=n.mul(H,Q),C=n.mul(ie,W),U=n.add(C,U),C=n.sub(z,U),U=n.add(z,U),I=n.mul(C,U),z=n.add(oe,oe),z=n.add(z,oe),W=n.mul(H,W),Q=n.mul(ie,Q),z=n.add(z,W),W=n.sub(oe,W),W=n.mul(H,W),Q=n.add(Q,W),oe=n.mul(z,Q),I=n.add(I,oe),oe=n.mul(Z,Q),C=n.mul(V,C),C=n.sub(C,oe),oe=n.mul(V,z),U=n.mul(Z,U),U=n.add(U,oe),new h(C,I,U)}subtract(E){return this.add(E.negate())}is0(){return this.equals(h.ZERO)}wNAF(E){return p.wNAFCached(this,E,h.normalizeZ)}multiplyUnsafe(E){const{endo:b,n:w}=e;vi("scalar",E,ds,w);const S=h.ZERO;if(E===ds)return S;if(this.is0()||E===gt)return this;if(!b||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,E,h.normalizeZ);let{k1neg:R,k1:N,k2neg:F,k2:C}=b.splitScalar(E),I=S,U=S,H=this;for(;N>ds||C>ds;)N&gt&&(I=I.add(H)),C&gt&&(U=U.add(H)),H=H.double(),N>>=gt,C>>=gt;return R&&(I=I.negate()),F&&(U=U.negate()),U=new h(n.mul(U.px,b.beta),U.py,U.pz),I.add(U)}multiply(E){const{endo:b,n:w}=e;vi("scalar",E,gt,w);let S,R;if(b){const{k1neg:N,k1:F,k2neg:C,k2:I}=b.splitScalar(E);let{p:U,f:H}=this.wNAF(F),{p:ie,f:oe}=this.wNAF(I);U=p.constTimeNegate(N,U),ie=p.constTimeNegate(C,ie),ie=new h(n.mul(ie.px,b.beta),ie.py,ie.pz),S=U.add(ie),R=H.add(oe)}else{const{p:N,f:F}=this.wNAF(E);S=N,R=F}return h.normalizeZ([S,R])[0]}multiplyAndAddUnsafe(E,b,w){const S=h.BASE,R=(F,C)=>C===ds||C===gt||!F.equals(S)?F.multiplyUnsafe(C):F.multiply(C),N=R(this,b).add(R(E,w));return N.is0()?void 0:N}toAffine(E){return d(this,E)}isTorsionFree(){const{h:E,isTorsionFree:b}=e;if(E===gt)return!0;if(b)return b(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:b}=e;return E===gt?this:b?b(h,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return Ma("isCompressed",E),this.assertValidity(),i(h,this,E)}toHex(E=!0){return Ma("isCompressed",E),Cs(this.toRawBytes(E))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const g=e.nBitLength,p=hv(h,e.endo?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function J3(t,e){const n=t.ORDER;let r=ds;for(let p=n-gt;p%ai===ds;p/=ai)r+=gt;const i=r,s=ai<<i-gt-gt,o=s*ai,a=(n-gt)/o,l=(a-gt)/ai,c=o-gt,d=s,f=t.pow(e,a),h=t.pow(e,(a+gt)/ai);let g=(p,v)=>{let E=f,b=t.pow(v,c),w=t.sqr(b);w=t.mul(w,v);let S=t.mul(p,w);S=t.pow(S,l),S=t.mul(S,b),b=t.mul(S,v),w=t.mul(S,p);let R=t.mul(w,b);S=t.pow(R,d);let N=t.eql(S,t.ONE);b=t.mul(w,h),S=t.mul(R,E),w=t.cmov(b,w,N),R=t.cmov(S,R,N);for(let F=i;F>gt;F--){let C=F-ai;C=ai<<C-gt;let I=t.pow(R,C);const U=t.eql(I,t.ONE);b=t.mul(w,E),E=t.mul(E,E),I=t.mul(R,E),w=t.cmov(b,w,U),R=t.cmov(I,R,U)}return{isValid:N,value:w}};if(t.ORDER%xy===td){const p=(t.ORDER-td)/xy,v=t.sqrt(t.neg(e));g=(E,b)=>{let w=t.sqr(b);const S=t.mul(E,b);w=t.mul(w,S);let R=t.pow(w,p);R=t.mul(R,S);const N=t.mul(R,v),F=t.mul(t.sqr(R),b),C=t.eql(F,E);let I=t.cmov(N,R,C);return{isValid:C,value:I}}}return g}function mv(t,e){if(ov(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=J3(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,s,o,a,l,c,d,f;i=t.sqr(r),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),c=t.sqr(a),l=t.mul(c,e.A),s=t.add(s,l),s=t.mul(s,o),c=t.mul(c,a),l=t.mul(c,e.B),s=t.add(s,l),d=t.mul(i,o);const{isValid:h,value:g}=n(s,c);f=t.mul(i,r),f=t.mul(f,g),d=t.cmov(d,o,h),f=t.cmov(f,g,h);const p=t.isOdd(r)===t.isOdd(f);return f=t.cmov(t.neg(f),f,p),d=t.div(d,a),{x:d,y:f}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e8=BigInt(0),uc=BigInt(1),wy=BigInt(2),fo=BigInt(3);function t8(t){const e=[];for(;t>uc;t>>=uc)(t&uc)===e8?e.unshift(0):(t&fo)===fo?(e.unshift(-1),t+=uc):e.unshift(1);return e}function n8(t){const{Fp:e,Fr:n,Fp2:r,Fp6:i,Fp12:s}=t.fields,o=t.params.xNegative,a=t.params.twistType,l=by({n:n.ORDER,...t.G1}),c=Object.assign(l,my(l.ProjectivePoint,t.G1.mapToCurve,{...t.htfDefaults,...t.G1.htfDefaults})),d=by({n:n.ORDER,...t.G2}),f=Object.assign(d,my(d.ProjectivePoint,t.G2.mapToCurve,{...t.htfDefaults,...t.G2.htfDefaults}));let h;if(a==="multiplicative")h=(ae,j,le,he,me,de)=>s.mul014(he,ae,r.mul(j,me),r.mul(le,de));else if(a==="divisive")h=(ae,j,le,he,me,de)=>s.mul034(he,r.mul(le,de),r.mul(j,me),ae);else throw new Error("bls: unknown twist type");const g=r.div(r.ONE,r.mul(r.ONE,wy));function p(ae,j,le,he){const me=r.sqr(le),de=r.sqr(he),ge=r.mulByB(r.mul(de,fo)),B=r.mul(ge,fo),O=r.sub(r.sub(r.sqr(r.add(le,he)),de),me),L=r.sub(ge,me),J=r.mul(r.sqr(j),fo),K=r.neg(O);return ae.push([L,J,K]),j=r.mul(r.mul(r.mul(r.sub(me,B),j),le),g),le=r.sub(r.sqr(r.mul(r.add(me,B),g)),r.mul(r.sqr(ge),fo)),he=r.mul(me,O),{Rx:j,Ry:le,Rz:he}}function v(ae,j,le,he,me,de){const ge=r.sub(le,r.mul(de,he)),B=r.sub(j,r.mul(me,he)),O=r.sub(r.mul(ge,me),r.mul(B,de)),L=r.neg(ge),J=B;ae.push([O,L,J]);const K=r.sqr(B),ee=r.mul(K,B),k=r.mul(K,j),m=r.add(r.sub(ee,r.mul(k,wy)),r.mul(r.sqr(ge),he));return j=r.mul(B,m),le=r.sub(r.mul(r.sub(k,m),ge),r.mul(ee,le)),he=r.mul(he,ee),{Rx:j,Ry:le,Rz:he}}const E=t8(t.params.ateLoopSize),b=dl(ae=>{const j=ae,{x:le,y:he}=j.toAffine(),me=le,de=he,ge=r.neg(he);let B=me,O=de,L=r.ONE;const J=[];for(const K of E){const ee=[];({Rx:B,Ry:O,Rz:L}=p(ee,B,O,L)),K&&({Rx:B,Ry:O,Rz:L}=v(ee,B,O,L,me,K===-1?ge:de)),J.push(ee)}if(t.postPrecompute){const K=J[J.length-1];t.postPrecompute(B,O,L,me,de,v.bind(null,K))}return J});function w(ae,j=!1){let le=s.ONE;if(ae.length){const he=ae[0][0].length;for(let me=0;me<he;me++){le=s.sqr(le);for(const[de,ge,B]of ae)for(const[O,L,J]of de[me])le=h(O,L,J,le,ge,B)}}return o&&(le=s.conjugate(le)),j?s.finalExponentiate(le):le}function S(ae,j=!0){const le=[];c.ProjectivePoint.normalizeZ(ae.map(({g1:he})=>he)),f.ProjectivePoint.normalizeZ(ae.map(({g2:he})=>he));for(const{g1:he,g2:me}of ae){if(he.equals(c.ProjectivePoint.ZERO)||me.equals(f.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");he.assertValidity(),me.assertValidity();const de=he.toAffine();le.push([b(me),de.x,de.y])}return w(le,j)}function R(ae,j,le=!0){return S([{g1:ae,g2:j}],le)}const N={randomPrivateKey:()=>{const ae=cv(n.ORDER);return W3(t.randomBytes(ae),n.ORDER)},calcPairingPrecomputes:b},{ShortSignature:F}=t.G1,{Signature:C}=t.G2;function I(ae){return ae instanceof c.ProjectivePoint?ae:c.ProjectivePoint.fromHex(ae)}function U(ae,j){return ae instanceof c.ProjectivePoint?ae:c.hashToCurve(nn("point",ae),j)}function H(ae){return ae instanceof f.ProjectivePoint?ae:C.fromHex(ae)}function ie(ae,j){return ae instanceof f.ProjectivePoint?ae:f.hashToCurve(nn("point",ae),j)}function oe(ae){return c.ProjectivePoint.fromPrivateKey(ae).toRawBytes(!0)}function z(ae){return f.ProjectivePoint.fromPrivateKey(ae).toRawBytes(!0)}function W(ae,j,le){const he=ie(ae,le);he.assertValidity();const me=he.multiply(c.normPrivateKeyToScalar(j));return ae instanceof f.ProjectivePoint?me:C.toRawBytes(me)}function V(ae,j,le){const he=U(ae,le);he.assertValidity();const me=he.multiply(c.normPrivateKeyToScalar(j));return ae instanceof c.ProjectivePoint?me:F.toRawBytes(me)}function Q(ae,j,le,he){const me=I(le),de=ie(j,he),ge=c.ProjectivePoint.BASE,B=H(ae),O=S([{g1:me.negate(),g2:de},{g1:ge,g2:B}]);return s.eql(O,s.ONE)}function Z(ae,j,le,he){const me=H(le),de=U(j,he),ge=f.ProjectivePoint.BASE,B=I(ae),O=S([{g1:de,g2:me},{g1:B,g2:ge.negate()}]);return s.eql(O,s.ONE)}function G(ae){if(!Array.isArray(ae)||ae.length===0)throw new Error("expected non-empty array")}function Y(ae){G(ae);const le=ae.map(I).reduce((he,me)=>he.add(me),c.ProjectivePoint.ZERO);return ae[0]instanceof c.ProjectivePoint?(le.assertValidity(),le):le.toRawBytes(!0)}function ce(ae){G(ae);const le=ae.map(H).reduce((he,me)=>he.add(me),f.ProjectivePoint.ZERO);return ae[0]instanceof f.ProjectivePoint?(le.assertValidity(),le):C.toRawBytes(le)}function se(ae){G(ae);const le=ae.map(I).reduce((he,me)=>he.add(me),c.ProjectivePoint.ZERO);return ae[0]instanceof c.ProjectivePoint?(le.assertValidity(),le):F.toRawBytes(le)}function ue(ae,j,le,he){if(G(j),le.length!==j.length)throw new Error("amount of public keys and messages should be equal");const me=H(ae),de=j.map(L=>ie(L,he)),ge=le.map(I),B=new Map;for(let L=0;L<ge.length;L++){const J=ge[L],K=de[L];let ee=B.get(K);ee===void 0&&(ee=[],B.set(K,ee)),ee.push(J)}const O=[];try{for(const[L,J]of B){const K=J.reduce((ee,k)=>ee.add(k));O.push({g1:K,g2:L})}return O.push({g1:c.ProjectivePoint.BASE.negate(),g2:me}),s.eql(S(O),s.ONE)}catch{return!1}}return c.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:oe,getPublicKeyForShortSignatures:z,sign:W,signShortSignature:V,verify:Q,verifyBatch:ue,verifyShortSignature:Z,aggregatePublicKeys:Y,aggregateSignatures:ce,aggregateShortSignatures:se,millerLoopBatch:w,pairing:R,pairingBatch:S,G1:c,G2:f,Signature:C,ShortSignature:F,fields:{Fr:n,Fp:e,Fp2:r,Fp6:i,Fp12:s},params:{ateLoopSize:t.params.ateLoopSize,r:t.params.r,G1b:t.G1.b,G2b:t.G2.b},utils:N}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r8=BigInt(0),ho=BigInt(1),zr=BigInt(2),_y=BigInt(3);function Vf(t,e,n,r,i=1,s){const o=BigInt(s===void 0?r:s),a=n**BigInt(r),l=[];for(let c=0;c<i;c++){const d=BigInt(c+1),f=[];for(let h=0,g=ho;h<r;h++){const p=(d*g-d)/o%a;f.push(t.pow(e,p)),g*=n}l.push(f)}return l}function i8(t,e,n){const r=e.pow(n,(t.ORDER-ho)/_y),i=e.pow(n,(t.ORDER-ho)/zr);function s(h,g){const p=e.mul(e.frobeniusMap(h,1),r),v=e.mul(e.frobeniusMap(g,1),i);return[p,v]}const o=e.pow(n,(t.ORDER**zr-ho)/_y),a=e.pow(n,(t.ORDER**zr-ho)/zr);if(!e.eql(a,e.neg(e.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function l(h,g){return[e.mul(h,o),e.neg(g)]}const c=h=>(g,p)=>{const v=p.toAffine(),E=h(v.x,v.y);return g.fromAffine({x:E[0],y:E[1]})},d=c(s),f=c(l);return{psi:s,psi2:l,G2psi:d,G2psi2:f,PSI_X:r,PSI_Y:i,PSI2_X:o,PSI2_Y:a}}function s8(t){const{ORDER:e}=t,n=Ml(e),r=n.create(t.NONRESIDUE||BigInt(-1)),i=H3(e),s=n.div(n.ONE,zr),o=Vf(n,r,n.ORDER,2)[0],a=({c0:z,c1:W},{c0:V,c1:Q})=>({c0:n.add(z,V),c1:n.add(W,Q)}),l=({c0:z,c1:W},{c0:V,c1:Q})=>({c0:n.sub(z,V),c1:n.sub(W,Q)}),c=({c0:z,c1:W},V)=>{if(typeof V=="bigint")return{c0:n.mul(z,V),c1:n.mul(W,V)};const{c0:Q,c1:Z}=V;let G=n.mul(z,Q),Y=n.mul(W,Z);const ce=n.sub(G,Y),se=n.sub(n.mul(n.add(z,W),n.add(Q,Z)),n.add(G,Y));return{c0:ce,c1:se}},d=({c0:z,c1:W})=>{const V=n.add(z,W),Q=n.sub(z,W),Z=n.add(z,z);return{c0:n.mul(V,Q),c1:n.mul(Z,W)}},f=z=>{if(z.length!==2)throw new Error("invalid tuple");const W=z.map(V=>n.create(V));return{c0:W[0],c1:W[1]}},h=e*e,g=f(t.FP2_NONRESIDUE),p={ORDER:h,isLE:n.isLE,NONRESIDUE:g,BITS:Ua(h),BYTES:Math.ceil(Ua(h)/8),MASK:Kc(Ua(h)),ZERO:{c0:n.ZERO,c1:n.ZERO},ONE:{c0:n.ONE,c1:n.ZERO},create:z=>z,isValid:({c0:z,c1:W})=>typeof z=="bigint"&&typeof W=="bigint",is0:({c0:z,c1:W})=>n.is0(z)&&n.is0(W),eql:({c0:z,c1:W},{c0:V,c1:Q})=>n.eql(z,V)&&n.eql(W,Q),neg:({c0:z,c1:W})=>({c0:n.neg(z),c1:n.neg(W)}),pow:(z,W)=>Yc(p,z,W),invertBatch:z=>Xc(p,z),add:a,sub:l,mul:c,sqr:d,addN:a,subN:l,mulN:c,sqrN:d,div:(z,W)=>p.mul(z,typeof W=="bigint"?n.inv(n.create(W)):p.inv(W)),inv:({c0:z,c1:W})=>{const V=n.inv(n.create(z*z+W*W));return{c0:n.mul(V,n.create(z)),c1:n.mul(V,n.create(-W))}},sqrt:z=>{if(t.Fp2sqrt)return t.Fp2sqrt(z);const{c0:W,c1:V}=z;if(n.is0(V))return n.eql(i(n,W),n.ONE)?p.create({c0:n.sqrt(W),c1:n.ZERO}):p.create({c0:n.ZERO,c1:n.sqrt(n.div(W,r))});const Q=n.sqrt(n.sub(n.sqr(W),n.mul(n.sqr(V),r)));let Z=n.mul(n.add(Q,W),s);const G=i(n,Z);!n.is0(G)&&!n.eql(G,n.ONE)&&(Z=n.sub(Z,Q));const Y=n.sqrt(Z),ce=p.create({c0:Y,c1:n.div(n.mul(V,s),Y)});if(!p.eql(p.sqr(ce),z))throw new Error("Cannot find square root");const se=ce,ue=p.neg(se),{re:ae,im:j}=p.reim(se),{re:le,im:he}=p.reim(ue);return j>he||j===he&&ae>le?se:ue},isOdd:z=>{const{re:W,im:V}=p.reim(z),Q=W%zr,Z=W===r8,G=V%zr;return BigInt(Q||Z&&G)==ho},fromBytes(z){if(z.length!==p.BYTES)throw new Error("fromBytes invalid length="+z.length);return{c0:n.fromBytes(z.subarray(0,n.BYTES)),c1:n.fromBytes(z.subarray(n.BYTES))}},toBytes:({c0:z,c1:W})=>wt(n.toBytes(z),n.toBytes(W)),cmov:({c0:z,c1:W},{c0:V,c1:Q},Z)=>({c0:n.cmov(z,V,Z),c1:n.cmov(W,Q,Z)}),reim:({c0:z,c1:W})=>({re:z,im:W}),mulByNonresidue:({c0:z,c1:W})=>p.mul({c0:z,c1:W},g),mulByB:t.Fp2mulByB,fromBigTuple:f,frobeniusMap:({c0:z,c1:W},V)=>({c0:z,c1:n.mul(W,o[V%2])})},v=({c0:z,c1:W,c2:V},{c0:Q,c1:Z,c2:G})=>({c0:p.add(z,Q),c1:p.add(W,Z),c2:p.add(V,G)}),E=({c0:z,c1:W,c2:V},{c0:Q,c1:Z,c2:G})=>({c0:p.sub(z,Q),c1:p.sub(W,Z),c2:p.sub(V,G)}),b=({c0:z,c1:W,c2:V},Q)=>{if(typeof Q=="bigint")return{c0:p.mul(z,Q),c1:p.mul(W,Q),c2:p.mul(V,Q)};const{c0:Z,c1:G,c2:Y}=Q,ce=p.mul(z,Z),se=p.mul(W,G),ue=p.mul(V,Y);return{c0:p.add(ce,p.mulByNonresidue(p.sub(p.mul(p.add(W,V),p.add(G,Y)),p.add(se,ue)))),c1:p.add(p.sub(p.mul(p.add(z,W),p.add(Z,G)),p.add(ce,se)),p.mulByNonresidue(ue)),c2:p.sub(p.add(se,p.mul(p.add(z,V),p.add(Z,Y))),p.add(ce,ue))}},w=({c0:z,c1:W,c2:V})=>{let Q=p.sqr(z),Z=p.mul(p.mul(z,W),zr),G=p.mul(p.mul(W,V),zr),Y=p.sqr(V);return{c0:p.add(p.mulByNonresidue(G),Q),c1:p.add(p.mulByNonresidue(Y),Z),c2:p.sub(p.sub(p.add(p.add(Z,p.sqr(p.add(p.sub(z,W),V))),G),Q),Y)}},[S,R]=Vf(p,g,n.ORDER,6,2,3),N={ORDER:p.ORDER,isLE:p.isLE,BITS:3*p.BITS,BYTES:3*p.BYTES,MASK:Kc(3*p.BITS),ZERO:{c0:p.ZERO,c1:p.ZERO,c2:p.ZERO},ONE:{c0:p.ONE,c1:p.ZERO,c2:p.ZERO},create:z=>z,isValid:({c0:z,c1:W,c2:V})=>p.isValid(z)&&p.isValid(W)&&p.isValid(V),is0:({c0:z,c1:W,c2:V})=>p.is0(z)&&p.is0(W)&&p.is0(V),neg:({c0:z,c1:W,c2:V})=>({c0:p.neg(z),c1:p.neg(W),c2:p.neg(V)}),eql:({c0:z,c1:W,c2:V},{c0:Q,c1:Z,c2:G})=>p.eql(z,Q)&&p.eql(W,Z)&&p.eql(V,G),sqrt:dy,div:(z,W)=>N.mul(z,typeof W=="bigint"?n.inv(n.create(W)):N.inv(W)),pow:(z,W)=>Yc(N,z,W),invertBatch:z=>Xc(N,z),add:v,sub:E,mul:b,sqr:w,addN:v,subN:E,mulN:b,sqrN:w,inv:({c0:z,c1:W,c2:V})=>{let Q=p.sub(p.sqr(z),p.mulByNonresidue(p.mul(V,W))),Z=p.sub(p.mulByNonresidue(p.sqr(V)),p.mul(z,W)),G=p.sub(p.sqr(W),p.mul(z,V)),Y=p.inv(p.add(p.mulByNonresidue(p.add(p.mul(V,Z),p.mul(W,G))),p.mul(z,Q)));return{c0:p.mul(Y,Q),c1:p.mul(Y,Z),c2:p.mul(Y,G)}},fromBytes:z=>{if(z.length!==N.BYTES)throw new Error("fromBytes invalid length="+z.length);return{c0:p.fromBytes(z.subarray(0,p.BYTES)),c1:p.fromBytes(z.subarray(p.BYTES,2*p.BYTES)),c2:p.fromBytes(z.subarray(2*p.BYTES))}},toBytes:({c0:z,c1:W,c2:V})=>wt(p.toBytes(z),p.toBytes(W),p.toBytes(V)),cmov:({c0:z,c1:W,c2:V},{c0:Q,c1:Z,c2:G},Y)=>({c0:p.cmov(z,Q,Y),c1:p.cmov(W,Z,Y),c2:p.cmov(V,G,Y)}),fromBigSix:z=>{if(!Array.isArray(z)||z.length!==6)throw new Error("invalid Fp6 usage");return{c0:p.fromBigTuple(z.slice(0,2)),c1:p.fromBigTuple(z.slice(2,4)),c2:p.fromBigTuple(z.slice(4,6))}},frobeniusMap:({c0:z,c1:W,c2:V},Q)=>({c0:p.frobeniusMap(z,Q),c1:p.mul(p.frobeniusMap(W,Q),S[Q%6]),c2:p.mul(p.frobeniusMap(V,Q),R[Q%6])}),mulByFp2:({c0:z,c1:W,c2:V},Q)=>({c0:p.mul(z,Q),c1:p.mul(W,Q),c2:p.mul(V,Q)}),mulByNonresidue:({c0:z,c1:W,c2:V})=>({c0:p.mulByNonresidue(V),c1:z,c2:W}),mul1:({c0:z,c1:W,c2:V},Q)=>({c0:p.mulByNonresidue(p.mul(V,Q)),c1:p.mul(z,Q),c2:p.mul(W,Q)}),mul01({c0:z,c1:W,c2:V},Q,Z){let G=p.mul(z,Q),Y=p.mul(W,Z);return{c0:p.add(p.mulByNonresidue(p.sub(p.mul(p.add(W,V),Z),Y)),G),c1:p.sub(p.sub(p.mul(p.add(Q,Z),p.add(z,W)),G),Y),c2:p.add(p.sub(p.mul(p.add(z,V),Q),G),Y)}}},F=Vf(p,g,n.ORDER,12,1,6)[0],C=({c0:z,c1:W},{c0:V,c1:Q})=>({c0:N.add(z,V),c1:N.add(W,Q)}),I=({c0:z,c1:W},{c0:V,c1:Q})=>({c0:N.sub(z,V),c1:N.sub(W,Q)}),U=({c0:z,c1:W},V)=>{if(typeof V=="bigint")return{c0:N.mul(z,V),c1:N.mul(W,V)};let{c0:Q,c1:Z}=V,G=N.mul(z,Q),Y=N.mul(W,Z);return{c0:N.add(G,N.mulByNonresidue(Y)),c1:N.sub(N.mul(N.add(z,W),N.add(Q,Z)),N.add(G,Y))}},H=({c0:z,c1:W})=>{let V=N.mul(z,W);return{c0:N.sub(N.sub(N.mul(N.add(N.mulByNonresidue(W),z),N.add(z,W)),V),N.mulByNonresidue(V)),c1:N.add(V,V)}};function ie(z,W){const V=p.sqr(z),Q=p.sqr(W);return{first:p.add(p.mulByNonresidue(Q),V),second:p.sub(p.sub(p.sqr(p.add(z,W)),V),Q)}}const oe={ORDER:p.ORDER,isLE:N.isLE,BITS:2*p.BITS,BYTES:2*p.BYTES,MASK:Kc(2*p.BITS),ZERO:{c0:N.ZERO,c1:N.ZERO},ONE:{c0:N.ONE,c1:N.ZERO},create:z=>z,isValid:({c0:z,c1:W})=>N.isValid(z)&&N.isValid(W),is0:({c0:z,c1:W})=>N.is0(z)&&N.is0(W),neg:({c0:z,c1:W})=>({c0:N.neg(z),c1:N.neg(W)}),eql:({c0:z,c1:W},{c0:V,c1:Q})=>N.eql(z,V)&&N.eql(W,Q),sqrt:dy,inv:({c0:z,c1:W})=>{let V=N.inv(N.sub(N.sqr(z),N.mulByNonresidue(N.sqr(W))));return{c0:N.mul(z,V),c1:N.neg(N.mul(W,V))}},div:(z,W)=>oe.mul(z,typeof W=="bigint"?n.inv(n.create(W)):oe.inv(W)),pow:(z,W)=>Yc(oe,z,W),invertBatch:z=>Xc(oe,z),add:C,sub:I,mul:U,sqr:H,addN:C,subN:I,mulN:U,sqrN:H,fromBytes:z=>{if(z.length!==oe.BYTES)throw new Error("fromBytes invalid length="+z.length);return{c0:N.fromBytes(z.subarray(0,N.BYTES)),c1:N.fromBytes(z.subarray(N.BYTES))}},toBytes:({c0:z,c1:W})=>wt(N.toBytes(z),N.toBytes(W)),cmov:({c0:z,c1:W},{c0:V,c1:Q},Z)=>({c0:N.cmov(z,V,Z),c1:N.cmov(W,Q,Z)}),fromBigTwelve:z=>({c0:N.fromBigSix(z.slice(0,6)),c1:N.fromBigSix(z.slice(6,12))}),frobeniusMap(z,W){const{c0:V,c1:Q,c2:Z}=N.frobeniusMap(z.c1,W),G=F[W%12];return{c0:N.frobeniusMap(z.c0,W),c1:N.create({c0:p.mul(V,G),c1:p.mul(Q,G),c2:p.mul(Z,G)})}},mulByFp2:({c0:z,c1:W},V)=>({c0:N.mulByFp2(z,V),c1:N.mulByFp2(W,V)}),conjugate:({c0:z,c1:W})=>({c0:z,c1:N.neg(W)}),mul014:({c0:z,c1:W},V,Q,Z)=>{let G=N.mul01(z,V,Q),Y=N.mul1(W,Z);return{c0:N.add(N.mulByNonresidue(Y),G),c1:N.sub(N.sub(N.mul01(N.add(W,z),V,p.add(Q,Z)),G),Y)}},mul034:({c0:z,c1:W},V,Q,Z)=>{const G=N.create({c0:p.mul(z.c0,V),c1:p.mul(z.c1,V),c2:p.mul(z.c2,V)}),Y=N.mul01(W,Q,Z),ce=N.mul01(N.add(z,W),p.add(V,Q),Z);return{c0:N.add(N.mulByNonresidue(Y),G),c1:N.sub(ce,N.add(G,Y))}},_cyclotomicSquare:t.Fp12cyclotomicSquare,_cyclotomicExp:t.Fp12cyclotomicExp,finalExponentiate:t.Fp12finalExponentiate};return{Fp:n,Fp2:p,Fp6:N,Fp4Square:ie,Fp12:oe}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const en=BigInt(0),nd=BigInt(1),Bt=BigInt(2),dc=BigInt(3),za=BigInt(4),mi=BigInt("0xd201000000010000"),o8=Ua(mi),{Fp:ve,Fp2:ke,Fp6:v0,Fp4Square:Hf,Fp12:Ie}=s8({ORDER:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),FP2_NONRESIDUE:[nd,nd],Fp2mulByB:({c0:t,c1:e})=>{const n=ve.mul(t,za),r=ve.mul(e,za);return{c0:ve.sub(n,r),c1:ve.add(n,r)}},Fp12cyclotomicSquare:({c0:t,c1:e})=>{const{c0:n,c1:r,c2:i}=t,{c0:s,c1:o,c2:a}=e,{first:l,second:c}=Hf(n,o),{first:d,second:f}=Hf(s,i),{first:h,second:g}=Hf(r,a),p=ke.mulByNonresidue(g);return{c0:v0.create({c0:ke.add(ke.mul(ke.sub(l,n),Bt),l),c1:ke.add(ke.mul(ke.sub(d,r),Bt),d),c2:ke.add(ke.mul(ke.sub(h,i),Bt),h)}),c1:v0.create({c0:ke.add(ke.mul(ke.add(p,s),Bt),p),c1:ke.add(ke.mul(ke.add(c,o),Bt),c),c2:ke.add(ke.mul(ke.add(f,a),Bt),f)})}},Fp12cyclotomicExp(t,e){let n=Ie.ONE;for(let r=o8-1;r>=0;r--)n=Ie._cyclotomicSquare(n),M3(e,r)&&(n=Ie.mul(n,t));return n},Fp12finalExponentiate:t=>{const e=mi,n=Ie.div(Ie.frobeniusMap(t,6),t),r=Ie.mul(Ie.frobeniusMap(n,2),n),i=Ie.conjugate(Ie._cyclotomicExp(r,e)),s=Ie.mul(Ie.conjugate(Ie._cyclotomicSquare(r)),i),o=Ie.conjugate(Ie._cyclotomicExp(s,e)),a=Ie.conjugate(Ie._cyclotomicExp(o,e)),l=Ie.mul(Ie.conjugate(Ie._cyclotomicExp(a,e)),Ie._cyclotomicSquare(i)),c=Ie.conjugate(Ie._cyclotomicExp(l,e)),d=Ie.frobeniusMap(Ie.mul(i,a),2),f=Ie.frobeniusMap(Ie.mul(o,r),3),h=Ie.frobeniusMap(Ie.mul(l,Ie.conjugate(r)),1),g=Ie.mul(Ie.mul(c,Ie.conjugate(s)),r);return Ie.mul(Ie.mul(Ie.mul(d,f),h),g)}}),vy=Ml(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),a8=uv(ke,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(t=>t.map(e=>ke.fromBigTuple(e.map(BigInt))))),l8=uv(ve,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),c8=mv(ke,{A:ke.create({c0:ve.create(en),c1:ve.create(BigInt(240))}),B:ke.create({c0:ve.create(BigInt(1012)),c1:ve.create(BigInt(1012))}),Z:ke.create({c0:ve.create(BigInt(-2)),c1:ve.create(BigInt(-1))})}),u8=mv(ve,{A:ve.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:ve.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:ve.create(BigInt(11))}),{G2psi:Ey,G2psi2:d8}=i8(ve,ke,ke.div(ke.ONE,ke.NONRESIDUE)),Wf=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:ve.ORDER,m:2,k:128,expand:"xmd",hash:Xp}),rd=hl(ve.toBytes(en),{infinity:!0,compressed:!0});function fc(t){t=t.slice();const e=t[0]&224,n=!!(e>>7&1),r=!!(e>>6&1),i=!!(e>>5&1);return t[0]&=31,{compressed:n,infinity:r,sort:i,value:t}}function hl(t,e){if(t[0]&224)throw new Error("setMask: non-empty mask");return e.compressed&&(t[0]|=128),e.infinity&&(t[0]|=64),e.sort&&(t[0]|=32),t}function Sy(t){t.assertValidity();const e=t.equals(Bn.G1.ProjectivePoint.ZERO),{x:n,y:r}=t.toAffine();if(e)return rd.slice();const i=ve.ORDER,s=!!(r*Bt/i);return hl(Mt(n,ve.BYTES),{compressed:!0,sort:s})}function ky(t){t.assertValidity();const e=ve.BYTES;if(t.equals(Bn.G2.ProjectivePoint.ZERO))return wt(rd,Mt(en,e));const{x:n,y:r}=t.toAffine(),{re:i,im:s}=ke.reim(n),{re:o,im:a}=ke.reim(r),c=!!((a>en?a*Bt:o*Bt)/ve.ORDER&nd),d=i;return wt(hl(Mt(s,e),{sort:c,compressed:!0}),Mt(d,e))}const Bn=n8({fields:{Fp:ve,Fp2:ke,Fp6:v0,Fp12:Ie,Fr:vy},G1:{Fp:ve,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:ve.ZERO,b:za,htfDefaults:{...Wf,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(t,e)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),r=new t(ve.mul(e.px,n),e.py,e.pz);return e.multiplyUnsafe(mi).negate().multiplyUnsafe(mi).equals(r)},clearCofactor:(t,e)=>e.multiplyUnsafe(mi).add(e),mapToCurve:t=>{const{x:e,y:n}=u8(ve.create(t[0]));return l8(e,n)},fromBytes:t=>{const{compressed:e,infinity:n,sort:r,value:i}=fc(t);if(i.length===48&&e){const s=ve.ORDER,o=Xn(i),a=ve.create(o&ve.MASK);if(n){if(a!==en)throw new Error("G1: non-empty compressed point at infinity");return{x:en,y:en}}const l=ve.add(ve.pow(a,dc),ve.create(Bn.params.G1b));let c=ve.sqrt(l);if(!c)throw new Error("invalid compressed G1 point");return c*Bt/s!==BigInt(r)&&(c=ve.neg(c)),{x:ve.create(a),y:ve.create(c)}}else if(i.length===96&&!e){const s=Xn(i.subarray(0,ve.BYTES)),o=Xn(i.subarray(ve.BYTES));if(n){if(s!==en||o!==en)throw new Error("G1: non-empty point at infinity");return Bn.G1.ProjectivePoint.ZERO.toAffine()}return{x:ve.create(s),y:ve.create(o)}}else throw new Error("invalid point G1, expected 48/96 bytes")},toBytes:(t,e,n)=>{const r=e.equals(t.ZERO),{x:i,y:s}=e.toAffine();if(n){if(r)return rd.slice();const o=ve.ORDER,a=!!(s*Bt/o);return hl(Mt(i,ve.BYTES),{compressed:!0,sort:a})}else return r?wt(new Uint8Array([64]),new Uint8Array(2*ve.BYTES-1)):wt(Mt(i,ve.BYTES),Mt(s,ve.BYTES))},ShortSignature:{fromHex(t){const{infinity:e,sort:n,value:r}=fc(nn("signatureHex",t,48)),i=ve.ORDER,s=Xn(r);if(e)return Bn.G1.ProjectivePoint.ZERO;const o=ve.create(s&ve.MASK),a=ve.add(ve.pow(o,dc),ve.create(Bn.params.G1b));let l=ve.sqrt(a);if(!l)throw new Error("invalid compressed G1 point");const c=BigInt(n);l*Bt/i!==c&&(l=ve.neg(l));const d=Bn.G1.ProjectivePoint.fromAffine({x:o,y:l});return d.assertValidity(),d},toRawBytes(t){return Sy(t)},toHex(t){return Cs(Sy(t))}}},G2:{Fp:ke,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:ke.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:ke.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:ke.ZERO,b:ke.fromBigTuple([za,za]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Wf},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:t=>{const{x:e,y:n}=c8(ke.fromBigTuple(t));return a8(e,n)},isTorsionFree:(t,e)=>e.multiplyUnsafe(mi).negate().equals(Ey(t,e)),clearCofactor:(t,e)=>{const n=mi;let r=e.multiplyUnsafe(n).negate(),i=Ey(t,e),s=e.double();return s=d8(t,s),s=s.subtract(i),i=r.add(i),i=i.multiplyUnsafe(n).negate(),s=s.add(i),s=s.subtract(r),s.subtract(e)},fromBytes:t=>{const{compressed:e,infinity:n,sort:r,value:i}=fc(t);if(!e&&!n&&r||!e&&n&&r||r&&n&&e)throw new Error("invalid encoding flag: "+(t[0]&224));const s=ve.BYTES,o=(a,l,c)=>Xn(a.slice(l,c));if(i.length===96&&e){const a=Bn.params.G2b,l=ve.ORDER;if(n){if(i.reduce((v,E)=>v!==0?E+1:E,0)>0)throw new Error("invalid compressed G2 point");return{x:ke.ZERO,y:ke.ZERO}}const c=o(i,0,s),d=o(i,s,2*s),f=ke.create({c0:ve.create(d),c1:ve.create(c)}),h=ke.add(ke.pow(f,dc),a);let g=ke.sqrt(h);const p=g.c1===en?g.c0*Bt/l:g.c1*Bt/l?nd:en;return g=r&&p>0?g:ke.neg(g),{x:f,y:g}}else if(i.length===192&&!e){if(n){if(i.reduce((f,h)=>f!==0?h+1:h,0)>0)throw new Error("invalid uncompressed G2 point");return{x:ke.ZERO,y:ke.ZERO}}const a=o(i,0,s),l=o(i,s,2*s),c=o(i,2*s,3*s),d=o(i,3*s,4*s);return{x:ke.fromBigTuple([l,a]),y:ke.fromBigTuple([d,c])}}else throw new Error("invalid point G2, expected 96/192 bytes")},toBytes:(t,e,n)=>{const{BYTES:r,ORDER:i}=ve,s=e.equals(t.ZERO),{x:o,y:a}=e.toAffine();if(n){if(s)return wt(rd,Mt(en,r));const l=!!(a.c1===en?a.c0*Bt/i:a.c1*Bt/i);return wt(hl(Mt(o.c1,r),{compressed:!0,sort:l}),Mt(o.c0,r))}else{if(s)return wt(new Uint8Array([64]),new Uint8Array(4*r-1));const{re:l,im:c}=ke.reim(o),{re:d,im:f}=ke.reim(a);return wt(Mt(c,r),Mt(l,r),Mt(f,r),Mt(d,r))}},Signature:{fromHex(t){const{infinity:e,sort:n,value:r}=fc(nn("signatureHex",t)),i=ve.ORDER,s=r.length/2;if(s!==48&&s!==96)throw new Error("invalid compressed signature length, must be 96 or 192");const o=Xn(r.slice(0,s)),a=Xn(r.slice(s));if(e)return Bn.G2.ProjectivePoint.ZERO;const l=ve.create(o&ve.MASK),c=ve.create(a),d=ke.create({c0:c,c1:l}),f=ke.add(ke.pow(d,dc),Bn.params.G2b);let h=ke.sqrt(f);if(!h)throw new Error("Failed to find a square root");const{re:g,im:p}=ke.reim(h),v=BigInt(n),E=p>en&&p*Bt/i!==v,b=p===en&&g*Bt/i!==v;(E||b)&&(h=ke.neg(h));const w=Bn.G2.ProjectivePoint.fromAffine({x:d,y:h});return w.assertValidity(),w},toRawBytes(t){return ky(t)},toHex(t){return Cs(ky(t))}}},params:{ateLoopSize:mi,r:vy.ORDER,xNegative:!0,twistType:"multiplicative"},htfDefaults:Wf,hash:Xp,randomBytes:H1});function f8(t,e,n){const r=typeof t=="string"?t:Ut(t),i=typeof e=="string"?e:Ut(e),s=typeof n=="string"?n:Ut(n);return Bn.verifyShortSignature(i,s,r)}const yv=t=>Ct(new Vo(t)),ug=t=>{const e=yv(t);return new Date(Number(e)/1e6)};class xr extends kt{constructor(e){super(`Invalid certificate: ${e}`)}}var vn;(function(t){t[t.Empty=0]="Empty",t[t.Fork=1]="Fork",t[t.Labeled=2]="Labeled",t[t.Leaf=3]="Leaf",t[t.Pruned=4]="Pruned"})(vn||(vn={}));function h8(t,e){const n=new Uint8Array(t),r=new Uint8Array(e);for(let i=0;i<n.length;i++)if(n[i]>r[i])return!0;return!1}class bs{constructor(e,n,r,i,s=5){this._rootKey=n,this._canisterId=r,this._blsVerify=i,this._maxAgeInMinutes=s,this.cert=Vr(new Uint8Array(e))}static async create(e){const n=bs.createUnverified(e);return await n.verify(),n}static createUnverified(e){let n=e.blsVerify;return n||(n=f8),new bs(e.certificate,e.rootKey,e.canisterId,n,e.maxAgeInMinutes)}lookup(e){return Po(e,this.cert.tree)}lookup_label(e){return this.lookup([e])}async verify(){const e=await Zc(this.cert.tree),n=await this._checkDelegationAndGetKey(this.cert.delegation),r=this.cert.signature,i=g8(n),s=tr(pa("ic-state-root"),e);let o=!1;const a=Fn(this.lookup(["time"]));if(!a)throw new xr("Certificate does not contain a time");const l=5*60*1e3,c=this._maxAgeInMinutes*60*1e3,d=Date.now(),f=d-c,h=d+l,g=ug(a);if(g.getTime()<f)throw new xr(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+g.toISOString()+" Current time: "+new Date(d).toISOString());if(g.getTime()>h)throw new xr("Certificate is signed more than 5 minutes in the future. Certificate time: "+g.toISOString()+" Current time: "+new Date(d).toISOString());try{o=await this._blsVerify(new Uint8Array(i),new Uint8Array(r),new Uint8Array(s))}catch{o=!1}if(!o)throw new xr("Signature verification failed")}async _checkDelegationAndGetKey(e){if(!e)return this._rootKey;const n=await bs.createUnverified({certificate:e.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(n.cert.delegation)throw new xr("Delegation certificates cannot be nested");if(await n.verify(),this._canisterId.toString()!==l6&&!xv({canisterId:this._canisterId,subnetId:Re.fromUint8Array(new Uint8Array(e.subnet_id)),tree:n.cert.tree}))throw new xr(`Canister ${this._canisterId} not in range of delegations for subnet 0x${Ut(e.subnet_id)}`);const r=Fn(n.lookup(["subnet",e.subnet_id,"public_key"]));if(!r)throw new Error(`Could not find subnet key for subnet 0x${Ut(e.subnet_id)}`);return r}}const na=Yr("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),p8=96;function g8(t){const e=na.byteLength+p8;if(t.byteLength!==e)throw new TypeError(`BLS DER-encoded public key must be ${e} bytes long`);const n=t.slice(0,na.byteLength);if(!Md(n,na))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${na}, but get ${n}`);return t.slice(na.byteLength)}function Fn(t){if(t.status===Et.Found){if(t.value instanceof ArrayBuffer)return t.value;if(t.value instanceof Uint8Array)return t.value.buffer}}async function Zc(t){switch(t[0]){case vn.Empty:return Qn(pa("ic-hashtree-empty"));case vn.Pruned:return t[1];case vn.Leaf:return Qn(tr(pa("ic-hashtree-leaf"),t[1]));case vn.Labeled:return Qn(tr(pa("ic-hashtree-labeled"),t[1],await Zc(t[2])));case vn.Fork:return Qn(tr(pa("ic-hashtree-fork"),await Zc(t[1]),await Zc(t[2])));default:throw new Error("unreachable")}}function pa(t){const e=new Uint8Array([t.length]),n=new TextEncoder().encode(t);return tr(e,n)}var Et;(function(t){t.Unknown="unknown",t.Absent="absent",t.Found="found"})(Et||(Et={}));var Lr;(function(t){t.Less="less",t.Greater="greater"})(Lr||(Lr={}));function Po(t,e){if(t.length===0)switch(e[0]){case vn.Leaf:{if(!e[1])throw new Error("Invalid tree structure for leaf");return e[1]instanceof ArrayBuffer?{status:Et.Found,value:e[1]}:e[1]instanceof Uint8Array?{status:Et.Found,value:e[1].buffer}:{status:Et.Found,value:e[1]}}default:return{status:Et.Found,value:e}}const n=typeof t[0]=="string"?new TextEncoder().encode(t[0]):t[0],r=Qc(n,e);switch(r.status){case Et.Found:return Po(t.slice(1),r.value);case Lr.Greater:case Lr.Less:return{status:Et.Absent};default:return r}}function E0(t){switch(t[0]){case vn.Empty:return[];case vn.Fork:return E0(t[1]).concat(E0(t[2]));default:return[t]}}function Qc(t,e){switch(e[0]){case vn.Labeled:return h8(t,e[1])?{status:Lr.Greater}:Md(t,e[1])?{status:Et.Found,value:e[2]}:{status:Lr.Less};case vn.Fork:const n=Qc(t,e[1]);switch(n.status){case Lr.Greater:{const r=Qc(t,e[2]);return r.status===Lr.Less?{status:Et.Absent}:r}case Et.Unknown:{let r=Qc(t,e[2]);return r.status===Lr.Less?{status:Et.Unknown}:r}default:return n}case vn.Pruned:return{status:Et.Unknown};default:return{status:Et.Absent}}}function xv(t){const{canisterId:e,subnetId:n,tree:r}=t,i=Po(["subnet",n.toUint8Array(),"canister_ranges"],r);if(i.status!==Et.Found||!(i.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${n}`);return Vr(i.value).map(l=>[Re.fromUint8Array(l[0]),Re.fromUint8Array(l[1])]).some(l=>l[0].ltEq(e)&&l[1].gtEq(e))}class m8{constructor(e,n,r){this.key=e,this.path=n,this.decodeStrategy=r}}const bv=async t=>{const{agent:e,paths:n}=t,r=Re.from(t.canisterId),i=[...new Set(n)],s=i.map(l=>S0(l,r)),o=new Map,a=i.map((l,c)=>(async()=>{var d;try{const f=await e.readState(r,{paths:[s[c]]}),h=await bs.create({certificate:f.certificate,rootKey:e.rootKey,canisterId:r}),g=(E,b)=>{if(b==="subnet"){const w=wv(f.certificate,r,e.rootKey);return{path:b,data:w}}else return{path:b,data:Fn(E.lookup(S0(b,r)))}},{path:p,data:v}=g(h,i[c]);if(!v)console.warn(`Expected to find result for path ${p}, but instead found nothing.`),typeof p=="string"?o.set(p,null):o.set(p.key,null);else switch(p){case"time":{o.set(p,ug(v));break}case"controllers":{o.set(p,x8(v));break}case"module_hash":{o.set(p,Ny(v));break}case"subnet":{o.set(p,v);break}case"candid":{o.set(p,new TextDecoder().decode(v));break}default:if(typeof p!="string"&&"key"in p&&"path"in p)switch(p.decodeStrategy){case"raw":o.set(p.key,v);break;case"leb128":{o.set(p.key,yv(v));break}case"cbor":{o.set(p.key,_v(v));break}case"hex":{o.set(p.key,Ny(v));break}case"utf-8":o.set(p.key,y8(v))}}}catch(f){if(!((d=f==null?void 0:f.message)===null||d===void 0)&&d.includes("Invalid certificate"))throw new kt(f.message);typeof l!="string"&&"key"in l&&"path"in l?o.set(l.key,null):o.set(l,null),console.group(),console.warn(`Expected to find result for path ${l}, but instead found nothing.`),console.warn(f),console.groupEnd()}})());return await Promise.all(a),o},wv=(t,e,n)=>{if(!e._isPrincipal)throw new Error("Invalid canisterId");const r=Vr(new Uint8Array(t)),i=r.tree;let s=r.delegation,o;if(s&&s.subnet_id?o=Re.fromUint8Array(new Uint8Array(s.subnet_id)):!s&&typeof n<"u"?(o=Re.selfAuthenticating(new Uint8Array(n)),s={subnet_id:o.toUint8Array(),certificate:new ArrayBuffer(0)}):(o=Re.selfAuthenticating(Re.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),s={subnet_id:o.toUint8Array(),certificate:new ArrayBuffer(0)}),!xv({canisterId:e,subnetId:o,tree:i}))throw new Error("Canister not in range");const l=Po(["subnet",s.subnet_id,"node"],i);if(l.status!==Et.Found)throw new Error("Node not found");if(l.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const c=E0(l.value),d=new Map;return c.forEach(f=>{const h=Re.from(new Uint8Array(f[1])).toText(),g=Po(["public_key"],f[2]);if(g.status!==Et.Found)throw new Error("Public key not found");const p=g.value;if(p.byteLength!==44)throw new Error("Invalid public key length");d.set(h,p)}),{subnetId:Re.fromUint8Array(new Uint8Array(s.subnet_id)).toText(),nodeKeys:d}},S0=(t,e)=>{const n=new TextEncoder,r=s=>new DataView(n.encode(s).buffer).buffer,i=new DataView(e.toUint8Array().buffer).buffer;switch(t){case"time":return[r("time")];case"controllers":return[r("canister"),i,r("controllers")];case"module_hash":return[r("canister"),i,r("module_hash")];case"subnet":return[r("subnet")];case"candid":return[r("canister"),i,r("metadata"),r("candid:service")];default:if("key"in t&&"path"in t)if(typeof t.path=="string"||t.path instanceof ArrayBuffer){const s=t.path,o=typeof s=="string"?r(s):s;return[r("canister"),i,r("metadata"),o]}else return t.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${t} was formatted correctly.`)},Ny=t=>Ut(t),_v=t=>Vr(t),y8=t=>new TextDecoder().decode(t),x8=t=>_v(t).map(n=>Re.fromUint8Array(new Uint8Array(n))),b8=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:m8,encodePath:S0,fetchNodeKeys:wv,request:bv},Symbol.toStringTag,{value:"Module"})),hc=BigInt(2**32-1),k0=BigInt(32);function vv(t,e=!1){return e?{h:Number(t&hc),l:Number(t>>k0&hc)}:{h:Number(t>>k0&hc)|0,l:Number(t&hc)|0}}function w8(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=vv(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const _8=(t,e)=>BigInt(t>>>0)<<k0|BigInt(e>>>0),v8=(t,e,n)=>t>>>n,E8=(t,e,n)=>t<<32-n|e>>>n,S8=(t,e,n)=>t>>>n|e<<32-n,k8=(t,e,n)=>t<<32-n|e>>>n,N8=(t,e,n)=>t<<64-n|e>>>n-32,T8=(t,e,n)=>t>>>n-32|e<<64-n,A8=(t,e)=>e,j8=(t,e)=>t,C8=(t,e,n)=>t<<n|e>>>32-n,B8=(t,e,n)=>e<<n|t>>>32-n,R8=(t,e,n)=>e<<n-32|t>>>64-n,P8=(t,e,n)=>t<<n-32|e>>>64-n;function O8(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const F8=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),M8=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,I8=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),U8=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,z8=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),L8=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Be={fromBig:vv,split:w8,toBig:_8,shrSH:v8,shrSL:E8,rotrSH:S8,rotrSL:k8,rotrBH:N8,rotrBL:T8,rotr32H:A8,rotr32L:j8,rotlSH:C8,rotlSL:B8,rotlBH:R8,rotlBL:P8,add:O8,add3L:F8,add3H:M8,add4L:I8,add4H:U8,add5H:L8,add5L:z8},[$8,D8]=Be.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),li=new Uint32Array(80),ci=new Uint32Array(80);class V8 extends W1{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:d,Fh:f,Fl:h,Gh:g,Gl:p,Hh:v,Hl:E}=this;return[e,n,r,i,s,o,a,l,c,d,f,h,g,p,v,E]}set(e,n,r,i,s,o,a,l,c,d,f,h,g,p,v,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=f|0,this.Fl=h|0,this.Gh=g|0,this.Gl=p|0,this.Hh=v|0,this.Hl=E|0}process(e,n){for(let S=0;S<16;S++,n+=4)li[S]=e.getUint32(n),ci[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const R=li[S-15]|0,N=ci[S-15]|0,F=Be.rotrSH(R,N,1)^Be.rotrSH(R,N,8)^Be.shrSH(R,N,7),C=Be.rotrSL(R,N,1)^Be.rotrSL(R,N,8)^Be.shrSL(R,N,7),I=li[S-2]|0,U=ci[S-2]|0,H=Be.rotrSH(I,U,19)^Be.rotrBH(I,U,61)^Be.shrSH(I,U,6),ie=Be.rotrSL(I,U,19)^Be.rotrBL(I,U,61)^Be.shrSL(I,U,6),oe=Be.add4L(C,ie,ci[S-7],ci[S-16]),z=Be.add4H(oe,F,H,li[S-7],li[S-16]);li[S]=z|0,ci[S]=oe|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:d,Eh:f,El:h,Fh:g,Fl:p,Gh:v,Gl:E,Hh:b,Hl:w}=this;for(let S=0;S<80;S++){const R=Be.rotrSH(f,h,14)^Be.rotrSH(f,h,18)^Be.rotrBH(f,h,41),N=Be.rotrSL(f,h,14)^Be.rotrSL(f,h,18)^Be.rotrBL(f,h,41),F=f&g^~f&v,C=h&p^~h&E,I=Be.add5L(w,N,C,D8[S],ci[S]),U=Be.add5H(I,b,R,F,$8[S],li[S]),H=I|0,ie=Be.rotrSH(r,i,28)^Be.rotrBH(r,i,34)^Be.rotrBH(r,i,39),oe=Be.rotrSL(r,i,28)^Be.rotrBL(r,i,34)^Be.rotrBL(r,i,39),z=r&s^r&a^s&a,W=i&o^i&l^o&l;b=v|0,w=E|0,v=g|0,E=p|0,g=f|0,p=h|0,{h:f,l:h}=Be.add(c|0,d|0,U|0,H|0),c=a|0,d=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const V=Be.add3L(H,oe,W);r=Be.add3H(V,U,ie,z),i=V|0}({h:r,l:i}=Be.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Be.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Be.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Be.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:f,l:h}=Be.add(this.Eh|0,this.El|0,f|0,h|0),{h:g,l:p}=Be.add(this.Fh|0,this.Fl|0,g|0,p|0),{h:v,l:E}=Be.add(this.Gh|0,this.Gl|0,v|0,E|0),{h:b,l:w}=Be.add(this.Hh|0,this.Hl|0,b|0,w|0),this.set(r,i,s,o,a,l,c,d,f,h,g,p,v,E,b,w)}roundClean(){li.fill(0),ci.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const H8=Yp(()=>new V8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hn=BigInt(0),an=BigInt(1),pc=BigInt(2),W8=BigInt(8),q8={zip215:!0};function G8(t){const e=gv(t);return Fl(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function K8(t){const e=G8(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=pc<<BigInt(a*8)-an,d=n.create,f=Ml(e.n,e.nBitLength),h=e.uvRatio||((Q,Z)=>{try{return{isValid:!0,value:n.sqrt(Q*n.inv(Z))}}catch{return{isValid:!1,value:Hn}}}),g=e.adjustScalarBytes||(Q=>Q),p=e.domain||((Q,Z,G)=>{if(Ma("phflag",G),Z.length||G)throw new Error("Contexts/pre-hash are not supported");return Q});function v(Q,Z){vi("coordinate "+Q,Z,Hn,c)}function E(Q){if(!(Q instanceof S))throw new Error("ExtendedPoint expected")}const b=dl((Q,Z)=>{const{ex:G,ey:Y,ez:ce}=Q,se=Q.is0();Z==null&&(Z=se?W8:n.inv(ce));const ue=d(G*Z),ae=d(Y*Z),j=d(ce*Z);if(se)return{x:Hn,y:an};if(j!==an)throw new Error("invZ was invalid");return{x:ue,y:ae}}),w=dl(Q=>{const{a:Z,d:G}=e;if(Q.is0())throw new Error("bad point: ZERO");const{ex:Y,ey:ce,ez:se,et:ue}=Q,ae=d(Y*Y),j=d(ce*ce),le=d(se*se),he=d(le*le),me=d(ae*Z),de=d(le*d(me+j)),ge=d(he+d(G*d(ae*j)));if(de!==ge)throw new Error("bad point: equation left != right (1)");const B=d(Y*ce),O=d(se*ue);if(B!==O)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(Z,G,Y,ce){this.ex=Z,this.ey=G,this.ez=Y,this.et=ce,v("x",Z),v("y",G),v("z",Y),v("t",ce),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Z){if(Z instanceof S)throw new Error("extended point not allowed");const{x:G,y:Y}=Z||{};return v("x",G),v("y",Y),new S(G,Y,an,d(G*Y))}static normalizeZ(Z){const G=n.invertBatch(Z.map(Y=>Y.ez));return Z.map((Y,ce)=>Y.toAffine(G[ce])).map(S.fromAffine)}static msm(Z,G){return pv(S,f,Z,G)}_setWindowSize(Z){F.setWindowSize(this,Z)}assertValidity(){w(this)}equals(Z){E(Z);const{ex:G,ey:Y,ez:ce}=this,{ex:se,ey:ue,ez:ae}=Z,j=d(G*ae),le=d(se*ce),he=d(Y*ae),me=d(ue*ce);return j===le&&he===me}is0(){return this.equals(S.ZERO)}negate(){return new S(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:Z}=e,{ex:G,ey:Y,ez:ce}=this,se=d(G*G),ue=d(Y*Y),ae=d(pc*d(ce*ce)),j=d(Z*se),le=G+Y,he=d(d(le*le)-se-ue),me=j+ue,de=me-ae,ge=j-ue,B=d(he*de),O=d(me*ge),L=d(he*ge),J=d(de*me);return new S(B,O,J,L)}add(Z){E(Z);const{a:G,d:Y}=e,{ex:ce,ey:se,ez:ue,et:ae}=this,{ex:j,ey:le,ez:he,et:me}=Z;if(G===BigInt(-1)){const P=d((se-ce)*(le+j)),D=d((se+ce)*(le-j)),te=d(D-P);if(te===Hn)return this.double();const fe=d(ue*pc*me),be=d(ae*pc*he),_e=be+fe,Ae=D+P,T=be-fe,x=d(_e*te),_=d(Ae*T),M=d(_e*T),X=d(te*Ae);return new S(x,_,X,M)}const de=d(ce*j),ge=d(se*le),B=d(ae*Y*me),O=d(ue*he),L=d((ce+se)*(j+le)-de-ge),J=O-B,K=O+B,ee=d(ge-G*de),k=d(L*J),m=d(K*ee),y=d(L*ee),A=d(J*K);return new S(k,m,A,y)}subtract(Z){return this.add(Z.negate())}wNAF(Z){return F.wNAFCached(this,Z,S.normalizeZ)}multiply(Z){const G=Z;vi("scalar",G,an,r);const{p:Y,f:ce}=this.wNAF(G);return S.normalizeZ([Y,ce])[0]}multiplyUnsafe(Z,G=S.ZERO){const Y=Z;return vi("scalar",Y,Hn,r),Y===Hn?N:this.is0()||Y===an?this:F.wNAFCachedUnsafe(this,Y,S.normalizeZ,G)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return F.unsafeLadder(this,r).is0()}toAffine(Z){return b(this,Z)}clearCofactor(){const{h:Z}=e;return Z===an?this:this.multiplyUnsafe(Z)}static fromHex(Z,G=!1){const{d:Y,a:ce}=e,se=n.BYTES;Z=nn("pointHex",Z,se),Ma("zip215",G);const ue=Z.slice(),ae=Z[se-1];ue[se-1]=ae&-129;const j=Ia(ue),le=G?c:n.ORDER;vi("pointHex.y",j,Hn,le);const he=d(j*j),me=d(he-an),de=d(Y*he-ce);let{isValid:ge,value:B}=h(me,de);if(!ge)throw new Error("Point.fromHex: invalid y coordinate");const O=(B&an)===an,L=(ae&128)!==0;if(!G&&B===Hn&&L)throw new Error("Point.fromHex: x=0 and x_0=1");return L!==O&&(B=d(-B)),S.fromAffine({x:B,y:j})}static fromPrivateKey(Z){return U(Z).point}toRawBytes(){const{x:Z,y:G}=this.toAffine(),Y=ed(G,n.BYTES);return Y[Y.length-1]|=Z&an?128:0,Y}toHex(){return Cs(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,an,d(e.Gx*e.Gy)),S.ZERO=new S(Hn,an,an,Hn);const{BASE:R,ZERO:N}=S,F=hv(S,a*8);function C(Q){return ft(Q,r)}function I(Q){return C(Ia(Q))}function U(Q){const Z=n.BYTES;Q=nn("private key",Q,Z);const G=nn("hashed private key",s(Q),2*Z),Y=g(G.slice(0,Z)),ce=G.slice(Z,2*Z),se=I(Y),ue=R.multiply(se),ae=ue.toRawBytes();return{head:Y,prefix:ce,scalar:se,point:ue,pointBytes:ae}}function H(Q){return U(Q).pointBytes}function ie(Q=new Uint8Array,...Z){const G=wt(...Z);return I(s(p(G,nn("context",Q),!!i)))}function oe(Q,Z,G={}){Q=nn("message",Q),i&&(Q=i(Q));const{prefix:Y,scalar:ce,pointBytes:se}=U(Z),ue=ie(G.context,Y,Q),ae=R.multiply(ue).toRawBytes(),j=ie(G.context,ae,se,Q),le=C(ue+j*ce);vi("signature.s",le,Hn,r);const he=wt(ae,ed(le,n.BYTES));return nn("result",he,n.BYTES*2)}const z=q8;function W(Q,Z,G,Y=z){const{context:ce,zip215:se}=Y,ue=n.BYTES;Q=nn("signature",Q,2*ue),Z=nn("message",Z),G=nn("publicKey",G,ue),se!==void 0&&Ma("zip215",se),i&&(Z=i(Z));const ae=Ia(Q.slice(ue,2*ue));let j,le,he;try{j=S.fromHex(G,se),le=S.fromHex(Q.slice(0,ue),se),he=R.multiplyUnsafe(ae)}catch{return!1}if(!se&&j.isSmallOrder())return!1;const me=ie(ce,le.toRawBytes(),j.toRawBytes(),Z);return le.add(j.multiplyUnsafe(me)).subtract(he).clearCofactor().equals(S.ZERO)}return R._setWindowSize(8),{CURVE:e,getPublicKey:H,sign:oe,verify:W,ExtendedPoint:S,utils:{getExtendedPublicKey:U,randomPrivateKey:()=>o(n.BYTES),precompute(Q=8,Z=S.BASE){return Z._setWindowSize(Q),Z.multiply(BigInt(3)),Z}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dg=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ty=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Y8=BigInt(1),Ay=BigInt(2);BigInt(3);const X8=BigInt(5),Z8=BigInt(8);function Q8(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=dg,a=t*t%s*t%s,l=cr(a,Ay,s)*a%s,c=cr(l,Y8,s)*t%s,d=cr(c,X8,s)*c%s,f=cr(d,e,s)*d%s,h=cr(f,n,s)*f%s,g=cr(h,r,s)*h%s,p=cr(g,i,s)*g%s,v=cr(p,i,s)*g%s,E=cr(v,e,s)*d%s;return{pow_p_5_8:cr(E,Ay,s)*t%s,b2:a}}function J8(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function e6(t,e){const n=dg,r=ft(e*e*e,n),i=ft(r*r*e,n),s=Q8(t*i).pow_p_5_8;let o=ft(t*r*s,n);const a=ft(e*o*o,n),l=o,c=ft(o*Ty,n),d=a===t,f=a===ft(-t,n),h=a===ft(-t*Ty,n);return d&&(o=l),(f||h)&&(o=c),D3(o,n)&&(o=ft(-o,n)),{isValid:d||f,value:o}}const t6=Ml(dg,void 0,!0),n6={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:t6,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Z8,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:H8,randomBytes:H1,adjustScalarBytes:J8,uvRatio:e6},Gs=K8(n6);var jy=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Zt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Vt,ga,Ev,Sv;class r6{constructor(e={}){Vt.set(this,void 0),ga.set(this,void 0),this[Ev]=this.entries.bind(this),this[Sv]="ExpirableMap";const{source:n=[],expirationTime:r=10*60*1e3}=e,i=Date.now();jy(this,Vt,new Map([...n].map(([s,o])=>[s,{value:o,timestamp:i}])),"f"),jy(this,ga,r,"f")}prune(){const e=Date.now();for(const[n,r]of Zt(this,Vt,"f").entries())e-r.timestamp>Zt(this,ga,"f")&&Zt(this,Vt,"f").delete(n);return this}set(e,n){this.prune();const r={value:n,timestamp:Date.now()};return Zt(this,Vt,"f").set(e,r),this}get(e){const n=Zt(this,Vt,"f").get(e);if(n!==void 0){if(Date.now()-n.timestamp>Zt(this,ga,"f")){Zt(this,Vt,"f").delete(e);return}return n.value}}clear(){Zt(this,Vt,"f").clear()}entries(){const e=Zt(this,Vt,"f").entries();return function*(){for(const[r,i]of e)yield[r,i.value]}()}values(){const e=Zt(this,Vt,"f").values();return function*(){for(const r of e)yield r.value}()}keys(){return Zt(this,Vt,"f").keys()}forEach(e,n){for(const[r,i]of Zt(this,Vt,"f").entries())e.call(n,i.value,r,this)}has(e){return Zt(this,Vt,"f").has(e)}delete(e){return Zt(this,Vt,"f").delete(e)}get size(){return Zt(this,Vt,"f").size}}Vt=new WeakMap,ga=new WeakMap,Ev=Symbol.iterator,Sv=Symbol.toStringTag;const Cy=t=>{if(t<=127)return 1;if(t<=255)return 2;if(t<=65535)return 3;if(t<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},By=(t,e,n)=>{if(n<=127)return t[e]=n,1;if(n<=255)return t[e]=129,t[e+1]=n,2;if(n<=65535)return t[e]=130,t[e+1]=n>>8,t[e+2]=n,3;if(n<=16777215)return t[e]=131,t[e+1]=n>>16,t[e+2]=n>>8,t[e+3]=n,4;throw new Error("Length too long (> 4 bytes)")},N0=(t,e)=>{if(t[e]<128)return 1;if(t[e]===128)throw new Error("Invalid length 0");if(t[e]===129)return 2;if(t[e]===130)return 3;if(t[e]===131)return 4;throw new Error("Length too long (> 4 bytes)")},i6=(t,e)=>{const n=N0(t,e);if(n===1)return t[e];if(n===2)return t[e+1];if(n===3)return(t[e+1]<<8)+t[e+2];if(n===4)return(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const id=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function kv(t,e){const n=2+Cy(t.byteLength+1),r=e.byteLength+n+t.byteLength;let i=0;const s=new Uint8Array(1+Cy(r)+r);return s[i++]=48,i+=By(s,i,r),s.set(e,i),i+=e.byteLength,s[i++]=3,i+=By(s,i,t.byteLength+1),s[i++]=0,s.set(new Uint8Array(t),i),s}const Nv=(t,e)=>{let n=0;const r=(a,l)=>{if(i[n++]!==a)throw new Error("Expected: "+l)},i=new Uint8Array(t);if(r(48,"sequence"),n+=N0(i,n),!Md(i.slice(n,n+e.byteLength),e))throw new Error("Not the expected OID.");n+=e.byteLength,r(3,"bit string");const s=i6(i,n)-1;n+=N0(i,n),r(0,"0 padding");const o=i.slice(n);if(s!==o.length)throw new Error(`DER payload mismatch: Expected length ${s} actual length ${o.length}`);return o};var Ry=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Py=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Jc,eu;let Tv=class ma{constructor(e){if(Jc.set(this,void 0),eu.set(this,void 0),e.byteLength!==ma.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Ry(this,Jc,e,"f"),Ry(this,eu,ma.derEncode(e),"f")}static from(e){return this.fromDer(e.toDer())}static fromRaw(e){return new ma(e)}static fromDer(e){return new ma(this.derDecode(e))}static derEncode(e){return kv(e,id).buffer}static derDecode(e){const n=Nv(e,id);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return Py(this,Jc,"f")}get derKey(){return Py(this,eu,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Jc=new WeakMap,eu=new WeakMap;Tv.RAW_KEY_LENGTH=32;class s6{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(n=>n!==e)}notify(e,...n){this.observers.forEach(r=>r(e,...n))}}class o6 extends s6{constructor(){super()}print(e,...n){this.notify({message:e,level:"info"},...n)}warn(e,...n){this.notify({message:e,level:"warn"},...n)}error(e,n,...r){this.notify({message:e,level:"error",error:n},...r)}}var ur=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Dt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},fr,tu,nu,ru,iu,su,ou,au,Ks;const Av=.5,jv=1.5,Cv=500,Bv=6e4,Rv=9e5,Pv=10;class qd{constructor(e=qd.default){fr.set(this,void 0),tu.set(this,void 0),nu.set(this,void 0),ru.set(this,void 0),iu.set(this,void 0),su.set(this,void 0),ou.set(this,void 0),au.set(this,void 0),Ks.set(this,0);const{initialInterval:n=Cv,randomizationFactor:r=Av,multiplier:i=jv,maxInterval:s=Bv,maxElapsedTime:o=Rv,maxIterations:a=Pv,date:l=Date}=e;ur(this,fr,n,"f"),ur(this,tu,r,"f"),ur(this,nu,i,"f"),ur(this,ru,s,"f"),ur(this,au,l,"f"),ur(this,iu,l.now(),"f"),ur(this,su,o,"f"),ur(this,ou,a,"f")}get ellapsedTimeInMsec(){return Dt(this,au,"f").now()-Dt(this,iu,"f")}get currentInterval(){return Dt(this,fr,"f")}get count(){return Dt(this,Ks,"f")}get randomValueFromInterval(){const e=Dt(this,tu,"f")*Dt(this,fr,"f"),n=Dt(this,fr,"f")-e,r=Dt(this,fr,"f")+e;return Math.random()*(r-n)+n}incrementCurrentInterval(){var e;return ur(this,fr,Math.min(Dt(this,fr,"f")*Dt(this,nu,"f"),Dt(this,ru,"f")),"f"),ur(this,Ks,(e=Dt(this,Ks,"f"),e++,e),"f"),Dt(this,fr,"f")}next(){return this.ellapsedTimeInMsec>=Dt(this,su,"f")||Dt(this,Ks,"f")>=Dt(this,ou,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}fr=new WeakMap,tu=new WeakMap,nu=new WeakMap,ru=new WeakMap,iu=new WeakMap,su=new WeakMap,ou=new WeakMap,au=new WeakMap,Ks=new WeakMap;qd.default={initialInterval:Cv,randomizationFactor:Av,multiplier:jv,maxInterval:Bv,maxElapsedTime:Rv,maxIterations:Pv,date:Date};const Ov=5*60*1e3;var Qt=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},xe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},vr,hr,yi,po,ya,xa,qn,lu,Kn,os,as,ba,Ys,Xs,ls,fs,Fv,cu,uu,Fr;(function(t){t.Received="received",t.Processing="processing",t.Replied="replied",t.Rejected="rejected",t.Unknown="unknown",t.Done="done"})(Fr||(Fr={}));const gc=60*1e3,a6="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",l6="aaaaa-aa",c6="ic0.app",u6=".ic0.app",d6="icp0.io",f6=".icp0.io",h6="icp-api.io",p6=".icp-api.io";class qf extends kt{constructor(e){super(e),this.message=e}}class mc extends kt{constructor(e){super(e),this.message=e}}function g6(){let t;if(typeof window<"u")if(window.fetch)t=window.fetch.bind(window);else throw new qf("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)t=global.fetch.bind(global);else throw new qf("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(t=self.fetch.bind(self));if(t)return t;throw new qf("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function m6(t){let e;if(t!==void 0)!t.match(/^[a-z]+:/)&&typeof window<"u"?e=new URL(window.location.protocol+"//"+t):e=new URL(t);else{const n=["ic0.app","icp0.io","127.0.0.1","localhost"],r=[".github.dev",".gitpod.io"],i=typeof window<"u"?window.location:void 0,s=i==null?void 0:i.hostname;let o;s&&typeof s=="string"&&(r.some(a=>s.endsWith(a))?o=s:o=n.find(a=>s.endsWith(a))),i&&o?e=new URL(`${i.protocol}//${o}${i.port?":"+i.port:""}`):e=new URL("https://icp-api.io")}return e.toString()}class La{constructor(e={}){var n;vr.add(this),hr.set(this,void 0),yi.set(this,void 0),po.set(this,void 0),ya.set(this,void 0),xa.set(this,0),qn.set(this,void 0),lu.set(this,!1),Kn.set(this,void 0),os.set(this,void 0),as.set(this,void 0),this._isAgent=!0,this.config={},ba.set(this,0),this.log=new o6,Ys.set(this,[]),Xs.set(this,[]),ls.set(this,new r6({expirationTime:5*60*1e3})),fs.set(this,!0),uu.set(this,(s,o)=>{if(xe(this,fs,"f")===!1)return s;if(!o)throw new xr("Invalid signature from replica signed query: no matching node key found.");const{status:a,signatures:l=[],requestId:c}=s,d=new TextEncoder().encode("\vic-response");for(const f of l){const{timestamp:h,identity:g}=f,p=Re.fromUint8Array(g).toText();let v;if(a==="replied"){const{reply:R}=s;v=Ju({status:a,reply:R,timestamp:BigInt(h),request_id:c})}else if(a==="rejected"){const{reject_code:R,reject_message:N,error_code:F}=s;v=Ju({status:a,reject_code:R,reject_message:N,error_code:F,timestamp:BigInt(h),request_id:c})}else throw new Error(`Unknown status: ${a}`);const E=tr(d,new Uint8Array(v)),b=o==null?void 0:o.nodeKeys.get(p);if(!b)throw new xr("Invalid signature from replica signed query: no matching node key found.");const w=Tv.fromDer(b).rawKey;if(Gs.verify(f.signature,new Uint8Array(E),new Uint8Array(w)))return s;throw new xr(`Invalid signature from replica ${p} signed query.`)}return s}),this.config=e,Qt(this,yi,e.fetch||g6()||fetch.bind(global),"f"),Qt(this,po,e.fetchOptions,"f"),Qt(this,ya,e.callOptions,"f"),this.rootKey=e.rootKey?e.rootKey:Yr(a6);const r=m6(e.host);this.host=new URL(r),e.verifyQuerySignatures!==void 0&&Qt(this,fs,e.verifyQuerySignatures,"f"),Qt(this,Kn,(n=e.retryTimes)!==null&&n!==void 0?n:3,"f");const i=()=>new qd({maxIterations:xe(this,Kn,"f")});if(Qt(this,os,e.backoffStrategy||i,"f"),this.host.hostname.endsWith(u6)?this.host.hostname=c6:this.host.hostname.endsWith(f6)?this.host.hostname=d6:this.host.hostname.endsWith(p6)&&(this.host.hostname=h6),e.credentials){const{name:s,password:o}=e.credentials;Qt(this,qn,`${s}${o?":"+o:""}`,"f")}if(Qt(this,hr,Promise.resolve(e.identity||new y0),"f"),e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes>5)throw new kt(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${e.ingressExpiryInMinutes} minutes.`);if(e.ingressExpiryInMinutes&&e.ingressExpiryInMinutes<=0)throw new kt(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${e.ingressExpiryInMinutes} minutes.`);Qt(this,as,e.ingressExpiryInMinutes||5,"f"),this.addTransform("update",cy(w0)),e.useQueryNonces&&this.addTransform("query",cy(w0)),e.logToConsole&&this.log.subscribe(s=>{s.level==="error"?console.error(s.message):s.level==="warn"?console.warn(s.message):console.log(s.message)})}get waterMark(){return xe(this,ba,"f")}static createSync(e={}){return new this(Object.assign({},e))}static async create(e={shouldFetchRootKey:!1}){const n=La.createSync(e),r=[n.syncTime()];return n.host.toString()!=="https://icp-api.io"&&e.shouldFetchRootKey&&r.push(n.fetchRootKey()),await Promise.all(r),n}static async from(e){var n;try{return"config"in e?await La.create(e.config):await La.create({fetch:e._fetch,fetchOptions:e._fetchOptions,callOptions:e._callOptions,host:e._host.toString(),identity:(n=e._identity)!==null&&n!==void 0?n:void 0})}catch{throw new kt("Failed to create agent from provided agent")}}isLocal(){const e=this.host.hostname;return e==="127.0.0.1"||e.endsWith("127.0.0.1")}addTransform(e,n,r=n.priority||0){if(e==="update"){const i=xe(this,Xs,"f").findIndex(s=>(s.priority||0)<r);xe(this,Xs,"f").splice(i>=0?i:xe(this,Xs,"f").length,0,Object.assign(n,{priority:r}))}else if(e==="query"){const i=xe(this,Ys,"f").findIndex(s=>(s.priority||0)<r);xe(this,Ys,"f").splice(i>=0?i:xe(this,Ys,"f").length,0,Object.assign(n,{priority:r}))}}async getPrincipal(){if(!xe(this,hr,"f"))throw new mc("This identity has expired due this application's security policy. Please refresh your authentication.");return(await xe(this,hr,"f")).getPrincipal()}async call(e,n,r){var i;const s=(i=n.callSync)!==null&&i!==void 0?i:!0,o=await(r!==void 0?await r:await xe(this,hr,"f"));if(!o)throw new mc("This identity has expired due this application's security policy. Please refresh your authentication.");const a=Re.from(e),l=n.effectiveCanisterId?Re.from(n.effectiveCanisterId):a,c=o.getPrincipal()||Re.anonymous();let d=new qs(xe(this,as,"f")*gc);Math.abs(xe(this,xa,"f"))>1e3*30&&(d=new qs(xe(this,as,"f")*gc+xe(this,xa,"f")));const f={request_type:b0.Call,canister_id:a,method_name:n.methodName,arg:n.arg,sender:c,ingress_expiry:d};let h=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},xe(this,qn,"f")?{Authorization:"Basic "+btoa(xe(this,qn,"f"))}:{})},endpoint:"call",body:f});const g=h.body.nonce?p(h.body.nonce):void 0;f.nonce=g;function p(b){return new Uint8Array(b)}h=await o.transformRequest(h);const v=Mf(h.body),E=xe(this,os,"f").call(this);try{const b=()=>(this.log.print(`fetching "/api/v3/canister/${l.toText()}/call" with request:`,h),xe(this,yi,"f").call(this,""+new URL(`/api/v3/canister/${l.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,ya,"f")),h.request),{body:v}))),w=()=>(this.log.print(`fetching "/api/v2/canister/${l.toText()}/call" with request:`,h),xe(this,yi,"f").call(this,""+new URL(`/api/v2/canister/${l.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,ya,"f")),h.request),{body:v}))),S=xe(this,vr,"m",cu).call(this,{request:s?b:w,backoff:E,tries:0}),R=ul(f),N=await S,F=await N.arrayBuffer(),C=N.status===200&&F.byteLength>0?Vr(F):null;if(C&&"certificate"in C){const I=await this.parseTimeFromResponse({certificate:C.certificate});Qt(this,ba,I,"f")}return{requestId:R,response:{ok:N.ok,status:N.status,statusText:N.statusText,body:C,headers:ha(N.headers)},requestDetails:f}}catch(b){if(b.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(e,Object.assign(Object.assign({},n),{callSync:!1}),r);throw this.log.error("Error while making call:",b),b}}async query(e,n,r){const i=xe(this,os,"f").call(this),s=n.effectiveCanisterId?Re.from(n.effectiveCanisterId):Re.from(e);this.log.print(`ecid ${s.toString()}`),this.log.print(`canisterId ${e.toString()}`);const o=async()=>{const g=await(r!==void 0?r:xe(this,hr,"f"));if(!g)throw new mc("This identity has expired due this application's security policy. Please refresh your authentication.");const p=Re.from(e),v=(g==null?void 0:g.getPrincipal())||Re.anonymous(),E={request_type:"query",canister_id:p,method_name:n.methodName,arg:n.arg,sender:v,ingress_expiry:new qs(xe(this,as,"f")*gc)},b=ul(E);let w=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},xe(this,qn,"f")?{Authorization:"Basic "+btoa(xe(this,qn,"f"))}:{})},endpoint:"read",body:E});w=await(g==null?void 0:g.transformRequest(w));const S=Mf(w.body),R={canister:p.toText(),ecid:s,transformedRequest:w,body:S,requestId:b,backoff:i,tries:0};return{requestDetails:E,query:await xe(this,vr,"m",Fv).call(this,R)}},a=async()=>{if(!xe(this,fs,"f"))return;const g=xe(this,ls,"f").get(s.toString());return g||(await this.fetchSubnetKeys(s.toString()),xe(this,ls,"f").get(s.toString()))},[l,c]=await Promise.all([o(),a()]),{requestDetails:d,query:f}=l,h=Object.assign(Object.assign({},f),{requestDetails:d});if(this.log.print("Query response:",h),!xe(this,fs,"f"))return h;try{return xe(this,uu,"f").call(this,h,c)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),xe(this,ls,"f").delete(e.toString()),await this.fetchSubnetKeys(s.toString());const p=xe(this,ls,"f").get(e.toString());if(!p)throw new xr("Invalid signature from replica signed query: no matching node key found.");return xe(this,uu,"f").call(this,h,p)}}async createReadStateRequest(e,n){const r=await(n!==void 0?await n:await xe(this,hr,"f"));if(!r)throw new mc("This identity has expired due this application's security policy. Please refresh your authentication.");const i=(r==null?void 0:r.getPrincipal())||Re.anonymous(),s=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},xe(this,qn,"f")?{Authorization:"Basic "+btoa(xe(this,qn,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:e.paths,sender:i,ingress_expiry:new qs(xe(this,as,"f")*gc)}});return r==null?void 0:r.transformRequest(s)}async readState(e,n,r,i){const s=typeof e=="string"?Re.fromText(e):e,o=i??await this.createReadStateRequest(n,r),a=Object.assign(Object.assign({},o.body),{ingress_expiry:new qs(Ov)}),l=Mf(a);this.log.print(`fetching "/api/v2/canister/${s}/read_state" with request:`,o);const c=xe(this,os,"f").call(this);try{const d=await xe(this,vr,"m",cu).call(this,{request:()=>xe(this,yi,"f").call(this,""+new URL(`/api/v2/canister/${s.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,po,"f")),o.request),{body:l})),backoff:c,tries:0});if(!d.ok)throw new Error(`Server returned an error:
  Code: ${d.status} (${d.statusText})
  Body: ${await d.text()}
`);const f=Vr(await d.arrayBuffer());this.log.print("Read state response:",f);const h=await this.parseTimeFromResponse(f);return h>0&&(this.log.print("Read state response time:",h),Qt(this,ba,h,"f")),f}catch(d){throw this.log.error("Caught exception while attempting to read state",d),d}}async parseTimeFromResponse(e){let n;if(e.certificate){const r=Vr(e.certificate);if(r&&"tree"in r)n=r.tree;else throw new Error("Could not decode time from response");const i=Po(["time"],n);if(i.status!==Et.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(i.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(i))throw new Error("Time was not found in the response or was not in its expected format.");const s=ug(Zp(i.value));return this.log.print("Time from response:",s),this.log.print("Time from response in milliseconds:",Number(s)),Number(s)}else this.log.warn("No certificate found in response");return 0}async syncTime(e){const n=await i4(()=>Promise.resolve().then(()=>b8),[],import.meta.url),r=Date.now();try{e||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const s=(await n.request({canisterId:e??Re.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:this,paths:["time"]})).get("time");s&&Qt(this,xa,Number(s)-Number(r),"f")}catch(i){this.log.error("Caught exception while attempting to sync time",i)}}async status(){const e=xe(this,qn,"f")?{Authorization:"Basic "+btoa(xe(this,qn,"f"))}:{};this.log.print('fetching "/api/v2/status"');const n=xe(this,os,"f").call(this),r=await xe(this,vr,"m",cu).call(this,{backoff:n,request:()=>xe(this,yi,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:e},xe(this,po,"f"))),tries:0});return Vr(await r.arrayBuffer())}async fetchRootKey(){if(!xe(this,lu,"f")){const e=await this.status();this.rootKey=e.root_key,Qt(this,lu,!0,"f")}return this.rootKey}invalidateIdentity(){Qt(this,hr,null,"f")}replaceIdentity(e){Qt(this,hr,Promise.resolve(e),"f")}async fetchSubnetKeys(e){const n=Re.from(e),i=(await bv({canisterId:n,paths:["subnet"],agent:this})).get("subnet");if(i&&typeof i=="object"&&"nodeKeys"in i)return xe(this,ls,"f").set(n.toText(),i),i}_transform(e){let n=Promise.resolve(e);if(e.endpoint==="call")for(const r of xe(this,Xs,"f"))n=n.then(i=>r(i).then(s=>s||i));else for(const r of xe(this,Ys,"f"))n=n.then(i=>r(i).then(s=>s||i));return n}}hr=new WeakMap,yi=new WeakMap,po=new WeakMap,ya=new WeakMap,xa=new WeakMap,qn=new WeakMap,lu=new WeakMap,Kn=new WeakMap,os=new WeakMap,as=new WeakMap,ba=new WeakMap,Ys=new WeakMap,Xs=new WeakMap,ls=new WeakMap,fs=new WeakMap,uu=new WeakMap,vr=new WeakSet,Fv=async function t(e){var n,r;const{ecid:i,transformedRequest:s,body:o,requestId:a,backoff:l,tries:c}=e,d=c===0?0:l.next();if(this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:c,backoff:l,delay:d}),d===null)throw new kt(`Timestamp failed to pass the watermark after retrying the configured ${xe(this,Kn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);d>0&&await new Promise(p=>setTimeout(p,d));let f;try{this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,s);const p=await xe(this,yi,"f").call(this,""+new URL(`/api/v2/canister/${i.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},xe(this,po,"f")),s.request),{body:o}));if(p.status===200){const v=Vr(await p.arrayBuffer());f=Object.assign(Object.assign({},v),{httpDetails:{ok:p.ok,status:p.status,statusText:p.statusText,headers:ha(p.headers)},requestId:a})}else throw new If(`Gateway returned an error:
  Code: ${p.status} (${p.statusText})
  Body: ${await p.text()}
`,{ok:p.ok,status:p.status,statusText:p.statusText,headers:ha(p.headers)})}catch(p){if(c<xe(this,Kn,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${p}
  Retrying query.`),await xe(this,vr,"m",t).call(this,Object.assign(Object.assign({},e),{tries:c+1}));throw p}const h=(r=(n=f.signatures)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.timestamp;if(!xe(this,fs,"f"))return f;if(!h)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const g=Number(BigInt(h)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:g}),Number(this.waterMark)>g){const p=new kt("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",p,{timestamp:h,waterMark:this.waterMark}),c<xe(this,Kn,"f"))return await xe(this,vr,"m",t).call(this,Object.assign(Object.assign({},e),{tries:c+1}));throw new kt(`Timestamp failed to pass the watermark after retrying the configured ${xe(this,Kn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return f},cu=async function t(e){const{request:n,backoff:r,tries:i}=e,s=i===0?0:r.next();if(s===null)throw new kt(`Timestamp failed to pass the watermark after retrying the configured ${xe(this,Kn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);s>0&&await new Promise(c=>setTimeout(c,s));let o;try{o=await n()}catch(c){if(xe(this,Kn,"f")>i)return this.log.warn(`Caught exception while attempting to make request:
  ${c}
  Retrying request.`),await xe(this,vr,"m",t).call(this,{request:n,backoff:r,tries:i+1});throw c}if(o.ok)return o;const a=await o.clone().text(),l=`Server returned an error:
  Code: ${o.status} (${o.statusText})
  Body: ${a}
`;if(o.status===404&&o.url.includes("api/v3"))throw new If("v3 api not supported. Fall back to v2",{ok:o.ok,status:o.status,statusText:o.statusText,headers:ha(o.headers)});if(i<xe(this,Kn,"f"))return await xe(this,vr,"m",t).call(this,{request:n,backoff:r,tries:i+1});throw new If(l,{ok:o.ok,status:o.status,statusText:o.statusText,headers:ha(o.headers)})};var Oy;(function(t){t.Error="err",t.GetPrincipal="gp",t.GetPrincipalResponse="gpr",t.Query="q",t.QueryResponse="qr",t.Call="c",t.CallResponse="cr",t.ReadState="rs",t.ReadStateResponse="rsr",t.Status="s",t.StatusResponse="sr"})(Oy||(Oy={}));function Fy(){const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!t)throw new Error("No Agent could be found.");return t}const y6=5*60*1e3;function Mv(){return v6(b6(x6(),1e3),_6(1e3,1.2),w6(y6))}function x6(){let t=!0;return async()=>t?(t=!1,!0):!1}function b6(t,e){return async(n,r,i)=>{if(await t(n,r,i))return new Promise(s=>setTimeout(s,e))}}function w6(t){const e=Date.now()+t;return async(n,r,i)=>{if(Date.now()>e)throw new Error(`Request timed out after ${t} msec:
  Request ID: ${Ut(r)}
  Request status: ${i}
`)}}function _6(t,e){let n=t;return()=>new Promise(r=>setTimeout(()=>{n*=e,r()},n))}function v6(...t){return async(e,n,r)=>{for(const i of t)await i(e,n,r)}}function $s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E6(t){return t!==null&&typeof t=="object"&&$s(t,"body")&&t.body!==null&&typeof t.body=="object"&&$s(t.body,"content")&&t.body.content!==null&&typeof t.body.content=="object"&&$s(t.body.content,"request_type")&&t.body.content.request_type==="read_state"&&$s(t.body.content,"ingress_expiry")&&typeof t.body.content.ingress_expiry=="object"&&t.body.content.ingress_expiry!==null&&$s(t.body.content.ingress_expiry,"toCBOR")&&typeof t.body.content.ingress_expiry.toCBOR=="function"&&$s(t.body.content.ingress_expiry,"toHash")&&typeof t.body.content.ingress_expiry.toHash=="function"}async function Iv(t,e,n,r=Mv(),i,s){var o;const a=[new TextEncoder().encode("request_status"),n],l=i??await((o=t.createReadStateRequest)===null||o===void 0?void 0:o.call(t,{paths:[a]}));i&&E6(l)&&(l.body.content.ingress_expiry=new qs(Ov));const c=await t.readState(e,{paths:[a]},void 0,l);if(t.rootKey==null)throw new Error("Agent root key not initialized before polling");const d=await bs.create({certificate:c.certificate,rootKey:t.rootKey,canisterId:e,blsVerify:s}),f=Fn(d.lookup([...a,new TextEncoder().encode("status")]));let h;switch(typeof f>"u"?h=Fr.Unknown:h=new TextDecoder().decode(f),h){case Fr.Replied:return{reply:Fn(d.lookup([...a,"reply"])),certificate:d};case Fr.Received:case Fr.Unknown:case Fr.Processing:return await r(e,n,h),Iv(t,e,n,r,l,s);case Fr.Rejected:{const g=new Uint8Array(Fn(d.lookup([...a,"reject_code"])))[0],p=new TextDecoder().decode(Fn(d.lookup([...a,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${Ut(n)}
  Reject code: ${g}
  Reject text: ${p}
`)}case Fr.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${Ut(n)}
`)}throw new Error("unreachable")}const S6=({IDL:t})=>{const e=t.Variant({mainnet:t.Null,testnet:t.Null}),n=t.Text,r=t.Record({network:e,address:n,min_confirmations:t.Opt(t.Nat32)}),i=t.Nat64,s=i,o=t.Nat32,a=t.Record({start_height:o,end_height:t.Opt(o),network:e}),l=t.Vec(t.Nat8),c=t.Record({tip_height:o,block_headers:t.Vec(l)}),d=t.Record({network:e}),f=t.Nat64,h=t.Vec(f),g=t.Record({network:e,filter:t.Opt(t.Variant({page:t.Vec(t.Nat8),min_confirmations:t.Nat32})),address:n}),p=t.Vec(t.Nat8),v=t.Record({txid:t.Vec(t.Nat8),vout:t.Nat32}),E=t.Record({height:t.Nat32,value:i,outpoint:v}),b=t.Record({next_page:t.Opt(t.Vec(t.Nat8)),tip_height:o,tip_block_hash:p,utxos:t.Vec(E)}),w=t.Record({transaction:t.Vec(t.Nat8),network:e}),S=t.Principal,R=t.Record({canister_id:S,num_requested_changes:t.Opt(t.Nat64)}),N=t.Variant({from_user:t.Record({user_id:t.Principal}),from_canister:t.Record({canister_version:t.Opt(t.Nat64),canister_id:t.Principal})}),F=t.Vec(t.Nat8),C=t.Variant({creation:t.Record({controllers:t.Vec(t.Principal)}),code_deployment:t.Record({mode:t.Variant({reinstall:t.Null,upgrade:t.Null,install:t.Null}),module_hash:t.Vec(t.Nat8)}),load_snapshot:t.Record({canister_version:t.Nat64,taken_at_timestamp:t.Nat64,snapshot_id:F}),controllers_change:t.Record({controllers:t.Vec(t.Principal)}),code_uninstall:t.Null}),I=t.Record({timestamp_nanos:t.Nat64,canister_version:t.Nat64,origin:N,details:C}),U=t.Record({controllers:t.Vec(t.Principal),module_hash:t.Opt(t.Vec(t.Nat8)),recent_changes:t.Vec(I),total_num_changes:t.Nat64}),H=t.Record({canister_id:S}),ie=t.Variant({controllers:t.Null,public:t.Null}),oe=t.Record({freezing_threshold:t.Nat,controllers:t.Vec(t.Principal),reserved_cycles_limit:t.Nat,log_visibility:ie,wasm_memory_limit:t.Nat,memory_allocation:t.Nat,compute_allocation:t.Nat}),z=t.Record({status:t.Variant({stopped:t.Null,stopping:t.Null,running:t.Null}),memory_size:t.Nat,cycles:t.Nat,settings:oe,query_stats:t.Record({response_payload_bytes_total:t.Nat,num_instructions_total:t.Nat,num_calls_total:t.Nat,request_payload_bytes_total:t.Nat}),idle_cycles_burned_per_day:t.Nat,module_hash:t.Opt(t.Vec(t.Nat8)),reserved_cycles:t.Nat}),W=t.Record({canister_id:S}),V=t.Record({freezing_threshold:t.Opt(t.Nat),controllers:t.Opt(t.Vec(t.Principal)),reserved_cycles_limit:t.Opt(t.Nat),log_visibility:t.Opt(ie),wasm_memory_limit:t.Opt(t.Nat),memory_allocation:t.Opt(t.Nat),compute_allocation:t.Opt(t.Nat)}),Q=t.Record({settings:t.Opt(V),sender_canister_version:t.Opt(t.Nat64)}),Z=t.Record({canister_id:S}),G=t.Record({canister_id:S}),Y=t.Record({canister_id:S,snapshot_id:F}),ce=t.Record({canister_id:S}),se=t.Variant({secp256k1:t.Null}),ue=t.Record({key_id:t.Record({name:t.Text,curve:se}),canister_id:t.Opt(S),derivation_path:t.Vec(t.Vec(t.Nat8))}),ae=t.Record({public_key:t.Vec(t.Nat8),chain_code:t.Vec(t.Nat8)}),j=t.Record({canister_id:S}),le=t.Record({idx:t.Nat64,timestamp_nanos:t.Nat64,content:t.Vec(t.Nat8)}),he=t.Record({canister_log_records:t.Vec(le)}),me=t.Record({value:t.Text,name:t.Text}),de=t.Record({status:t.Nat,body:t.Vec(t.Nat8),headers:t.Vec(me)}),ge=t.Record({url:t.Text,method:t.Variant({get:t.Null,head:t.Null,post:t.Null}),max_response_bytes:t.Opt(t.Nat64),body:t.Opt(t.Vec(t.Nat8)),transform:t.Opt(t.Record({function:t.Func([t.Record({context:t.Vec(t.Nat8),response:de})],[de],["query"]),context:t.Vec(t.Nat8)})),headers:t.Vec(me)}),B=t.Variant({reinstall:t.Null,upgrade:t.Opt(t.Record({wasm_memory_persistence:t.Opt(t.Variant({keep:t.Null,replace:t.Null})),skip_pre_upgrade:t.Opt(t.Bool)})),install:t.Null}),O=t.Record({hash:t.Vec(t.Nat8)}),L=t.Record({arg:t.Vec(t.Nat8),wasm_module_hash:t.Vec(t.Nat8),mode:B,chunk_hashes_list:t.Vec(O),target_canister:S,store_canister:t.Opt(S),sender_canister_version:t.Opt(t.Nat64)}),J=t.Vec(t.Nat8),K=t.Record({arg:t.Vec(t.Nat8),wasm_module:J,mode:B,canister_id:S,sender_canister_version:t.Opt(t.Nat64)}),ee=t.Record({canister_id:S}),k=t.Record({id:F,total_size:t.Nat64,taken_at_timestamp:t.Nat64}),m=t.Vec(k),y=t.Record({canister_id:S,sender_canister_version:t.Opt(t.Nat64),snapshot_id:F}),A=t.Record({start_at_timestamp_nanos:t.Nat64,subnet_id:t.Principal}),P=t.Record({num_block_failures_total:t.Nat64,node_id:t.Principal,num_blocks_proposed_total:t.Nat64}),D=t.Vec(t.Record({timestamp_nanos:t.Nat64,node_metrics:t.Vec(P)})),te=t.Record({settings:t.Opt(V),specified_id:t.Opt(S),amount:t.Opt(t.Nat),sender_canister_version:t.Opt(t.Nat64)}),fe=t.Record({canister_id:S}),be=t.Record({canister_id:S,amount:t.Nat}),_e=t.Vec(t.Nat8),Ae=t.Variant({ed25519:t.Null,bip340secp256k1:t.Null}),T=t.Record({key_id:t.Record({algorithm:Ae,name:t.Text}),canister_id:t.Opt(S),derivation_path:t.Vec(t.Vec(t.Nat8))}),x=t.Record({public_key:t.Vec(t.Nat8),chain_code:t.Vec(t.Nat8)}),_=t.Record({key_id:t.Record({name:t.Text,curve:se}),derivation_path:t.Vec(t.Vec(t.Nat8)),message_hash:t.Vec(t.Nat8)}),M=t.Record({signature:t.Vec(t.Nat8)}),X=t.Record({key_id:t.Record({algorithm:Ae,name:t.Text}),derivation_path:t.Vec(t.Vec(t.Nat8)),message:t.Vec(t.Nat8)}),re=t.Record({signature:t.Vec(t.Nat8)}),ne=t.Record({canister_id:S}),Te=t.Record({canister_id:S}),Oe=t.Record({canister_id:S}),Ce=t.Vec(O),Ne=t.Record({replace_snapshot:t.Opt(F),canister_id:S}),Ve=k,Qe=t.Record({canister_id:S,sender_canister_version:t.Opt(t.Nat64)}),Qd=t.Record({canister_id:t.Principal,settings:V,sender_canister_version:t.Opt(t.Nat64)}),Jd=t.Record({chunk:t.Vec(t.Nat8),canister_id:t.Principal}),ef=O;return t.Service({bitcoin_get_balance:t.Func([r],[s],[]),bitcoin_get_block_headers:t.Func([a],[c],[]),bitcoin_get_current_fee_percentiles:t.Func([d],[h],[]),bitcoin_get_utxos:t.Func([g],[b],[]),bitcoin_send_transaction:t.Func([w],[],[]),canister_info:t.Func([R],[U],[]),canister_status:t.Func([H],[z],[]),clear_chunk_store:t.Func([W],[],[]),create_canister:t.Func([Q],[Z],[]),delete_canister:t.Func([G],[],[]),delete_canister_snapshot:t.Func([Y],[],[]),deposit_cycles:t.Func([ce],[],[]),ecdsa_public_key:t.Func([ue],[ae],[]),fetch_canister_logs:t.Func([j],[he],["query"]),http_request:t.Func([ge],[de],[]),install_chunked_code:t.Func([L],[],[]),install_code:t.Func([K],[],[]),list_canister_snapshots:t.Func([ee],[m],[]),load_canister_snapshot:t.Func([y],[],[]),node_metrics_history:t.Func([A],[D],[]),provisional_create_canister_with_cycles:t.Func([te],[fe],[]),provisional_top_up_canister:t.Func([be],[],[]),raw_rand:t.Func([],[_e],[]),schnorr_public_key:t.Func([T],[x],[]),sign_with_ecdsa:t.Func([_],[M],[]),sign_with_schnorr:t.Func([X],[re],[]),start_canister:t.Func([ne],[],[]),stop_canister:t.Func([Te],[],[]),stored_chunks:t.Func([Oe],[Ce],[]),take_canister_snapshot:t.Func([Ne],[Ve],[]),uninstall_code:t.Func([Qe],[],[]),update_settings:t.Func([Qd],[],[]),upload_chunk:t.Func([Jd],[ef],[])})};class Uv extends kt{constructor(e,n,r,i){super(["Call failed:",`  Canister: ${e.toText()}`,`  Method: ${n} (${r})`,...Object.getOwnPropertyNames(i).map(s=>`  "${s}": ${JSON.stringify(i[s])}`)].join(`
`)),this.canisterId=e,this.methodName=n,this.type=r,this.props=i}}class k6 extends Uv{constructor(e,n,r){var i;super(e,n,"query",{Status:r.status,Code:(i=l0[r.reject_code])!==null&&i!==void 0?i:`Unknown Code "${r.reject_code}"`,Message:r.reject_message}),this.result=r}}class My extends Uv{constructor(e,n,r,i,s,o,a){super(e,n,"update",Object.assign({"Request ID":Ut(r)},i.body?Object.assign(Object.assign({},a?{"Error code":a}:{}),{"Reject code":String(s),"Reject message":o}):{"HTTP status code":i.status.toString(),"HTTP status text":i.statusText})),this.requestId=r,this.response=i,this.reject_code=s,this.reject_message=o,this.error_code=a}}const Rn=Symbol.for("ic-agent-metadata");class Gd{constructor(e){this[Rn]=Object.freeze(e)}static agentOf(e){return e[Rn].config.agent}static interfaceOf(e){return e[Rn].service}static canisterIdOf(e){return Re.from(e[Rn].config.canisterId)}static async install(e,n){const r=e.mode===void 0?{install:null}:e.mode,i=e.arg?[...new Uint8Array(e.arg)]:[],s=[...new Uint8Array(e.module)],o=typeof n.canisterId=="string"?Re.fromText(n.canisterId):n.canisterId;await Iy(n).install_code({mode:r,arg:i,wasm_module:s,canister_id:o,sender_canister_version:[]})}static async createCanister(e,n){function r(s){return[{controllers:s.controllers?[s.controllers]:[],compute_allocation:s.compute_allocation?[s.compute_allocation]:[],freezing_threshold:s.freezing_threshold?[s.freezing_threshold]:[],memory_allocation:s.memory_allocation?[s.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:i}=await Iy(e||{}).provisional_create_canister_with_cycles({amount:[],settings:r(n||{}),specified_id:[],sender_canister_version:[]});return i}static async createAndInstallCanister(e,n,r){const i=await this.createCanister(r);return await this.install(Object.assign({},n),Object.assign(Object.assign({},r),{canisterId:i})),this.createActor(e,Object.assign(Object.assign({},r),{canisterId:i}))}static createActorClass(e,n){const r=e({IDL:B4});class i extends Gd{constructor(o){if(!o.canisterId)throw new kt(`Canister ID is required, but received ${typeof o.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const a=typeof o.canisterId=="string"?Re.fromText(o.canisterId):o.canisterId;super({config:Object.assign(Object.assign(Object.assign({},zv),o),{canisterId:a}),service:r});for(const[l,c]of r._fields)n!=null&&n.httpDetails&&c.annotations.push(T0),n!=null&&n.certificate&&c.annotations.push(Lv),this[l]=N6(this,l,c,o.blsVerify)}}return i}static createActor(e,n){if(!n.canisterId)throw new kt(`Canister ID is required, but received ${typeof n.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(e))(n)}static createActorWithHttpDetails(e,n){return new(this.createActorClass(e,{httpDetails:!0}))(n)}static createActorWithExtendedDetails(e,n,r={httpDetails:!0,certificate:!0}){return new(this.createActorClass(e,r))(n)}}function Ds(t,e){const n=o_(t,L1.Buffer.from(e));switch(n.length){case 0:return;case 1:return n[0];default:return n}}const zv={pollingStrategyFactory:Mv},T0="http-details",Lv="certificate";function N6(t,e,n,r){let i;n.annotations.includes("query")||n.annotations.includes("composite_query")?i=async(o,...a)=>{var l,c;o=Object.assign(Object.assign({},o),(c=(l=t[Rn].config).queryTransform)===null||c===void 0?void 0:c.call(l,e,a,Object.assign(Object.assign({},t[Rn].config),o)));const d=o.agent||t[Rn].config.agent||Fy(),f=Re.from(o.canisterId||t[Rn].config.canisterId),h=u0(n.argTypes,a),g=await d.query(f,{methodName:e,arg:h,effectiveCanisterId:o.effectiveCanisterId}),p=Object.assign(Object.assign({},g.httpDetails),{requestDetails:g.requestDetails});switch(g.status){case"rejected":throw new k6(f,e,g);case"replied":return n.annotations.includes(T0)?{httpDetails:p,result:Ds(n.retTypes,g.reply.arg)}:Ds(n.retTypes,g.reply.arg)}}:i=async(o,...a)=>{var l,c;o=Object.assign(Object.assign({},o),(c=(l=t[Rn].config).callTransform)===null||c===void 0?void 0:c.call(l,e,a,Object.assign(Object.assign({},t[Rn].config),o)));const d=o.agent||t[Rn].config.agent||Fy(),{canisterId:f,effectiveCanisterId:h,pollingStrategyFactory:g}=Object.assign(Object.assign(Object.assign({},zv),t[Rn].config),o),p=Re.from(f),v=h!==void 0?Re.from(h):p,E=u0(n.argTypes,a);if(d.rootKey==null)throw new kt("Agent root key not initialized before making call");const{requestId:b,response:w,requestDetails:S}=await d.call(p,{methodName:e,arg:E,effectiveCanisterId:v});let R,N;if(w.body&&w.body.certificate){const U=w.body.certificate;N=await bs.create({certificate:Xu(U),rootKey:d.rootKey,canisterId:Re.from(f),blsVerify:r});const H=[new TextEncoder().encode("request_status"),b];switch(new TextDecoder().decode(Fn(N.lookup([...H,"status"])))){case"replied":R=Fn(N.lookup([...H,"reply"]));break;case"rejected":{const oe=new Uint8Array(Fn(N.lookup([...H,"reject_code"])))[0],z=new TextDecoder().decode(Fn(N.lookup([...H,"reject_message"]))),W=Fn(N.lookup([...H,"error_code"])),V=W?new TextDecoder().decode(W):void 0;throw new My(p,e,b,w,oe,z,V)}}}else if(w.body&&"reject_message"in w.body){const{reject_code:U,reject_message:H,error_code:ie}=w.body;throw new My(p,e,b,w,U,H,ie)}if(w.status===202){const U=g(),H=await Iv(d,v,b,U,r);N=H.certificate,R=H.reply}const F=n.annotations.includes(T0),C=n.annotations.includes(Lv),I=Object.assign(Object.assign({},w),{requestDetails:S});if(R!==void 0)return F&&C?{httpDetails:I,certificate:N,result:Ds(n.retTypes,R)}:C?{certificate:N,result:Ds(n.retTypes,R)}:F?{httpDetails:I,result:Ds(n.retTypes,R)}:Ds(n.retTypes,R);if(n.retTypes.length===0)return F?{httpDetails:w,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${n.retTypes.join(",")}].`)};const s=(...o)=>i({},...o);return s.withOptions=o=>(...a)=>i(o,...a),s}function Iy(t){function e(n,r){if(t.effectiveCanisterId)return{effectiveCanisterId:Re.from(t.effectiveCanisterId)};const i=r[0];let s=Re.fromHex("");return i&&typeof i=="object"&&i.target_canister&&n==="install_chunked_code"&&(s=Re.from(i.target_canister)),i&&typeof i=="object"&&i.canister_id&&(s=Re.from(i.canister_id)),{effectiveCanisterId:s}}return Gd.createActor(S6,Object.assign(Object.assign(Object.assign({},t),{canisterId:Re.fromHex("")}),{callTransform:e,queryTransform:e}))}var sd=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},xi=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},du,fu,Zs,Qs;function Uy(t){return t!==null&&typeof t=="object"}class Hr{constructor(e){if(du.set(this,void 0),fu.set(this,void 0),e.byteLength!==Hr.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");sd(this,du,e,"f"),sd(this,fu,Hr.derEncode(e),"f")}static from(e){if(typeof e=="string"){const n=Yr(e);return this.fromRaw(n)}else if(Uy(e)){const n=e;if(Uy(n)&&Object.hasOwnProperty.call(n,"__derEncodedPublicKey__"))return this.fromDer(n);if(ArrayBuffer.isView(n)){const r=n;return this.fromRaw(Zp(r.buffer))}else{if(n instanceof ArrayBuffer)return this.fromRaw(n);if("rawKey"in n)return this.fromRaw(n.rawKey);if("derKey"in n)return this.fromDer(n.derKey);if("toDer"in n)return this.fromDer(n.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(e){return new Hr(e)}static fromDer(e){return new Hr(this.derDecode(e))}static derEncode(e){const n=kv(e,id).buffer;return n.__derEncodedPublicKey__=void 0,n}static derDecode(e){const n=Nv(e,id);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return xi(this,du,"f")}get derKey(){return xi(this,fu,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}du=new WeakMap,fu=new WeakMap;Hr.RAW_KEY_LENGTH=32;class Ti extends ig{constructor(e,n){super(),Zs.set(this,void 0),Qs.set(this,void 0),sd(this,Zs,Hr.from(e),"f"),sd(this,Qs,new Uint8Array(n),"f")}static generate(e){if(e&&e.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");e||(e=Gs.utils.randomPrivateKey()),Md(e,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const n=new Uint8Array(32);for(let i=0;i<32;i++)n[i]=new Uint8Array(e)[i];const r=Gs.getPublicKey(n);return Ti.fromKeyPair(r,n)}static fromParsedJson(e){const[n,r]=e;return new Ti(Hr.fromDer(Yr(n)),Yr(r))}static fromJSON(e){const n=JSON.parse(e);if(Array.isArray(n)){if(typeof n[0]=="string"&&typeof n[1]=="string")return this.fromParsedJson([n[0],n[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(e)}`)}static fromKeyPair(e,n){return new Ti(Hr.fromRaw(e),n)}static fromSecretKey(e){const n=Gs.getPublicKey(new Uint8Array(e));return Ti.fromKeyPair(n,e)}toJSON(){return[Ut(xi(this,Zs,"f").toDer()),Ut(xi(this,Qs,"f"))]}getKeyPair(){return{secretKey:xi(this,Qs,"f"),publicKey:xi(this,Zs,"f")}}getPublicKey(){return xi(this,Zs,"f")}async sign(e){const n=new Uint8Array(e),r=Fa(Gs.sign(n,xi(this,Qs,"f").slice(0,32)));return Object.defineProperty(r,"__signature__",{enumerable:!1,value:void 0}),r}static verify(e,n,r){const[i,s,o]=[e,n,r].map(a=>(typeof a=="string"&&(a=Yr(a)),a instanceof Uint8Array&&(a=a.buffer),new Uint8Array(a)));return Gs.verify(s,i,o)}}Zs=new WeakMap,Qs=new WeakMap;class fg extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,fg.prototype)}}function zy(t){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(t)return t;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new fg("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class od extends ig{constructor(e,n,r){super(),this._keyPair=e,this._derKey=n,this._subtleCrypto=r}static async generate(e){const{extractable:n=!1,keyUsages:r=["sign","verify"],subtleCrypto:i}=e??{},s=zy(i),o=await s.generateKey({name:"ECDSA",namedCurve:"P-256"},n,r),a=await s.exportKey("spki",o.publicKey);return new this(o,a,s)}static async fromKeyPair(e,n){const r=zy(n),i=await r.exportKey("spki",e.publicKey);return new od(e,i,r)}getKeyPair(){return this._keyPair}getPublicKey(){const e=this._derKey,n=Object.create(this._keyPair.publicKey);return n.toDer=function(){return e},n}async sign(e){const n={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(n,this._keyPair.privateKey,e)}}var T6=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ra=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},fi;class A6{constructor(e){fi.set(this,void 0),T6(this,fi,e,"f")}get rawKey(){return ra(this,fi,"f").rawKey}get derKey(){return ra(this,fi,"f").derKey}toDer(){return ra(this,fi,"f").toDer()}getPublicKey(){return ra(this,fi,"f")}getPrincipal(){return Re.from(ra(this,fi,"f").rawKey)}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}fi=new WeakMap;var j6=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},C6=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},B6=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},hu;const R6=new TextEncoder().encode("ic-request-auth-delegation"),P6=new TextEncoder().encode(`
ic-request`);function Gf(t){if(typeof t!="string"||t.length<64)throw new Error("Invalid public key.");return Yr(t)}class hg{constructor(e,n,r){this.pubkey=e,this.expiration=n,this.targets=r}toCBOR(){return fn.value.map(Object.assign({pubkey:fn.value.bytes(this.pubkey),expiration:fn.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:fn.value.array(this.targets.map(e=>fn.value.bytes(e.toUint8Array())))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:Ut(this.pubkey)},this.targets&&{targets:this.targets.map(e=>e.toHex())})}}async function O6(t,e,n,r){const i=new hg(e.toDer(),BigInt(+n)*BigInt(1e6),r),s=new Uint8Array([...R6,...new Uint8Array(ul(Object.assign({},i)))]),o=await t.sign(s);return{delegation:i,signature:o}}class ad{constructor(e,n){this.delegations=e,this.publicKey=n}static async create(e,n,r=new Date(Date.now()+15*60*1e3),i={}){var s,o;const a=await O6(e,n,r,i.targets);return new ad([...((s=i.previous)===null||s===void 0?void 0:s.delegations)||[],a],((o=i.previous)===null||o===void 0?void 0:o.publicKey)||e.getPublicKey().toDer())}static fromJSON(e){const{publicKey:n,delegations:r}=typeof e=="string"?JSON.parse(e):e;if(!Array.isArray(r))throw new Error("Invalid delegations.");const i=r.map(s=>{const{delegation:o,signature:a}=s,{pubkey:l,expiration:c,targets:d}=o;if(d!==void 0&&!Array.isArray(d))throw new Error("Invalid targets.");return{delegation:new hg(Gf(l),BigInt("0x"+c),d&&d.map(f=>{if(typeof f!="string")throw new Error("Invalid target.");return Re.fromHex(f)})),signature:Gf(a)}});return new this(i,Gf(n))}static fromDelegations(e,n){return new this(e,n)}toJSON(){return{delegations:this.delegations.map(e=>{const{delegation:n,signature:r}=e,{targets:i}=n;return{delegation:Object.assign({expiration:n.expiration.toString(16),pubkey:Ut(n.pubkey)},i&&{targets:i.map(s=>s.toHex())}),signature:Ut(r)}}),publicKey:Ut(this.publicKey)}}}class Ly extends ig{constructor(e,n){super(),this._inner=e,this._delegation=n}static fromDelegation(e,n){return new this(e,n)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(e){return this._inner.sign(e)}async transformRequest(e){const{body:n}=e,r=B6(e,["body"]),i=await ul(n);return Object.assign(Object.assign({},r),{body:{content:n,sender_sig:await this.sign(new Uint8Array([...P6,...new Uint8Array(i)])),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class ld extends A6{constructor(e,n){super(e),hu.set(this,void 0),j6(this,hu,n,"f")}get delegation(){return C6(this,hu,"f")}static fromDelegation(e,n){return new ld(e,n)}}hu=new WeakMap;function F6(t,e){for(const{delegation:r}of t.delegations)if(+new Date(Number(r.expiration/BigInt(1e6)))<=+Date.now())return!1;const n=[];for(const r of n){const i=r.toText();for(const{delegation:s}of t.delegations){if(s.targets===void 0)continue;let o=!0;for(const a of s.targets)if(a.toText()===i){o=!1;break}if(o)return!1}}return!0}var $y;(function(t){t[t.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})($y||($y={}));const Dy=["mousedown","mousemove","keydown","touchstart","wheel"];class Vy{constructor(e={}){var n;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:r,idleTimeout:i=10*60*1e3}=e||{};this.callbacks=r?[r]:[],this.idleTimeout=i;const s=this._resetTimer.bind(this);window.addEventListener("load",s,!0),Dy.forEach(function(a){document.addEventListener(a,s,!0)});const o=(a,l)=>{let c;return(...d)=>{const f=this,h=function(){c=void 0,a.apply(f,d)};clearTimeout(c),c=window.setTimeout(h,l)}};if(e!=null&&e.captureScroll){const a=o(s,(n=e==null?void 0:e.scrollDebounce)!==null&&n!==void 0?n:100);window.addEventListener("scroll",a,!0)}s()}static create(e={}){return new this(e)}registerCallback(e){this.callbacks.push(e)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const e=this._resetTimer.bind(this);Dy.forEach(function(n){document.removeEventListener(n,e,!0)}),this.callbacks.forEach(n=>n())}_resetTimer(){const e=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(e,this.idleTimeout)}}const M6=(t,e)=>e.some(n=>t instanceof n);let Hy,Wy;function I6(){return Hy||(Hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U6(){return Wy||(Wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $v=new WeakMap,A0=new WeakMap,Dv=new WeakMap,Kf=new WeakMap,pg=new WeakMap;function z6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Li(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$v.set(n,t)}).catch(()=>{}),pg.set(e,t),e}function L6(t){if(A0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});A0.set(t,e)}let j0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return A0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $6(t){j0=t(j0)}function D6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yf(this),e,...n);return Dv.set(r,e.sort?e.sort():[e]),Li(r)}:U6().includes(t)?function(...e){return t.apply(Yf(this),e),Li($v.get(this))}:function(...e){return Li(t.apply(Yf(this),e))}}function V6(t){return typeof t=="function"?D6(t):(t instanceof IDBTransaction&&L6(t),M6(t,I6())?new Proxy(t,j0):t)}function Li(t){if(t instanceof IDBRequest)return z6(t);if(Kf.has(t))return Kf.get(t);const e=V6(t);return e!==t&&(Kf.set(t,e),pg.set(e,t)),e}const Yf=t=>pg.get(t);function H6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Li(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Li(o.result),l.oldVersion,l.newVersion,Li(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const W6=["get","getKey","getAll","getAllKeys","count"],q6=["put","add","delete","clear"],Xf=new Map;function qy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xf.get(e))return Xf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=q6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Xf.set(e,s),s}$6(t=>({...t,get:(e,n,r)=>qy(e,n)||t.get(e,n,r),has:(e,n)=>!!qy(e,n)||t.has(e,n)}));const Vv="auth-client-db",Hv="ic-keyval",G6=async(t=Vv,e=Hv,n)=>(Wv&&(localStorage!=null&&localStorage.getItem(Si))&&(localStorage.removeItem(Si),localStorage.removeItem(bi)),await H6(t,n,{upgrade:r=>{r.objectStoreNames.contains(e)&&r.clear(e),r.createObjectStore(e)}}));async function K6(t,e,n){return await t.get(e,n)}async function Y6(t,e,n,r){return await t.put(e,r,n)}async function X6(t,e,n){return await t.delete(e,n)}class gg{constructor(e,n){this._db=e,this._storeName=n}static async create(e){const{dbName:n=Vv,storeName:r=Hv,version:i=eT}=e??{},s=await G6(n,r,i);return new gg(s,r)}async set(e,n){return await Y6(this._db,this._storeName,e,n)}async get(e){var n;return(n=await K6(this._db,this._storeName,e))!==null&&n!==void 0?n:null}async remove(e){return await X6(this._db,this._storeName,e)}}var Z6=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Q6=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},pu;const bi="identity",Si="delegation",J6="iv",eT=1,Wv=typeof window<"u";class tT{constructor(e="ic-",n){this.prefix=e,this._localStorage=n}get(e){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+e))}set(e,n){return this._getLocalStorage().setItem(this.prefix+e,n),Promise.resolve()}remove(e){return this._getLocalStorage().removeItem(this.prefix+e),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!e)throw new Error("Could not find local storage.");return e}}class nT{constructor(e){pu.set(this,void 0),Z6(this,pu,e??{},"f")}get _db(){return new Promise(e=>{if(this.initializedDb){e(this.initializedDb);return}gg.create(Q6(this,pu,"f")).then(n=>{this.initializedDb=n,e(n)})})}async get(e){return await(await this._db).get(e)}async set(e,n){await(await this._db).set(e,n)}async remove(e){await(await this._db).remove(e)}}pu=new WeakMap;const rT="https://identity.ic0.app",iT="#authorize",Zf="ECDSA",Qf="Ed25519",sT=500,oT="UserInterrupt";class mg{constructor(e,n,r,i,s,o,a,l){this._identity=e,this._key=n,this._chain=r,this._storage=i,this.idleManager=s,this._createOptions=o,this._idpWindow=a,this._eventHandler=l,this._registerDefaultIdleCallback()}static async create(e={}){var n,r,i;const s=(n=e.storage)!==null&&n!==void 0?n:new nT,o=(r=e.keyType)!==null&&r!==void 0?r:Zf;let a=null;if(e.identity)a=e.identity;else{let f=await s.get(bi);if(!f&&Wv)try{const h=new tT,g=await h.get(Si),p=await h.get(bi);g&&p&&o===Zf&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await s.set(Si,g),await s.set(bi,p),f=g,await h.remove(Si),await h.remove(bi))}catch(h){console.error("error while attempting to recover localstorage: "+h)}if(f)try{typeof f=="object"?o===Qf&&typeof f=="string"?a=await Ti.fromJSON(f):a=await od.fromKeyPair(f):typeof f=="string"&&(a=Ti.fromJSON(f))}catch{}}let l=new y0,c=null;if(a)try{const f=await s.get(Si);if(typeof f=="object"&&f!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");e.identity?l=e.identity:f&&(c=ad.fromJSON(f),F6(c)?"toDer"in a?l=ld.fromDelegation(a,c):l=Ly.fromDelegation(a,c):(await Jf(s),a=null))}catch(f){console.error(f),await Jf(s),a=null}let d;return!((i=e.idleOptions)===null||i===void 0)&&i.disableIdle?d=void 0:(c||e.identity)&&(d=Vy.create(e.idleOptions)),a||(o===Qf?(a=await Ti.generate(),await s.set(bi,JSON.stringify(a.toJSON()))):(e.storage&&o===Zf&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${Qf}' as the key type, as it can serialize to a string`),a=await od.generate(),await s.set(bi,a.getKeyPair()))),new this(l,a,c,s,d,e)}_registerDefaultIdleCallback(){var e,n;const r=(e=this._createOptions)===null||e===void 0?void 0:e.idleOptions;!(r!=null&&r.onIdle)&&!(r!=null&&r.disableDefaultIdleCallback)&&((n=this.idleManager)===null||n===void 0||n.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(e,n){var r,i;const s=e.delegations.map(c=>({delegation:new hg(c.delegation.pubkey,c.delegation.expiration,c.delegation.targets),signature:c.signature.buffer})),o=ad.fromDelegations(s,e.userPublicKey.buffer),a=this._key;if(!a)return;this._chain=o,"toDer"in a?this._identity=ld.fromDelegation(a,this._chain):this._identity=Ly.fromDelegation(a,this._chain),(r=this._idpWindow)===null||r===void 0||r.close();const l=(i=this._createOptions)===null||i===void 0?void 0:i.idleOptions;!this.idleManager&&!(l!=null&&l.disableIdle)&&(this.idleManager=Vy.create(l),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Si,JSON.stringify(this._chain.toJSON())),n==null||n(e)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(e){var n,r,i,s;const o=BigInt(8)*BigInt(36e11),a=new URL(((n=e==null?void 0:e.identityProvider)===null||n===void 0?void 0:n.toString())||rT);a.hash=iT,(r=this._idpWindow)===null||r===void 0||r.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(a,Object.assign({maxTimeToLive:(i=e==null?void 0:e.maxTimeToLive)!==null&&i!==void 0?i:o},e)),window.addEventListener("message",this._eventHandler),this._idpWindow=(s=window.open(a.toString(),"idpWindow",e==null?void 0:e.windowOpenerFeatures))!==null&&s!==void 0?s:void 0;const l=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(oT,e==null?void 0:e.onError):setTimeout(l,sT))};l()}_getEventHandler(e,n){return async r=>{var i,s,o;if(r.origin!==e.origin)return;const a=r.data;switch(a.kind){case"authorize-ready":{const l=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((i=this._key)===null||i===void 0?void 0:i.getPublicKey().toDer()),maxTimeToLive:n==null?void 0:n.maxTimeToLive,allowPinAuthentication:n==null?void 0:n.allowPinAuthentication,derivationOrigin:(s=n==null?void 0:n.derivationOrigin)===null||s===void 0?void 0:s.toString()},n==null?void 0:n.customValues);(o=this._idpWindow)===null||o===void 0||o.postMessage(l,e.origin);break}case"authorize-client-success":try{await this._handleSuccess(a,n==null?void 0:n.onSuccess)}catch(l){this._handleFailure(l.message,n==null?void 0:n.onError)}break;case"authorize-client-failure":this._handleFailure(a.text,n==null?void 0:n.onError);break}}}_handleFailure(e,n){var r;(r=this._idpWindow)===null||r===void 0||r.close(),n==null||n(e),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(e={}){if(await Jf(this._storage),this._identity=new y0,this._chain=null,e.returnTo)try{window.history.pushState({},"",e.returnTo)}catch{window.location.href=e.returnTo}}}async function Jf(t){await t.remove(bi),await t.remove(Si),await t.remove(J6)}const aT=({IDL:t})=>{const e=t.Variant({Ok:t.Text,Err:t.Text}),n=t.Record({txid:t.Vec(t.Nat8),vout:t.Nat32}),r=t.Record({value:t.Nat64,outpoint:n}),i=t.Record({utxos:t.Vec(r)}),s=t.Variant({Ok:i,Err:t.Text}),o=t.Record({btc_to_usd:t.Float64,last_updated:t.Nat64,eth_to_usd:t.Float64,sol_to_usd:t.Float64,usd_to_idr:t.Float64}),a=t.Variant({Ok:o,Err:t.Text}),l=t.Record({eth_balance:t.Float64,usd_balance:t.Float64,sol_usd_value:t.Float64,btc_usd_value:t.Float64,negative_reason:t.Opt(t.Text),btc_balance:t.Float64,eth_usd_value:t.Float64,sol_balance:t.Float64,total_usd_value:t.Float64,is_negative:t.Bool}),c=t.Variant({Ok:t.Nat64,Err:t.Text}),d=t.Record({id:t.Nat64,updated_at:t.Nat64,period:t.Text,created_at:t.Nat64,spent:t.Float64,currency:t.Text,category:t.Text,budget:t.Float64}),f=t.Record({id:t.Nat64,status:t.Text,title:t.Text,updated_at:t.Nat64,description:t.Text,deadline:t.Text,created_at:t.Nat64,current_amount:t.Float64,currency:t.Text,target_amount:t.Float64,category:t.Text,priority:t.Text}),h=t.Record({id:t.Nat64,is_read:t.Bool,title:t.Text,type_:t.Text,message:t.Text,timestamp:t.Nat64,category:t.Text}),g=t.Record({diversification_score:t.Float64,balance_breakdown:l,asset_allocation:t.Vec(t.Tuple(t.Text,t.Float64)),total_value_idr:t.Float64,total_value_usd:t.Float64}),p=t.Record({id:t.Nat64,conversion_rate:t.Opt(t.Float64),fee:t.Opt(t.Float64),confirmations:t.Opt(t.Nat32),transaction_type:t.Opt(t.Text),source:t.Opt(t.Text),is_income:t.Bool,date:t.Text,txid:t.Opt(t.Text),description:t.Text,currency:t.Text,timestamp:t.Nat64,converted_currency:t.Opt(t.Text),category:t.Text,converted_amount:t.Opt(t.Float64),amount:t.Float64}),v=t.Record({value:t.Text,name:t.Text}),E=t.Record({status:t.Nat,body:t.Vec(t.Nat8),headers:t.Vec(v)}),b=t.Record({context:t.Vec(t.Nat8),response:E});return t.Service({add_budget:t.Func([t.Text,t.Float64,t.Text,t.Text],[e],[]),add_goal:t.Func([t.Text,t.Text,t.Float64,t.Float64,t.Text,t.Text,t.Text,t.Text],[e],[]),add_manual_transaction:t.Func([t.Float64,t.Text,t.Text,t.Text,t.Text],[e],[]),add_transaction:t.Func([t.Float64,t.Text,t.Bool,t.Text,t.Text],[e],[]),btc_to_satoshis:t.Func([t.Float64],[t.Nat64],["query"]),convert_currency:t.Func([t.Float64,t.Text,t.Text],[t.Opt(t.Float64)],["query"]),fetch_btc_transactions:t.Func([],[s],[]),fetch_real_time_rates:t.Func([],[a],[]),format_btc_amount:t.Func([t.Float64],[t.Text],["query"]),get_all_rates:t.Func([],[t.Vec(t.Tuple(t.Text,t.Text,t.Float64))],["query"]),get_balance:t.Func([t.Text,t.Opt(t.Text)],[t.Float64],["query"]),get_balance_breakdown:t.Func([],[l],["query"]),get_btc_balance:t.Func([],[c],[]),get_budgets:t.Func([t.Opt(t.Text)],[t.Vec(d)],["query"]),get_crypto_balances:t.Func([],[t.Float64,t.Float64,t.Float64],["query"]),get_currency_rate:t.Func([t.Text,t.Text],[t.Opt(t.Float64)],["query"]),get_currency_rates:t.Func([],[o],["query"]),get_goals:t.Func([],[t.Vec(f)],["query"]),get_notifications:t.Func([t.Opt(t.Text),t.Bool],[t.Vec(h)],["query"]),get_portfolio_summary:t.Func([],[g],["query"]),get_total_balance_usd:t.Func([],[t.Float64],["query"]),get_total_expense:t.Func([t.Text,t.Opt(t.Text)],[t.Float64],["query"]),get_total_income:t.Func([t.Text,t.Opt(t.Text)],[t.Float64],["query"]),get_transactions:t.Func([],[t.Vec(p)],["query"]),get_transactions_by_currency:t.Func([t.Text],[t.Vec(p)],["query"]),get_transactions_by_period:t.Func([t.Text],[t.Vec(p)],["query"]),get_transactions_by_source:t.Func([t.Text],[t.Vec(p)],["query"]),get_unread_notification_count:t.Func([],[t.Nat64],["query"]),get_user_balance_summary:t.Func([],[t.Float64,t.Float64,t.Float64],["query"]),get_user_summary:t.Func([],[t.Nat64,t.Nat64,t.Nat64,t.Nat64],["query"]),get_wallet_address:t.Func([t.Text],[t.Opt(t.Text)],["query"]),mark_notification_read:t.Func([t.Nat64],[e],[]),satoshis_to_btc:t.Func([t.Nat64],[t.Float64],["query"]),set_currency_rate:t.Func([t.Text,t.Text,t.Float64],[e],[]),set_wallet_address:t.Func([t.Text,t.Text],[e],[]),sync_blockchain_transactions:t.Func([],[e],[]),transform:t.Func([b],[E],["query"]),update_budget_spent:t.Func([],[e],[]),update_currency_rates:t.Func([t.Float64,t.Float64,t.Float64,t.Float64],[e],[]),validate_btc_address:t.Func([t.Text],[t.Bool],["query"])})},yg="uxrrr-q7777-77774-qaaaq-cai",qv=(t,e={})=>{const n=e.agent||new La({...e.agentOptions});return e.agent&&e.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.fetchRootKey().catch(r=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(r)}),Gd.createActor(aT,{agent:n,canisterId:t,...e.actorOptions})};qv(yg);const lT="local",Gv="http://uzt4z-lp777-77774-qaabq-cai.localhost:4943";let gn=null,Ee=null;const He=async()=>{try{gn||(gn=await mg.create());const t=gn.getIdentity();Ee=qv(yg,{agentOptions:{identity:t}});const e=await gn.isAuthenticated();return console.log("initAuth - isAuthenticated:",e),e}catch(t){return console.error("Error in initAuth:",t),!1}},cT=async()=>{try{gn||(console.log("No authClient, creating new one"),gn=await mg.create());const t=await gn.isAuthenticated();return console.log("isAuthenticated check:",t),t}catch(t){return console.error("Error checking authentication:",t),!1}},uT=async()=>{try{gn||(gn=await mg.create()),await gn.login({identityProvider:Gv,onSuccess:async()=>{console.log("Login successful, initializing auth..."),await He()},onError:t=>{console.error("Login error:",t)}})}catch(t){throw console.error("Error in login:",t),t}},dT=async()=>{gn&&(await gn.logout(),Ee=null)},Wr={async addManualTransaction(t,e,n,r,i){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const s=await Ee.add_manual_transaction(Number(t),e,n,r,i);if("Ok"in s)return s.Ok;throw new Error(s.Err)}catch(s){throw console.error("Error adding manual transaction:",s),s}},async getTransactions(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");return(await Ee.get_transactions()).map(e=>({...e,amount:Number(e.amount),timestamp:Number(e.timestamp),converted_amount:e.converted_amount?Number(e.converted_amount):null,conversion_rate:e.conversion_rate?Number(e.conversion_rate):null,confirmations:e.confirmations?Number(e.confirmations):null,fee:e.fee?Number(e.fee):null}))}catch(t){throw console.error("Error getting transactions:",t),t}},async getTransactionsByPeriod(t){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");return(await Ee.get_transactions_by_period(t)).map(n=>({...n,amount:Number(n.amount),timestamp:Number(n.timestamp),converted_amount:n.converted_amount?Number(n.converted_amount):null,conversion_rate:n.conversion_rate?Number(n.conversion_rate):null,confirmations:n.confirmations?Number(n.confirmations):null,fee:n.fee?Number(n.fee):null}))}catch(e){throw console.error("Error getting transactions by period:",e),e}},async getTransactionsBySource(t){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");return(await Ee.get_transactions_by_source(t)).map(n=>({...n,amount:Number(n.amount),timestamp:Number(n.timestamp),converted_amount:n.converted_amount?Number(n.converted_amount):null,conversion_rate:n.conversion_rate?Number(n.conversion_rate):null,confirmations:n.confirmations?Number(n.confirmations):null,fee:n.fee?Number(n.fee):null}))}catch(e){throw console.error("Error getting transactions by source:",e),e}},async syncBlockchainTransactions(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const t=await Ee.sync_blockchain_transactions();if("Ok"in t)return t.Ok;throw new Error(t.Err)}catch(t){throw console.error("Error syncing blockchain transactions:",t),t}}},Oo={async getBalanceBreakdown(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const t=await Ee.get_balance_breakdown();return{usd_balance:Number(t.usd_balance),btc_balance:Number(t.btc_balance),eth_balance:Number(t.eth_balance),sol_balance:Number(t.sol_balance),btc_usd_value:Number(t.btc_usd_value),eth_usd_value:Number(t.eth_usd_value),sol_usd_value:Number(t.sol_usd_value),total_usd_value:Number(t.total_usd_value),is_negative:t.is_negative,negative_reason:t.negative_reason}}catch(t){throw console.error("Error getting balance breakdown:",t),t}},async getPortfolioSummary(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const t=await Ee.get_portfolio_summary();return{total_value_usd:Number(t.total_value_usd),total_value_idr:Number(t.total_value_idr),asset_allocation:t.asset_allocation,balance_breakdown:{usd_balance:Number(t.balance_breakdown.usd_balance),btc_balance:Number(t.balance_breakdown.btc_balance),eth_balance:Number(t.balance_breakdown.eth_balance),sol_balance:Number(t.balance_breakdown.sol_balance),btc_usd_value:Number(t.balance_breakdown.btc_usd_value),eth_usd_value:Number(t.balance_breakdown.eth_usd_value),sol_usd_value:Number(t.balance_breakdown.sol_usd_value),total_usd_value:Number(t.balance_breakdown.total_usd_value),is_negative:t.balance_breakdown.is_negative,negative_reason:t.balance_breakdown.negative_reason},diversification_score:Number(t.diversification_score)}}catch(t){throw console.error("Error getting portfolio summary:",t),t}},async getTotalBalanceUsd(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const t=await Ee.get_total_balance_usd();return Number(t)}catch(t){throw console.error("Error getting total balance USD:",t),t}},async getCryptoBalances(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const t=await Ee.get_crypto_balances();return{btc:Number(t[0]),eth:Number(t[1]),sol:Number(t[2])}}catch(t){throw console.error("Error getting crypto balances:",t),t}}},pl={async fetchRealTimeRates(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const t=await Ee.fetch_real_time_rates();if("Ok"in t)return{usd_to_idr:Number(t.Ok.usd_to_idr),btc_to_usd:Number(t.Ok.btc_to_usd),eth_to_usd:Number(t.Ok.eth_to_usd),sol_to_usd:Number(t.Ok.sol_to_usd),last_updated:Number(t.Ok.last_updated)};throw new Error(t.Err)}catch(t){throw console.error("Error fetching real-time rates:",t),t}},async getCurrencyRates(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const t=await Ee.get_currency_rates();return{usd_to_idr:Number(t.usd_to_idr),btc_to_usd:Number(t.btc_to_usd),eth_to_usd:Number(t.eth_to_usd),sol_to_usd:Number(t.sol_to_usd),last_updated:Number(t.last_updated)}}catch(t){throw console.error("Error getting currency rates:",t),t}},async updateCurrencyRates(t,e,n,r){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const i=await Ee.update_currency_rates(Number(t),Number(e),Number(n),Number(r));if("Ok"in i)return i.Ok;throw new Error(i.Err)}catch(i){throw console.error("Error updating currency rates:",i),i}},async getAllRates(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");return(await Ee.get_all_rates()).map(e=>({from:e[0],to:e[1],rate:Number(e[2])}))}catch(t){throw console.error("Error getting all rates:",t),t}}},Gy={async addBudget(t,e,n,r){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const i=await Ee.add_budget(t,Number(e),n,r);if("Ok"in i)return i.Ok;throw new Error(i.Err)}catch(i){throw console.error("Error adding budget:",i),i}},async getBudgets(t=null){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");return(await Ee.get_budgets(t?[t]:[])).map(n=>({...n,budget:Number(n.budget),spent:Number(n.spent),created_at:Number(n.created_at),updated_at:Number(n.updated_at)}))}catch(e){throw console.error("Error getting budgets:",e),e}},async updateBudgetSpent(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const t=await Ee.update_budget_spent();if("Ok"in t)return t.Ok;throw new Error(t.Err)}catch(t){throw console.error("Error updating budget spent:",t),t}}},Ky={async addGoal(t,e,n,r,i,s,o,a){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const l=await Ee.add_goal(t,e,Number(n),Number(r),i,s,o,a);if("Ok"in l)return l.Ok;throw new Error(l.Err)}catch(l){throw console.error("Error adding goal:",l),l}},async getGoals(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");return(await Ee.get_goals()).map(e=>({...e,target_amount:Number(e.target_amount),current_amount:Number(e.current_amount),created_at:Number(e.created_at),updated_at:Number(e.updated_at)}))}catch(t){throw console.error("Error getting goals:",t),t}}},C0={async getNotifications(t=null,e=!1){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");return(await Ee.get_notifications(t?[t]:[],e)).map(r=>({...r,timestamp:Number(r.timestamp)}))}catch(n){throw console.error("Error getting notifications:",n),n}},async getUnreadCount(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const t=await Ee.get_unread_notification_count();return Number(t)}catch(t){throw console.error("Error getting unread count:",t),t}},async markAsRead(t){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const e=await Ee.mark_notification_read(Number(t));if("Ok"in e)return e.Ok;throw new Error(e.Err)}catch(e){throw console.error("Error marking notification as read:",e),e}}},Vs={async setWalletAddress(t,e){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const n=await Ee.set_wallet_address(t,e);if("Ok"in n)return n.Ok;throw new Error(n.Err)}catch(n){throw console.error("Error setting wallet address:",n),n}},async getWalletAddress(t){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const e=await Ee.get_wallet_address(t);return e.length>0?e[0]:null}catch(e){throw console.error("Error getting wallet address:",e),e}},async getBtcBalance(){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const t=await Ee.get_btc_balance();if("Ok"in t)return Number(t.Ok);throw new Error(t.Err)}catch(t){throw console.error("Error getting BTC balance:",t),t}},async validateBtcAddress(t){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");return await Ee.validate_btc_address(t)}catch(e){throw console.error("Error validating BTC address:",e),e}},async formatBtcAmount(t){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");return await Ee.format_btc_amount(Number(t))}catch(e){throw console.error("Error formatting BTC amount:",e),e}},async satoshisToBtc(t){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const e=await Ee.satoshis_to_btc(Number(t));return Number(e)}catch(e){throw console.error("Error converting satoshis to BTC:",e),e}},async btcToSatoshis(t){try{if(!Ee&&!await He())throw new Error("Not authenticated. Please login first.");const e=await Ee.btc_to_satoshis(Number(t));return Number(e)}catch(e){throw console.error("Error converting BTC to satoshis:",e),e}}},Ir={async init(){return await He()},async login(){return await uT()},async logout(){return await dT()},async isAuthenticated(){return await cT()},async getCurrentUser(){try{if(!gn)return null;const t=gn.getIdentity();return t?t.getPrincipal().toText():null}catch(t){return console.error("Error getting current user:",t),null}},getEnvironmentInfo(){return{network:lT,identityProvider:Gv,canisterId:yg}},async getBackendStatus(){try{return!Ee&&!await He()?{status:"not_authenticated"}:(await Ee.get_transactions(),{status:"connected"})}catch(t){return console.error("Backend status check failed:",t),{status:"error",error:t.message}}}},wn=$.createContext(),fT=({children:t})=>{const[e,n]=$.useState(!1),[r,i]=$.useState(null),[s,o]=$.useState("USD"),[a,l]=$.useState(!0);$.useEffect(()=>{const I=setTimeout(async()=>{try{l(!0);const U=await Ir.isAuthenticated();if(console.log("Initial auth check:",U),n(U),U)try{const H=await Ir.getCurrentUser();i(H)}catch(H){console.error("Error getting current user:",H)}}catch(U){console.error("Error initializing auth:",U),n(!1),i(null)}finally{l(!1)}},500);return()=>clearTimeout(I)},[]);const F={isLoggedIn:e,user:r,loading:a,handleLogin:async()=>{try{l(!0),await Ir.login(),await new Promise(I=>setTimeout(I,3e3));const C=await Ir.isAuthenticated();if(console.log("Login result - isAuthenticated:",C),n(C),C)try{const I=await Ir.getCurrentUser();i(I)}catch(I){console.error("Error getting current user after login:",I)}}catch(C){console.error("Login error:",C),n(!1),i(null)}finally{l(!1)}},handleLogout:async()=>{try{await Ir.logout(),n(!1),i(null)}catch(C){console.error("Logout error:",C)}},currency:s,setCurrency:o,getCurrencyRates:async()=>{try{return await pl.getCurrencyRates()}catch(C){return console.error("Get currency rates error:",C),{usd_to_idr:0,btc_to_usd:0,eth_to_usd:0,sol_to_usd:0,last_updated:0}}},fetchRealTimeRates:async()=>{try{return await pl.fetchRealTimeRates()}catch(C){throw console.error("Fetch real-time rates error:",C),C}},convertToDisplayCurrency:(C,I)=>s==="USD"?C:s==="IDR"&&I.usd_to_idr>0?C*I.usd_to_idr:C,getCurrencySymbol:()=>{switch(s){case"IDR":return"Rp";case"USD":return"$";default:return"$"}},formatCurrency:(C,I)=>new Intl.NumberFormat("en-US",{style:"currency",currency:I,minimumFractionDigits:I==="BTC"?8:2}).format(C),getBalanceBreakdown:async()=>{try{return await Oo.getBalanceBreakdown()}catch(C){return console.error("Get balance breakdown error:",C),{usd_balance:0,btc_balance:0,eth_balance:0,sol_balance:0,btc_usd_value:0,eth_usd_value:0,sol_usd_value:0,total_usd_value:0,is_negative:!1,negative_reason:null}}},getPortfolioSummary:async()=>{try{return await Oo.getPortfolioSummary()}catch(C){return console.error("Get portfolio summary error:",C),{total_value_usd:0,total_value_idr:0,asset_allocation:{},balance_breakdown:{usd_balance:0,btc_balance:0,eth_balance:0,sol_balance:0,btc_usd_value:0,eth_usd_value:0,sol_usd_value:0,total_usd_value:0,is_negative:!1,negative_reason:null},diversification_score:0}}},getTransactions:async()=>{try{return await Wr.getTransactions()}catch(C){return console.error("Get transactions error:",C),[]}},getTransactionsBySource:async C=>{try{return await Wr.getTransactionsBySource(C)}catch(I){return console.error("Get transactions by source error:",I),[]}},getTransactionsByPeriod:async C=>{try{return await Wr.getTransactionsByPeriod(C)}catch(I){return console.error("Get transactions by period error:",I),[]}},syncBlockchainTransactions:async()=>{try{return await Wr.syncBlockchainTransactions()}catch(C){throw console.error("Sync blockchain transactions error:",C),C}}};return u.jsx(wn.Provider,{value:F,children:t})};class hT extends xd.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:u.jsx("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900",children:u.jsx("svg",{className:"h-6 w-6 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Something went wrong"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"An error occurred while loading the application."}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Reload Page"})}),!1]})})}):this.props.children}}const pT=[{to:"/dashboard",label:"Dashboard"},{to:"/transactions",label:"Transactions"},{to:"/portfolio",label:"Portfolio"},{to:"/wallets",label:"Wallets"},{to:"/budget",label:"Budget"},{to:"/goals",label:"Goals"},{to:"/analytics",label:"Analytics"},{to:"/ai-advisor",label:"AI Advisor"},{to:"/notifications",label:"Notifications"},{to:"/settings",label:"Settings"},{to:"/help",label:"Help"}];function gT(){return u.jsxs("aside",{className:"hidden md:flex md:flex-col w-56 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 min-h-screen",children:[u.jsxs("div",{className:"flex items-center h-16 px-6 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("img",{src:"/logo.svg",alt:"FinTrack Logo",className:"h-8 mr-2"}),u.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"FinTrack"})]}),u.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:pT.map(t=>u.jsxs(Kp,{to:t.to,className:({isActive:e})=>`flex items-center px-4 py-2 rounded-lg text-base font-medium transition-colors ${e?"bg-blue-100 dark:bg-gray-700 text-blue-700 dark:text-white":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[u.jsx("span",{className:"mr-3",children:"🔹"}),t.label]},t.to))})]})}const mT=[{to:"/dashboard",label:"Home",icon:"🏠"},{to:"/transactions",label:"Tx",icon:"💸"},{to:"/budget",label:"Budget",icon:"💰"},{to:"/notifications",label:"Notif",icon:"🔔"},{to:"/settings",label:"Settings",icon:"⚙️"}];function yT(){return u.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 flex justify-around py-2 shadow",children:mT.map(t=>u.jsxs(Kp,{to:t.to,className:({isActive:e})=>`flex flex-col items-center text-xs font-medium px-2 ${e?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-300"}`,children:[u.jsx("span",{className:"text-xl mb-1",children:t.icon}),t.label]},t.to))})}function xT({size:t="md",className:e=""}){const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};return u.jsx("div",{className:`flex justify-center items-center ${e}`,children:u.jsx("div",{className:`${n[t]} animate-spin rounded-full border-2 border-gray-300 border-t-blue-600`})})}function je({children:t,variant:e="primary",size:n="md",loading:r=!1,disabled:i=!1,className:s="",...o}){const a="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",l={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},d=i||r;return u.jsxs("button",{className:`${a} ${l[e]} ${c[n]} ${d?"opacity-60 cursor-not-allowed":""} ${s}`,disabled:d,...o,children:[r&&u.jsx(xT,{size:"sm",className:"mr-2"}),t]})}function bT({children:t,variant:e="info",dismissible:n=!1,onDismiss:r,className:i="",...s}){const[o,a]=$.useState(!0),l=()=>{a(!1),r==null||r()},c={success:"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-200",warning:"bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-200",danger:"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-200",info:"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-200"};return o?u.jsx("div",{className:`border rounded-lg p-4 ${c[e]} ${i}`,...s,children:u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-1",children:t}),n&&u.jsx("button",{onClick:l,className:"ml-3 -mt-1 -mr-1 text-current hover:opacity-75",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null}function wT(){const{handleLogin:t}=$.useContext(wn),[e,n]=$.useState(!1),[r,i]=$.useState(null),s=async()=>{n(!0),i(null);try{await t()}catch{i("Login gagal. Coba lagi.")}finally{n(!1)}};return u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:[u.jsx("img",{src:"/logo.svg",alt:"FinTrack Logo",className:"h-16 mb-6"}),u.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Sign in to FinTrack"}),u.jsx(je,{onClick:s,loading:e,size:"lg",className:"mb-4",children:"Sign in with Internet Identity"}),r&&u.jsx(bT,{variant:"danger",dismissible:!0,onDismiss:()=>i(null),children:r})]})}function Kv({isOpen:t,onClose:e,onTransactionAdded:n}){$.useContext(wn);const[r,i]=$.useState({amount:"",description:"",category:"",date:new Date().toISOString().split("T")[0]}),[s,o]=$.useState(!1),[a,l]=$.useState(""),[c,d]=$.useState("expense"),f=async g=>{if(g.preventDefault(),o(!0),l(""),parseFloat(r.amount)<=0){l("Amount must be greater than 0"),o(!1);return}if(!r.description.trim()){l("Description cannot be empty"),o(!1);return}if(!r.category.trim()){l("Category cannot be empty"),o(!1);return}const p=new Date(r.date),v=new Date;if(v.setHours(23,59,59,999),p>v){l("Cannot select future dates"),o(!1);return}try{console.log("Submitting transaction:",{amount:parseFloat(r.amount),description:r.description,transactionType:c,category:r.category,date:r.date});const E=await Wr.addManualTransaction(parseFloat(r.amount),r.description,c,r.category,r.date);console.log("Transaction result:",E),i({amount:"",description:"",category:"",date:new Date().toISOString().split("T")[0]}),d("expense"),n(),e()}catch(E){console.error("Transaction error:",E),l(E.message||"Failed to add transaction. Please try again.")}finally{o(!1)}},h=g=>{const{name:p,value:v,type:E,checked:b}=g.target;i(w=>({...w,[p]:E==="checkbox"?b:v}))};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add Transaction"}),u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.date&&u.jsxs("span",{children:["📅 ",new Date(r.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})})]}),a&&u.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:a}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Transaction Type"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{type:"button",onClick:()=>d("expense"),className:`flex-1 py-2 px-4 rounded-md border-2 transition-colors ${c==="expense"?"border-red-500 bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400":"border-gray-300 bg-white text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}`,children:"💸 Expense"}),u.jsx("button",{type:"button",onClick:()=>d("income"),className:`flex-1 py-2 px-4 rounded-md border-2 transition-colors ${c==="income"?"border-green-500 bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"border-gray-300 bg-white text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}`,children:"💰 Income"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount (USD)"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),u.jsx("input",{type:"number",name:"amount",value:r.amount,onChange:h,required:!0,step:"0.01",min:"0.01",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"0.00"})]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"All manual transactions are stored in USD"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date"}),u.jsx("input",{type:"date",name:"date",value:r.date,onChange:h,required:!0,max:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Select the date when this transaction occurred (cannot be in the future)"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),u.jsx("input",{type:"text",name:"description",value:r.description,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter description"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),u.jsxs("select",{name:"category",value:r.category,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[u.jsx("option",{value:"",children:"Select category"}),c==="income"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"Salary",children:"Salary"}),u.jsx("option",{value:"Freelance",children:"Freelance"}),u.jsx("option",{value:"Business",children:"Business"}),u.jsx("option",{value:"Bonus",children:"Bonus"}),u.jsx("option",{value:"Investment",children:"Investment"}),u.jsx("option",{value:"Other Income",children:"Other Income"})]}),c==="expense"&&u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"Food & Dining",children:"Food & Dining"}),u.jsx("option",{value:"Transportation",children:"Transportation"}),u.jsx("option",{value:"Shopping",children:"Shopping"}),u.jsx("option",{value:"Entertainment",children:"Entertainment"}),u.jsx("option",{value:"Healthcare",children:"Healthcare"}),u.jsx("option",{value:"Education",children:"Education"}),u.jsx("option",{value:"Bills & Utilities",children:"Bills & Utilities"}),u.jsx("option",{value:"Housing",children:"Housing"}),u.jsx("option",{value:"Investment",children:"Investment"}),u.jsx("option",{value:"Other Expense",children:"Other Expense"})]})]})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Adding...":"Add Transaction"}),u.jsx("button",{type:"button",onClick:e,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"})]})]})]})}):null}function Se({children:t,variant:e="default",size:n="md",className:r="",...i}){const s="rounded-lg shadow",o={default:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",elevated:"bg-white dark:bg-gray-800 shadow-lg",outline:"bg-transparent border-2 border-gray-200 dark:border-gray-700"},a={sm:"p-3",md:"p-4",lg:"p-6"};return u.jsx("div",{className:`${s} ${o[e]} ${a[n]} ${r}`,...i,children:t})}function gl({value:t=0,max:e=100,variant:n="default",size:r="md",showLabel:i=!1,className:s="",...o}){const a=Math.min(Math.max(t/e*100,0),100),l={default:"bg-blue-600",success:"bg-green-600",warning:"bg-yellow-600",danger:"bg-red-600"},c={sm:"h-1",md:"h-2",lg:"h-3"};return u.jsxs("div",{className:`w-full ${s}`,...o,children:[i&&u.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1",children:[u.jsx("span",{children:"Progress"}),u.jsxs("span",{children:[Math.round(a),"%"]})]}),u.jsx("div",{className:`w-full bg-gray-200 dark:bg-gray-700 rounded-full ${c[r]}`,children:u.jsx("div",{className:`${l[n]} rounded-full transition-all duration-300 ${c[r]}`,style:{width:`${a}%`}})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Il(t){return t+.5|0}const Ai=(t,e,n)=>Math.max(Math.min(t,n),e);function wa(t){return Ai(Il(t*2.55),0,255)}function $i(t){return Ai(Il(t*255),0,255)}function Ur(t){return Ai(Il(t/2.55)/100,0,1)}function Yy(t){return Ai(Il(t*100),0,100)}const jn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},B0=[..."0123456789ABCDEF"],_T=t=>B0[t&15],vT=t=>B0[(t&240)>>4]+B0[t&15],yc=t=>(t&240)>>4===(t&15),ET=t=>yc(t.r)&&yc(t.g)&&yc(t.b)&&yc(t.a);function ST(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&jn[t[1]]*17,g:255&jn[t[2]]*17,b:255&jn[t[3]]*17,a:e===5?jn[t[4]]*17:255}:(e===7||e===9)&&(n={r:jn[t[1]]<<4|jn[t[2]],g:jn[t[3]]<<4|jn[t[4]],b:jn[t[5]]<<4|jn[t[6]],a:e===9?jn[t[7]]<<4|jn[t[8]]:255})),n}const kT=(t,e)=>t<255?e(t):"";function NT(t){var e=ET(t)?_T:vT;return t?"#"+e(t.r)+e(t.g)+e(t.b)+kT(t.a,e):void 0}const TT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yv(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function AT(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function jT(t,e,n){const r=Yv(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function CT(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function xg(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,d;return s!==o&&(d=s-o,c=a>.5?d/(2-s-o):d/(s+o),l=CT(n,r,i,d,s),l=l*60+.5),[l|0,c||0,a]}function bg(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map($i)}function wg(t,e,n){return bg(Yv,t,e,n)}function BT(t,e,n){return bg(jT,t,e,n)}function RT(t,e,n){return bg(AT,t,e,n)}function Xv(t){return(t%360+360)%360}function PT(t){const e=TT.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?wa(+e[5]):$i(+e[5]));const i=Xv(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=BT(i,s,o):e[1]==="hsv"?r=RT(i,s,o):r=wg(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function OT(t,e){var n=xg(t);n[0]=Xv(n[0]+e),n=wg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function FT(t){if(!t)return;const e=xg(t),n=e[0],r=Yy(e[1]),i=Yy(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Ur(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Xy={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function MT(){const t={},e=Object.keys(Zy),n=Object.keys(Xy);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Xy[s]);s=parseInt(Zy[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let xc;function IT(t){xc||(xc=MT(),xc.transparent=[0,0,0,0]);const e=xc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const UT=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zT(t){const e=UT.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?wa(o):Ai(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?wa(r):Ai(r,0,255)),i=255&(e[4]?wa(i):Ai(i,0,255)),s=255&(e[6]?wa(s):Ai(s,0,255)),{r,g:i,b:s,a:n}}}function LT(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ur(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const eh=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Hs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function $T(t,e,n){const r=Hs(Ur(t.r)),i=Hs(Ur(t.g)),s=Hs(Ur(t.b));return{r:$i(eh(r+n*(Hs(Ur(e.r))-r))),g:$i(eh(i+n*(Hs(Ur(e.g))-i))),b:$i(eh(s+n*(Hs(Ur(e.b))-s))),a:t.a+n*(e.a-t.a)}}function bc(t,e,n){if(t){let r=xg(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=wg(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Zv(t,e){return t&&Object.assign(e||{},t)}function Qy(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=$i(t[3]))):(e=Zv(t,{r:0,g:0,b:0,a:1}),e.a=$i(e.a)),e}function DT(t){return t.charAt(0)==="r"?zT(t):PT(t)}class ml{constructor(e){if(e instanceof ml)return e;const n=typeof e;let r;n==="object"?r=Qy(e):n==="string"&&(r=ST(e)||IT(e)||DT(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Zv(this._rgb);return e&&(e.a=Ur(e.a)),e}set rgb(e){this._rgb=Qy(e)}rgbString(){return this._valid?LT(this._rgb):void 0}hexString(){return this._valid?NT(this._rgb):void 0}hslString(){return this._valid?FT(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=$T(this._rgb,e._rgb,n)),this}clone(){return new ml(this.rgb)}alpha(e){return this._rgb.a=$i(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Il(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return bc(this._rgb,2,e),this}darken(e){return bc(this._rgb,2,-e),this}saturate(e){return bc(this._rgb,1,e),this}desaturate(e){return bc(this._rgb,1,-e),this}rotate(e){return OT(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Cr(){}const VT=(()=>{let t=0;return()=>t++})();function $e(t){return t==null}function lt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function De(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function bn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function dr(t,e){return bn(t)?t:e}function Pe(t,e){return typeof t>"u"?e:t}const HT=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Qv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Je(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function qe(t,e,n,r){let i,s,o;if(lt(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(De(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function cd(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ud(t){if(lt(t))return t.map(ud);if(De(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=ud(t[n[i]]);return e}return t}function Jv(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function WT(t,e,n,r){if(!Jv(t))return;const i=e[t],s=n[t];De(i)&&De(s)?yl(i,s,r):e[t]=ud(s)}function yl(t,e,n){const r=lt(e)?e:[e],i=r.length;if(!De(t))return t;n=n||{};const s=n.merger||WT;let o;for(let a=0;a<i;++a){if(o=r[a],!De(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)s(l[c],t,o,n)}return t}function $a(t,e){return yl(t,e,{merger:qT})}function qT(t,e,n){if(!Jv(t))return;const r=e[t],i=n[t];De(r)&&De(i)?$a(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ud(i))}const Jy={"":t=>t,x:t=>t.x,y:t=>t.y};function GT(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function KT(t){const e=GT(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Gi(t,e){return(Jy[e]||(Jy[e]=KT(e)))(t)}function _g(t){return t.charAt(0).toUpperCase()+t.slice(1)}const xl=t=>typeof t<"u",Ki=t=>typeof t=="function",ex=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function YT(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const We=Math.PI,st=2*We,XT=st+We,dd=Number.POSITIVE_INFINITY,ZT=We/180,yt=We/2,ts=We/4,tx=We*2/3,R0=Math.log10,Nr=Math.sign;function Da(t,e,n){return Math.abs(t-e)<n}function nx(t){const e=Math.round(t);t=Da(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(R0(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function QT(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function JT(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function bl(t){return!JT(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function eA(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function tA(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Er(t){return t*(We/180)}function vg(t){return t*(180/We)}function rx(t){if(!bn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function e2(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*We&&(s+=st),{angle:s,distance:i}}function P0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nA(t,e){return(t-e+XT)%st-We}function cn(t){return(t%st+st)%st}function wl(t,e,n,r){const i=cn(t),s=cn(e),o=cn(n),a=cn(s-i),l=cn(o-i),c=cn(i-s),d=cn(i-o);return i===s||i===o||r&&s===o||a>l&&c<d}function qt(t,e,n){return Math.max(e,Math.min(n,t))}function rA(t){return qt(t,-32768,32767)}function ji(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Eg(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const ms=(t,e,n,r)=>Eg(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),iA=(t,e,n)=>Eg(t,n,r=>t[r][e]>=n);function sA(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const t2=["push","pop","shift","splice","unshift"];function oA(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),t2.forEach(n=>{const r="_onData"+_g(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function ix(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(t2.forEach(s=>{delete t[s]}),delete t._chartjs)}function n2(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const r2=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function i2(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,r2.call(window,()=>{r=!1,t.apply(e,n)}))}}function aA(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Sg=t=>t==="start"?"left":t==="end"?"right":"center",Ht=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,lA=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function cA(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:g,maxDefined:p}=o.getUserBounds();if(g){if(i=Math.min(ms(l,d,f).lo,n?r:ms(e,d,o.getPixelForValue(f)).lo),c){const v=l.slice(0,i+1).reverse().findIndex(E=>!$e(E[a.axis]));i-=Math.max(0,v)}i=qt(i,0,r-1)}if(p){let v=Math.max(ms(l,o.axis,h,!0).hi+1,n?0:ms(e,d,o.getPixelForValue(h),!0).hi+1);if(c){const E=l.slice(v-1).findIndex(b=>!$e(b[a.axis]));v+=Math.max(0,E)}s=qt(v,i,r)-i}else s=r-i}return{start:i,count:s}}function uA(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const wc=t=>t===0||t===1,sx=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*st/n)),ox=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*st/n)+1,Va={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*yt)+1,easeOutSine:t=>Math.sin(t*yt),easeInOutSine:t=>-.5*(Math.cos(We*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>wc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wc(t)?t:sx(t,.075,.3),easeOutElastic:t=>wc(t)?t:ox(t,.075,.3),easeInOutElastic(t){return wc(t)?t:t<.5?.5*sx(t*2,.1125,.45):.5+.5*ox(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Va.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Va.easeInBounce(t*2)*.5:Va.easeOutBounce(t*2-1)*.5+.5};function kg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ax(t){return kg(t)?t:new ml(t)}function th(t){return kg(t)?t:new ml(t).saturate(.5).darken(.1).hexString()}const dA=["x","y","borderWidth","radius","tension"],fA=["color","borderColor","backgroundColor"];function hA(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:fA},numbers:{type:"number",properties:dA}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function pA(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const lx=new Map;function gA(t,e){e=e||{};const n=t+JSON.stringify(e);let r=lx.get(n);return r||(r=new Intl.NumberFormat(t,e),lx.set(n,r)),r}function Ng(t,e,n){return gA(e,n).format(t)}const s2={values(t){return lt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=mA(t,n)}const o=R0(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ng(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(R0(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?s2.numeric.call(this,t,e,n):""}};function mA(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Tg={formatters:s2};function yA(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Bs=Object.create(null),O0=Object.create(null);function Ha(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function nh(t,e,n){return typeof e=="string"?yl(Ha(t,e),n):yl(Ha(t,""),e)}class xA{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>th(i.backgroundColor),this.hoverBorderColor=(r,i)=>th(i.borderColor),this.hoverColor=(r,i)=>th(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return nh(this,e,n)}get(e){return Ha(this,e)}describe(e,n){return nh(O0,e,n)}override(e,n){return nh(Bs,e,n)}route(e,n,r,i){const s=Ha(this,e),o=Ha(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return De(l)?Object.assign({},c,l):Pe(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var pt=new xA({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hA,pA,yA]);function bA(t){return!t||$e(t.size)||$e(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function fd(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function wA(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,d,f,h;for(l=0;l<a;l++)if(f=n[l],f!=null&&!lt(f))o=fd(t,i,s,o,f);else if(lt(f))for(c=0,d=f.length;c<d;c++)h=f[c],h!=null&&!lt(h)&&(o=fd(t,i,s,o,h));t.restore();const g=s.length/2;if(g>n.length){for(l=0;l<g;l++)delete i[s[l]];s.splice(0,g)}return o}function ns(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function cx(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function F0(t,e,n,r){o2(t,e,n,r,null)}function o2(t,e,n,r,i){let s,o,a,l,c,d,f,h;const g=e.pointStyle,p=e.rotation,v=e.radius;let E=(p||0)*ZT;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(E),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,r,i/2,v,0,0,st):t.arc(n,r,v,0,st),t.closePath();break;case"triangle":d=i?i/2:v,t.moveTo(n+Math.sin(E)*d,r-Math.cos(E)*v),E+=tx,t.lineTo(n+Math.sin(E)*d,r-Math.cos(E)*v),E+=tx,t.lineTo(n+Math.sin(E)*d,r-Math.cos(E)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(E+ts)*l,f=Math.cos(E+ts)*(i?i/2-c:l),a=Math.sin(E+ts)*l,h=Math.sin(E+ts)*(i?i/2-c:l),t.arc(n-f,r-a,c,E-We,E-yt),t.arc(n+h,r-o,c,E-yt,E),t.arc(n+f,r+a,c,E,E+yt),t.arc(n-h,r+o,c,E+yt,E+We),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,d=i?i/2:l,t.rect(n-d,r-l,2*d,2*l);break}E+=ts;case"rectRot":f=Math.cos(E)*(i?i/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,h=Math.sin(E)*(i?i/2:v),t.moveTo(n-f,r-a),t.lineTo(n+h,r-o),t.lineTo(n+f,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":E+=ts;case"cross":f=Math.cos(E)*(i?i/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,h=Math.sin(E)*(i?i/2:v),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":f=Math.cos(E)*(i?i/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,h=Math.sin(E)*(i?i/2:v),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),E+=ts,f=Math.cos(E)*(i?i/2:v),o=Math.cos(E)*v,a=Math.sin(E)*v,h=Math.sin(E)*(i?i/2:v),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(E)*v,a=Math.sin(E)*v,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(E)*(i?i/2:v),r+Math.sin(E)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function qr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ag(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function jg(t){t.restore()}function _A(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function vA(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function EA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),$e(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function SA(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function kA(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Rs(t,e,n,r,i,s={}){const o=lt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,EA(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&kA(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),$e(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),SA(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function _l(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*We,We,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,We,yt,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,yt,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-yt,!0),t.lineTo(n+o.topLeft,r)}const NA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,TA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function AA(t,e){const n=(""+t).match(NA);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const jA=t=>+t||0;function Cg(t,e){const n={},r=De(e),i=r?Object.keys(e):e,s=De(t)?r?o=>Pe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=jA(s(o));return n}function a2(t){return Cg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ws(t){return Cg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Kt(t){const e=a2(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Nt(t,e){t=t||{},e=e||pt.font;let n=Pe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Pe(t.style,e.style);r&&!(""+r).match(TA)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Pe(t.family,e.family),lineHeight:AA(Pe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Pe(t.weight,e.weight),string:""};return i.string=bA(i),i}function _c(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function CA(t,e,n){const{min:r,max:i}=t,s=Qv(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function es(t,e){return Object.assign(Object.create(t),e)}function Bg(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=d2("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Bg([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return c2(a,l,()=>UA(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return dx(a).includes(l)},ownKeys(a){return dx(a)},set(a,l,c){const d=a._storage||(a._storage=i());return a[l]=d[l]=c,delete a._keys,!0}})}function Fo(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:l2(t,r),setContext:s=>Fo(t,s,n,r),override:s=>Fo(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return c2(s,o,()=>RA(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function l2(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Ki(n)?n:()=>n,isIndexable:Ki(r)?r:()=>r}}const BA=(t,e)=>t?t+_g(e):e,Rg=(t,e)=>De(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function c2(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function RA(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Ki(a)&&o.isScriptable(e)&&(a=PA(e,a,t,n)),lt(a)&&a.length&&(a=OA(e,a,t,o.isIndexable)),Rg(e,a)&&(a=Fo(a,i,s&&s[e],o)),a}function PA(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),Rg(t,l)&&(l=Pg(i._scopes,i,t,l)),l}function OA(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(De(e[0])){const l=e,c=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const f=Pg(c,i,t,d);e.push(Fo(f,s,o&&o[t],a))}}return e}function u2(t,e,n){return Ki(t)?t(e,n):t}const FA=(t,e)=>t===!0?e:typeof t=="string"?Gi(e,t):void 0;function MA(t,e,n,r,i){for(const s of e){const o=FA(n,s);if(o){t.add(o);const a=u2(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Pg(t,e,n,r){const i=e._rootScopes,s=u2(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=ux(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=ux(a,o,s,l,r),l===null)?!1:Bg(Array.from(a),[""],i,s,()=>IA(e,n,r))}function ux(t,e,n,r,i){for(;n;)n=MA(t,e,n,r,i);return n}function IA(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return lt(i)&&De(n)?n:i||{}}function UA(t,e,n,r){let i;for(const s of e)if(i=d2(BA(s,t),n),typeof i<"u")return Rg(t,i)?Pg(n,r,t,i):i}function d2(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function dx(t){let e=t._keys;return e||(e=t._keys=zA(t._scopes)),e}function zA(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function LA(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,d;for(a=0,l=r;a<l;++a)c=a+n,d=e[c],o[a]={r:i.parse(Gi(d,s),c)};return o}const $A=Number.EPSILON||1e-14,Mo=(t,e)=>e<t.length&&!t[e].skip&&t[e],f2=t=>t==="x"?"y":"x";function DA(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=P0(s,i),l=P0(o,s);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const f=r*c,h=r*d;return{previous:{x:s.x-f*(o.x-i.x),y:s.y-f*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function VA(t,e,n){const r=t.length;let i,s,o,a,l,c=Mo(t,0);for(let d=0;d<r-1;++d)if(l=c,c=Mo(t,d+1),!(!l||!c)){if(Da(e[d],0,$A)){n[d]=n[d+1]=0;continue}i=n[d]/e[d],s=n[d+1]/e[d],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=i*o*e[d],n[d+1]=s*o*e[d])}}function HA(t,e,n="x"){const r=f2(n),i=t.length;let s,o,a,l=Mo(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Mo(t,c+1),!a)continue;const d=a[n],f=a[r];o&&(s=(d-o[n])/3,a[`cp1${n}`]=d-s,a[`cp1${r}`]=f-s*e[c]),l&&(s=(l[n]-d)/3,a[`cp2${n}`]=d+s,a[`cp2${r}`]=f+s*e[c])}}function WA(t,e="x"){const n=f2(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Mo(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=Mo(t,o+1),!!l){if(c){const d=c[e]-l[e];i[o]=d!==0?(c[n]-l[n])/d:0}s[o]=a?c?Nr(i[o-1])!==Nr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}VA(t,i,s),HA(t,s,e)}function vc(t,e,n){return Math.max(Math.min(t,n),e)}function qA(t,e){let n,r,i,s,o,a=qr(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&qr(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=vc(i.cp1x,e.left,e.right),i.cp1y=vc(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=vc(i.cp2x,e.left,e.right),i.cp2y=vc(i.cp2y,e.top,e.bottom)))}function GA(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")WA(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=DA(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&qA(t,n)}function Og(){return typeof window<"u"&&typeof document<"u"}function Fg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function hd(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Kd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function KA(t,e){return Kd(t).getPropertyValue(e)}const YA=["top","right","bottom","left"];function _s(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=YA[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const XA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function ZA(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(XA(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function cs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Kd(n),s=i.boxSizing==="border-box",o=_s(i,"padding"),a=_s(i,"border","width"),{x:l,y:c,box:d}=ZA(t,n),f=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:g,height:p}=e;return s&&(g-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-f)/g*n.width/r),y:Math.round((c-h)/p*n.height/r)}}function QA(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Fg(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Kd(s),l=_s(a,"border","width"),c=_s(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=hd(a.maxWidth,s,"clientWidth"),i=hd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||dd,maxHeight:i||dd}}const Ec=t=>Math.round(t*10)/10;function JA(t,e,n,r){const i=Kd(t),s=_s(i,"margin"),o=hd(i.maxWidth,t,"clientWidth")||dd,a=hd(i.maxHeight,t,"clientHeight")||dd,l=QA(t,e,n);let{width:c,height:d}=l;if(i.boxSizing==="content-box"){const h=_s(i,"border","width"),g=_s(i,"padding");c-=g.width+h.width,d-=g.height+h.height}return c=Math.max(0,c-s.width),d=Math.max(0,r?c/r:d-s.height),c=Ec(Math.min(c,o,l.maxWidth)),d=Ec(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Ec(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,c=Ec(Math.floor(d*r))),{width:c,height:d}}function fx(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const e5=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Og()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function hx(t,e){const n=KA(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function us(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function t5(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function n5(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=us(t,i,n),a=us(i,s,n),l=us(s,e,n),c=us(o,a,n),d=us(a,l,n);return us(c,d,n)}const r5=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},i5=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function vo(t,e,n){return t?r5(e,n):i5()}function h2(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function p2(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function g2(t){return t==="angle"?{between:wl,compare:nA,normalize:cn}:{between:ji,compare:(e,n)=>e-n,normalize:e=>e}}function px({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function s5(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=g2(r),l=e.length;let{start:c,end:d,loop:f}=t,h,g;if(f){for(c+=l,d+=l,h=0,g=l;h<g&&o(a(e[c%l][r]),i,s);++h)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:f,style:t.style}}function o5(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=g2(r),{start:d,end:f,loop:h,style:g}=s5(t,e,n),p=[];let v=!1,E=null,b,w,S;const R=()=>l(i,S,b)&&a(i,S)!==0,N=()=>a(s,b)===0||l(s,S,b),F=()=>v||R(),C=()=>!v||N();for(let I=d,U=d;I<=f;++I)w=e[I%o],!w.skip&&(b=c(w[r]),b!==S&&(v=l(b,i,s),E===null&&F()&&(E=a(b,i)===0?I:U),E!==null&&C()&&(p.push(px({start:E,end:I,loop:h,count:o,style:g})),E=null),U=I,S=b));return E!==null&&p.push(px({start:E,end:f,loop:h,count:o,style:g})),p}function a5(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=o5(r[i],t.points,e);s.length&&n.push(...s)}return n}function l5(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function c5(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function u5(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=l5(n,i,s,r);if(r===!0)return gx(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return gx(t,c5(n,o,l,c),n,e)}function gx(t,e,n,r){return!r||!r.setContext||!n?e:d5(t,e,n,r)}function d5(t,e,n,r){const i=t._chart.getContext(),s=mx(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let d=s,f=e[0].start,h=f;function g(p,v,E,b){const w=a?-1:1;if(p!==v){for(p+=l;n[p%l].skip;)p-=w;for(;n[v%l].skip;)v+=w;p%l!==v%l&&(c.push({start:p%l,end:v%l,loop:E,style:b}),d=b,f=v%l)}}for(const p of e){f=a?f:p.start;let v=n[f%l],E;for(h=f+1;h<=p.end;h++){const b=n[h%l];E=mx(r.setContext(es(i,{type:"segment",p0:v,p1:b,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),f5(E,d)&&g(f,h-1,p.loop,d),v=b,d=E}f<h-1&&g(f,h-1,p.loop,d)}return c}function mx(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function f5(t,e){if(!e)return!1;const n=[],r=function(i,s){return kg(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Sc(t,e,n){return t.options.clip?t[n]:e[n]}function h5(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Sc(n,e,"left"),right:Sc(n,e,"right"),top:Sc(r,e,"top"),bottom:Sc(r,e,"bottom")}:e}function p5(t,e){const n=e._clip;if(n.disabled)return!1;const r=h5(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class g5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=r2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Rr=new g5;const yx="transparent",m5={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=ax(t||yx),i=r.valid&&ax(e||yx);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class y5{constructor(e,n,r,i){const s=n[r];i=_c([e.to,i,s,e.from]);const o=_c([e.from,s,i]);this._active=!0,this._fn=e.fn||m5[e.type||typeof o],this._easing=Va[e.easing]||Va.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=_c([e.to,n,i,e.from]),this._from=_c([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class m2{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!De(e))return;const n=Object.keys(pt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!De(s))return;const o={};for(const a of n)o[a]=s[a];(lt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=b5(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&x5(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[c];let f=s[c];const h=r.get(c);if(f)if(h&&f.active()){f.update(h,d,a);continue}else f.cancel();if(!h||!h.duration){e[c]=d;continue}s[c]=f=new y5(h,e,c,d),i.push(f)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Rr.add(this._chart,r),!0}}function x5(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function b5(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function xx(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function w5(t,e,n){if(n===!1)return!1;const r=xx(t,n),i=xx(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function _5(t){let e,n,r,i;return De(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function y2(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function bx(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let d=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(d=!0,r.all)continue;break}c=t.values[l],bn(c)&&(s||e===0||Nr(e)===Nr(c))&&(e+=c)}return!d&&!r.all?0:e}function v5(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],a[l]={[i]:d,[s]:t[d]};return a}function rh(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function E5(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function S5(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function k5(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function wx(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function _x(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,d=E5(s,o,r),f=e.length;let h;for(let g=0;g<f;++g){const p=e[g],{[l]:v,[c]:E}=p,b=p._stacks||(p._stacks={});h=b[c]=k5(i,d,v),h[a]=E,h._top=wx(h,o,!0,r.type),h._bottom=wx(h,o,!1,r.type);const w=h._visualValues||(h._visualValues={});w[a]=E}}function ih(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function N5(t,e){return es(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function T5(t,e,n){return es(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ia(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const sh=t=>t==="reset"||t==="none",vx=(t,e)=>e?t:Object.assign({},t),A5=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:y2(n,!0),values:null};class Di{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=rh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ia(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(f,h,g,p)=>f==="x"?h:f==="r"?p:g,s=n.xAxisID=Pe(r.xAxisID,ih(e,"x")),o=n.yAxisID=Pe(r.yAxisID,ih(e,"y")),a=n.rAxisID=Pe(r.rAxisID,ih(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),d=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ix(this._data,this),e._stacked&&ia(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(De(n)){const i=this._cachedMeta;this._data=v5(n,i)}else if(r!==n){if(r){ix(r,this);const i=this._cachedMeta;ia(i),i._parsed=[]}n&&Object.isExtensible(n)&&oA(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=rh(n.vScale,n),n.stack!==r.stack&&(i=!0,ia(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(_x(this,n._parsed),n._stacked=rh(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],d,f,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{lt(i[e])?h=this.parseArrayData(r,i,e,n):De(i[e])?h=this.parseObjectData(r,i,e,n):h=this.parsePrimitiveData(r,i,e,n);const g=()=>f[a]===null||c&&f[a]<c[a];for(d=0;d<n;++d)r._parsed[d+e]=f=h[d],l&&(g()&&(l=!1),c=f);r._sorted=l}o&&_x(this,h)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),d=s===o,f=new Array(i);let h,g,p;for(h=0,g=i;h<g;++h)p=h+r,f[h]={[a]:d||s.parse(c[p],p),[l]:o.parse(n[p],p)};return f}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,d,f;for(l=0,c=i;l<c;++l)d=l+r,f=n[d],a[l]={x:s.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let d,f,h,g;for(d=0,f=i;d<f;++d)h=d+r,g=n[h],c[d]={x:s.parse(Gi(g,a),h),y:o.parse(Gi(g,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:y2(i,!0),values:n._stacks[e.axis]._visualValues};return bx(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=bx(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=A5(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=S5(a);let h,g;function p(){g=i[h];const v=g[a.axis];return!bn(g[e.axis])||d>v||f<v}for(h=0;h<o&&!(!p()&&(this.updateRangeFromParsed(c,e,g,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],bn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=_5(Pe(this.options.clip,w5(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,s,a,l),d=a;d<a+l;++d){const f=i[d];f.hidden||(f.active&&c?o.push(f):f.draw(e,s))}for(d=0;d<o.length;++d)o[d].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=T5(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=N5(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&xl(r);if(a)return vx(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),d),g=Object.keys(pt.elements[e]),p=()=>this.getContext(r,i,n),v=c.resolveNamedOptions(h,g,p,f);return v.$shared&&(v.$shared=l,s[o]=Object.freeze(vx(v,l))),v}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(e,r,n))}const c=new m2(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||sh(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){sh(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!sh(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&ia(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ye(Di,"defaults",{}),ye(Di,"datasetElementType",null),ye(Di,"dataElementType",null);function j5(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=n2(r.sort((i,s)=>i-s))}return t._cache.$bar}function C5(t){const e=t.iScale,n=j5(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(xl(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function B5(t,e,n,r){const i=n.barThickness;let s,o;return $e(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function R5(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function P5(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function x2(t,e,n,r){return lt(t)?P5(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Ex(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,d,f,h;for(c=n,d=n+r;c<d;++c)h=e[c],f={},f[i.axis]=a||i.parse(o[c],c),l.push(x2(h,f,s,c));return l}function oh(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function O5(t,e,n){return t!==0?Nr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function F5(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function M5(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:d}=F5(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=d:(s[Sx(d,o,a,l)]=!0,i=c)),s[Sx(i,o,a,l)]=!0,t.borderSkipped=s}function Sx(t,e,n,r){return r?(t=I5(t,e,n),t=kx(t,n,e)):t=kx(t,e,n),t}function I5(t,e,n){return t===e?n:t===n?e:t}function kx(t,e,n){return t==="start"?e:t==="end"?n:t}function U5(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class gu extends Di{parsePrimitiveData(e,n,r,i){return Ex(e,n,r,i)}parseArrayData(e,n,r,i){return Ex(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,d=o.axis==="x"?a:l,f=[];let h,g,p,v;for(h=r,g=r+i;h<g;++h)v=n[h],p={},p[s.axis]=s.parse(Gi(v,c),h),f.push(x2(Gi(v,d),p,o,h));return f}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=oh(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,i);for(let g=n;g<n+r;g++){const p=this.getParsed(g),v=s||$e(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),E=this._calculateBarIndexPixels(g,d),b=(p._stacks||{})[a.axis],w={horizontal:c,base:v.base,enableBorderRadius:!b||oh(p._custom)||o===b._top||o===b._bottom,x:c?v.head:E.center,y:c?E.center:v.head,height:c?E.size:Math.abs(v.size),width:c?Math.abs(v.size):E.size};h&&(w.options=f||this.resolveDataElementOptions(g,e[g].active?"active":i));const S=w.options||e[g].options;M5(w,S,b,o),U5(w,S,d.ratio),this.updateElement(e[g],g,w,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=d=>{const f=d._parsed.find(g=>g[r.axis]===l),h=f&&f[d.vScale.axis];if($e(h)||isNaN(h))return!0};for(const d of i)if(!(n!==void 0&&c(d))&&((s===!1||o.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Pe(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||C5(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,d=oh(c);let f=l[n.axis],h=0,g=r?this.applyStack(n,l,r):f,p,v;g!==f&&(h=g-f,g=f),d&&(f=c.barStart,g=c.barEnd-c.barStart,f!==0&&Nr(f)!==Nr(c.barEnd)&&(h=0),h+=f);const E=!$e(s)&&!d?s:h;let b=n.getPixelForValue(E);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(h+g):p=b,v=p-b,Math.abs(v)<o){v=O5(v,n,a)*o,f===a&&(b-=v/2);const w=n.getPixelForDecimal(0),S=n.getPixelForDecimal(1),R=Math.min(w,S),N=Math.max(w,S);b=Math.max(Math.min(b,N),R),p=b+v,r&&!d&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(p)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const w=Nr(v)*n.getLineWidthForValue(a)/2;b+=w,v-=w}return{size:v,base:b,head:p,center:p+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=Pe(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const d=s?this._getStackCount(e):n.stackCount,f=i.barThickness==="flex"?R5(e,n,i,d*c):B5(e,n,i,d*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(Pe(h,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+g;a=f.start+f.chunk*p+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}ye(gu,"id","bar"),ye(gu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ye(gu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function z5(t,e,n){let r=1,i=1,s=0,o=0;if(e<st){const a=t,l=a+e,c=Math.cos(a),d=Math.sin(a),f=Math.cos(l),h=Math.sin(l),g=(S,R,N)=>wl(S,a,l,!0)?1:Math.max(R,R*n,N,N*n),p=(S,R,N)=>wl(S,a,l,!0)?-1:Math.min(R,R*n,N,N*n),v=g(0,c,f),E=g(yt,d,h),b=p(We,c,f),w=p(We+yt,d,h);r=(v-b)/2,i=(E-w)/2,s=-(v+b)/2,o=-(E+w)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class go extends Di{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(De(r[e])){const{key:l="value"}=this._parsing;s=c=>+Gi(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Er(this.options.rotation-90)}_getCircumference(){return Er(this.options.circumference)}_getRotationExtents(){let e=st,n=-st;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(HT(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:g,offsetX:p,offsetY:v}=z5(f,d,l),E=(r.width-o)/h,b=(r.height-o)/g,w=Math.max(Math.min(E,b)/2,0),S=Qv(this.options.radius,w),R=Math.max(S*l,0),N=(S-R)/this._getVisibleDatasetWeightTotal();this.offsetX=p*S,this.offsetY=v*S,i.total=this.calculateTotal(),this.outerRadius=S-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/st)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,d=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=s&&c.animateScale,g=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:v,includeOptions:E}=this._getSharedOptions(n,i);let b=this._getRotation(),w;for(w=0;w<n;++w)b+=this._circumference(w,s);for(w=n;w<n+r;++w){const S=this._circumference(w,s),R=e[w],N={x:d+this.offsetX,y:f+this.offsetY,startAngle:b,endAngle:b+S,circumference:S,outerRadius:p,innerRadius:g};E&&(N.options=v||this.resolveDataElementOptions(w,R.active?"active":i)),b+=S,this.updateElement(R,w,N,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?st*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Ng(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Pe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ye(go,"id","doughnut"),ye(go,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ye(go,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ye(go,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class mu extends Di{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=cA(n,i,o);this._drawStart=a,this._drawCount=l,uA(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,i),h=o.axis,g=a.axis,{spanGaps:p,segment:v}=this.options,E=bl(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||i==="none",w=n+r,S=e.length;let R=n>0&&this.getParsed(n-1);for(let N=0;N<S;++N){const F=e[N],C=b?F:{};if(N<n||N>=w){C.skip=!0;continue}const I=this.getParsed(N),U=$e(I[g]),H=C[h]=o.getPixelForValue(I[h],N),ie=C[g]=s||U?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,I,l):I[g],N);C.skip=isNaN(H)||isNaN(ie)||U,C.stop=N>0&&Math.abs(I[h]-R[h])>E,v&&(C.parsed=I,C.raw=c.data[N]),f&&(C.options=d||this.resolveDataElementOptions(N,F.active?"active":i)),b||this.updateElement(F,N,C,i),R=I}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ye(mu,"id","line"),ye(mu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ye(mu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class M0 extends go{}ye(M0,"id","pie"),ye(M0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class yu extends Di{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return LA.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),d=s.getPointPositionForValue(a,this.getParsed(a).r),f=o?s.xCenter:d.x,h=o?s.yCenter:d.y,g={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:c};this.updateElement(l,a,g,i)}}}ye(yu,"id","radar"),ye(yu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ye(yu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function rs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Mg{constructor(e){ye(this,"options");this.options=e||{}}static override(e){Object.assign(Mg.prototype,e)}init(){}formats(){return rs()}parse(){return rs()}format(){return rs()}add(){return rs()}diff(){return rs()}startOf(){return rs()}endOf(){return rs()}}var L5={_date:Mg};function $5(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?iA:ms;if(r){if(i._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const h=c(s,e,n-f),g=c(s,e,n+f);return{lo:h.lo,hi:g.hi}}}}else{const d=c(s,e,n);if(l){const{vScale:f}=i._cachedMeta,{_parsed:h}=t,g=h.slice(0,d.lo+1).reverse().findIndex(v=>!$e(v[f.axis]));d.lo-=Math.max(0,g);const p=h.slice(d.hi).findIndex(v=>!$e(v[f.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:s.length-1}}function Ul(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:d}=s[a],{lo:f,hi:h}=$5(s[a],e,o,i);for(let g=f;g<=h;++g){const p=d[g];p.skip||r(p,c,g)}}}function D5(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function ah(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Ul(t,n,e,function(a,l,c){!i&&!qr(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function V5(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:f}=e2(o,{x:e.x,y:e.y});wl(f,c,d)&&i.push({element:o,datasetIndex:a,index:l})}return Ul(t,n,e,s),i}function H5(t,e,n,r,i,s){let o=[];const a=D5(n);let l=Number.POSITIVE_INFINITY;function c(d,f,h){const g=d.inRange(e.x,e.y,i);if(r&&!g)return;const p=d.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!g)return;const E=a(e,p);E<l?(o=[{element:d,datasetIndex:f,index:h}],l=E):E===l&&o.push({element:d,datasetIndex:f,index:h})}return Ul(t,n,e,c),o}function lh(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?V5(t,e,n,i):H5(t,e,n,r,i,s)}function Nx(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Ul(t,n,e,(l,c,d)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var W5={evaluateInteractionItems:Ul,modes:{index(t,e,n,r){const i=cs(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?ah(t,i,s,r,o):lh(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,f=c.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,r){const i=cs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?ah(t,i,s,r,o):lh(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(t,e,n,r){const i=cs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return ah(t,i,s,r,o)},nearest(t,e,n,r){const i=cs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return lh(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=cs(e,t);return Nx(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=cs(e,t);return Nx(t,i,"y",n.intersect,r)}}};const b2=["left","top","right","bottom"];function sa(t,e){return t.filter(n=>n.pos===e)}function Tx(t,e){return t.filter(n=>b2.indexOf(n.pos)===-1&&n.box.axis===e)}function oa(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function q5(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function G5(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!b2.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function K5(t,e){const n=G5(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=d?d*i:l&&e.availableHeight)}return n}function Y5(t){const e=q5(t),n=oa(e.filter(c=>c.box.fullSize),!0),r=oa(sa(e,"left"),!0),i=oa(sa(e,"right")),s=oa(sa(e,"top"),!0),o=oa(sa(e,"bottom")),a=Tx(e,"x"),l=Tx(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:sa(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function Ax(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function w2(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function X5(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!De(i)){n.size&&(t[i]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,t[i]+=n.size}s.getPadding&&w2(o,s.getPadding());const a=Math.max(0,e.outerWidth-Ax(o,t,"left","right")),l=Math.max(0,e.outerHeight-Ax(o,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function Z5(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Q5(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function _a(t,e,n,r){const i=[];let s,o,a,l,c,d;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Q5(a.horizontal,e));const{same:f,other:h}=X5(e,n,a,r);c|=f&&i.length,d=d||h,l.fullSize||i.push(a)}return c&&_a(i,e,n,r)||d}function kc(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function jx(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*d,h=c.size||l.height;xl(c.start)&&(o=c.start),l.fullSize?kc(l,i.left,o,n.outerWidth-i.right-i.left,h):kc(l,e.left+c.placed,o,f,h),c.start=o,c.placed+=f,o=l.bottom}else{const f=e.h*d,h=c.size||l.width;xl(c.start)&&(s=c.start),l.fullSize?kc(l,s,i.top,h,n.outerHeight-i.bottom-i.top):kc(l,s,e.top+c.placed,h,f),c.start=s,c.placed+=f,s=l.right}}e.x=s,e.y=o}var In={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Kt(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=Y5(t.boxes),l=a.vertical,c=a.horizontal;qe(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=l.reduce((v,E)=>E.box.options&&E.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},i);w2(h,Kt(r));const g=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),p=K5(l.concat(c),f);_a(a.fullSize,g,f,p),_a(l,g,f,p),_a(c,g,f,p)&&_a(l,g,f,p),Z5(g),jx(a.leftAndTop,g,f,p),g.x+=g.w,g.y+=g.h,jx(a.rightAndBottom,g,f,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},qe(a.chartArea,v=>{const E=v.box;Object.assign(E,t.chartArea),E.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class _2{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class J5 extends _2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const xu="$chartjs",ej={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cx=t=>t===null||t==="";function tj(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[xu]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Cx(i)){const s=hx(t,"width");s!==void 0&&(t.width=s)}if(Cx(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=hx(t,"height");s!==void 0&&(t.height=s)}return t}const v2=e5?{passive:!0}:!1;function nj(t,e,n){t&&t.addEventListener(e,n,v2)}function rj(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,v2)}function ij(t,e){const n=ej[t.type]||t.type,{x:r,y:i}=cs(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function pd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function sj(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||pd(a.addedNodes,r),o=o&&!pd(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function oj(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||pd(a.removedNodes,r),o=o&&!pd(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const vl=new Map;let Bx=0;function E2(){const t=window.devicePixelRatio;t!==Bx&&(Bx=t,vl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function aj(t,e){vl.size||window.addEventListener("resize",E2),vl.set(t,e)}function lj(t){vl.delete(t),vl.size||window.removeEventListener("resize",E2)}function cj(t,e,n){const r=t.canvas,i=r&&Fg(r);if(!i)return;const s=i2((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||s(c,d)});return o.observe(i),aj(t,s),o}function ch(t,e,n){n&&n.disconnect(),e==="resize"&&lj(t)}function uj(t,e,n){const r=t.canvas,i=i2(s=>{t.ctx!==null&&n(ij(s,t))},t);return nj(r,e,i),i}class dj extends _2{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(tj(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[xu])return!1;const r=n[xu].initial;["height","width"].forEach(s=>{const o=r[s];$e(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[xu],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:sj,detach:oj,resize:cj}[n]||uj;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:ch,detach:ch,resize:ch}[n]||rj)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return JA(e,n,r,i)}isAttached(e){const n=e&&Fg(e);return!!(n&&n.isConnected)}}function fj(t){return!Og()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?J5:dj}class sr{constructor(){ye(this,"x");ye(this,"y");ye(this,"active",!1);ye(this,"options");ye(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return bl(this.x)&&bl(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}ye(sr,"defaults",{}),ye(sr,"defaultRoutes");function hj(t,e){const n=t.options.ticks,r=pj(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?mj(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return yj(e,c,s,o/i),c;const d=gj(s,e,i);if(o>0){let f,h;const g=o>1?Math.round((l-a)/(o-1)):null;for(Nc(e,c,d,$e(g)?0:a-g,a),f=0,h=o-1;f<h;f++)Nc(e,c,d,s[f],s[f+1]);return Nc(e,c,d,l,$e(g)?e.length:l+g),c}return Nc(e,c,d),c}function pj(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function gj(t,e,n){const r=xj(t),i=e.length/n;if(!r)return Math.max(i,1);const s=QT(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function mj(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function yj(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Nc(t,e,n,r,i){const s=Pe(r,0),o=Math.min(Pe(i,t.length),t.length);let a=0,l,c,d;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),d=s;d<0;)a++,d=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===d&&(e.push(t[c]),a++,d=Math.round(s+a*n))}function xj(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const bj=t=>t==="left"?"right":t==="right"?"left":t,Rx=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Px=(t,e)=>Math.min(e||t,t);function Ox(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function wj(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function _j(t,e){qe(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function aa(t){return t.drawTicks?t.tickLength:0}function Fx(t,e){if(!t.display)return 0;const n=Nt(t.font,e),r=Kt(t.padding);return(lt(t.text)?t.text.length:1)*n.lineHeight+r.height}function vj(t,e){return es(t,{scale:e,type:"scale"})}function Ej(t,e,n){return es(t,{tick:n,index:e,type:"tick"})}function Sj(t,e,n){let r=Sg(t);return(n&&e!=="right"||!n&&e==="right")&&(r=bj(r)),r}function kj(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:d}=l;let f=0,h,g,p;const v=o-i,E=a-s;if(t.isHorizontal()){if(g=Ht(r,s,a),De(n)){const b=Object.keys(n)[0],w=n[b];p=d[b].getPixelForValue(w)+v-e}else n==="center"?p=(c.bottom+c.top)/2+v-e:p=Rx(t,n,e);h=a-s}else{if(De(n)){const b=Object.keys(n)[0],w=n[b];g=d[b].getPixelForValue(w)-E+e}else n==="center"?g=(c.left+c.right)/2-E+e:g=Rx(t,n,e);p=Ht(r,o,i),f=n==="left"?-yt:yt}return{titleX:g,titleY:p,maxWidth:h,rotation:f}}class Wo extends sr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=dr(e,Number.POSITIVE_INFINITY),n=dr(n,Number.NEGATIVE_INFINITY),r=dr(r,Number.POSITIVE_INFINITY),i=dr(i,Number.NEGATIVE_INFINITY),{min:dr(e,r),max:dr(n,i),minDefined:bn(e),maxDefined:bn(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:dr(n,dr(r,n)),max:dr(r,dr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Je(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=CA(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ox(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=hj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Je(this.options.afterUpdate,[this])}beforeSetDimensions(){Je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Je(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Px(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,g=qt(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/r:g/(r-1),f+6>a&&(a=g/(r-(e.offset?.5:1)),l=this.maxHeight-aa(e.grid)-n.padding-Fx(e.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),o=vg(Math.min(Math.asin(qt((d.highest.height+6)/a,-1,1)),Math.asin(qt(l/c,-1,1))-Math.asin(qt(h/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Fx(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=aa(s)+l):(e.height=this.maxHeight,e.width=aa(s)+l),r.display&&this.ticks.length){const{first:c,last:d,widest:f,highest:h}=this._getLabelSizes(),g=r.padding*2,p=Er(this.labelRotation),v=Math.cos(p),E=Math.sin(p);if(a){const b=r.mirror?0:E*f.width+v*h.height;e.height=Math.min(this.maxHeight,e.height+b+g)}else{const b=r.mirror?0:v*f.width+E*h.height;e.width=Math.min(this.maxWidth,e.width+b+g)}this._calculatePadding(c,d,E,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,g=0;l?c?(h=i*e.width,g=r*n.height):(h=r*e.height,g=i*n.width):s==="start"?g=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,g=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)$e(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Ox(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/Px(n,r));let c=0,d=0,f,h,g,p,v,E,b,w,S,R,N;for(f=0;f<n;f+=l){if(p=e[f].label,v=this._resolveTickFontOptions(f),i.font=E=v.string,b=s[E]=s[E]||{data:{},gc:[]},w=v.lineHeight,S=R=0,!$e(p)&&!lt(p))S=fd(i,b.data,b.gc,S,p),R=w;else if(lt(p))for(h=0,g=p.length;h<g;++h)N=p[h],!$e(N)&&!lt(N)&&(S=fd(i,b.data,b.gc,S,N),R+=w);o.push(S),a.push(R),c=Math.max(S,c),d=Math.max(R,d)}_j(s,n);const F=o.indexOf(c),C=a.indexOf(d),I=U=>({width:o[U]||0,height:a[U]||0});return{first:I(0),last:I(n-1),widest:I(F),highest:I(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return rA(this._alignToPixels?ns(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Ej(this.getContext(),e,r))}return this.$context||(this.$context=vj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Er(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=aa(s),g=[],p=a.setContext(this.getContext()),v=p.display?p.width:0,E=v/2,b=function(Q){return ns(r,Q,v)};let w,S,R,N,F,C,I,U,H,ie,oe,z;if(o==="top")w=b(this.bottom),C=this.bottom-h,U=w-E,ie=b(e.top)+E,z=e.bottom;else if(o==="bottom")w=b(this.top),ie=e.top,z=b(e.bottom)-E,C=w+E,U=this.top+h;else if(o==="left")w=b(this.right),F=this.right-h,I=w-E,H=b(e.left)+E,oe=e.right;else if(o==="right")w=b(this.left),H=e.left,oe=b(e.right)-E,F=w+E,I=this.left+h;else if(n==="x"){if(o==="center")w=b((e.top+e.bottom)/2+.5);else if(De(o)){const Q=Object.keys(o)[0],Z=o[Q];w=b(this.chart.scales[Q].getPixelForValue(Z))}ie=e.top,z=e.bottom,C=w+E,U=C+h}else if(n==="y"){if(o==="center")w=b((e.left+e.right)/2);else if(De(o)){const Q=Object.keys(o)[0],Z=o[Q];w=b(this.chart.scales[Q].getPixelForValue(Z))}F=w-E,I=F-h,H=e.left,oe=e.right}const W=Pe(i.ticks.maxTicksLimit,f),V=Math.max(1,Math.ceil(f/W));for(S=0;S<f;S+=V){const Q=this.getContext(S),Z=s.setContext(Q),G=a.setContext(Q),Y=Z.lineWidth,ce=Z.color,se=G.dash||[],ue=G.dashOffset,ae=Z.tickWidth,j=Z.tickColor,le=Z.tickBorderDash||[],he=Z.tickBorderDashOffset;R=wj(this,S,l),R!==void 0&&(N=ns(r,R,Y),c?F=I=H=oe=N:C=U=ie=z=N,g.push({tx1:F,ty1:C,tx2:I,ty2:U,x1:H,y1:ie,x2:oe,y2:z,width:Y,color:ce,borderDash:se,borderDashOffset:ue,tickWidth:ae,tickColor:j,tickBorderDash:le,tickBorderDashOffset:he}))}return this._ticksLength=f,this._borderValue=w,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:f}=s,h=aa(r.grid),g=h+d,p=f?-d:g,v=-Er(this.labelRotation),E=[];let b,w,S,R,N,F,C,I,U,H,ie,oe,z="middle";if(i==="top")F=this.bottom-p,C=this._getXAxisLabelAlignment();else if(i==="bottom")F=this.top+p,C=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(h);C=V.textAlign,N=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(h);C=V.textAlign,N=V.x}else if(n==="x"){if(i==="center")F=(e.top+e.bottom)/2+g;else if(De(i)){const V=Object.keys(i)[0],Q=i[V];F=this.chart.scales[V].getPixelForValue(Q)+g}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")N=(e.left+e.right)/2-g;else if(De(i)){const V=Object.keys(i)[0],Q=i[V];N=this.chart.scales[V].getPixelForValue(Q)}C=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?z="top":l==="end"&&(z="bottom"));const W=this._getLabelSizes();for(b=0,w=a.length;b<w;++b){S=a[b],R=S.label;const V=s.setContext(this.getContext(b));I=this.getPixelForTick(b)+s.labelOffset,U=this._resolveTickFontOptions(b),H=U.lineHeight,ie=lt(R)?R.length:1;const Q=ie/2,Z=V.color,G=V.textStrokeColor,Y=V.textStrokeWidth;let ce=C;o?(N=I,C==="inner"&&(b===w-1?ce=this.options.reverse?"left":"right":b===0?ce=this.options.reverse?"right":"left":ce="center"),i==="top"?c==="near"||v!==0?oe=-ie*H+H/2:c==="center"?oe=-W.highest.height/2-Q*H+H:oe=-W.highest.height+H/2:c==="near"||v!==0?oe=H/2:c==="center"?oe=W.highest.height/2-Q*H:oe=W.highest.height-ie*H,f&&(oe*=-1),v!==0&&!V.showLabelBackdrop&&(N+=H/2*Math.sin(v))):(F=I,oe=(1-ie)*H/2);let se;if(V.showLabelBackdrop){const ue=Kt(V.backdropPadding),ae=W.heights[b],j=W.widths[b];let le=oe-ue.top,he=0-ue.left;switch(z){case"middle":le-=ae/2;break;case"bottom":le-=ae;break}switch(C){case"center":he-=j/2;break;case"right":he-=j;break;case"inner":b===w-1?he-=j:b>0&&(he-=j/2);break}se={left:he,top:le,width:j+ue.width,height:ae+ue.height,color:V.backdropColor}}E.push({label:R,font:U,textOffset:oe,options:{rotation:v,color:Z,strokeColor:G,strokeWidth:Y,textAlign:ce,textBaseline:z,translation:[N,F],backdrop:se}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Er(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,d;return n==="left"?i?(d=this.right+s,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?i?(d=this.left+s,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,f,h;this.isHorizontal()?(c=ns(e,this.left,o)-o/2,d=ns(e,this.right,a)+a/2,f=h=l):(f=ns(e,this.top,o)-o/2,h=ns(e,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Ag(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,d=o.textOffset;Rs(r,c,0,d,l,a)}i&&jg(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Nt(r.font),o=Kt(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||De(n)?(l+=o.bottom,lt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:f,rotation:h}=kj(this,l,n,a);Rs(e,r.text,0,0,s,{color:r.color,maxWidth:f,rotation:h,textAlign:Sj(a,n,i),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Pe(e.grid&&e.grid.z,-1),i=Pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Wo.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Nt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Tc{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Aj(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Nj(e,o,r),this.override&&pt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in pt[i]&&(delete pt[i][r],this.override&&delete Bs[r])}}function Nj(t,e,n){const r=yl(Object.create(null),[n?pt.get(n):{},pt.get(e),t.defaults]);pt.set(e,r),t.defaultRoutes&&Tj(e,t.defaultRoutes),t.descriptors&&pt.describe(e,t.descriptors)}function Tj(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");pt.route(s,i,l,a)})}function Aj(t){return"id"in t&&"defaults"in t}class jj{constructor(){this.controllers=new Tc(Di,"datasets",!0),this.elements=new Tc(sr,"elements"),this.plugins=new Tc(Object,"plugins"),this.scales=new Tc(Wo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):qe(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=_g(e);Je(r["before"+i],[],r),n[e](r),Je(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var mr=new jj;class Cj{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Je(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){$e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Pe(r.options&&r.options.plugins,{}),s=Bj(r);return i===!1&&!n?[]:Pj(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function Bj(t){const e={},n=[],r=Object.keys(mr.plugins.items);for(let s=0;s<r.length;s++)n.push(mr.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Rj(t,e){return!e&&t===!1?null:t===!0?{}:t}function Pj(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=Rj(r[l],i);c!==null&&s.push({plugin:a,options:Oj(t.config,{plugin:a,local:n[l]},c,o)})}return s}function Oj(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function I0(t,e){const n=pt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Fj(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Mj(t,e){return t===e?"_index_":"_value_"}function Mx(t){if(t==="x"||t==="y"||t==="r")return t}function Ij(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function U0(t,...e){if(Mx(t))return t;for(const n of e){const r=n.axis||Ij(n.position)||t.length>1&&Mx(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Ix(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Uj(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Ix(t,"x",n[0])||Ix(t,"y",n[0])}return{}}function zj(t,e){const n=Bs[t.type]||{scales:{}},r=e.scales||{},i=I0(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!De(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=U0(o,a,Uj(o,t),pt.scales[a.type]),c=Mj(l,i),d=n.scales||{};s[o]=$a(Object.create(null),[{axis:l},a,d[l],d[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||I0(a,e),d=(Bs[a]||{}).scales||{};Object.keys(d).forEach(f=>{const h=Fj(f,l),g=o[h+"AxisID"]||h;s[g]=s[g]||Object.create(null),$a(s[g],[{axis:h},r[g],d[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];$a(a,[pt.scales[a.type],pt.scale])}),s}function S2(t){const e=t.options||(t.options={});e.plugins=Pe(e.plugins,{}),e.scales=zj(t,e)}function k2(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Lj(t){return t=t||{},t.data=k2(t.data),S2(t),t}const Ux=new Map,N2=new Set;function Ac(t,e){let n=Ux.get(t);return n||(n=e(),Ux.set(t,n),N2.add(n)),n}const la=(t,e,n)=>{const r=Gi(e,n);r!==void 0&&t.add(r)};class $j{constructor(e){this._config=Lj(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=k2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),S2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ac(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Ac(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Ac(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Ac(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(f=>la(l,e,f))),d.forEach(f=>la(l,i,f)),d.forEach(f=>la(l,Bs[s]||{},f)),d.forEach(f=>la(l,pt,f)),d.forEach(f=>la(l,O0,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),N2.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Bs[n]||{},pt.datasets[n]||{},{type:n},pt,O0]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=zx(this._resolverCache,e,i);let l=o;if(Vj(o,n)){s.$shared=!1,r=Ki(r)?r():r;const c=this.createResolver(e,r,a);l=Fo(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=zx(this._resolverCache,e,r);return De(n)?Fo(s,n,void 0,i):s}}function zx(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Bg(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const Dj=t=>De(t)&&Object.getOwnPropertyNames(t).some(e=>Ki(t[e]));function Vj(t,e){const{isScriptable:n,isIndexable:r}=l2(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Ki(a)||Dj(a))||o&&lt(a))return!0}return!1}var Hj="4.5.0";const Wj=["top","bottom","left","right","chartArea"];function Lx(t,e){return t==="top"||t==="bottom"||Wj.indexOf(t)===-1&&e==="x"}function $x(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Dx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Je(n&&n.onComplete,[t],e)}function qj(t){const e=t.chart,n=e.options.animation;Je(n&&n.onProgress,[t],e)}function T2(t){return Og()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const bu={},Vx=t=>{const e=T2(t);return Object.values(bu).filter(n=>n.canvas===e).pop()};function Gj(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function Kj(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var ui;let Yd=(ui=class{static register(...e){mr.add(...e),Hx()}static unregister(...e){mr.remove(...e),Hx()}constructor(e,n){const r=this.config=new $j(n),i=T2(e),s=Vx(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||fj(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=VT(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Cj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=aA(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],bu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Rr.listen(this,"complete",Dx),Rr.listen(this,"progress",qj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return $e(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return mr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return cx(this.canvas,this.ctx),this}stop(){return Rr.stop(this),this}resize(e,n){Rr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,fx(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Je(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};qe(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=U0(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),qe(s,o=>{const a=o.options,l=a.id,c=U0(l,a),d=Pe(a.type,o.dtype);(a.position===void 0||Lx(a.position,c)!==Lx(o.dposition))&&(a.position=o.dposition),i[l]=!0;let f=null;if(l in r&&r[l].type===d)f=r[l];else{const h=mr.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,e)}),qe(i,(o,a)=>{o||delete r[a]}),qe(r,o=>{In.configure(this,o,o.options),In.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort($x("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||I0(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=mr.getController(a),{datasetElementType:c,dataElementType:d}=pt.datasets[a];Object.assign(l,{dataElementType:mr.getElement(d),datasetElementType:c&&mr.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){qe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:f}=this.getDatasetMeta(c),h=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||qe(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($x("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){qe(this.scales,e=>{In.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!ex(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;Gj(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!ex(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;In.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],qe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ki(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rr.has(this)?this.attached&&!Rr.running(this)&&Rr.start(this):(this.draw(),Dx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=p5(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Ag(n,i),e.controller.draw(),i&&jg(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return qr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=W5.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);xl(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Rr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),cx(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete bu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};qe(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){qe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},qe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!cd(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(d=>!c.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=YT(e),c=Kj(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Je(s.onHover,[e,a,this],this),l&&Je(s.onClick,[e,a,this],this));const d=!cd(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,d}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},ye(ui,"defaults",pt),ye(ui,"instances",bu),ye(ui,"overrides",Bs),ye(ui,"registry",mr),ye(ui,"version",Hj),ye(ui,"getChart",Vx),ui);function Hx(){return qe(Yd.instances,t=>t._plugins.invalidate())}function Yj(t,e,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:d}=l,f=Math.min(c/o,cn(r-n));if(t.beginPath(),t.arc(i,s,o-c/2,r+f/2,n-f/2),a>0){const h=Math.min(c/a,cn(r-n));t.arc(i,s,a+c/2,n-h/2,r+h/2,!0)}else{const h=Math.min(c/2,o*cn(r-n));if(d==="round")t.arc(i,s,h,n-We/2,r+We/2,!0);else if(d==="bevel"){const g=2*h*h,p=-g*Math.cos(n+We/2)+i,v=-g*Math.sin(n+We/2)+s,E=g*Math.cos(r+We/2)+i,b=g*Math.sin(r+We/2)+s;t.lineTo(p,v),t.lineTo(E,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Xj(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+yt,r-yt),t.closePath(),t.clip()}function Zj(t){return Cg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Qj(t,e,n,r){const i=Zj(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return qt(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:qt(i.innerStart,0,o),innerEnd:qt(i.innerEnd,0,o)}}function Ws(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function gd(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=e,f=Math.max(e.outerRadius+r+n-c,0),h=d>0?d+r+n+c:0;let g=0;const p=i-l;if(r){const V=d>0?d-r:0,Q=f>0?f-r:0,Z=(V+Q)/2,G=Z!==0?p*Z/(Z+r):p;g=(p-G)/2}const v=Math.max(.001,p*f-n/We)/f,E=(p-v)/2,b=l+E+g,w=i-E-g,{outerStart:S,outerEnd:R,innerStart:N,innerEnd:F}=Qj(e,h,f,w-b),C=f-S,I=f-R,U=b+S/C,H=w-R/I,ie=h+N,oe=h+F,z=b+N/ie,W=w-F/oe;if(t.beginPath(),s){const V=(U+H)/2;if(t.arc(o,a,f,U,V),t.arc(o,a,f,V,H),R>0){const Y=Ws(I,H,o,a);t.arc(Y.x,Y.y,R,H,w+yt)}const Q=Ws(oe,w,o,a);if(t.lineTo(Q.x,Q.y),F>0){const Y=Ws(oe,W,o,a);t.arc(Y.x,Y.y,F,w+yt,W+Math.PI)}const Z=(w-F/h+(b+N/h))/2;if(t.arc(o,a,h,w-F/h,Z,!0),t.arc(o,a,h,Z,b+N/h,!0),N>0){const Y=Ws(ie,z,o,a);t.arc(Y.x,Y.y,N,z+Math.PI,b-yt)}const G=Ws(C,b,o,a);if(t.lineTo(G.x,G.y),S>0){const Y=Ws(C,U,o,a);t.arc(Y.x,Y.y,S,b-yt,U)}}else{t.moveTo(o,a);const V=Math.cos(U)*f+o,Q=Math.sin(U)*f+a;t.lineTo(V,Q);const Z=Math.cos(H)*f+o,G=Math.sin(H)*f+a;t.lineTo(Z,G)}t.closePath()}function Jj(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){gd(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%st||st))}return gd(t,e,n,r,l,i),t.fill(),l}function eC(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:g}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(f||[]),t.lineDashOffset=h,p?(t.lineWidth=c*2,t.lineJoin=d||"round"):(t.lineWidth=c,t.lineJoin=d||"bevel");let v=e.endAngle;if(s){gd(t,e,n,r,v,i);for(let E=0;E<s;++E)t.stroke();isNaN(a)||(v=o+(a%st||st))}p&&Xj(t,e,v),l.selfJoin&&v-o>=We&&g===0&&d!=="miter"&&Yj(t,e,v),s||(gd(t,e,n,r,v,i),t.stroke())}class va extends sr{constructor(n){super();ye(this,"circumference");ye(this,"endAngle");ye(this,"fullCircles");ye(this,"innerRadius");ye(this,"outerRadius");ye(this,"pixelMargin");ye(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=e2(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,p=Pe(h,c-l),v=wl(o,l,c)&&l!==c,E=p>=st||v,b=ji(a,d+g,f+g);return E&&b}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:d}=this.options,f=(s+o)/2,h=(a+l+d+c)/2;return{x:r+Math.cos(f)*h,y:i+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>st?Math.floor(i/st):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(We,i||0)),d=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,Jj(n,this,d,o,a),eC(n,this,d,o,a),n.restore()}}ye(va,"id","arc"),ye(va,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ye(va,"defaultRoutes",{backgroundColor:"backgroundColor"}),ye(va,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function A2(t,e,n=e){t.lineCap=Pe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Pe(n.borderDash,e.borderDash)),t.lineDashOffset=Pe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Pe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Pe(n.borderWidth,e.borderWidth),t.strokeStyle=Pe(n.borderColor,e.borderColor)}function tC(t,e,n){t.lineTo(n.x,n.y)}function nC(t){return t.stepped?_A:t.tension||t.cubicInterpolationMode==="monotone"?vA:tC}function j2(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),d=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!d?r+c-l:c-l}}function rC(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=j2(i,n,r),d=nC(s);let{move:f=!0,reverse:h}=r||{},g,p,v;for(g=0;g<=c;++g)p=i[(a+(h?c-g:g))%o],!p.skip&&(f?(t.moveTo(p.x,p.y),f=!1):d(t,v,p,h,s.stepped),v=p);return l&&(p=i[(a+(h?c:0))%o],d(t,v,p,h,s.stepped)),!!l}function iC(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=j2(i,n,r),{move:l=!0,reverse:c}=r||{};let d=0,f=0,h,g,p,v,E,b;const w=R=>(o+(c?a-R:R))%s,S=()=>{v!==E&&(t.lineTo(d,E),t.lineTo(d,v),t.lineTo(d,b))};for(l&&(g=i[w(0)],t.moveTo(g.x,g.y)),h=0;h<=a;++h){if(g=i[w(h)],g.skip)continue;const R=g.x,N=g.y,F=R|0;F===p?(N<v?v=N:N>E&&(E=N),d=(f*d+R)/++f):(S(),t.lineTo(R,N),p=F,f=0,v=E=N),b=N}S()}function z0(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?iC:rC}function sC(t){return t.stepped?t5:t.tension||t.cubicInterpolationMode==="monotone"?n5:us}function oC(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),A2(t,e.options),t.stroke(i)}function aC(t,e,n,r){const{segments:i,options:s}=e,o=z0(e);for(const a of i)A2(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const lC=typeof Path2D=="function";function cC(t,e,n,r){lC&&!e.options.segment?oC(t,e,n,r):aC(t,e,n,r)}class Ea extends sr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;GA(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=u5(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=a5(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=sC(r);let c,d;for(c=0,d=o.length;c<d;++c){const{start:f,end:h}=o[c],g=s[f],p=s[h];if(g===p){a.push(g);continue}const v=Math.abs((i-g[n])/(p[n]-g[n])),E=l(g,p,v,r.stepped);E[n]=e[n],a.push(E)}return a.length===1?a[0]:a}pathSegment(e,n,r){return z0(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=z0(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),cC(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ye(Ea,"id","line"),ye(Ea,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ye(Ea,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ye(Ea,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Wx(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class wu extends sr{constructor(n){super();ye(this,"parsed");ye(this,"skip");ye(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return Wx(this,n,"x",r)}inYRange(n,r){return Wx(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!qr(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,F0(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ye(wu,"id","point"),ye(wu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ye(wu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function C2(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,d,f;return t.horizontal?(f=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-f,d=r+f):(f=s/2,a=n-f,l=n+f,c=Math.min(r,i),d=Math.max(r,i)),{left:a,top:c,right:l,bottom:d}}function Ci(t,e,n,r){return t?0:qt(e,n,r)}function uC(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=a2(r);return{t:Ci(i.top,s.top,0,n),r:Ci(i.right,s.right,0,e),b:Ci(i.bottom,s.bottom,0,n),l:Ci(i.left,s.left,0,e)}}function dC(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=ws(i),o=Math.min(e,n),a=t.borderSkipped,l=r||De(i);return{topLeft:Ci(!l||a.top||a.left,s.topLeft,0,o),topRight:Ci(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Ci(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ci(!l||a.bottom||a.right,s.bottomRight,0,o)}}function fC(t){const e=C2(t),n=e.right-e.left,r=e.bottom-e.top,i=uC(t,n/2,r/2),s=dC(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function uh(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&C2(t,r);return a&&(i||ji(e,a.left,a.right))&&(s||ji(n,a.top,a.bottom))}function hC(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function pC(t,e){t.rect(e.x,e.y,e.w,e.h)}function dh(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class _u extends sr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=fC(this),a=hC(o.radius)?_l:pC;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,dh(o,n,s)),e.clip(),a(e,dh(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,dh(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return uh(this,e,n,r)}inXRange(e,n){return uh(this,e,null,n)}inYRange(e,n){return uh(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ye(_u,"id","bar"),ye(_u,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ye(_u,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const qx=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},gC=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Gx extends sr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Je(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Nt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=qx(r,s);let c,d;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,s,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=i+a;let f=e;s.textAlign="left",s.textBaseline="middle";let h=-1,g=-d;return this.legendItems.forEach((p,v)=>{const E=r+n/2+s.measureText(p.text).width;(v===0||c[c.length-1]+E+2*a>o)&&(f+=d,c[c.length-(v>0?0:1)]=0,g+=d,h++),l[v]={left:0,top:g,row:h,width:E,height:i},c[c.length-1]+=E+a}),f}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-e;let f=a,h=0,g=0,p=0,v=0;return this.legendItems.forEach((E,b)=>{const{itemWidth:w,itemHeight:S}=mC(r,n,s,E,i);b>0&&g+S+2*a>d&&(f+=h+a,c.push({width:h,height:g}),p+=h+a,v++,h=g=0),l[b]={left:p,top:g,col:v,width:w,height:S},h=Math.max(h,w),g+=S+a}),f+=h,c.push({width:h,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=vo(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ht(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Ht(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Ht(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Ht(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ag(e,this),this._draw(),jg(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=pt.color,l=vo(e.rtl,this.left,this.width),c=Nt(o.font),{padding:d}=o,f=c.size,h=f/2;let g;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:v,itemHeight:E}=qx(o,f),b=function(F,C,I){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;i.save();const U=Pe(I.lineWidth,1);if(i.fillStyle=Pe(I.fillStyle,a),i.lineCap=Pe(I.lineCap,"butt"),i.lineDashOffset=Pe(I.lineDashOffset,0),i.lineJoin=Pe(I.lineJoin,"miter"),i.lineWidth=U,i.strokeStyle=Pe(I.strokeStyle,a),i.setLineDash(Pe(I.lineDash,[])),o.usePointStyle){const H={radius:v*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:U},ie=l.xPlus(F,p/2),oe=C+h;o2(i,H,ie,oe,o.pointStyleWidth&&p)}else{const H=C+Math.max((f-v)/2,0),ie=l.leftForLtr(F,p),oe=ws(I.borderRadius);i.beginPath(),Object.values(oe).some(z=>z!==0)?_l(i,{x:ie,y:H,w:p,h:v,radius:oe}):i.rect(ie,H,p,v),i.fill(),U!==0&&i.stroke()}i.restore()},w=function(F,C,I){Rs(i,I.text,F,C+E/2,c,{strikethrough:I.hidden,textAlign:l.textAlign(I.textAlign)})},S=this.isHorizontal(),R=this._computeTitleHeight();S?g={x:Ht(s,this.left+d,this.right-r[0]),y:this.top+d+R,line:0}:g={x:this.left+d,y:Ht(s,this.top+R+d,this.bottom-n[0].height),line:0},h2(this.ctx,e.textDirection);const N=E+d;this.legendItems.forEach((F,C)=>{i.strokeStyle=F.fontColor,i.fillStyle=F.fontColor;const I=i.measureText(F.text).width,U=l.textAlign(F.textAlign||(F.textAlign=o.textAlign)),H=p+h+I;let ie=g.x,oe=g.y;l.setWidth(this.width),S?C>0&&ie+H+d>this.right&&(oe=g.y+=N,g.line++,ie=g.x=Ht(s,this.left+d,this.right-r[g.line])):C>0&&oe+N>this.bottom&&(ie=g.x=ie+n[g.line].width+d,g.line++,oe=g.y=Ht(s,this.top+R+d,this.bottom-n[g.line].height));const z=l.x(ie);if(b(z,oe,F),ie=lA(U,ie+p+h,S?ie+H:this.right,e.rtl),w(l.x(ie),oe,F),S)g.x+=H+d;else if(typeof F.text!="string"){const W=c.lineHeight;g.y+=B2(F,W)+d}else g.y+=N}),p2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Nt(n.font),i=Kt(n.padding);if(!n.display)return;const s=vo(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,f=Ht(e.align,f,this.right-h);else{const p=this.columnSizes.reduce((v,E)=>Math.max(v,E.height),0);d=c+Ht(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const g=Ht(a,f,f+h);o.textAlign=s.textAlign(Sg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Rs(o,n.text,g,d,r)}_computeTitleHeight(){const e=this.options.title,n=Nt(e.font),r=Kt(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(ji(e,this.left,this.right)&&ji(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],ji(e,i.left,i.left+i.width)&&ji(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!bC(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=gC(i,r);i&&!s&&Je(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Je(n.onHover,[e,r,this],this)}else r&&Je(n.onClick,[e,r,this],this)}}function mC(t,e,n,r,i){const s=yC(r,t,e,n),o=xC(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function yC(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function xC(t,e,n){let r=t;return typeof e.text!="string"&&(r=B2(e,n)),r}function B2(t,e){const n=t.text?t.text.length:0;return e*n}function bC(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var wC={id:"legend",_element:Gx,start(t,e,n){const r=t.legend=new Gx({ctx:t.ctx,options:n,chart:t});In.configure(t,r,n),In.addBox(t,r)},stop(t){In.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;In.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=Kt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class R2 extends sr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=lt(r.text)?r.text.length:1;this._padding=Kt(r.padding);const s=i*Nt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,d,f;return this.isHorizontal()?(d=Ht(a,r,s),f=n+e,c=s-r):(o.position==="left"?(d=r+e,f=Ht(a,i,n),l=We*-.5):(d=s-e,f=Ht(a,n,i),l=We*.5),c=i-n),{titleX:d,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Nt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Rs(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Sg(n.align),textBaseline:"middle",translation:[o,a]})}}function _C(t,e){const n=new R2({ctx:t.ctx,options:e,chart:t});In.configure(t,n,e),In.addBox(t,n),t.titleBlock=n}var vC={id:"title",_element:R2,start(t,e,n){_C(t,n)},stop(t){const e=t.titleBlock;In.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;In.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sa={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=P0(e,c);d<i&&(i=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function pr(t,e){return e&&(lt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Pr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function EC(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Kx(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Nt(e.bodyFont),c=Nt(e.titleFont),d=Nt(e.footerFont),f=s.length,h=i.length,g=r.length,p=Kt(e.padding);let v=p.height,E=0,b=r.reduce((R,N)=>R+N.before.length+N.lines.length+N.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,f&&(v+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),b){const R=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=g*R+(b-g)*l.lineHeight+(b-1)*e.bodySpacing}h&&(v+=e.footerMarginTop+h*d.lineHeight+(h-1)*e.footerSpacing);let w=0;const S=function(R){E=Math.max(E,n.measureText(R).width+w)};return n.save(),n.font=c.string,qe(t.title,S),n.font=l.string,qe(t.beforeBody.concat(t.afterBody),S),w=e.displayColors?o+2+e.boxPadding:0,qe(r,R=>{qe(R.before,S),qe(R.lines,S),qe(R.after,S)}),w=0,n.font=d.string,qe(t.footer,S),n.restore(),E+=p.width,{width:E,height:v}}function SC(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function kC(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function NC(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),kC(c,t,e,n)&&(c="center"),c}function Yx(t,e,n){const r=n.yAlign||e.yAlign||SC(t,n);return{xAlign:n.xAlign||e.xAlign||NC(t,e,n,r),yAlign:r}}function TC(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function AC(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Xx(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:g}=ws(o);let p=TC(e,a);const v=AC(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(d,h)+i:a==="right"&&(p+=Math.max(f,g)+i),{x:qt(p,0,r.width-e.width),y:qt(v,0,r.height-e.height)}}function jc(t,e,n){const r=Kt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Zx(t){return pr([],Pr(t))}function jC(t,e,n){return es(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Qx(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const P2={beforeTitle:Cr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Cr,beforeBody:Cr,beforeLabel:Cr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return $e(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Cr,afterBody:Cr,beforeFooter:Cr,footer:Cr,afterFooter:Cr};function ln(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?P2[e].call(n,r):i}class L0 extends sr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new m2(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=jC(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=ln(r,"beforeTitle",this,e),s=ln(r,"title",this,e),o=ln(r,"afterTitle",this,e);let a=[];return a=pr(a,Pr(i)),a=pr(a,Pr(s)),a=pr(a,Pr(o)),a}getBeforeBody(e,n){return Zx(ln(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return qe(e,s=>{const o={before:[],lines:[],after:[]},a=Qx(r,s);pr(o.before,Pr(ln(a,"beforeLabel",this,s))),pr(o.lines,ln(a,"label",this,s)),pr(o.after,Pr(ln(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return Zx(ln(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=ln(r,"beforeFooter",this,e),s=ln(r,"footer",this,e),o=ln(r,"afterFooter",this,e);let a=[];return a=pr(a,Pr(i)),a=pr(a,Pr(s)),a=pr(a,Pr(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(EC(this.chart,n[l]));return e.filter&&(a=a.filter((d,f,h)=>e.filter(d,f,h,r))),e.itemSort&&(a=a.sort((d,f)=>e.itemSort(d,f,r))),qe(a,d=>{const f=Qx(e.callbacks,d);i.push(ln(f,"labelColor",this,d)),s.push(ln(f,"labelPointStyle",this,d)),o.push(ln(f,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Sa[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Kx(this,r),c=Object.assign({},a,l),d=Yx(this.chart,r,c),f=Xx(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:f}=ws(a),{x:h,y:g}=e,{width:p,height:v}=n;let E,b,w,S,R,N;return s==="center"?(R=g+v/2,i==="left"?(E=h,b=E-o,S=R+o,N=R-o):(E=h+p,b=E+o,S=R-o,N=R+o),w=E):(i==="left"?b=h+Math.max(l,d)+o:i==="right"?b=h+p-Math.max(c,f)-o:b=this.caretX,s==="top"?(S=g,R=S-o,E=b-o,w=b+o):(S=g+v,R=S+o,E=b+o,w=b-o),N=S),{x1:E,x2:b,x3:w,y1:S,y2:R,y3:N}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=vo(r.rtl,this.x,this.width);for(e.x=jc(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Nt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,d=Nt(s.bodyFont),f=jc(this,"left",s),h=i.x(f),g=l<d.lineHeight?(d.lineHeight-l)/2:0,p=n.y+g;if(s.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},E=i.leftForLtr(h,c)+c/2,b=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,F0(e,v,E,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,F0(e,v,E,b)}else{e.lineWidth=De(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=i.leftForLtr(h,c),E=i.leftForLtr(i.xPlus(h,1),c-2),b=ws(o.borderRadius);Object.values(b).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,_l(e,{x:v,y:p,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),_l(e,{x:E,y:p+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,p,c,l),e.strokeRect(v,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(E,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=r,f=Nt(r.bodyFont);let h=f.lineHeight,g=0;const p=vo(r.rtl,this.x,this.width),v=function(I){n.fillText(I,p.x(e.x+g),e.y+h/2),e.y+=h+s},E=p.textAlign(o);let b,w,S,R,N,F,C;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=jc(this,E,r),n.fillStyle=r.bodyColor,qe(this.beforeBody,v),g=a&&E!=="right"?o==="center"?c/2+d:c+2+d:0,R=0,F=i.length;R<F;++R){for(b=i[R],w=this.labelTextColors[R],n.fillStyle=w,qe(b.before,v),S=b.lines,a&&S.length&&(this._drawColorBox(n,e,R,p,r),h=Math.max(f.lineHeight,l)),N=0,C=S.length;N<C;++N)v(S[N]),h=f.lineHeight;qe(b.after,v)}g=0,h=f.lineHeight,qe(this.afterBody,v),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=vo(r.rtl,this.x,this.width);for(e.x=jc(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Nt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:d}=r,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:p}=ws(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+d-p),n.quadraticCurveTo(a+c,l+d,a+c-p,l+d),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+g,l+d),n.quadraticCurveTo(a,l+d,a,l+d-g),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Sa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Kx(this,e),l=Object.assign({},o,this._size),c=Yx(n,e,l),d=Xx(e,l,c,n);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Kt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),h2(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),p2(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!cd(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!cd(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Sa[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}ye(L0,"positioners",Sa);var CC={id:"tooltip",_element:L0,positioners:Sa,afterInit(t,e,n){n&&(t.tooltip=new L0({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:P2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const BC=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function RC(t,e,n,r){const i=t.indexOf(e);if(i===-1)return BC(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const PC=(t,e)=>t===null?null:qt(Math.round(t),0,e);function Jx(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class $0 extends Wo{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if($e(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:RC(r,e,Pe(n,e),this._addedLabels),PC(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Jx.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ye($0,"id","category"),ye($0,"defaults",{ticks:{callback:Jx}});function OC(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:f,includeBounds:h}=t,g=s||1,p=d-1,{min:v,max:E}=e,b=!$e(o),w=!$e(a),S=!$e(c),R=(E-v)/(f+1);let N=nx((E-v)/p/g)*g,F,C,I,U;if(N<1e-14&&!b&&!w)return[{value:v},{value:E}];U=Math.ceil(E/N)-Math.floor(v/N),U>p&&(N=nx(U*N/p/g)*g),$e(l)||(F=Math.pow(10,l),N=Math.ceil(N*F)/F),i==="ticks"?(C=Math.floor(v/N)*N,I=Math.ceil(E/N)*N):(C=v,I=E),b&&w&&s&&eA((a-o)/s,N/1e3)?(U=Math.round(Math.min((a-o)/N,d)),N=(a-o)/U,C=o,I=a):S?(C=b?o:C,I=w?a:I,U=c-1,N=(I-C)/U):(U=(I-C)/N,Da(U,Math.round(U),N/1e3)?U=Math.round(U):U=Math.ceil(U));const H=Math.max(rx(N),rx(C));F=Math.pow(10,$e(l)?H:l),C=Math.round(C*F)/F,I=Math.round(I*F)/F;let ie=0;for(b&&(h&&C!==o?(n.push({value:o}),C<o&&ie++,Da(Math.round((C+ie*N)*F)/F,o,eb(o,R,t))&&ie++):C<o&&ie++);ie<U;++ie){const oe=Math.round((C+ie*N)*F)/F;if(w&&oe>a)break;n.push({value:oe})}return w&&h&&I!==a?n.length&&Da(n[n.length-1].value,a,eb(a,R,t))?n[n.length-1].value=a:n.push({value:a}):(!w||I===a)&&n.push({value:I}),n}function eb(t,e,{horizontal:n,minRotation:r}){const i=Er(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class D0 extends Wo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return $e(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Nr(i),c=Nr(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=OC(i,s);return e.bounds==="ticks"&&tA(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Ng(e,this.chart.options.locale,this.options.ticks.format)}}class V0 extends D0{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=bn(e)?e:0,this.max=bn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Er(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ye(V0,"id","linear"),ye(V0,"defaults",{ticks:{callback:Tg.formatters.numeric}});function H0(t){const e=t.ticks;if(e.display&&t.display){const n=Kt(e.backdropPadding);return Pe(e.font&&e.font.size,pt.font.size)+n.height}return 0}function FC(t,e,n){return n=lt(n)?n:[n],{w:wA(t,e.string,n),h:n.length*e.lineHeight}}function tb(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function MC(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?We/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const d=t.getPointPosition(l,t.drawingArea+i[l],a),f=Nt(c.font),h=FC(t.ctx,f,t._pointLabels[l]);r[l]=h;const g=cn(t.getIndexAngle(l)+a),p=Math.round(vg(g)),v=tb(p,d.x,h.w,0,180),E=tb(p,d.y,h.h,90,270);IC(n,e,g,v,E)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=LC(t,r,i)}function IC(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function UC(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(vg(cn(l.angle+yt))),d=VC(l.y,a.h,c),f=$C(c),h=DC(l.x,a.w,f);return{visible:!0,x:l.x,y:d,textAlign:f,left:h,top:d,right:h+a.w,bottom:d+a.h}}function zC(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(qr({x:n,y:r},e)||qr({x:n,y:s},e)||qr({x:i,y:r},e)||qr({x:i,y:s},e))}function LC(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:H0(s)/2,additionalAngle:o?We/i:0};let c;for(let d=0;d<i;d++){l.padding=n[d],l.size=e[d];const f=UC(t,d,l);r.push(f),a==="auto"&&(f.visible=zC(f,c),f.visible&&(c=f))}return r}function $C(t){return t===0||t===180?"center":t<180?"left":"right"}function DC(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function VC(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function HC(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!$e(a)){const l=ws(e.borderRadius),c=Kt(e.backdropPadding);t.fillStyle=a;const d=r-c.left,f=i-c.top,h=s-r+c.width,g=o-i+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),_l(t,{x:d,y:f,w:h,h:g,radius:l}),t.fill()):t.fillRect(d,f,h,g)}}function WC(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));HC(n,o,s);const a=Nt(o.font),{x:l,y:c,textAlign:d}=s;Rs(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function O2(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,st);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function qC(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),O2(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function GC(t,e,n){return es(t,{label:n,index:e,type:"pointLabel"})}class ka extends D0{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Kt(H0(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=bn(e)&&!isNaN(e)?e:0,this.max=bn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/H0(this.options))}generateTickLabels(e){D0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=Je(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?MC(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=st/(this._pointLabels.length||1),r=this.options.startAngle||0;return cn(e*n+Er(r))}getDistanceFromCenterForValue(e){if($e(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if($e(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return GC(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-yt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),O2(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&WC(this,o),i.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const h=this.getContext(f),g=i.setContext(h),p=s.setContext(h);qC(this,g,l,o,p)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const d=r.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:h}=d;!h||!f||(e.lineWidth=h,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),d=Nt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const f=Kt(c.backdropPadding);e.fillRect(-o/2-f.left,-s-d.size/2-f.top,o+f.width,d.size+f.height)}Rs(e,a.label,0,-s,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}ye(ka,"id","radialLinear"),ye(ka,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Tg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ye(ka,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ye(ka,"descriptors",{angleLines:{_fallback:"grid"}});const Xd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},hn=Object.keys(Xd);function nb(t,e){return t-e}function rb(t,e){if($e(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),bn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(bl(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function ib(t,e,n,r){const i=hn.length;for(let s=hn.indexOf(t);s<i-1;++s){const o=Xd[hn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return hn[s]}return hn[i-1]}function KC(t,e,n,r,i){for(let s=hn.length-1;s>=hn.indexOf(n);s--){const o=hn[s];if(Xd[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return hn[n?hn.indexOf(n):0]}function YC(t){for(let e=hn.indexOf(t)+1,n=hn.length;e<n;++e)if(Xd[hn[e]].common)return hn[e]}function sb(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Eg(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function XC(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function ob(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:XC(t,r,i,n)}class md extends Wo{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new L5._date(e.adapters.date);i.init(n),$a(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:rb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=bn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=bn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=sA(i,s,o);return this._unit=n.unit||(r.autoSkip?ib(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):KC(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:YC(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),ob(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=qt(n,0,o),r=qt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||ib(s.minUnit,n,r,this._getLabelCapacity(n)),a=Pe(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=bl(l)||l===!0,d={};let f=n,h,g;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,g=0;h<r;h=+e.add(h,a,o),g++)sb(d,h,p);return(h===r||i.bounds==="ticks"||g===1)&&sb(d,h,p),Object.keys(d).sort(nb).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Je(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],f=c&&a[c],h=r[n],g=c&&f&&h&&h.major;return this._adapter.format(e,i||(g?f:d))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Er(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,ob(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(rb(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return n2(e.sort(nb))}}ye(md,"id","time"),ye(md,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Cc(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=ms(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=ms(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class ab extends md{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Cc(n,this.min),this._tableRange=Cc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,d;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],l=i[o-1],c=i[o],Math.round((d+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Cc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Cc(this._table,r*this._tableRange+this._minPos,!0)}}ye(ab,"id","timeseries"),ye(ab,"defaults",md.defaults);const F2="label";function lb(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function ZC(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function M2(t,e){t.labels=e}function I2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F2;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function QC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F2;const n={labels:[],datasets:[]};return M2(n,t.labels),I2(n,t.datasets,e),n}function JC(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:d,updateMode:f,...h}=t,g=$.useRef(null),p=$.useRef(null),v=()=>{g.current&&(p.current=new Yd(g.current,{type:o,data:QC(a,s),options:l&&{...l},plugins:c}),lb(e,p.current))},E=()=>{lb(e,null),p.current&&(p.current.destroy(),p.current=null)};return $.useEffect(()=>{!i&&p.current&&l&&ZC(p.current,l)},[i,l]),$.useEffect(()=>{!i&&p.current&&M2(p.current.config.data,a.labels)},[i,a.labels]),$.useEffect(()=>{!i&&p.current&&a.datasets&&I2(p.current.config.data,a.datasets,s)},[i,a.datasets]),$.useEffect(()=>{p.current&&(i?(E(),setTimeout(v)):p.current.update(f))},[i,l,a.labels,a.datasets,f]),$.useEffect(()=>{p.current&&(E(),setTimeout(v))},[o]),$.useEffect(()=>(v(),()=>E()),[]),xd.createElement("canvas",{ref:g,role:"img",height:n,width:r,...h},d)}const eB=$.forwardRef(JC);function zl(t,e){return Yd.register(e),$.forwardRef((n,r)=>xd.createElement(eB,{...n,ref:r,type:t}))}const cb=zl("line",mu),tB=zl("bar",gu),nB=zl("radar",yu),rB=zl("doughnut",go),iB=zl("pie",M0);Yd.register($0,V0,wu,Ea,_u,va,ka,vC,CC,wC);function Vi({type:t,data:e,options:n={}}){const r=document.documentElement.classList.contains("dark"),s={...{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:r?"#e5e7eb":"#374151"}}},scales:t!=="pie"&&t!=="doughnut"&&t!=="radar"?{x:{ticks:{color:r?"#e5e7eb":"#374151"},grid:{color:r?"#374151":"#e5e7eb"}},y:{ticks:{color:r?"#e5e7eb":"#374151"},grid:{color:r?"#374151":"#e5e7eb"}}}:void 0},...n},o=()=>{switch(t){case"line":return u.jsx(cb,{data:e,options:s});case"bar":return u.jsx(tB,{data:e,options:s});case"pie":return u.jsx(iB,{data:e,options:s});case"doughnut":return u.jsx(rB,{data:e,options:s});case"radar":return u.jsx(nB,{data:e,options:s});default:return u.jsx(cb,{data:e,options:s})}};return u.jsx("div",{className:"relative h-64",children:o()})}function sB({title:t,type:e,data:n,config:r={},onEdit:i,onDelete:s,isEditable:o=!0}){const[a,l]=$.useState(!1),c=()=>{switch(e){case"summary":return u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.value}),u.jsx("div",{className:"text-sm text-gray-600",children:n.label}),n.change&&u.jsxs("div",{className:`text-xs mt-1 ${n.change>0?"text-green-600":"text-red-600"}`,children:[n.change>0?"+":"",n.change,"% dari bulan lalu"]})]});case"progress":return u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-sm font-medium",children:n.label}),u.jsxs("span",{className:"text-sm text-gray-600",children:[n.value,"%"]})]}),u.jsx(gl,{value:n.value,max:100,variant:n.value>=100?"success":n.value>=70?"warning":"primary"}),n.target&&u.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Target: ",n.target]})]});case"chart":return u.jsx("div",{className:"h-48",children:u.jsx(Vi,{type:r.chartType||"line",data:n,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:r.showLegend!==!1}},scales:{y:{beginAtZero:!0}}}})});case"list":return u.jsx("div",{className:"space-y-2",children:n.items.map((d,f)=>u.jsxs("div",{className:"flex justify-between items-center py-1",children:[u.jsx("span",{className:"text-sm",children:d.label}),u.jsx("span",{className:"text-sm font-medium",children:d.value})]},f))});case"metric":return u.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.metrics.map((d,f)=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-lg font-bold text-gray-900",children:d.value}),u.jsx("div",{className:"text-xs text-gray-600",children:d.label})]},f))});default:return u.jsx("div",{className:"text-gray-500",children:"Widget type tidak dikenal"})}};return u.jsxs(Se,{className:`relative ${a?"col-span-2 row-span-2":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t}),u.jsx("div",{className:"flex items-center space-x-2",children:o&&u.jsxs(u.Fragment,{children:[u.jsx(je,{size:"sm",variant:"ghost",onClick:()=>l(!a),children:a?"⤓":"⤢"}),u.jsx(je,{size:"sm",variant:"ghost",onClick:()=>i&&i(),children:"✏️"}),u.jsx(je,{size:"sm",variant:"ghost",onClick:()=>s&&s(),children:"🗑️"})]})})]}),u.jsx("div",{className:a?"h-full":"",children:c()}),a&&e==="chart"&&u.jsx("div",{className:"mt-4 h-64",children:u.jsx(Vi,{type:r.chartType||"line",data:n,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0}},scales:{y:{beginAtZero:!0}}}})})]})}function oB(){const t=Dp(),e=[{id:"add-transaction",title:"Add Transaction",description:"Tambah transaksi baru",icon:"💸",color:"bg-green-500",route:"/transactions"},{id:"budget",title:"Budget",description:"Kelola anggaran",icon:"💰",color:"bg-blue-500",route:"/budget"},{id:"goals",title:"Goals",description:"Set target keuangan",icon:"🎯",color:"bg-purple-500",route:"/goals"},{id:"analytics",title:"Analytics",description:"Lihat laporan",icon:"📊",color:"bg-orange-500",route:"/analytics"},{id:"ai-advisor",title:"AI Advisor",description:"Dapatkan saran",icon:"🤖",color:"bg-indigo-500",route:"/ai-advisor"},{id:"wallets",title:"Wallets",description:"Kelola wallet",icon:"👛",color:"bg-yellow-500",route:"/wallets"}],n=r=>{t(r)};return u.jsxs(Se,{children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Quick Actions"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Akses cepat ke fitur utama"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map(r=>u.jsxs("button",{onClick:()=>n(r.route),className:"group relative p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200 hover:shadow-md",children:[u.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[u.jsx("div",{className:`w-12 h-12 rounded-full ${r.color} flex items-center justify-center text-white text-xl group-hover:scale-110 transition-transform duration-200`,children:r.icon}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:r.title}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:r.description})]})]}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-blue-500/0 to-blue-500/0 group-hover:from-blue-500/5 group-hover:to-purple-500/5 transition-all duration-200 pointer-events-none"})]},r.id))}),u.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(je,{size:"sm",variant:"outline",onClick:()=>t("/notifications"),children:"🔔 Notifications"}),u.jsx(je,{size:"sm",variant:"outline",onClick:()=>t("/settings"),children:"⚙️ Settings"}),u.jsx(je,{size:"sm",variant:"outline",onClick:()=>t("/help"),children:"❓ Help"})]})})]})}function aB(){const[t,e]=$.useState(null),[n,r]=$.useState(null),[i,s]=$.useState(!1);return $.useEffect(()=>{const o=Ir.getEnvironmentInfo();e(o),(async()=>{try{const l=await Ir.isAuthenticated();r({connected:!0,authenticated:l,error:null,environment:o})}catch(l){r({connected:!1,authenticated:!1,error:l.message,environment:o})}})()},[]),t?u.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Environment Debug"}),u.jsxs("button",{onClick:()=>s(!i),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[i?"Hide":"Show"," Details"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-3",children:[u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Network"}),u.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.network})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-3",children:[u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Environment"}),u.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.isLocal?"Local":"IC"})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-3",children:[u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Backend Status"}),u.jsx("div",{className:`font-medium ${n!=null&&n.connected?"text-green-600":"text-red-600"}`,children:n!=null&&n.connected?"Connected":"Disconnected"})]})]}),u.jsx("div",{className:"mb-4",children:u.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${n!=null&&n.authenticated?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:n!=null&&n.authenticated?"✓ Authenticated":"⚠ Not Authenticated"})}),i&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-4",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Network Configuration"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Network:"}),u.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:t.network})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Identity Provider:"}),u.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-mono text-xs",children:t.identityProvider})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Canister ID:"}),u.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-mono text-xs",children:t.canisterId})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Is Local:"}),u.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:t.isLocal?"Yes":"No"})]})]})]}),n&&u.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-4",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Backend Status"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Connected:"}),u.jsx("span",{className:`ml-2 font-medium ${n.connected?"text-green-600":"text-red-600"}`,children:n.connected?"Yes":"No"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Authenticated:"}),u.jsx("span",{className:`ml-2 font-medium ${n.authenticated?"text-green-600":"text-yellow-600"}`,children:n.authenticated?"Yes":"No"})]}),n.error&&u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Error:"}),u.jsx("span",{className:"ml-2 text-red-600 dark:text-red-400",children:n.error})]}),n.environment&&u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Environment:"}),u.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:JSON.stringify(n.environment,null,2)})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded p-4",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Actions"}),u.jsxs("div",{className:"space-x-2",children:[u.jsx("button",{onClick:()=>console.log("Environment Info:",t),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Log to Console"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:"Reload Page"})]})]})]})]}):u.jsx("div",{children:"Loading environment configuration..."})}function lB(){var ie,oe,z,W;const{currency:t,setCurrency:e}=$.useContext(wn),[n,r]=$.useState(!1),[i,s]=$.useState([]),[o,a]=$.useState({}),[l,c]=$.useState({}),[d,f]=$.useState({}),[h,g]=$.useState([]),[p,v]=$.useState(!0),[E,b]=$.useState(""),[w,S]=$.useState(!1),R=async()=>{v(!0);try{const V=await Wr.getTransactions();s(V);const Q=await Oo.getBalanceBreakdown();a(Q);const Z=await Oo.getPortfolioSummary();c(Z);const G=await pl.getCurrencyRates();f(G);const Y=await C0.getNotifications(null,!1);g(Y)}catch(V){b("Failed to load dashboard data: "+V.message),console.error("Error loading dashboard data:",V)}finally{v(!1)}},N=async()=>{try{const V=await pl.fetchRealTimeRates();f(V),await R()}catch(V){console.error("Error fetching rates:",V)}};$.useEffect(()=>{R()},[]);const F=()=>{R()},C=V=>t==="USD"?V:t==="IDR"&&d.usd_to_idr>0?V*d.usd_to_idr:V,I=[{id:1,title:"Total Balance",type:"summary",data:{value:C(o.total_usd_value||0),label:"Total Balance",change:5.2,currency:t,isNegative:o.is_negative,negativeReason:o.negative_reason}},{id:2,title:"USD Balance",type:"summary",data:{value:C(o.usd_balance||0),label:"USD Balance",change:12.5,currency:t}},{id:3,title:"Crypto Value",type:"summary",data:{value:C((o.btc_usd_value||0)+(o.eth_usd_value||0)+(o.sol_usd_value||0)),label:"Crypto Value",change:8.3,currency:t}},{id:4,title:"Portfolio Diversification",type:"progress",data:{current:l.diversification_score||0,target:100,label:"Diversification Score"}},{id:5,title:"Recent Transactions",type:"list",data:{items:i.slice(0,5).map(V=>{var Q;return{title:V.description,subtitle:V.category,value:`${V.currency} ${Number(V.amount).toFixed(2)}`,type:V.is_income?"income":"expense",source:((Q=V.source)==null?void 0:Q[0])||"manual"}})}},{id:6,title:"Asset Allocation",type:"chart",data:{labels:["USD","BTC","ETH","SOL"],datasets:[{data:[((ie=l.balance_breakdown)==null?void 0:ie.usd_balance)||0,((oe=l.balance_breakdown)==null?void 0:oe.btc_usd_value)||0,((z=l.balance_breakdown)==null?void 0:z.eth_usd_value)||0,((W=l.balance_breakdown)==null?void 0:W.sol_usd_value)||0],backgroundColor:["#10B981","#F7931A","#627EEA","#9945FF"]}]},config:{type:"doughnut"}}],U=V=>{console.log("Edit widget:",V)},H=V=>{console.log("Delete widget:",V)};return p?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):E?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-red-600 text-xl mb-4",children:E}),u.jsx("button",{onClick:R,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:N,className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Refresh Rates"}),u.jsxs("button",{onClick:()=>S(!w),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:[w?"Hide":"Show"," Debug"]}),u.jsx("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Transaction"})]})]}),w&&u.jsx(aB,{}),o.is_negative&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Negative Balance Detected"}),u.jsx("div",{className:"mt-2 text-sm text-red-700",children:o.negative_reason})]})]})}),u.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display Currency:"}),u.jsxs("select",{value:t,onChange:V=>e(V.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"USD",children:"USD"}),u.jsx("option",{value:"IDR",children:"IDR"})]})]})}),u.jsx(oB,{}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:u.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"USD Balance"}),u.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",Number(o.usd_balance||0).toFixed(2)]})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:u.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"BTC Balance"}),u.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["₿",Number(o.btc_balance||0).toFixed(8)]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["$",Number(o.btc_usd_value||0).toFixed(2)]})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:u.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"ETH Balance"}),u.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Ξ",Number(o.eth_balance||0).toFixed(6)]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["$",Number(o.eth_usd_value||0).toFixed(2)]})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:u.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"SOL Balance"}),u.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["◎",Number(o.sol_balance||0).toFixed(6)]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["$",Number(o.sol_usd_value||0).toFixed(2)]})]})]})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(V=>u.jsx(sB,{title:V.title,type:V.type,data:V.data,config:V.config,onEdit:()=>U(V.id),onDelete:()=>H(V.id),isEditable:!0},V.id))}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activities"}),u.jsx("div",{className:"space-y-3",children:i.slice(0,10).map((V,Q)=>{var Z;return u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${V.is_income?"bg-green-500":"bg-red-500"}`}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:V.description}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[V.category," • ",((Z=V.source)==null?void 0:Z[0])||"manual"," • ",V.date?new Date(V.date).toLocaleDateString():new Date(Number(V.timestamp)/1e6).toLocaleDateString()]})]})]}),u.jsxs("div",{className:`text-sm font-medium ${V.is_income?"text-green-600":"text-red-600"}`,children:[V.is_income?"+":"-",V.currency," ",Number(V.amount).toFixed(2)]})]},Q)})})]}),u.jsx(Kv,{isOpen:n,onClose:()=>r(!1),onTransactionAdded:F})]})}function dn({type:t="text",variant:e="default",size:n="md",error:r=!1,disabled:i=!1,className:s="",...o}){const a="rounded border transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",l={default:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500",error:"border-red-300 dark:border-red-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-red-500"},c={sm:"px-2 py-1 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},d=i;return u.jsx("input",{type:t,className:`${a} ${l[r?"error":e]} ${c[n]} ${d?"opacity-60 cursor-not-allowed":""} ${s}`,disabled:d,...o})}function vu({variant:t="default",size:e="md",error:n=!1,disabled:r=!1,className:i="",children:s,...o}){const a="rounded border transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",l={default:"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500",error:"border-red-300 dark:border-red-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-red-500"},c={sm:"px-2 py-1 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},d=r;return u.jsx("select",{className:`${a} ${l[n?"error":t]} ${c[e]} ${d?"opacity-60 cursor-not-allowed":""} ${i}`,disabled:d,...o,children:s})}function Tr({children:t,variant:e="default",size:n="md",className:r="",...i}){const s="inline-flex items-center font-medium rounded-full",o={default:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",danger:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},a={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-sm"};return u.jsx("span",{className:`${s} ${o[e]} ${a[n]} ${r}`,...i,children:t})}function cB({headers:t=[],children:e,className:n="",...r}){return u.jsx("div",{className:`overflow-x-auto ${n}`,children:u.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow",...r,children:[t.length>0&&u.jsx("thead",{children:u.jsx("tr",{children:t.map((i,s)=>u.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-900 dark:text-white",children:i},s))})}),u.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e})]})})}function uB({children:t,className:e="",...n}){return u.jsx("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700 ${e}`,...n,children:t})}function Br({children:t,className:e="",...n}){return u.jsx("td",{className:`px-4 py-2 ${e}`,...n,children:t})}function Eu({items:t=[],separator:e="/",className:n="",...r}){return u.jsx("nav",{className:`flex ${n}`,...r,children:u.jsx("ol",{className:"flex items-center space-x-2",children:t.map((i,s)=>u.jsxs("li",{className:"flex items-center",children:[s>0&&u.jsx("span",{className:"mx-2 text-gray-400 dark:text-gray-500",children:e}),s===t.length-1?u.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:i.label}):u.jsx(Gp,{to:i.href,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:i.label})]},s))})})}function dB({currentPage:t=1,totalPages:e=1,totalItems:n=0,pageSize:r=10,onPageChange:i,onPageSizeChange:s,className:o="",...a}){const l=(t-1)*r+1,c=Math.min(t*r,n),d=()=>{const f=[];if(e<=5)for(let g=1;g<=e;g++)f.push(g);else if(t<=3){for(let g=1;g<=4;g++)f.push(g);f.push("..."),f.push(e)}else if(t>=e-2){f.push(1),f.push("...");for(let g=e-3;g<=e;g++)f.push(g)}else{f.push(1),f.push("...");for(let g=t-1;g<=t+1;g++)f.push(g);f.push("..."),f.push(e)}return f};return u.jsxs("div",{className:`flex items-center justify-between ${o}`,...a,children:[u.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",l," to ",c," of ",n," results"]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(je,{variant:"secondary",size:"sm",onClick:()=>i(t-1),disabled:t===1,children:"Previous"}),u.jsx("div",{className:"flex items-center space-x-1",children:d().map((f,h)=>u.jsx("div",{children:f==="..."?u.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}):u.jsx(je,{variant:f===t?"primary":"secondary",size:"sm",onClick:()=>i(f),children:f})},h))}),u.jsx(je,{variant:"secondary",size:"sm",onClick:()=>i(t+1),disabled:t===e,children:"Next"})]})]})}function ub({variant:t="text",lines:e=1,className:n="",...r}){const i="animate-pulse bg-gray-200 dark:bg-gray-700 rounded",s={text:"h-4",title:"h-6",card:"h-32",avatar:"w-10 h-10 rounded-full",button:"h-10 w-20"};return t==="text"&&e>1?u.jsx("div",{className:`space-y-2 ${n}`,...r,children:Array.from({length:e}).map((o,a)=>u.jsx("div",{className:`${i} ${s.text} ${a===e-1?"w-3/4":"w-full"}`},a))}):u.jsx("div",{className:`${i} ${s[t]} ${n}`,...r})}function fB({rows:t=5,columns:e=4,className:n="",...r}){return u.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow ${n}`,...r,children:[u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:u.jsx("div",{className:"flex space-x-4",children:Array.from({length:e}).map((i,s)=>u.jsx(ub,{variant:"text",className:"flex-1"},s))})}),u.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Array.from({length:t}).map((i,s)=>u.jsx("div",{className:"p-4",children:u.jsx("div",{className:"flex space-x-4",children:Array.from({length:e}).map((o,a)=>u.jsx(ub,{variant:"text",className:"flex-1"},a))})},s))})]})}function hB({trigger:t,items:e=[],className:n="",...r}){const[i,s]=$.useState(!1),o=$.useRef(null);return $.useEffect(()=>{const a=l=>{o.current&&!o.current.contains(l.target)&&s(!1)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]),u.jsxs("div",{className:`relative ${n}`,ref:o,...r,children:[u.jsx("div",{onClick:()=>s(!i),children:t}),i&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:u.jsx("div",{className:"py-1",children:e.map((a,l)=>u.jsx("button",{onClick:()=>{var c;(c=a.onClick)==null||c.call(a),s(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:a.label},l))})})]})}function pB({children:t,variant:e="default",size:n="md",removable:r=!1,onRemove:i,className:s="",...o}){const a={default:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",primary:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",danger:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},l={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-sm"};return u.jsxs("span",{className:`inline-flex items-center rounded-full font-medium ${a[e]} ${l[n]} ${s}`,...o,children:[t,r&&u.jsx("button",{onClick:i,className:"ml-1.5 -mr-1 h-4 w-4 rounded-full inline-flex items-center justify-center text-current hover:bg-current hover:bg-opacity-20",children:u.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}function gB(){$.useContext(wn);const[t,e]=$.useState([]),[n,r]=$.useState("ALL"),[i,s]=$.useState(""),[o,a]=$.useState("ALL"),[l,c]=$.useState("ALL"),[d,f]=$.useState("all"),[h,g]=$.useState(!1),[p,v]=$.useState(1),[E,b]=$.useState(10),[w,S]=$.useState(!1),[R,N]=$.useState(""),F=async()=>{S(!0),N("");try{const Y=await Wr.getTransactions();Y.success?e(Y.data):N(Y.error||"Failed to load transactions")}catch(Y){N("Failed to load transactions"),console.error("Error loading transactions:",Y)}finally{S(!1)}};$.useEffect(()=>{F()},[]);const C=()=>{F()},I=t.filter(Y=>{const ce=n==="ALL"||n==="Income"&&Y.is_income||n==="Expense"&&!Y.is_income,se=i===""||Y.category===i;let ue=!0;if(o!=="ALL"){let le=Y.source||"manual";Array.isArray(le)&&(le=le[0]||"manual"),console.log("Filtering by source:",o,"Transaction source:",le,"Match:",le===o),ue=le===o}let ae=!0;if(d==="blockchain"){let le=Y.source||"manual";Array.isArray(le)&&(le=le[0]||"manual"),ae=le==="blockchain",console.log("Blockchain tab filtering:","Transaction source:",le,"Match:",ae)}const j=l==="ALL"||Y.currency===l;return ce&&se&&ue&&ae&&j}),U=I.length,H=Math.ceil(U/E),ie=(p-1)*E,oe=ie+E,z=I.slice(ie,oe),W=["Date","Description","Category","Type","Amount","Currency","Action"],V=[{label:"Dashboard",href:"/dashboard"},{label:"Transactions",href:"/transactions"}],Q=Y=>{console.log("Edit transaction:",Y)},Z=Y=>{console.log("Delete transaction:",Y)},G=async()=>{S(!0),N("");try{const Y=await Wr.syncBlockchainTransactions();Y.success?(await F(),alert("Blockchain transactions synced successfully!")):N(Y.error)}catch(Y){N("Failed to sync blockchain transactions"),console.error("Sync error:",Y)}finally{S(!1)}};return w?u.jsxs("div",{className:"space-y-6",children:[u.jsx(Eu,{items:V,className:"mb-4"}),u.jsx(fB,{rows:5,columns:7})]}):R?u.jsxs("div",{className:"space-y-6",children:[u.jsx(Eu,{items:V,className:"mb-4"}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-red-600 text-xl mb-4",children:R}),u.jsx("button",{onClick:F,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(Eu,{items:V,className:"mb-4"}),u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Transactions"}),u.jsx(je,{onClick:()=>g(!0),children:"+ Add Transaction"})]}),u.jsxs("div",{className:"flex space-x-4 mb-4",children:[u.jsx("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-md ${d==="all"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"📊 All Transactions"}),u.jsx("button",{onClick:()=>f("blockchain"),className:`px-4 py-2 rounded-md ${d==="blockchain"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"🔗 Blockchain Transactions"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[u.jsxs(vu,{value:n,onChange:Y=>r(Y.target.value),children:[u.jsx("option",{value:"ALL",children:"All Types"}),u.jsx("option",{value:"Income",children:"Income"}),u.jsx("option",{value:"Expense",children:"Expense"})]}),u.jsxs(vu,{value:o,onChange:Y=>a(Y.target.value),children:[u.jsx("option",{value:"ALL",children:"All Sources"}),u.jsx("option",{value:"manual",children:"Manual Input"}),u.jsx("option",{value:"blockchain",children:"Blockchain"})]}),u.jsxs(vu,{value:l,onChange:Y=>c(Y.target.value),children:[u.jsx("option",{value:"ALL",children:"All Currencies"}),u.jsx("option",{value:"IDR",children:"IDR"}),u.jsx("option",{value:"USD",children:"USD"}),u.jsx("option",{value:"BTC",children:"BTC"}),u.jsx("option",{value:"ETH",children:"ETH"}),u.jsx("option",{value:"SOL",children:"SOL"})]}),u.jsx(dn,{placeholder:"Category",value:i,onChange:Y=>s(Y.target.value)}),u.jsx(je,{variant:"secondary",size:"sm",children:"Export CSV"}),u.jsx(je,{variant:"primary",size:"sm",onClick:G,disabled:w,children:"🔄 Sync Blockchain"})]}),u.jsxs(Se,{children:[u.jsx(cB,{headers:d==="all"?W:[...W,"Source","Details"],children:z.map((Y,ce)=>u.jsxs(uB,{children:[u.jsx(Br,{children:Y.date?new Date(Y.date).toLocaleDateString():new Date(Number(Y.timestamp)/1e6).toLocaleDateString()}),u.jsx(Br,{children:Y.description}),u.jsx(Br,{children:u.jsx(pB,{color:"blue",children:Y.category})}),u.jsx(Br,{children:u.jsx(Tr,{variant:Y.is_income?"success":"danger",size:"sm",children:Y.is_income?"Income":"Expense"})}),u.jsxs(Br,{className:"font-medium",children:[Y.currency," ",Number(Y.amount).toLocaleString()]}),u.jsx(Br,{children:Y.currency}),d==="all"?u.jsx(Br,{children:u.jsx(hB,{trigger:u.jsx(je,{variant:"ghost",size:"sm",children:"⋯"}),items:[{label:"Edit",onClick:()=>Q(Y)},{label:"Delete",onClick:()=>Z(Y)}]})}):u.jsxs(u.Fragment,{children:[u.jsx(Br,{children:(()=>{let se=Y.source||"manual";return Array.isArray(se)&&(se=se[0]||"manual"),u.jsx("span",{className:`px-2 py-1 rounded text-xs ${se==="manual"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:se==="manual"?"Manual":"Blockchain"})})()}),u.jsx(Br,{children:Y.txid&&u.jsxs("a",{href:`https://blockchain.info/tx/${String(Y.txid)}`,target:"_blank",className:"text-blue-600 hover:text-blue-800 text-xs",children:[String(Y.txid).substring(0,8),"..."]})})]})]},ce))}),H>1&&u.jsx("div",{className:"mt-4",children:u.jsx(dB,{currentPage:p,totalPages:H,onPageChange:v})})]}),u.jsx(Kv,{isOpen:h,onClose:()=>g(!1),onTransactionAdded:C})]})}function mB(){const{currency:t,setCurrency:e}=$.useContext(wn),[n,r]=$.useState({}),[i,s]=$.useState({}),[o,a]=$.useState({}),[l,c]=$.useState(!1),[d,f]=$.useState(""),h=async()=>{c(!0),f("");try{const w=await Oo.getBalanceBreakdown();r(w);const S=await Oo.getPortfolioSummary();s(S);const R=await pl.getCurrencyRates();a(R)}catch(w){f("Failed to load portfolio data: "+w.message),console.error("Error loading portfolio data:",w)}finally{c(!1)}};$.useEffect(()=>{h()},[]);const g=w=>t==="USD"?w:t==="IDR"&&o.usd_to_idr>0?w*o.usd_to_idr:w,p=()=>{switch(t){case"IDR":return"Rp";case"USD":return"$";default:return"$"}},v=$.useMemo(()=>{const w=Number(n.usd_balance||0),S=Number(n.btc_usd_value||0),R=Number(n.eth_usd_value||0),N=Number(n.sol_usd_value||0),F=w+S+R+N;return[{label:"USD",value:w,percent:F?w/F*100:0,color:"#10B981"},{label:"BTC",value:S,percent:F?S/F*100:0,color:"#F7931A"},{label:"ETH",value:R,percent:F?R/F*100:0,color:"#627EEA"},{label:"SOL",value:N,percent:F?N/F*100:0,color:"#9945FF"}]},[n]),E={labels:v.map(w=>w.label),datasets:[{data:v.map(w=>w.value),backgroundColor:v.map(w=>w.color),borderWidth:2,borderColor:"#ffffff"}]},b={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Portfolio Value",data:[1e4,12e3,11e3,15e3,14e3,16e3],borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]};return l?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):d?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-red-600 text-xl mb-4",children:d}),u.jsx("button",{onClick:h,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Portfolio"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display Currency:"}),u.jsxs("select",{value:t,onChange:w=>e(w.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"USD",children:"USD"}),u.jsx("option",{value:"IDR",children:"IDR"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Portfolio Value"}),u.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[p(),g(Number(i.total_value_usd||0)).toLocaleString()]}),u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Diversification Score: ",Number(i.diversification_score||0).toFixed(1),"%"]})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"USD Balance"}),u.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",Number(n.usd_balance||0).toFixed(2)]}),u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[p(),g(Number(n.usd_balance||0)).toLocaleString()]})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"BTC Balance"}),u.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:["₿",Number(n.btc_balance||0).toFixed(8)]}),u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["$",Number(n.btc_usd_value||0).toFixed(2)]})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Crypto Value"}),u.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["$",Number(n.btc_usd_value||0)+Number(n.eth_usd_value||0)+Number(n.sol_usd_value||0)]}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"BTC + ETH + SOL"})]})})]}),n.is_negative&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Negative Balance Detected"}),u.jsx("div",{className:"mt-2 text-sm text-red-700",children:n.negative_reason})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ETH Balance"}),u.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["Ξ",Number(n.eth_balance||0).toFixed(6)]}),u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["$",Number(n.eth_usd_value||0).toFixed(2)]})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"SOL Balance"}),u.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["◎",Number(n.sol_balance||0).toFixed(6)]}),u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["$",Number(n.sol_usd_value||0).toFixed(2)]})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Crypto"}),u.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:["$",Number(n.btc_usd_value||0)+Number(n.eth_usd_value||0)+Number(n.sol_usd_value||0)]}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All Cryptocurrencies"})]})})]}),u.jsxs(Se,{children:[u.jsx("div",{className:"font-semibold mb-2",children:"Asset Allocation"}),u.jsx(Vi,{type:"pie",data:E})]}),u.jsxs(Se,{children:[u.jsx("div",{className:"font-semibold mb-4",children:"Asset Allocation Progress"}),u.jsx("div",{className:"space-y-3",children:v.map((w,S)=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:w.label}),u.jsxs("span",{children:[Number(w.percent||0).toFixed(1),"%"]})]}),u.jsx(gl,{value:w.percent,max:100,color:w.label==="USD"?"green":w.label==="BTC"?"orange":w.label==="ETH"?"blue":"purple",size:"sm"})]},S))})]}),u.jsxs(Se,{children:[u.jsx("div",{className:"font-semibold mb-2",children:"Portfolio Value Over Time"}),u.jsx(Vi,{type:"line",data:b})]}),u.jsxs(Se,{children:[u.jsx("div",{className:"font-semibold mb-2",children:"Portfolio Analysis"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Diversification Score:"}),u.jsxs("span",{className:"text-sm font-medium",children:[Number(i.diversification_score||0).toFixed(1),"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Total Value (USD):"}),u.jsxs("span",{className:"text-sm font-medium",children:["$",Number(i.total_value_usd||0).toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Total Value (IDR):"}),u.jsxs("span",{className:"text-sm font-medium",children:["Rp",Number(i.total_value_idr||0).toLocaleString()]})]}),u.jsx("div",{className:"text-gray-500 text-sm mt-2",children:Number(i.diversification_score||0)>50?"Your portfolio is well diversified.":"Consider diversifying your portfolio more."})]})]})]})}function yB(){$.useContext(wn);const[t,e]=$.useState({walletAddress:"",btcBalance:0,btcTransactions:[]}),[n,r]=$.useState(!1),[i,s]=$.useState(""),[o,a]=$.useState(!1),[l,c]=$.useState(""),[d,f]=$.useState(!1),h=async()=>{r(!0),s("");try{const E=await Vs.getWalletAddress("BTC");if(E&&e(b=>({...b,walletAddress:E||""})),E&&E.trim()!==""){try{const b=await Vs.getBtcBalance();if(console.log("Balance result:",b),b!=null){let w;if(b&&typeof b=="object"&&"Ok"in b?w=Number(b.Ok):w=Number(b),console.log("Satoshis:",w),!isNaN(w)&&w>0)try{const S=await Vs.satoshisToBtc(w);if(console.log("BTC result:",S),S)e(R=>({...R,btcBalance:S||0}));else{const R=w/1e8;console.log("Fallback BTC balance:",R),e(N=>({...N,btcBalance:R}))}}catch(S){console.error("Error in BTC conversion:",S);const R=w/1e8;e(N=>({...N,btcBalance:R}))}else console.log("Invalid satoshis:",w),e(S=>({...S,btcBalance:0}))}else console.log("No balance data:",b),e(w=>({...w,btcBalance:0}))}catch(b){console.log("BTC balance not available (address not set):",b.message),e(w=>({...w,btcBalance:0}))}try{const b=await Vs.getBtcTransactions();b&&e(w=>({...w,btcTransactions:b||[]}))}catch(b){console.log("BTC transactions not available:",b.message),e(w=>({...w,btcTransactions:[]}))}}else e(b=>({...b,btcBalance:0,btcTransactions:[]}))}catch(E){s("Failed to load wallet data"),console.error("Error loading wallet data:",E)}finally{r(!1)}};$.useEffect(()=>{h()},[]);const g=async()=>{if(!l.trim()){alert("Please enter a valid BTC address");return}a(!0);try{const E=await Vs.setWalletAddress("BTC",l.trim());E?(e(b=>({...b,walletAddress:l.trim()})),c(""),f(!1),await h(),alert("Wallet connected successfully!")):alert("Failed to connect wallet: "+E.error)}catch(E){alert("Failed to connect wallet"),console.error("Error connecting wallet:",E)}finally{a(!1)}},p=async()=>{try{await Vs.setWalletAddress("BTC","")&&e(b=>({...b,walletAddress:"",btcBalance:0,btcTransactions:[]}))}catch(E){alert("Failed to disconnect wallet"),console.error("Error disconnecting wallet:",E)}},v=async()=>{try{await h()}catch(E){alert("Failed to refresh data"),console.error("Error refreshing data:",E)}};return n?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):i?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-red-600 text-xl mb-4",children:i}),u.jsx("button",{onClick:h,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Wallets"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[u.jsxs(Se,{className:"flex flex-col items-center",children:[u.jsx("div",{className:"font-semibold mb-2",children:"BTC (Bitcoin)"}),t.walletAddress?u.jsxs("div",{className:"text-center mb-2",children:[u.jsx(Tr,{color:"green",size:"sm",className:"mb-2",children:"Connected"}),u.jsx(je,{variant:"danger",size:"sm",onClick:p,className:"mt-2",children:"Disconnect"})]}):u.jsx("div",{className:"text-center mb-2",children:d?u.jsxs("div",{className:"space-y-2",children:[u.jsx(dn,{placeholder:"Enter BTC address",value:l,onChange:E=>c(E.target.value),className:"mb-2"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(je,{variant:"primary",onClick:g,loading:o,size:"sm",children:"Connect"}),u.jsx(je,{variant:"secondary",onClick:()=>{f(!1),c("")},size:"sm",children:"Cancel"})]})]}):u.jsx(je,{variant:"secondary",onClick:()=>f(!0),className:"mb-2",children:"Connect Wallet"})}),u.jsxs("div",{className:"text-gray-500 text-sm mb-1",children:["Address: ",u.jsx("span",{className:"font-mono text-xs",children:t.walletAddress||"-"})]}),u.jsxs("div",{className:"text-gray-500 text-sm mb-2",children:["Balance: ",Number(t.btcBalance||0).toFixed(8)," BTC"]}),u.jsx(je,{variant:"secondary",size:"sm",onClick:v,disabled:!t.walletAddress,children:"Refresh"})]}),u.jsxs(Se,{className:"flex flex-col items-center",children:[u.jsx("div",{className:"font-semibold mb-2",children:"ETH (Ethereum)"}),u.jsx(je,{variant:"secondary",disabled:!0,className:"mb-2",children:"Coming Soon"}),u.jsxs("div",{className:"text-gray-500 text-sm mb-1",children:["Address: ",u.jsx("span",{className:"font-mono text-xs",children:"-"})]}),u.jsx("div",{className:"text-gray-500 text-sm",children:"Balance: 0 ETH"})]}),u.jsxs(Se,{className:"flex flex-col items-center",children:[u.jsx("div",{className:"font-semibold mb-2",children:"SOL (Solana)"}),u.jsx(je,{variant:"secondary",disabled:!0,className:"mb-2",children:"Coming Soon"}),u.jsxs("div",{className:"text-gray-500 text-sm mb-1",children:["Address: ",u.jsx("span",{className:"font-mono text-xs",children:"-"})]}),u.jsx("div",{className:"text-gray-500 text-sm",children:"Balance: 0 SOL"})]})]}),u.jsxs(Se,{className:"mt-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"font-semibold",children:"Recent Wallet Transactions"}),u.jsx(je,{variant:"secondary",size:"sm",onClick:v,disabled:!t.walletAddress,children:"Refresh"})]}),t.btcTransactions&&t.btcTransactions.length>0?u.jsx("div",{className:"space-y-2",children:t.btcTransactions.map((E,b)=>u.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-sm",children:E.description||"Transaction"}),u.jsx("div",{className:"text-xs text-gray-500",children:E.date?new Date(E.date).toLocaleDateString():new Date(Number(E.timestamp)/1e6).toLocaleDateString()})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`font-medium text-sm ${Number(E.amount)>0?"text-green-600":"text-red-600"}`,children:[Number(E.amount)>0?"+":"",Number(E.amount||0).toFixed(8)," BTC"]}),u.jsx(Tr,{color:Number(E.amount)>0?"green":"red",size:"sm",children:Number(E.amount)>0?"Received":"Sent"})]})]},b))}):u.jsx("div",{className:"text-center py-8 text-gray-500",children:t.walletAddress?"No transactions found":"Connect a wallet to view transactions"})]}),u.jsxs(Se,{children:[u.jsx("div",{className:"font-semibold mb-4",children:"Wallet Management"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"text-sm text-gray-500",children:[u.jsxs("p",{children:["• ",u.jsx("strong",{children:"Bitcoin Regtest:"})," Use addresses from your local Bitcoin regtest"]}),u.jsxs("p",{children:["• ",u.jsx("strong",{children:"Real-time sync:"})," Transactions are automatically synced from blockchain"]}),u.jsxs("p",{children:["• ",u.jsx("strong",{children:"Balance tracking:"})," Real-time balance updates from Bitcoin API"]}),u.jsxs("p",{children:["• ",u.jsx("strong",{children:"Transaction history:"})," View all incoming and outgoing transactions"]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"How to Test:"}),u.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[u.jsxs("p",{children:["1. Start Bitcoin regtest: ",u.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:"bitcoind -regtest -daemon"})]}),u.jsxs("p",{children:["2. Generate address: ",u.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:"bitcoin-cli -regtest getnewaddress"})]}),u.jsxs("p",{children:["3. Send test BTC: ",u.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-1 rounded",children:'bitcoin-cli -regtest sendtoaddress "address" 0.001'})]}),u.jsx("p",{children:"4. Connect wallet in FinTrack with the address"}),u.jsx("p",{children:'5. Click "Refresh" to sync blockchain data'})]})]})]})]})]})}function Zd({className:t=""}){const{currency:e,setCurrency:n}=$.useContext(wn),r=[{value:"idr",label:"IDR",symbol:"Rp"},{value:"usd",label:"USD",symbol:"$"},{value:"btc",label:"BTC",symbol:"₿"},{value:"eth",label:"ETH",symbol:"Ξ"},{value:"sol",label:"SOL",symbol:"◎"}];return u.jsx("select",{className:`rounded px-2 py-1 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 ${t}`,value:e,onChange:i=>n(i.target.value),children:r.map(i=>u.jsxs("option",{value:i.value,children:[i.symbol," ",i.label]},i.value))})}function xB({tabs:t=[],defaultActive:e=0,className:n="",...r}){var o;const[i,s]=$.useState(e);return u.jsxs("div",{className:n,...r,children:[u.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:u.jsx("nav",{className:"-mb-px flex space-x-8",children:t.map((a,l)=>u.jsx("button",{onClick:()=>s(l),className:`py-2 px-1 border-b-2 font-medium text-sm ${i===l?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:a.label},l))})}),u.jsx("div",{className:"mt-4",children:(o=t[i])==null?void 0:o.content})]})}function bB(){const{currency:t,setCurrency:e}=$.useContext(wn),[n,r]=$.useState([]),[i,s]=$.useState(0),[o,a]=$.useState(0),[l,c]=$.useState(!1),[d,f]=$.useState(""),[h,g]=$.useState("ALL"),p=async()=>{c(!0),f("");try{const R=await Wr.getTransactions();R&&r(R);const N=n.filter(C=>C.transaction_type==="income").reduce((C,I)=>C+Number(I.amount),0),F=n.filter(C=>C.transaction_type==="expense").reduce((C,I)=>C+Number(I.amount),0);s(N),a(F)}catch(R){f("Failed to load analytics data"),console.error("Error loading analytics data:",R)}finally{c(!1)}};$.useEffect(()=>{p()},[t]);const v=$.useMemo(()=>n.reduce((R,N)=>(N.transaction_type==="expense"&&(R[N.category]=(R[N.category]||0)+Number(N.amount)),R),{}),[n]),E={labels:["Income","Expense"],datasets:[{label:"Amount",data:[i||0,o||0],backgroundColor:["#10B981","#EF4444"],borderWidth:1}]},b={labels:Object.keys(v),datasets:[{data:Object.values(v),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"],borderWidth:2,borderColor:"#ffffff"}]},w={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Income",data:[12e3,15e3,13e3,18e3,16e3,2e4],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4},{label:"Expense",data:[8e3,12e3,1e4,15e3,14e3,16e3],borderColor:"#EF4444",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]},S=[{label:"Income vs Expense",content:u.jsxs(Se,{children:[u.jsx("div",{className:"font-semibold mb-2",children:"Income vs Expense"}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("span",{className:"text-green-600",children:["Income: ",t," ",(i==null?void 0:i.toLocaleString())||0]})," |",u.jsxs("span",{className:"text-red-600",children:[" Expense: ",t," ",(o==null?void 0:o.toLocaleString())||0]})]}),u.jsx(Vi,{type:"bar",data:E})]})},{label:"Category Breakdown",content:u.jsxs(Se,{children:[u.jsx("div",{className:"font-semibold mb-2",children:"Category Breakdown"}),u.jsx(Vi,{type:"doughnut",data:b})]})},{label:"Monthly Trend",content:u.jsxs(Se,{children:[u.jsx("div",{className:"font-semibold mb-2",children:"Monthly Trend"}),u.jsx(Vi,{type:"line",data:w})]})},{label:"AI Insights",content:u.jsxs(Se,{children:[u.jsx("div",{className:"font-semibold mb-1",children:"AI Insights"}),u.jsxs("div",{className:"text-gray-500 text-sm",children:[u.jsx("p",{children:"• Your spending on Food & Dining increased by 15% this month"}),u.jsx("p",{children:"• Consider reducing entertainment expenses to meet your budget"}),u.jsx("p",{children:"• Your savings rate is above average for your income level"})]})]})}];return l?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):d?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-red-600 text-xl mb-4",children:d}),u.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(Eu,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Analytics",href:"/analytics"}],className:"mb-4"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Analytics"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(Zd,{}),u.jsxs(vu,{value:h,onChange:R=>g(R.target.value),children:[u.jsx("option",{value:"ALL",children:"All Chains"}),u.jsx("option",{value:"BTC",children:"Bitcoin"}),u.jsx("option",{value:"ETH",children:"Ethereum"}),u.jsx("option",{value:"SOL",children:"Solana"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Income"}),u.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[t," ",(i==null?void 0:i.toLocaleString())||0]})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Expense"}),u.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[t," ",(o==null?void 0:o.toLocaleString())||0]})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Net Savings"}),u.jsxs("p",{className:`text-3xl font-bold ${i-o>=0?"text-green-600":"text-red-600"}`,children:[t," ",(i-o).toLocaleString()||0]})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Savings Rate"}),u.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[i>0?((i-o)/i*100).toFixed(1):0,"%"]})]})})]}),u.jsx(xB,{tabs:S})]})}function wB(){$.useContext(wn);const[t,e]=$.useState([]),[n,r]=$.useState(""),[i,s]=$.useState(!1),[o,a]=$.useState(""),[l,c]=$.useState(!1),d=async()=>{try{e([{id:1,role:"assistant",content:"Hello! I'm your AI financial advisor. I can help you with budgeting, investment advice, and financial planning. What would you like to know?",timestamp:new Date().toISOString()}])}catch(v){a("Failed to load chat history"),console.error("Error loading chat history:",v)}};$.useEffect(()=>{d()},[]);const f=async v=>{c(!0);try{const E={id:Date.now(),role:"user",content:v,timestamp:new Date().toISOString()};e(b=>[...b,E]),setTimeout(()=>{const b={id:Date.now()+1,role:"assistant",content:h(v),timestamp:new Date().toISOString()};e(w=>[...w,b]),c(!1)},2e3)}catch(E){a("Failed to get AI advice"),console.error("Error getting AI advice:",E),c(!1)}},h=v=>{const E=v.toLowerCase();return E.includes("budget")||E.includes("spending")?"Based on your spending patterns, I recommend setting aside 20% of your income for savings and limiting discretionary spending to 30%. Consider using the 50/30/20 rule: 50% for needs, 30% for wants, 20% for savings.":E.includes("invest")||E.includes("investment")?"For investment advice, I recommend starting with a diversified portfolio: 60% stocks, 30% bonds, 10% alternative investments. Consider low-cost index funds for long-term growth. Always do your own research and consider consulting a financial advisor.":E.includes("save")||E.includes("saving")?'Great question! Start by building an emergency fund of 3-6 months of expenses. Then focus on high-yield savings accounts and consider automated savings transfers. Set specific goals like "save $10,000 for emergency fund" to stay motivated.':E.includes("debt")||E.includes("loan")?"For debt management, prioritize high-interest debt first (credit cards). Consider the debt snowball or avalanche method. Focus on paying more than minimum payments and avoid taking on new debt while paying off existing balances.":"I'm here to help with your financial questions! You can ask me about budgeting, saving, investing, debt management, or any other financial topics. What specific area would you like to discuss?"},g=async v=>{v.preventDefault(),!(!n.trim()||i)&&(s(!0),await f(n),r(""),s(!1))},p=()=>{e([{id:Date.now(),role:"assistant",content:"Chat history cleared. How can I help you today?",timestamp:new Date().toISOString()}])};return o?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-red-600 text-xl mb-4",children:o}),u.jsx("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):u.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-bold",children:"AI Financial Advisor"}),u.jsx(je,{variant:"secondary",onClick:p,children:"Clear Chat"})]}),u.jsxs(Se,{className:"h-96 flex flex-col",children:[u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map(v=>u.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${v.role==="user"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}`,children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("span",{className:"text-xs font-medium",children:v.role==="user"?"You":"AI Advisor"}),u.jsx(Tr,{color:v.role==="user"?"blue":"green",size:"sm",children:v.role==="user"?"User":"AI"})]}),u.jsx("p",{className:"text-sm",children:v.content}),u.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(v.timestamp).toLocaleTimeString()})]})},v.id)),l&&u.jsx("div",{className:"flex justify-start",children:u.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white max-w-xs lg:max-w-md px-4 py-2 rounded-lg",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("span",{className:"text-xs font-medium",children:"AI Advisor"}),u.jsx(Tr,{color:"green",size:"sm",children:"AI"})]}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),u.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),u.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})]}),u.jsx("div",{className:"border-t p-4",children:u.jsxs("form",{className:"flex gap-2",onSubmit:g,children:[u.jsx(dn,{placeholder:"Ask me about budgeting, investing, saving, or debt management...",value:n,onChange:v=>r(v.target.value),disabled:i||l,className:"flex-1"}),u.jsx(je,{type:"submit",loading:i,disabled:l,children:"Send"})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl mb-2",children:"💰"}),u.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Budgeting"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Get personalized budget advice"})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl mb-2",children:"📈"}),u.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Investing"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Investment strategies and tips"})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl mb-2",children:"💎"}),u.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Saving"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Smart saving strategies"})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl mb-2",children:"💳"}),u.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Debt"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Debt management advice"})]})})]}),u.jsxs(Se,{children:[u.jsx("h3",{className:"font-semibold mb-4",children:"AI Capabilities"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2",children:"Financial Analysis"}),u.jsxs("ul",{className:"space-y-1 text-gray-600 dark:text-gray-400",children:[u.jsx("li",{children:"• Spending pattern analysis"}),u.jsx("li",{children:"• Budget optimization"}),u.jsx("li",{children:"• Investment recommendations"}),u.jsx("li",{children:"• Risk assessment"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2",children:"Personalized Advice"}),u.jsxs("ul",{className:"space-y-1 text-gray-600 dark:text-gray-400",children:[u.jsx("li",{children:"• Goal-based planning"}),u.jsx("li",{children:"• Debt management strategies"}),u.jsx("li",{children:"• Tax optimization tips"}),u.jsx("li",{children:"• Emergency fund guidance"})]})]})]})]})]})}function U2({isOpen:t,onClose:e,title:n,children:r,size:i="md"}){if($.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const s={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),u.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:u.jsxs("div",{className:`relative w-full ${s[i]} bg-white dark:bg-gray-800 rounded-lg shadow-xl`,children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-4",children:r})]})})]})}function _B(){const{currency:t,setCurrency:e}=$.useContext(wn),[n,r]=$.useState([]),[i,s]=$.useState(!1),[o,a]=$.useState(""),[l,c]=$.useState(!1),[d,f]=$.useState(null),[h,g]=$.useState({category:"",budget:"",period:""}),p=async()=>{s(!0),a("");try{const C=await Gy.getBudgets();C?r(C):a("Failed to load budgets")}catch(C){a("Failed to load budgets"),console.error("Error loading budgets:",C)}finally{s(!1)}};$.useEffect(()=>{p()},[]);const v=n.reduce((C,I)=>C+I.budget,0),E=n.reduce((C,I)=>C+I.spent,0),b=v-E,w={labels:n.map(C=>C.category),datasets:[{label:"Budget",data:n.map(C=>C.budget),backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)",borderWidth:1},{label:"Spent",data:n.map(C=>C.spent),backgroundColor:"rgba(239, 68, 68, 0.5)",borderColor:"rgb(239, 68, 68)",borderWidth:1}]},S=()=>{f(null),g({category:"",budget:"",period:""}),c(!0)},R=C=>{f(C),g({category:C.category,budget:C.budget.toString(),period:C.period}),c(!0)},N=async()=>{if(!h.category||!h.budget||!h.period){alert("Please fill all fields");return}try{const C={category:h.category,budget:parseFloat(h.budget),currency:t,period:h.period},I=await Gy.addBudget(C.category,C.budget,C.currency,C.period);I.success?(c(!1),p()):alert(I.error||"Failed to save budget")}catch(C){alert("Failed to save budget"),console.error("Error saving budget:",C)}},F=async C=>{if(confirm("Are you sure you want to delete this budget?"))try{console.log("Delete budget:",C),p()}catch(I){alert("Failed to delete budget"),console.error("Error deleting budget:",I)}};return i?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-red-600 text-xl mb-4",children:o}),u.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Budget Planning"}),u.jsx(je,{onClick:S,variant:"primary",children:"+ Add Budget"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Budget"}),u.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[t," ",v.toLocaleString()]})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Spent"}),u.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[t," ",E.toLocaleString()]})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Remaining"}),u.jsxs("p",{className:`text-3xl font-bold ${b>=0?"text-green-600":"text-red-600"}`,children:[t," ",b.toLocaleString()]})]})})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx(Zd,{})}),u.jsxs(Se,{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Budget vs Spent"}),u.jsx(Vi,{type:"bar",data:w,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Budget Overview"}}}})]}),u.jsxs(Se,{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Budget Categories"}),u.jsx("div",{className:"space-y-4",children:n.map(C=>{const I=C.spent/C.budget*100,U=I>100;return u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:C.category}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Period: ",C.period]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[C.currency," ",C.spent.toLocaleString()," / ",C.budget.toLocaleString()]}),u.jsxs("p",{className:`text-sm font-medium ${U?"text-red-600":"text-green-600"}`,children:[I.toFixed(1),"%"]})]})]}),u.jsx(gl,{value:Math.min(I,100),max:100,color:U?"red":I>80?"yellow":"green"}),u.jsxs("div",{className:"flex justify-end mt-2 space-x-2",children:[u.jsx(je,{size:"sm",variant:"secondary",onClick:()=>R(C),children:"Edit"}),u.jsx(je,{size:"sm",variant:"danger",onClick:()=>F(C.id),children:"Delete"})]})]},C.id)})})]}),u.jsx(U2,{isOpen:l,onClose:()=>c(!1),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:d?"Edit Budget":"Add Budget"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),u.jsx(dn,{value:h.category,onChange:C=>g({...h,category:C.target.value}),placeholder:"e.g., Food & Dining"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Budget Amount"}),u.jsx(dn,{type:"number",value:h.budget,onChange:C=>g({...h,budget:C.target.value}),placeholder:"Enter budget amount"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Period"}),u.jsx(dn,{type:"month",value:h.period,onChange:C=>g({...h,period:C.target.value})})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx(je,{variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),u.jsxs(je,{variant:"primary",onClick:N,children:[d?"Update":"Add"," Budget"]})]})]})})]})}function vB({items:t=[],className:e="",...n}){return u.jsx("div",{className:`flow-root ${e}`,...n,children:u.jsx("ul",{className:"-mb-8",children:t.map((r,i)=>u.jsx("li",{children:u.jsxs("div",{className:"relative pb-8",children:[i!==t.length-1&&u.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-700","aria-hidden":"true"}),u.jsxs("div",{className:"relative flex space-x-3",children:[u.jsx("div",{children:u.jsx("span",{className:`h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white dark:ring-gray-800 ${r.variant==="success"?"bg-green-500":r.variant==="warning"?"bg-yellow-500":r.variant==="danger"?"bg-red-500":"bg-blue-500"}`,children:r.icon||u.jsx("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})}),u.jsxs("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[u.jsx("div",{children:u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.content})}),u.jsx("div",{className:"text-right text-sm whitespace-nowrap text-gray-500 dark:text-gray-400",children:u.jsx("time",{dateTime:r.dateTime,children:r.date})})]})]})]})},i))})})}function EB(){const{currency:t,setCurrency:e}=$.useContext(wn),[n,r]=$.useState([]),[i,s]=$.useState(!1),[o,a]=$.useState(""),[l,c]=$.useState(!1),[d,f]=$.useState(null),[h,g]=$.useState({title:"",description:"",targetAmount:"",currentAmount:"",deadline:"",category:"",priority:"medium"}),p=async()=>{s(!0),a("");try{const U=await Ky.getGoals();U?r(U):a("Failed to load goals")}catch(U){a("Failed to load goals"),console.error("Error loading goals:",U)}finally{s(!1)}};$.useEffect(()=>{p()},[]);const v=U=>{switch(U){case"high":return"red";case"medium":return"yellow";case"low":return"green";default:return"gray"}},E=n.reduce((U,H)=>U+H.targetAmount,0),b=n.reduce((U,H)=>U+H.currentAmount,0),w=b/E*100,S=n.filter(U=>U.status==="active"),R=n.filter(U=>U.status==="completed"),N=()=>{f(null),g({title:"",description:"",targetAmount:"",currentAmount:"",deadline:"",category:"",priority:"medium"}),c(!0)},F=U=>{f(U),g({title:U.title,description:U.description,targetAmount:U.targetAmount.toString(),currentAmount:U.currentAmount.toString(),deadline:U.deadline,category:U.category,priority:U.priority}),c(!0)},C=async()=>{if(!h.title||!h.targetAmount||!h.currentAmount||!h.deadline){alert("Please fill all required fields");return}try{const U={title:h.title,description:h.description,targetAmount:parseFloat(h.targetAmount),currentAmount:parseFloat(h.currentAmount),currency:t,deadline:h.deadline,category:h.category,priority:h.priority},H=await Ky.addGoal(U.title,U.description,U.targetAmount,U.currentAmount,U.currency,U.deadline,U.category,U.priority);H.success?(c(!1),p()):alert(H.error||"Failed to save goal")}catch(U){alert("Failed to save goal"),console.error("Error saving goal:",U)}},I=async U=>{if(confirm("Are you sure you want to delete this goal?"))try{console.log("Delete goal:",U),p()}catch(H){alert("Failed to delete goal"),console.error("Error deleting goal:",H)}};return i?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-red-600 text-xl mb-4",children:o}),u.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Financial Goals"}),u.jsx(je,{onClick:N,variant:"primary",children:"+ Add Goal"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Target"}),u.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[t," ",E.toLocaleString()]})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Saved"}),u.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[t," ",b.toLocaleString()]})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Active Goals"}),u.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:S.length})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Completed Goals"}),u.jsx("p",{className:"text-3xl font-bold text-green-600",children:R.length})]})})]}),u.jsxs(Se,{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Overall Progress"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),u.jsxs("span",{className:"font-medium",children:[w.toFixed(1),"%"]})]}),u.jsx(gl,{value:w,max:100,color:w>=100?"green":w>50?"yellow":"blue"})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx(Zd,{})}),u.jsxs(Se,{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Active Goals"}),u.jsx("div",{className:"space-y-4",children:S.map(U=>{const H=U.currentAmount/U.targetAmount*100,ie=Math.ceil((new Date(U.deadline)-new Date)/(1e3*60*60*24));return u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:U.title}),u.jsx(Tr,{color:v(U.priority),size:"sm",children:U.priority})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:U.description}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[u.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Category: ",U.category]}),u.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Deadline: ",new Date(U.deadline).toLocaleDateString()]}),ie>0&&u.jsxs("span",{className:"text-yellow-600",children:[ie," days left"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[U.currency," ",U.currentAmount.toLocaleString()," / ",U.targetAmount.toLocaleString()]}),u.jsxs("p",{className:"text-sm font-medium text-green-600",children:[H.toFixed(1),"%"]})]})]}),u.jsx(gl,{value:H,max:100,color:H>=100?"green":H>50?"yellow":"blue"}),u.jsxs("div",{className:"flex justify-end mt-2 space-x-2",children:[u.jsx(je,{size:"sm",variant:"secondary",onClick:()=>F(U),children:"Edit"}),u.jsx(je,{size:"sm",variant:"danger",onClick:()=>I(U.id),children:"Delete"})]})]},U.id)})})]}),R.length>0&&u.jsxs(Se,{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Completed Goals"}),u.jsx("div",{className:"space-y-4",children:R.map(U=>u.jsx("div",{className:"border rounded-lg p-4 bg-green-50 dark:bg-green-900/20",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:U.title}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:U.description}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Completed: ",new Date(U.deadline).toLocaleDateString()]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[U.currency," ",U.targetAmount.toLocaleString()]}),u.jsx(Tr,{color:"green",size:"sm",children:"Completed"})]})]})},U.id))})]}),u.jsxs(Se,{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activities"}),u.jsx(vB,{items:[{content:'Goal "Dana Darurat" updated',date:"2 hours ago",variant:"success"},{content:'New goal "DP Rumah" created',date:"1 day ago",variant:"primary"},{content:'Goal "Liburan Keluarga" progress updated',date:"2 days ago",variant:"warning"}]})]}),u.jsx(U2,{isOpen:l,onClose:()=>c(!1),children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:d?"Edit Goal":"Add Goal"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title *"}),u.jsx(dn,{value:h.title,onChange:U=>g({...h,title:U.target.value}),placeholder:"e.g., Emergency Fund"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),u.jsx(dn,{value:h.description,onChange:U=>g({...h,description:U.target.value}),placeholder:"Describe your goal"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Amount *"}),u.jsx(dn,{type:"number",value:h.targetAmount,onChange:U=>g({...h,targetAmount:U.target.value}),placeholder:"Enter target amount"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Amount *"}),u.jsx(dn,{type:"number",value:h.currentAmount,onChange:U=>g({...h,currentAmount:U.target.value}),placeholder:"Enter current amount"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Deadline *"}),u.jsx(dn,{type:"date",value:h.deadline,onChange:U=>g({...h,deadline:U.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),u.jsx(dn,{value:h.category,onChange:U=>g({...h,category:U.target.value}),placeholder:"e.g., Emergency Fund"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Priority"}),u.jsxs("select",{value:h.priority,onChange:U=>g({...h,priority:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"low",children:"Low"}),u.jsx("option",{value:"medium",children:"Medium"}),u.jsx("option",{value:"high",children:"High"})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx(je,{variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),u.jsxs(je,{variant:"primary",onClick:C,children:[d?"Update":"Add"," Goal"]})]})]})})]})}function SB(){const[t,e]=$.useState([]),[n,r]=$.useState(!1),[i,s]=$.useState(""),[o,a]=$.useState("all"),[l,c]=$.useState(!0),d=async()=>{r(!0),s("");try{const N=await C0.getNotifications(null,l);N.success?e(N.data):s(N.error||"Failed to load notifications")}catch(N){s("Failed to load notifications"),console.error("Error loading notifications:",N)}finally{r(!1)}};$.useEffect(()=>{d()},[l]);const f=N=>{switch(N){case"success":return"green";case"warning":return"yellow";case"danger":return"red";case"info":return"blue";default:return"gray"}},h=N=>{switch(N){case"budget":return"💰";case"goal":return"🎯";case"transaction":return"💸";case"market":return"📈";case"payment":return"💳";case"ai":return"🤖";default:return"📢"}},g=N=>{const F=new Date(N),I=new Date-F,U=Math.floor(I/6e4),H=Math.floor(I/36e5),ie=Math.floor(I/864e5);return U<1?"Baru saja":U<60?`${U} menit yang lalu`:H<24?`${H} jam yang lalu`:ie<7?`${ie} hari yang lalu`:F.toLocaleDateString()},p=t.filter(N=>o==="all"?!0:N.category===o),v=t.filter(N=>!N.isRead).length,E=t.filter(N=>N.isRead).length,b=async N=>{try{const F=await C0.markAsRead(N);F.success?d():alert(F.error||"Failed to mark as read")}catch(F){alert("Failed to mark as read"),console.error("Error marking as read:",F)}},w=async()=>{try{console.log("Mark all as read"),d()}catch(N){alert("Failed to mark all as read"),console.error("Error marking all as read:",N)}},S=async N=>{if(confirm("Are you sure you want to delete this notification?"))try{console.log("Delete notification:",N),d()}catch(F){alert("Failed to delete notification"),console.error("Error deleting notification:",F)}},R=async()=>{if(confirm("Are you sure you want to delete all notifications?"))try{console.log("Delete all notifications"),d()}catch(N){alert("Failed to delete all notifications"),console.error("Error deleting all notifications:",N)}};return n?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):i?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-red-600 text-xl mb-4",children:i}),u.jsx("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Notifications"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(je,{variant:"secondary",onClick:w,children:"Mark All as Read"}),u.jsx(je,{variant:"danger",onClick:R,children:"Delete All"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Notifications"}),u.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Unread"}),u.jsx("p",{className:"text-3xl font-bold text-red-600",children:v})]})}),u.jsx(Se,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Read"}),u.jsx("p",{className:"text-3xl font-bold text-green-600",children:E})]})})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filter:"}),u.jsxs("select",{value:o,onChange:N=>a(N.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All"}),u.jsx("option",{value:"budget",children:"Budget"}),u.jsx("option",{value:"goal",children:"Goal"}),u.jsx("option",{value:"transaction",children:"Transaction"}),u.jsx("option",{value:"market",children:"Market"}),u.jsx("option",{value:"payment",children:"Payment"}),u.jsx("option",{value:"ai",children:"AI"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",id:"showRead",checked:l,onChange:N=>c(N.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"showRead",className:"text-sm text-gray-700 dark:text-gray-300",children:"Show read notifications"})]})]}),u.jsxs(Se,{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Notifications"}),p.length===0?u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No notifications found"})}):u.jsx("div",{className:"space-y-4",children:p.map(N=>u.jsx("div",{className:`border rounded-lg p-4 ${N.isRead?"bg-gray-50 dark:bg-gray-800":"bg-white dark:bg-gray-700 border-blue-200"}`,children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx("span",{className:"text-lg",children:h(N.category)}),u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:N.title}),u.jsx(Tr,{color:f(N.type),size:"sm",children:N.type}),!N.isRead&&u.jsx(Tr,{color:"blue",size:"sm",children:"New"})]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:N.message}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:g(N.timestamp)}),u.jsx("span",{className:"text-gray-500 dark:text-gray-400 capitalize",children:N.category})]})]}),u.jsxs("div",{className:"flex space-x-2 ml-4",children:[!N.isRead&&u.jsx(je,{size:"sm",variant:"secondary",onClick:()=>b(N.id),children:"Mark Read"}),u.jsx(je,{size:"sm",variant:"danger",onClick:()=>S(N.id),children:"Delete"})]})]})},N.id))})]})]})}function kB({src:t,alt:e,initials:n,icon:r,size:i="md",className:s="",...o}){const a={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"},l="inline-flex items-center justify-center rounded-full bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium";return t?u.jsx("img",{src:t,alt:e,className:`rounded-full object-cover ${a[i]} ${s}`,...o}):r?u.jsx("div",{className:`${l} ${a[i]} ${s}`,...o,children:r}):u.jsx("div",{className:`${l} ${a[i]} ${s}`,...o,children:n||"U"})}function fh({checked:t=!1,onChange:e,label:n,disabled:r=!1,className:i="",...s}){return u.jsxs("label",{className:`inline-flex items-center cursor-pointer ${r?"opacity-50 cursor-not-allowed":""} ${i}`,...s,children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"checkbox",className:"sr-only",checked:t,onChange:e,disabled:r}),u.jsx("div",{className:`w-11 h-6 bg-gray-200 dark:bg-gray-700 rounded-full transition-colors ${t?"bg-blue-600":""}`,children:u.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transform transition-transform ${t?"translate-x-5":"translate-x-0"}`})})]}),n&&u.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-white",children:n})]})}function NB(){var v;$.useContext(wn);const[t,e]=$.useState({name:"",email:"",avatar:""}),[n,r]=$.useState({theme:"light",emailNotifications:!0,pushNotifications:!0,autoSync:!0}),[i,s]=$.useState(!1),[o,a]=$.useState(""),[l,c]=$.useState(!1),d=async()=>{s(!0),a("");try{e(E=>({...E,name:"User",email:"user@example.com"}))}catch(E){a("Failed to load profile and settings"),console.error("Error loading profile and settings:",E)}finally{s(!1)}};$.useEffect(()=>{d()},[]);const f=async()=>{c(!0);try{console.log("Saving profile:",t),alert("Profile updated successfully!")}catch(E){alert("Failed to update profile"),console.error("Error updating profile:",E)}finally{c(!1)}},h=async()=>{c(!0);try{console.log("Saving settings:",n),alert("Settings updated successfully!")}catch(E){alert("Failed to update settings"),console.error("Error updating settings:",E)}finally{c(!1)}},g=async()=>{try{await Ir.logout()}catch(E){alert("Failed to logout"),console.error("Error logging out:",E)}},p=()=>{r(E=>({...E,theme:E.theme==="light"?"dark":"light"}))};return i?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-red-600 text-xl mb-4",children:o}),u.jsx("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):u.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Settings & Profile"}),u.jsxs(Se,{className:"mb-4",children:[u.jsx("div",{className:"font-semibold mb-4",children:"Profile"}),u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx(kB,{initials:((v=t==null?void 0:t.name)==null?void 0:v.charAt(0))||"U",size:"lg"}),u.jsxs("div",{className:"flex-1",children:[u.jsx(dn,{placeholder:"Display Name",value:t.name,onChange:E=>e(b=>({...b,name:E.target.value})),className:"mb-2 w-full"}),u.jsx(dn,{type:"email",placeholder:"Email",value:t.email,onChange:E=>e(b=>({...b,email:E.target.value})),className:"w-full"})]})]}),u.jsx(je,{onClick:f,loading:l,children:"Save Profile"})]}),u.jsxs(Se,{className:"mb-4",children:[u.jsx("div",{className:"font-semibold mb-4",children:"Preferences"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Default Currency"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Choose your preferred currency"})]}),u.jsx(Zd,{})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Theme"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Light or dark mode"})]}),u.jsx(je,{variant:"secondary",size:"sm",onClick:p,children:n.theme==="dark"?"Dark":"Light"})]})]}),u.jsx(je,{onClick:h,loading:l,className:"mt-4",children:"Save Preferences"})]}),u.jsxs(Se,{className:"mb-4",children:[u.jsx("div",{className:"font-semibold mb-4",children:"Notifications"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Notifications"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Receive updates via email"})]}),u.jsx(fh,{checked:n.emailNotifications,onChange:E=>r(b=>({...b,emailNotifications:E}))})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Push Notifications"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Receive real-time alerts"})]}),u.jsx(fh,{checked:n.pushNotifications,onChange:E=>r(b=>({...b,pushNotifications:E}))})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Auto Sync"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Automatically sync data"})]}),u.jsx(fh,{checked:n.autoSync,onChange:E=>r(b=>({...b,autoSync:E}))})]})]}),u.jsx(je,{onClick:h,loading:l,className:"mt-4",children:"Save Notifications"})]}),u.jsxs(Se,{className:"mb-4",children:[u.jsx("div",{className:"font-semibold mb-4",children:"Security"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Two-Factor Authentication"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Add an extra layer of security"})]}),u.jsx(Tr,{color:"yellow",size:"sm",children:"Not Enabled"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Session Management"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Manage active sessions"})]}),u.jsx(je,{variant:"secondary",size:"sm",children:"Manage"})]})]})]}),u.jsxs(Se,{className:"mb-4",children:[u.jsx("div",{className:"font-semibold mb-4",children:"Data Management"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Export Data"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Download your financial data"})]}),u.jsx(je,{variant:"secondary",size:"sm",children:"Export"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Delete Account"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Permanently delete your account"})]}),u.jsx(je,{variant:"danger",size:"sm",children:"Delete"})]})]})]}),u.jsxs(Se,{children:[u.jsx("div",{className:"font-semibold mb-4",children:"Account Actions"}),u.jsx("div",{className:"space-y-2",children:u.jsx(je,{variant:"danger",onClick:g,className:"w-full",children:"Logout"})})]})]})}function db({items:t=[],allowMultiple:e=!1,className:n="",...r}){const[i,s]=$.useState(new Set),o=a=>{if(e){const l=new Set(i);l.has(a)?l.delete(a):l.add(a),s(l)}else{const l=new Set;i.has(a)||l.add(a),s(l)}};return u.jsx("div",{className:`space-y-2 ${n}`,...r,children:t.map((a,l)=>u.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg",children:[u.jsxs("button",{onClick:()=>o(l),className:"w-full px-4 py-3 text-left flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[u.jsx("span",{className:"font-medium",children:a.title}),u.jsx("svg",{className:`w-5 h-5 transform transition-transform ${i.has(l)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.has(l)&&u.jsx("div",{className:"px-4 pb-3 border-t border-gray-200 dark:border-gray-700",children:u.jsx("div",{className:"pt-3",children:a.content})})]},l))})}function TB(){const t=[{title:"How to connect my wallet?",content:'Go to the Wallets page and click "Connect" on your desired wallet (BTC, ETH, SOL). Then approve the connection in your wallet extension/app.'},{title:"How to add a transaction?",content:'Click the "+ Add Transaction" button on the Dashboard or Transactions page. Fill in the details and click Save.'},{title:"How to export my data?",content:'Go to the Transactions page and click "Export CSV" to download your transaction data.'}],e=[{title:"Getting Started",content:`1. Sign in with Internet Identity
2. Connect your wallets
3. Add your first transaction
4. Explore the dashboard and analytics.`},{title:"Wallet Connection",content:`1. Go to the Wallets page
2. Click "Connect" on your desired wallet (BTC, ETH, SOL)
3. Approve connection in your wallet extension/app
4. Your wallet address and balance will be displayed.`},{title:"Portfolio Management",content:"View your asset allocation, track portfolio performance, and get insights from the Portfolio and Analytics pages."}];return u.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Help & About"}),u.jsxs(Se,{className:"mb-4",children:[u.jsx("div",{className:"font-semibold mb-4",children:"Frequently Asked Questions"}),u.jsx(db,{items:t})]}),u.jsxs(Se,{className:"mb-4",children:[u.jsx("div",{className:"font-semibold mb-4",children:"Tutorials"}),u.jsx(db,{items:e,allowMultiple:!0})]}),u.jsxs(Se,{className:"mb-4",children:[u.jsx("div",{className:"font-semibold mb-2",children:"Version Info"}),u.jsx("div",{children:"FinTrack v2.0.0"})]}),u.jsx(Se,{children:u.jsx("a",{href:"https://github.com/demigohu/FinTrack",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"GitHub Repository"})})]})}function AB(){const{isLoggedIn:t}=$.useContext(wn),n=ri().pathname==="/login";return u.jsx(hT,{children:u.jsxs("div",{className:"min-h-screen flex bg-gray-50 dark:bg-gray-900",children:[!n&&u.jsx(gT,{}),u.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[u.jsx("main",{className:"flex-1 p-2 sm:p-6",children:u.jsxs(O1,{children:[u.jsx(Jt,{path:"/login",element:t?u.jsx(An,{to:"/dashboard"}):u.jsx(wT,{})}),u.jsx(Jt,{path:"/dashboard",element:t?u.jsx(lB,{}):u.jsx(An,{to:"/login"})}),u.jsx(Jt,{path:"/transactions",element:t?u.jsx(gB,{}):u.jsx(An,{to:"/login"})}),u.jsx(Jt,{path:"/portfolio",element:t?u.jsx(mB,{}):u.jsx(An,{to:"/login"})}),u.jsx(Jt,{path:"/wallets",element:t?u.jsx(yB,{}):u.jsx(An,{to:"/login"})}),u.jsx(Jt,{path:"/analytics",element:t?u.jsx(bB,{}):u.jsx(An,{to:"/login"})}),u.jsx(Jt,{path:"/ai-advisor",element:t?u.jsx(wB,{}):u.jsx(An,{to:"/login"})}),u.jsx(Jt,{path:"/budget",element:t?u.jsx(_B,{}):u.jsx(An,{to:"/login"})}),u.jsx(Jt,{path:"/goals",element:t?u.jsx(EB,{}):u.jsx(An,{to:"/login"})}),u.jsx(Jt,{path:"/notifications",element:t?u.jsx(SB,{}):u.jsx(An,{to:"/login"})}),u.jsx(Jt,{path:"/settings",element:t?u.jsx(NB,{}):u.jsx(An,{to:"/login"})}),u.jsx(Jt,{path:"/help",element:u.jsx(TB,{})}),u.jsx(Jt,{path:"*",element:u.jsx(An,{to:t?"/dashboard":"/login"})})]})}),!n&&u.jsx(yT,{})]})]})})}hh.createRoot(document.getElementById("root")).render(u.jsx(xd.StrictMode,{children:u.jsx(zN,{children:u.jsx(fT,{children:u.jsx(O1,{children:u.jsx(Jt,{path:"/*",element:u.jsx(AB,{})})})})})}));
